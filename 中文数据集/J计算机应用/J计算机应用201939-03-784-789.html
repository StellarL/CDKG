<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637138994880103750%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJY201903028%26RESULT%3d1%26SIGN%3dcLa%252b3dMXR1HFBX5ZI7spAYAufTA%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201903028&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201903028&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201903028&amp;v=MTM5ODBMejdCZDdHNEg5ak1ySTlIYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#33" data-title="0 引言 ">0 引言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#37" data-title="1 容器云资源配置 ">1 容器云资源配置</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#40" data-title="1.1 &lt;b&gt;虚拟机资源配置&lt;/b&gt;">1.1 <b>虚拟机资源配置</b></a></li>
                                                <li><a href="#48" data-title="1.2 &lt;b&gt;容器资源配置&lt;/b&gt;">1.2 <b>容器资源配置</b></a></li>
                                                <li><a href="#50" data-title="1.3 &lt;b&gt;虚拟机/容器迁移&lt;/b&gt;">1.3 <b>虚拟机/容器迁移</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#63" data-title="2 问题描述与数学建模 ">2 问题描述与数学建模</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#64" data-title="2.1 &lt;b&gt;问题描述&lt;/b&gt;">2.1 <b>问题描述</b></a></li>
                                                <li><a href="#113" data-title="2.2 &lt;b&gt;数据中心的能耗模型&lt;/b&gt;">2.2 <b>数据中心的能耗模型</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#133" data-title="3 主机选择策略及改进 ">3 主机选择策略及改进</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#135" data-title="3.1 &lt;b&gt;常用物理机选择策略&lt;/b&gt;">3.1 <b>常用物理机选择策略</b></a></li>
                                                <li><a href="#147" data-title="3.2 &lt;b&gt;物理机选择策略的改进&lt;/b&gt;">3.2 <b>物理机选择策略的改进</b></a></li>
                                                <li><a href="#158" data-title="3.3 &lt;b&gt;算法的复杂度分析&lt;/b&gt;">3.3 <b>算法的复杂度分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#165" data-title="4 实验结果及分析 ">4 实验结果及分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#166" data-title="4.1 &lt;b&gt;实验环境&lt;/b&gt;">4.1 <b>实验环境</b></a></li>
                                                <li><a href="#171" data-title="4.2 &lt;b&gt;实验场景&lt;/b&gt;">4.2 <b>实验场景</b></a></li>
                                                <li><a href="#173" data-title="4.3 &lt;b&gt;实验结果及分析&lt;/b&gt;">4.3 <b>实验结果及分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#186" data-title="5 结语 ">5 结语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#169" data-title="&lt;b&gt;表&lt;/b&gt;1 &lt;b&gt;数据中心物理主机选型表&lt;/b&gt;"><b>表</b>1 <b>数据中心物理主机选型表</b></a></li>
                                                <li><a href="#185" data-title="图1 不同场景数据中心的能耗情况">图1 不同场景数据中心的能耗情况</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 武志学.云计算虚拟化技术的发展与趋势[J].计算机应用, 2017, 37 (4) :915-923. (WU Z X. Advances on virtualization technoloty of cloud computing [J]. Journal of Computer Applications, 2017, 37 (4) : 915-923.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201704001&amp;v=MTc4NzlCTHo3QmQ3RzRIOWJNcTQ5RlpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacEZpRG1WcnI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         武志学.云计算虚拟化技术的发展与趋势[J].计算机应用, 2017, 37 (4) :915-923. (WU Z X. Advances on virtualization technoloty of cloud computing [J]. Journal of Computer Applications, 2017, 37 (4) : 915-923.) 
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 刘伟佳, 李博权.容器技术在DRaaS中的应用研究[J].微电子学与计算机, 2018, 35 (6) :52-55. (LIU W J, LI B Q. Application research on container technology in DRaaS[J]. Microelectronics and Computer, 2018, 35 (6) : 52-55.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201806011&amp;v=MTQzODZxZlp1WnBGaURtVnJyQk1qWFNaTEc0SDluTXFZOUVaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         刘伟佳, 李博权.容器技术在DRaaS中的应用研究[J].微电子学与计算机, 2018, 35 (6) :52-55. (LIU W J, LI B Q. Application research on container technology in DRaaS[J]. Microelectronics and Computer, 2018, 35 (6) : 52-55.) 
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" KANG D-K, CHOI G-B, KIM S-H, et al. Workload-aware resource management for energy efficient heterogeneous Docker containers [C]// Proceedings of the 2016 IEEE Region 10 Conference. Piscataway, NJ: IEEE, 2016: 2428-2431." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Workload-aware resource management for energy efficient heterogeneous Docker containers">
                                        <b>[3]</b>
                                         KANG D-K, CHOI G-B, KIM S-H, et al. Workload-aware resource management for energy efficient heterogeneous Docker containers [C]// Proceedings of the 2016 IEEE Region 10 Conference. Piscataway, NJ: IEEE, 2016: 2428-2431.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" KUMAR K, KURHEKAR M. Economically efficient virtualization over cloud using Docker containers [C] // CCEM 2016: Proceedings of the 2016 IEEE International Conference on Cloud Computing in Emerging Markets. Washington, DC: IEEE Computer Society, 2016: 95-100." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Economically efficient virtualization over cloud using Docker containers">
                                        <b>[4]</b>
                                         KUMAR K, KURHEKAR M. Economically efficient virtualization over cloud using Docker containers [C] // CCEM 2016: Proceedings of the 2016 IEEE International Conference on Cloud Computing in Emerging Markets. Washington, DC: IEEE Computer Society, 2016: 95-100.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 李青, 李勇, 涂碧波, 等.QoS 保证的数据中心动态资源供应方法[J].计算机学报, 2014, 37 (12) :2396-2407. (LI Q, LI Y, TU B B, et al. QoS-guaranteed dynamic resource provision in Internet data centers [J]. Chinese Journal of Computers, 2014, 37 (12) : 2396-2407.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201412001&amp;v=MDMxODBMejdCZHJHNEg5WE5yWTlGWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         李青, 李勇, 涂碧波, 等.QoS 保证的数据中心动态资源供应方法[J].计算机学报, 2014, 37 (12) :2396-2407. (LI Q, LI Y, TU B B, et al. QoS-guaranteed dynamic resource provision in Internet data centers [J]. Chinese Journal of Computers, 2014, 37 (12) : 2396-2407.) 
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" XU X, YU H, PEI X. A novel resource scheduling approach in container based clouds [C]// Proceedings of the 2014 IEEE 17th International Conference on Computational Science and Engineering. Washington, DC: IEEE Computer Society, 2014: 257-264." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Novel Resource Scheduling Approach in Container Based Clouds">
                                        <b>[6]</b>
                                         XU X, YU H, PEI X. A novel resource scheduling approach in container based clouds [C]// Proceedings of the 2014 IEEE 17th International Conference on Computational Science and Engineering. Washington, DC: IEEE Computer Society, 2014: 257-264.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 崔广章, 朱志祥.容器云资源调度策略的改进[J].计算机与数字工程, 2017, 45 (10) :1931-1936. (CUI G Z, ZHU Z X. Improved container cloud resource scheduling policy [J]. Computer and Digital Engineering, 2017, 45 (10) : 1931-1936.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSSG201710009&amp;v=MTExNDdmWnVacEZpRG1WcnJCTHo3WWFiRzRIOWJOcjQ5RmJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         崔广章, 朱志祥.容器云资源调度策略的改进[J].计算机与数字工程, 2017, 45 (10) :1931-1936. (CUI G Z, ZHU Z X. Improved container cloud resource scheduling policy [J]. Computer and Digital Engineering, 2017, 45 (10) : 1931-1936.) 
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 施超, 谢在鹏, 柳晗, 等.基于稳定匹配的容器部署策略的优化[J].计算机科学, 2018, 45 (4) :131-136. (SHI C, XIE Z P, LIU H, et al. Optimization of container deployment strategy based on stable matching [J]. Computer Science, 2018, 45 (4) :131-136.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201804021&amp;v=MjUwMTdyckJMejdCYjdHNEg5bk1xNDlIWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         施超, 谢在鹏, 柳晗, 等.基于稳定匹配的容器部署策略的优化[J].计算机科学, 2018, 45 (4) :131-136. (SHI C, XIE Z P, LIU H, et al. Optimization of container deployment strategy based on stable matching [J]. Computer Science, 2018, 45 (4) :131-136.) 
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" DEMIRKOL OE, DEMIRKOL A. Energy efficiency with an application container [J]. Turkish Journal of Electrical Engineering and Computer Sciences, 2018, 26 (2) : 1129-1139." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Energy efficiency with an application container">
                                        <b>[9]</b>
                                         DEMIRKOL OE, DEMIRKOL A. Energy efficiency with an application container [J]. Turkish Journal of Electrical Engineering and Computer Sciences, 2018, 26 (2) : 1129-1139.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" KAUR K, DHAND T, KUMAR N, et al. Container-as-a-service at the edge: trade-off between energy efficiency and service availability at fog nano data centers [J]. IEEE Wireless Communications, 2018, 24 (3) : 48-56." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Container-as-a-service at the edge:trade-off between energy efficiency and service availability at fog nano data centers">
                                        <b>[10]</b>
                                         KAUR K, DHAND T, KUMAR N, et al. Container-as-a-service at the edge: trade-off between energy efficiency and service availability at fog nano data centers [J]. IEEE Wireless Communications, 2018, 24 (3) : 48-56.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" BANERJEE S, ROY A, CHOWDHURY A, et al. An approach toward amelioration of a new cloudlet allocation strategy using cloudsim [J]. Arabian Journal for Science and Engineering, 2018, 43 (2) : 879-902." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An approach toward amelioration of a new cloudlet allocation strategy using cloudsim">
                                        <b>[11]</b>
                                         BANERJEE S, ROY A, CHOWDHURY A, et al. An approach toward amelioration of a new cloudlet allocation strategy using cloudsim [J]. Arabian Journal for Science and Engineering, 2018, 43 (2) : 879-902.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" KUMAR A, KUMAR R, SHARMA A. Energy aware resource allocation for clouds using two level ant colony optimization [J]. Computing and Informatics, 2018, 37 (1) : 76-108." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Energy aware resource allocation for clouds using two level ant colony optimization">
                                        <b>[12]</b>
                                         KUMAR A, KUMAR R, SHARMA A. Energy aware resource allocation for clouds using two level ant colony optimization [J]. Computing and Informatics, 2018, 37 (1) : 76-108.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_13" title=" PIRAGHAJ S F, DASTJERDI A V, CALHEIROS R N, et al. ContainerCloudSim: an environment for modeling and simulation of containers in cloud data centers [J]. Software: Practice and Experience, 2017, 47 (4) : 505-521." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=ContainerCloudSim:An environment for modeling and simulation of containers in cloud data centers">
                                        <b>[13]</b>
                                         PIRAGHAJ S F, DASTJERDI A V, CALHEIROS R N, et al. ContainerCloudSim: an environment for modeling and simulation of containers in cloud data centers [J]. Software: Practice and Experience, 2017, 47 (4) : 505-521.
                                    </a>
                                </li>
                                <li id="29">


                                    <a id="bibliography_14" title=" RANJBARI M, TORKESTANI J A. A learning automata-based algorithm for energy and SLA efficient consolidation of virtual machines in cloud data centers [J]. Journal of Parallel and Distributed Computing, 2017, 113: 55-62." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A learning automata-based algorithm for energy and SLA efficient consolidation of virtual machines in cloud data centers">
                                        <b>[14]</b>
                                         RANJBARI M, TORKESTANI J A. A learning automata-based algorithm for energy and SLA efficient consolidation of virtual machines in cloud data centers [J]. Journal of Parallel and Distributed Computing, 2017, 113: 55-62.
                                    </a>
                                </li>
                                <li id="31">


                                    <a id="bibliography_15" title=" 黄启成, 陈羽中, 江伟, 等.一种面向云环境虚拟机部署的粒子群优化策略[J].小型微型计算机系统, 2018, 39 (7) :1554-1559. (HUANG Q C, CHEN Y Z, JIANG W, et al. Particle swarm optimization strategy for VM placement in cloud[J]. Journal of Chinese Computer Systems, 2018, 39 (7) : 1554-1559.) This work is partially supported by the National Natural Science Foundation of China (61672174, 61772145) , the Science and Technology Project of Guangdong Province (2017ZC0346) , the Open Funds of Guangdong Research Center of Cloud Robot (Oriented to Petrochemical Industry) (650007) , the Key Platform and Scientific Research Project of Guangdong Education Department (2016KQNCX105, 2017KTSCX128) .LI Qirui, born in 1982, Ph. D. candidate, associate professor. His research interests include cloud computing resource scheduling, communication security.PENG Zhiping, born in 1969, Ph. D., professor. His research interests include cloud computing resource scheduling, machine learning.CUI Delong, born in 1978, M. S., associate professor. His research interests include cloud computing resource scheduling.HE Jieguang, born in 1981, Ph. D., lecturer. His research interests include cloud computing resource scheduling.\" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXWX201807033&amp;v=MDQwMzVHWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckJQVFhjZHJHNEg5bk1xSTk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         黄启成, 陈羽中, 江伟, 等.一种面向云环境虚拟机部署的粒子群优化策略[J].小型微型计算机系统, 2018, 39 (7) :1554-1559. (HUANG Q C, CHEN Y Z, JIANG W, et al. Particle swarm optimization strategy for VM placement in cloud[J]. Journal of Chinese Computer Systems, 2018, 39 (7) : 1554-1559.) This work is partially supported by the National Natural Science Foundation of China (61672174, 61772145) , the Science and Technology Project of Guangdong Province (2017ZC0346) , the Open Funds of Guangdong Research Center of Cloud Robot (Oriented to Petrochemical Industry) (650007) , the Key Platform and Scientific Research Project of Guangdong Education Department (2016KQNCX105, 2017KTSCX128) .LI Qirui, born in 1982, Ph. D. candidate, associate professor. His research interests include cloud computing resource scheduling, communication security.PENG Zhiping, born in 1969, Ph. D., professor. His research interests include cloud computing resource scheduling, machine learning.CUI Delong, born in 1978, M. S., associate professor. His research interests include cloud computing resource scheduling.HE Jieguang, born in 1981, Ph. D., lecturer. His research interests include cloud computing resource scheduling.\
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">

    <div class="head-tag">   
            <p>
               <b> 网络首发时间: 2018-10-15 16:05</b>
            </p>     
    </div>


        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJY" target="_blank">计算机应用</a>
                2019,39(03),784-789 DOI:10.11772/j.issn.1001-9081.2018081662            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>容器云环境虚拟资源配置策略的优化</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="javascript:;">李启锐</a>
                                <a href="javascript:;">彭志平</a>
                                <a href="javascript:;">崔得龙</a>
                                <a href="javascript:;">何杰光</a>
                </h2>
                    <h2>

                    <span>广州大学数学与信息科学学院</span>
                    <span>广东石油化工学院计算机与电子信息学院</span>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对容器化云环境中数据中心能耗较高的问题, 提出了一种基于最佳能耗优先 (Power Full, PF) 物理机选择算法的虚拟资源配置策略。首先, 提出容器云虚拟资源的配置和迁移方案, 发现物理机选择策略对数据中心能耗有重要影响;其次, 通过研究主机利用率与容器利用率, 主机利用率与虚拟机利用率, 主机利用率与数据中心能耗之间的数学关系, 建立容器云数据中心能耗的数学模型, 定义出优化目标函数;最后, 通过对物理机的能耗函数使用线性插值进行模拟, 依据邻近事物相类似的特性, 提出改进的最佳能耗优先物理机选择算法。仿真实验将此算法与先来先得 (First Fit, FF) 、最低利用率优先 (Least Fit, LF) 、最高利用率优先 (Most Full, MF) 进行比较, 实验结果表明, 在有规律不同物理机群的计算服务中, 其能耗比FF、LF、MF分别平均降低45%、53%和49%;在有规律相同物理机群的计算服务中, 其能耗比FF、LF、MF分别平均降低56%、46%和58%;在无规律不同物理机群的计算服务中, 其能耗比FF、LF、MF分别平均降低32%、24%和12%。所提算法实现了对容器云虚拟资源的合理配置, 且在数据中心节能方面具有优越性。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BA%91%E8%AE%A1%E7%AE%97&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">云计算;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%B9%E5%99%A8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">容器;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%99%9A%E6%8B%9F%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">虚拟资源配置;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E8%83%BD%E8%80%97&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">数据中心能耗;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%B5%84%E6%BA%90%E5%88%A9%E7%94%A8%E7%8E%87&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">资源利用率;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    李启锐 (1982—) , 男, 广西玉林人, 副教授, 博士研究生, CCF会员, 主要研究方向:云计算资源调度、通信安全;;
                                </span>
                                <span>
                                    *彭志平 (1969—) , 男, 福建泉州人, 教授, 博士, 主要研究方向:云计算资源调度、机器学习;电子邮箱pengzp@foxmail.com;
                                </span>
                                <span>
                                    崔得龙 (1978—) , 男, 甘肃兰州人, 副教授, 硕士, 主要研究方向:云计算资源调度;;
                                </span>
                                <span>
                                    何杰光 (1981—) , 男, 广东茂名人, 讲师, 博士, 主要研究方向:云计算资源调度。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-08-10</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金资助项目 (61672174, 61772145);</span>
                                <span>广东省科技计划项目 (2017ZC0346);</span>
                                <span>广东省云机器人 (石油化工) 工程技术研究中心开放基金资助项目 (650007);</span>
                                <span>广东省教育厅重点平台及科研项目 (2016KQNCX105, 2017KTSCX128);</span>
                    </p>
            </div>
                    <h1><b>Optimization of virtual resource deployment strategy in container cloud</b></h1>
                    <h2>
                    <span>LI Qirui</span>
                    <span>PENG Zhiping</span>
                    <span>CUI Delong</span>
                    <span>HE Jieguang</span>
            </h2>
                    <h2>
                    <span>College of Mathematics and Information Science, Guangzhou University</span>
                    <span>College of Computer and Electronic Information, Guangdong University of Petrochemical Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Aiming at high energy consumption of data center in container cloud, a virtual resource deployment strategy based on host selection algorithm with Power Full (PF) was proposed. Firstly, the allocation and migration scheme of virtual resource in container cloud was proposed and the significant impact of host selection strategy on energy consumption of data center was found. Secondly, by studying the mathematical relationship between the utilization of host and the utilization of containers, between the utilization of host and the utilization of virtual machines and between the utilization of host and energy consumption of data center, a mathematical model of the energy consumption of data center in container cloud was constructed and an optimization objective function was defined. Finally, the function of host's energy consumption was simulated using linear interpolation method, and a host selection algorithm with PF was proposed according to the clustering property of the objects. Simulation results show that compared with First Fit (FF) , Least Full (LF) and Most Full (MF) , the energy consumption of the proposed algorithm is averagely reduced by 45%, 53% and 49% respectively in the computing service of regular tasks and different host clusters; is averagely reduced by 56%, 46% and 58% respectively in the computing service of regular tasks and same host cluster; is averagely reduced by 32%, 24% and 12% respectively in the computing service of irregular tasks and different host clusters. The results indicate that the proposed algorithm realizes reasonable virtual resource deployment in container cloud, and has advantage in data center energy saving.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=cloud%20computing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">cloud computing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=container&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">container;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=allocation%20of%20virtual%20resource&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">allocation of virtual resource;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=energy%20consumption%20of%20data%20center&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">energy consumption of data center;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=utilization%20of%20resource&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">utilization of resource;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    LI Qirui, born in 1982, Ph. D. candidate, associate professor. His research interests include cloud computing resource scheduling, communication security.;
                                </span>
                                <span>
                                    PENG Zhiping, born in 1969, Ph. D. , professor. His research interests include cloud computing resource scheduling, machine learning.;
                                </span>
                                <span>
                                    CUI Delong, born in 1978, M. S. , associate professor. His research interests include cloud computing resource scheduling.;
                                </span>
                                <span>
                                    HE Jieguang, born in 1981, Ph. D. , lecturer. His research interests include cloud computing resource scheduling.;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2018-08-10</p>
                                    <p>
                            <b>Fund：</b>
                                                        <span>supported by the National Natural Science Foundation of China (61672174, 61772145);</span>
                                <span>the Science and Technology Project of Guangdong Province (2017ZC0346);</span>
                                <span>the Open Funds of Guangdong Research Center of Cloud Robot (Oriented to Petrochemical Industry) (650007);</span>
                                <span>the Key Platform and Scientific Research Project of Guangdong Education Department (2016KQNCX105, 2017KTSCX128);</span>
                    </p>
            </div>


        <!--brief start-->
                        <h3 id="33" name="33" class="anchor-tag">0 引言</h3>
                <div class="p1">
                    <p id="34">近几年, 随着Docker的出现, 容器 (Container) 技术对云计算发展产生了巨大的影响<citation id="188" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。容器虚拟化技术及其构建的云平台以其固有的部署快、启动快、迁移易、性能高等优势, 正逐渐被各大云服务提供商所广泛采纳<citation id="189" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。截至2017年8月, Docker项目在GitHub上拥有的Star超过4.5万颗;已有45%的公司运行容器机器规模在250台以上, 比2016 年提高了25 个百分点。容器技术已经成为云计算领域的研究热点。LinkedIn 的数据表明, 2017年Docker一词的出现次数较前一年增长了160%。</p>
                </div>
                <div class="p1">
                    <p id="35">虽然云服务供需双方对数据中心资源管理和租用方式随着容器等新技术的发展逐渐改变, 但提高资源利用率和降低数据中心能耗仍然是容器云服务提供商最关注的两个重要问题<citation id="190" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。虚拟化容器技术是当前云计算资源供应最流行的方式, 与传统虚拟机技术不同, 容器不需要一个完整的操作系统 实例, 可极大降低对服务器CPU、内存等资源的消耗<citation id="191" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。为了进一步提高容器云数据中心的资源利用率, 李青等<citation id="192" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>设计了一种以容器为基本虚拟化资源管理单位的数据中心QoS (Quality of Service, QoS) 保证的作业资源匹配算法, 有效提高了节点应用的性能。Xu 等<citation id="193" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>研究了以容器替代虚拟机的云计算资源调度算法, 大幅度降低云用户的响应时间和提高云提供商资源的利用率。崔广章等<citation id="194" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>在Mesos资源调度策略的基础上将Mesos-Slave节点的CPU使用率、内存的占有率以及运行的容器个数三个因素加权作为资源调度的依据, 使容器云集群资源利用率趋于均衡。与虚拟机相比, 容器不仅是一种低开销的虚拟化技术, 而且提高了性能。但是, 与针对虚拟化云数据中心的计算和网络资源的能效被广泛研究不同, 只有少数学者调查了容器的节能管理问题<citation id="195" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。Demirkol等<citation id="196" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>研究了容器虚拟化技术与传统虚拟化技术在不同环境下的能耗情况, 发现在大部分环境中容器虚拟化技术的节能效果更佳。Kaurt等<citation id="197" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>提出了一种基于CaaS (Container-as-a-Service) 的数据中心任务调度策略, 通过使用轻量级容器替代传统的虚拟机的方式不仅缩短了任务的反应时间而且降低了数据中心的能耗。施超等<citation id="198" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>将机器学习中的欧氏距离、皮尔逊相关系数、余弦相似度、Taninoto系数作为容器与虚拟机稳定匹配的偏好规则, 同时通过偏好列表将一对一的稳定婚姻匹配改进为多对一的稳定匹配, 解决了将容器整合到虚拟机上的初始化部署问题, 取得较好的节能效果。</p>
                </div>
                <div class="p1">
                    <p id="36">综上所述, 尽管越来越多的云资源提供商和学者对容器技术产生了兴趣, 但是目前关于容器部署方面的研究还处于初级阶段。文献<citation id="199" type="reference">[<a class="sup">5</a>,<a class="sup">6</a>,<a class="sup">7</a>]</citation>初步研究了容器的资源整合问题, 提出的算法提高了容器云资源的利用率, 但是忽略了在优化资源利用率的同时, 容易出现数据中心能耗升高问题。文献<citation id="200" type="reference">[<a class="sup">8</a>,<a class="sup">9</a>,<a class="sup">10</a>]</citation>证明了使用容器虚拟化技术能够有效降低数据中心的能耗, 并利用稳定匹配思想对资源进行有效的分配, 但对云环境中虚拟机和容器资源动态变化的问题还处于初步探究阶段。因此, 本文从降低数据中心能耗的角度出发, 提出一种容器云资源配置方案, 对容器云数据中心的能耗问题进行数学建模, 根据模型对资源配置时物理机选择方法进行了研究和改进, 提出的PF算法有效解决了容器云数据中心的能耗优化问题。</p>
                </div>
                <h3 id="37" name="37" class="anchor-tag">1 容器云资源配置</h3>
                <div class="p1">
                    <p id="38">Google、Aamzon、Microsoft等互联网公司加大对Docker开源技术的研发力度, CaaS云模型越来越受各大云计算服务商青睐, 将成为主要的云服务模型之一。研究表明, 相比于单独使用容器部署, 使用虚拟机、容器混合部署能获得相近甚至更好的性能。</p>
                </div>
                <div class="p1">
                    <p id="39">基于虚拟机、容器混合的云资源配置包括两部分:一部分是物理机 (Host) 虚拟化, 即将物理机资源分配给虚拟机;另一部分是虚拟机 (Virtual Machine, VM) 容器化, 即将虚拟机资源分配给容器。为了描述方便, 本文将虚拟机和容器统称为虚拟服务器或虚拟资源, 将物理机称为物理服务器或物理资源。整个配置过程又分为两阶段:第一阶段是云任务提交到数据中心后的资源初始配置;第二阶段是云任务运行过程中虚拟服务器的迁移。</p>
                </div>
                <h4 class="anchor-tag" id="40" name="40">1.1 <b>虚拟机资源配置</b></h4>
                <div class="p1">
                    <p id="41">在数据中心, 物理机的数量较多, 一台虚拟机请求物理资源时, 要按某种策略选择一台物理机部署该虚拟机, 并为其分配CPU、内存、带宽和硬盘等资源。具体的部署算法描述如下:</p>
                </div>
                <div class="p1">
                    <p id="42">步骤1 数据中心选择一台Host给VM, 被选择的Host可用的CPU、内存、带宽和硬盘资源必须满足VM的需求。</p>
                </div>
                <div class="p1">
                    <p id="43">步骤2 Host为VM分配内存资源。</p>
                </div>
                <div class="p1">
                    <p id="44">步骤3 Host为VM分配带宽资源。</p>
                </div>
                <div class="p1">
                    <p id="45">步骤4 Host为VM分配CPU资源。假设Host有<i>m</i>个处理核 (记为HPE) , VM需要<i>n</i>个处理核 (记为VPE) , 按顺序将<i>m</i>个HPE分配给<i>n</i>个VPE。</p>
                </div>
                <div class="p1">
                    <p id="46">步骤5 Host为 VM分配硬盘资源。</p>
                </div>
                <div class="p1">
                    <p id="47">步骤6 重复步骤1～5, 直到所有VM都分配到所需求的物理资源。</p>
                </div>
                <h4 class="anchor-tag" id="48" name="48">1.2 <b>容器资源配置</b></h4>
                <div class="p1">
                    <p id="49">容器的部署过程与虚拟机的部署过程类似, 将虚拟机的CPU、内存、带宽和硬盘等资源分配给容器。但是, 由于容器是云任务实际的运行载体, 在请求虚拟机的CPU资源时, 不以其额定的CPU资源与虚拟机可用的CPU资源进行对比判断该虚拟机是否满足当前容器的需求 (初始配置除外) , 而是以容器实际的CPU工作负载与虚拟机可用的CPU资源进行对比。通常情况, 容器的CPU使用率不会达到100%, 因此会出现部署在某虚拟机上的所有容器额定CPU资源大小之和比该虚拟机额定的CPU资源大的情况。</p>
                </div>
                <h4 class="anchor-tag" id="50" name="50">1.3 <b>虚拟机/容器迁移</b></h4>
                <div class="p1">
                    <p id="51">当容器获得相关资源后, 部署在容器中的云任务就可以开始运行。在云计算环境中, 云任务呈现多样性, 往往既有大量实时在线处理业务, 又有大量异步处理业务。实时在线业务处理时间短、需求波动大;而异步业务处理时间长, 数据量庞大。随着任务的执行, 各个容器中任务的完成情况各不相同。因此, 数据中心的物理机、虚拟机和容器的负载会随着任务的执行而产生动态的变化。有的物理机由于任务较早完成而新任务没有及时到来使其过于空闲, 造成资源利用率较低。当该值低于某个临界值时称该服务器为欠载状态。类似地, 有的物理机由于任务过长而又有新的任务到来使其过于繁忙, 造成资源利用率过高。当该值高于某个临界值时称该服务器为过载状态。欠载容易造成资源浪费, 过载容易造成SLA违约并影响系统稳定性。在数据中心, 这两种情况都需要尽可能避免, 尽量做到服务器间负载均衡。</p>
                </div>
                <div class="p1">
                    <p id="52">在容器云环境中, 虚拟服务器迁移是保证物理服务器负载均衡的主要手段。与传统的云计算环境不同, 容器云中有物理机、虚拟机和容器三种不同粒度和层次的服务器, 容器可以在虚拟机之间迁移, 虚拟机可以在物理机之间迁移, 这两种迁移可以使用相同或者不同的策略。为了使问题的描述简单化, 本文对这两种迁移采用相同的策略, 并以虚拟机迁移为例详细介绍迁移过程。</p>
                </div>
                <div class="p1">
                    <p id="53">迁移过程应被视为多阶段3W问题:何时触发迁移 (When) , 要迁移哪个虚拟服务器 (Which) , 迁移到哪里 (Where) 。何时触发迁移取决于数据中心的资源调度策略, 可以采用定时触发、定量触发或监控触发的方式。定时触发为固定某些时刻点来处理迁移工作。定量触发为当一定数量的任务被执行完成后开始处理迁移工作。监控触发为根据数据中心实时监测情况决定是否启动虚拟服务器迁移。要迁移哪个虚拟服务器通常根据数据中心预设的欠载和过载的临界值来决定, 当虚拟服务器的利用率低于欠载临界值或者高于过载临界值时应该被迁移。迁移到哪里取决于物理机的选择策略, 不同策略产生不同的迁移结果。具体迁移算法描述如下:</p>
                </div>
                <div class="p1">
                    <p id="54">步骤1 统计Host的资源利用率, 将过载的Host保存到列表OverList并按降序排列。</p>
                </div>
                <div class="p1">
                    <p id="55">步骤2 将OverList中每台Host上的VM按照利用率降序排列。</p>
                </div>
                <div class="p1">
                    <p id="56">步骤3 选择一台不在OverList中的Host作为迁移目标 (DHdest) 。</p>
                </div>
                <div class="p1">
                    <p id="57">步骤4 按先后顺序从OverList中选出一台Host作为迁移源物理机 (OHsrc) , 按顺序将OHsrc上的VM添移到DHdest, 并且保证DHdest不过载, 直到OHsrc不再过载。 若DHdest不能完全接纳待迁移的虚拟机, 按步骤3重新选择一台Host作为迁移目标进行迁移。直到OverList列表中的Host被处理完成。</p>
                </div>
                <div class="p1">
                    <p id="58">步骤5 统计资源利用率欠载的Host机并保存到列表UnderList。</p>
                </div>
                <div class="p1">
                    <p id="59">步骤6 选择一台不在UnderList和OverList中的Host作为迁移目标 (DHdest) 。</p>
                </div>
                <div class="p1">
                    <p id="60">步骤7 从UnderList中选择一台Host作为迁移源物理机 (UHsrc) , 将部署在UHsrc上的全部虚拟机迁移到DHdest, 并且保证DHdest不过载。若DHdest不能完全接纳待迁移的虚拟机, 重新按步骤7选择一台Host作为迁移目标进行迁移。</p>
                </div>
                <div class="p1">
                    <p id="61">步骤8 关闭UHsrc。</p>
                </div>
                <div class="p1">
                    <p id="62">由以上分析可知, 无论是虚拟资源部署还是虚拟资源迁移, 容器云在进行资源配置都面临物理机的选择问题。物理机作为数据中心最大的能源消耗者, 物理机选择方法对降低数据中心能耗就显得尤为关键<citation id="201" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。因此, 找到物理机与虚拟机、容器之间在能耗值上的计算关系, 为容器云数据中心能耗建立数学模型, 对数据中心整体能耗优化问题至关重要。</p>
                </div>
                <h3 id="63" name="63" class="anchor-tag">2 问题描述与数学建模</h3>
                <h4 class="anchor-tag" id="64" name="64">2.1 <b>问题描述</b></h4>
                <div class="p1">
                    <p id="65">容器云计算数据中心的资源配置主要是建立和维护物理机与虚拟机、虚拟机与容器之间的分配关系。假设数据中心有<i>M</i>台物理机、<i>N</i>台虚拟机和<i>S</i>个容器, 问题的描述如下:</p>
                </div>
                <div class="p1">
                    <p id="66">1) 集合<i>H</i>={<i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>, …, <i>h</i><sub><i>M</i></sub>}表示数据中心的物理机集, 下标为物理机的编号, 表示数据中心有<i>M</i>台物理机。物理机之间彼此相互独立。向量<b><i>HR</i></b><sub><i>i</i></sub>= (<i>hr</i><mathml id="67"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>hr</i><mathml id="68"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>r</mtext><mtext>a</mtext><mtext>m</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>hr</i><mathml id="69"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>b</mtext><mtext>w</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>hr</i><mathml id="70"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>d</mtext><mtext>i</mtext><mtext>s</mtext><mtext>k</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>) , (1≤<i>i</i>≤<i>M</i>) , 由物理机<i>h</i><sub><i>i</i></sub>拥有的CPU、内存、带宽和硬盘资源的数量构成, 其中, <mathml id="71"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>E</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></munderover><mi>h</mi></mstyle><mi>p</mi><mi>e</mi><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup><mo>, </mo><mo stretchy="false"> (</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>Μ</mi><mo stretchy="false">) </mo></mrow></math></mathml>, 表示<i>h</i><sub><i>i</i></sub>的CPU拥有<i>E</i><sub><i>i</i></sub>个处理核, <i>hpe</i><mathml id="72"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup></mrow></math></mathml>表示<i>h</i><sub><i>i</i></sub>第<i>j</i>个核的计算能力。</p>
                </div>
                <div class="p1">
                    <p id="73">2) 集合<i>VM</i>={<i>vm</i><sub>1</sub>, <i>vm</i><sub>2</sub>, …, <i>vm</i><sub><i>N</i></sub>}表示数据中心中运行的虚拟机集, 下标为虚拟机的编号, 表示数据中心有<i>N</i>台虚拟机。向量<b><i>VR</i></b><sub><i>i</i></sub>= (<i>vr</i><mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>vr</i><mathml id="75"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>r</mtext><mtext>a</mtext><mtext>m</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>vr</i><mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>b</mtext><mtext>w</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>vr</i><mathml id="77"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>d</mtext><mtext>i</mtext><mtext>s</mtext><mtext>k</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>) (1≤<i>i</i>≤<i>N</i>) , 由虚拟机<i>vm</i><sub><i>i</i></sub>拥有的CPU、内存、带宽和硬盘资源的数量构成, 其中, <mathml id="78"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>v</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>G</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></munderover><mi>v</mi></mstyle><mi>p</mi><mi>e</mi><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup><mo>, </mo><mo stretchy="false"> (</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>Ν</mi><mo stretchy="false">) </mo></mrow></math></mathml>, 表示<i>vm</i><sub><i>i</i></sub>的CPU拥有<i>G</i><sub><i>i</i></sub>个处理核, <i>vpe</i><mathml id="79"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup></mrow></math></mathml>表示<i>vm</i><sub><i>i</i></sub>第<i>j</i>个核的计算能力。</p>
                </div>
                <div class="p1">
                    <p id="80">3) 集合<i>C</i>={<i>c</i><sub>1</sub>, <i>c</i><sub>2</sub>, …, <i>c</i><sub><i>S</i></sub>}, 表示容器云数据中心中运行的容器集, 下标为容器的编号, 表示数据中心有<i>S</i>个容器。向量<b><i>CR</i></b><sub><i>i</i></sub>= (<i>cr</i><mathml id="81"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>vr</i><mathml id="82"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>r</mtext><mtext>a</mtext><mtext>m</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>cr</i><mathml id="83"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>b</mtext><mtext>w</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>, <i>cr</i><mathml id="84"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>d</mtext><mtext>i</mtext><mtext>s</mtext><mtext>k</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>) , (1≤<i>i</i>≤<i>S</i>) , 由容器<i>c</i><sub><i>i</i></sub>拥有的CPU、内存、带宽和硬盘等资源的数量构成。其中, <mathml id="85"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>c</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Η</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></munderover><mi>c</mi></mstyle><mi>p</mi><mi>e</mi><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup><mo>, </mo><mo stretchy="false"> (</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>S</mi><mo stretchy="false">) </mo></mrow></math></mathml>, 表示<i>c</i><sub><i>i</i></sub>的CPU拥有<i>H</i><sub><i>i</i></sub>个处理核, <i>cpe</i><mathml id="86"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mi>i</mi></msubsup></mrow></math></mathml>表示<i>c</i><sub><i>i</i></sub>第<i>j</i>个核的处理能力。</p>
                </div>
                <div class="p1">
                    <p id="87">4) 向量<i>α</i><sub><i>i</i></sub>= (<i>α</i><sub><i>i</i>, 1</sub>, <i>α</i><sub><i>i</i>, 2</sub>, …, <i>α</i><sub><i>i</i>, <i>N</i></sub>) , (1≤<i>i</i>≤<i>M</i>) , 表示物理机<i>h</i><sub><i>i</i></sub>的虚拟机部署情况。如果<i>vm</i><sub><i>j</i></sub> (1≤<i>j</i>≤<i>N</i>) 被部署在<i>h</i><sub><i>i</i></sub>上, 则<i>α</i><sub><i>i</i>, <i>j</i></sub>=1, 否则<i>α</i><sub><i>i</i>, <i>j</i></sub>=0。<i>α</i><sub><i>i</i></sub>为一个<i>N</i>元向量。矩阵<b><i>A</i></b>= (<i>α</i><sub>1</sub><sup>T</sup>, <i>α</i><sub>2</sub><sup>T</sup>, …, <i>α</i><sub><i>M</i></sub><sup>T</sup>) <sup>T</sup>为<i>M</i>×<i>N</i>矩阵, 表示数据中心所有物理机部署虚拟机的情况。</p>
                </div>
                <div class="p1">
                    <p id="88">5) 向量<i>β</i><sub><i>i</i></sub>= (<i>β</i><sub><i>i</i>, 1</sub>, <i>β</i><sub><i>i</i>, 2</sub>, …, <i>β</i><sub><i>i</i>, <i>S</i></sub>) (1≤<i>i</i>≤<i>N</i>) , 表示虚拟机<i>vm</i><sub><i>i</i></sub>上容器部署的情况。如果<i>c</i><sub><i>j</i></sub> (1≤<i>j</i>≤<i>S</i>) 被部署在<i>vm</i><sub><i>i</i></sub>上, 则<i>β</i><sub><i>i</i>, <i>j</i></sub>=1, 否则<i>β</i><sub><i>i</i>, <i>j</i></sub>=0。 <i>β</i><sub><i>i</i></sub>为一个<i>S</i>元向量。<b><i>B</i></b>= (<i>β</i><sub>1</sub><sup>T</sup>, <i>β</i><sub>2</sub><sup>T</sup>, …, <i>β</i><sub><i>S</i></sub><sup>T</sup>) <sup>T</sup>为<i>N</i>×<i>S</i>矩阵, 表示数据中心中所有虚拟机部署容器的情况。</p>
                </div>
                <div class="p1">
                    <p id="89">6) 根据数据中心的资源配置关系, 各种资源应满足以下约束关系:</p>
                </div>
                <div class="p1">
                    <p id="90"> (<i>vr</i><mathml id="91"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mn>1</mn></msubsup></mrow></math></mathml>, <i>vr</i><mathml id="92"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mn>2</mn></msubsup></mrow></math></mathml>, …, <i>vr</i><mathml id="93"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mi>Ν</mi></msubsup></mrow></math></mathml>) <i>α</i><sub><i>i</i></sub><sup>T</sup>≤<i>hr</i><mathml id="94"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mi>i</mi></msubsup></mrow></math></mathml>, <i>x</i>∈{cpu, ram, bw, disk}      (1) </p>
                </div>
                <div class="p1">
                    <p id="95"> (<i>cr</i><mathml id="96"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mn>1</mn></msubsup></mrow></math></mathml>, <i>cr</i><mathml id="97"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mn>2</mn></msubsup></mrow></math></mathml>, …, <i>cr</i><mathml id="98"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mi>S</mi></msubsup></mrow></math></mathml>) <i>β</i><sub><i>i</i></sub><sup>T</sup>≤<i>vr</i><mathml id="99"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>x</mi><mi>i</mi></msubsup></mrow></math></mathml>, <i>x</i>∈{ram, bw, disk}      (2) </p>
                </div>
                <div class="p1">
                    <p id="100"> (<i>μ</i><sub>1</sub> (<i>t</i>) <i>cr</i><mathml id="101"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mn>1</mn></msubsup></mrow></math></mathml>, <i>μ</i><sub>2</sub> (<i>t</i>) <i>cr</i><mathml id="102"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mn>2</mn></msubsup></mrow></math></mathml>, …, <i>μ</i><sub><i>s</i></sub> (<i>t</i>) <i>cr</i><mathml id="103"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>S</mi></msubsup></mrow></math></mathml>) <i>β</i><sub><i>i</i></sub><sup>T</sup>≤<i>vr</i><mathml id="104"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup></mrow></math></mathml>      (3) </p>
                </div>
                <div class="p1">
                    <p id="105">如果<i>α</i><sub><i>i</i>, <i>j</i></sub>=1, 则∀<i>p</i>∈{1, 2, …, <i>G</i><sub><i>j</i></sub>}, ∃<i>q</i>∈{1, 2, …, <i>E</i><sub><i>i</i></sub>}, s.t. <i>vpe</i><mathml id="106"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>p</mi><mi>j</mi></msubsup></mrow></math></mathml>≤<i>hpe</i><mathml id="107"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>q</mi><mi>i</mi></msubsup></mrow></math></mathml>      (4) </p>
                </div>
                <div class="p1">
                    <p id="108">如果<i>β</i><sub><i>i</i>, <i>j</i></sub>=1, 则∀<i>p</i>∈{1, 2, …<i>H</i><sub><i>j</i></sub>}, ∃<i>q</i>∈{1, 2, …, <i>G</i><sub><i>i</i></sub>}, s.t. <i>cpe</i><mathml id="109"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>p</mi><mi>j</mi></msubsup></mrow></math></mathml>≤<i>vpe</i><mathml id="110"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>q</mi><mi>i</mi></msubsup></mrow></math></mathml>      (5) </p>
                </div>
                <div class="p1">
                    <p id="111" class="code-formula">
                        <mathml id="111"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mo>∀</mo><mi>j</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>1</mn><mo>, </mo><mn>2</mn><mo>, </mo><mo>⋯</mo><mo>, </mo><mi>G</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">}</mo><mo>, </mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Μ</mi></munderover><mi>a</mi></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mo>=</mo><mn>1</mn><mo>, </mo><mi>a</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mo>∈</mo><mi mathvariant="bold-italic">A</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>6</mn><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mo>∀</mo><mi>j</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>1</mn><mo>, </mo><mn>2</mn><mo>, </mo><mo>⋯</mo><mo>, </mo><mi>Η</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">}</mo><mo>, </mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Ν</mi></munderover><mi>b</mi></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mo>=</mo><mn>1</mn><mo>, </mo><mi>b</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mo>∈</mo><mi mathvariant="bold-italic">B</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>7</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="112">式 (1) 表示部署在物理机<i>h</i><sub><i>i</i></sub>上的虚拟机的CPU、内存、带宽、硬盘资源之和不能超过<i>h</i><sub><i>i</i></sub>所能提供的资源。式 (2) 表示部署在虚拟机<i>vm</i><sub><i>i</i></sub>上的容器的内存、带宽、硬盘资源之和不能超过<i>vm</i><sub><i>i</i></sub>的所能提供的资源。式 (3) 表示部署在虚拟机<i>vm</i><sub><i>i</i></sub>上的容器的CPU工作负载之和不能超过<i>vm</i><sub><i>i</i></sub>所能提供的CPU资源, 其中<i>μ</i><sub><i>i</i></sub> (<i>t</i>) 表示容器<i>c</i><sub><i>i</i></sub>在时刻<i>t</i>的CPU利用率。式 (4) 表示物理机<i>h</i><sub><i>i</i></sub>处理核应满足部署在<i>h</i><sub><i>i</i></sub>上的虚拟机处理核的计算能力需求。式 (5) 表示虚拟机<i>vm</i><sub><i>i</i></sub>处理核应满足部署在<i>vm</i><sub><i>i</i></sub>上的容器处理核的计算能力需求。式 (6) 表示每台虚拟机只能被部署在一台物理机上。式 (7) 表每个容器只能被部署在一台虚拟机上。</p>
                </div>
                <h4 class="anchor-tag" id="113" name="113">2.2 <b>数据中心的能耗模型</b></h4>
                <div class="p1">
                    <p id="114">数据中心拥有空调、交换机、路由器等耗能设备, 但物理机是最大的能源消费者。对物理机来说, 它的CPU、内存、网卡、内存等也是都是耗能设备。相比其他部件, CPU是主要的耗能部件, 也是能耗变化最为频繁的部件, 而CPU的利用率的变化是造成物理机整体能耗变化的主要因素。</p>
                </div>
                <div class="p1">
                    <p id="115">在实际运行过程中, 物理机的CPU利用率是一个动态变化的过程, 该变化主要由虚拟机和容器的CPU利用率变化引起。分别使用<i>π</i><sub><i>i</i></sub> (<i>t</i>) 、<i>γ</i><sub><i>i</i></sub> (<i>t</i>) 和<i>μ</i><sub><i>i</i></sub> (<i>t</i>) 表示物理机<i>h</i><sub><i>i</i></sub>、虚拟机<i>vm</i><sub><i>i</i></sub>和容器<i>c</i><sub><i>i</i></sub>在时刻<i>t</i>时CPU的利用率。</p>
                </div>
                <div class="p1">
                    <p id="116"><b>定义</b>1 已知在虚拟机<i>vm</i><sub><i>j</i></sub>上的容器部署情况为<i>β</i><sub><i>j</i></sub>, 则<i>vm</i><sub><i>j</i></sub>在时刻<i>t</i>的CPU利用率是部署在<i>vm</i><sub><i>j</i></sub>上所有容器在时刻<i>t</i>的工作负载之和与<i>vm</i><sub><i>j</i></sub>自身CPU资源大小之间的比值, 记为:</p>
                </div>
                <div class="p1">
                    <p id="117" class="code-formula">
                        <mathml id="117"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>γ</mi><msub><mrow></mrow><mi>j</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><mo stretchy="false">) </mo><mo>=</mo><mo stretchy="false"> (</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>S</mi></munderover><mspace width="0.25em" /></mstyle><mi>β</mi><msub><mrow></mrow><mrow><mi>j</mi><mo>, </mo><mi>k</mi></mrow></msub><mspace width="0.25em" /><mi>μ</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><mo stretchy="false">) </mo><mi>c</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>k</mi></msubsup><mo stretchy="false">) </mo><mo>/</mo><mo stretchy="false"> (</mo><mi>v</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>j</mi></msubsup><mo stretchy="false">) </mo><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>8</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="118"><b>定义</b>2 已知在物理机<i>h</i><sub><i>i</i></sub>上的虚拟机部署情况为<i>α</i><sub><i>i</i></sub>, 则<i>h</i><sub><i>i</i></sub>在时刻<i>t</i>的CPU利用率是部署在<i>h</i><sub><i>i</i></sub>上所有虚拟机在时刻<i>t</i>的工作负载之和与<i>h</i><sub><i>i</i></sub>自身CPU资源大小之间的比值, 记为:</p>
                </div>
                <div class="p1">
                    <p id="119" class="code-formula">
                        <mathml id="119"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>π</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><mo stretchy="false">) </mo><mo>=</mo><mo stretchy="false"> (</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>Ν</mi></munderover><mi>α</mi></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mi>γ</mi><msub><mrow></mrow><mi>j</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><mo stretchy="false">) </mo><mi>v</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>j</mi></msubsup><mo stretchy="false">) </mo><mo>/</mo><mo stretchy="false"> (</mo><mi>h</mi><mi>r</mi><msubsup><mrow></mrow><mrow><mtext>c</mtext><mtext>p</mtext><mtext>u</mtext></mrow><mi>i</mi></msubsup><mo stretchy="false">) </mo><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>9</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="120"><b>定义</b>3 已知物理机<i>h</i><sub><i>i</i></sub>在时刻<i>t</i>的CPU利用率为<i>π</i><sub><i>i</i></sub> (<i>t</i>) , <i>h</i><sub><i>i</i></sub>在时刻<i>t</i>的能耗与<i>π</i><sub><i>i</i></sub> (<i>t</i>) 是一种函数关系, 记为:</p>
                </div>
                <div class="p1">
                    <p id="121"><i>p</i><sub><i>i</i></sub> (<i>t</i>) =<i>f</i> (<i>π</i><sub><i>i</i></sub> (<i>t</i>) )      (10) </p>
                </div>
                <div class="p1">
                    <p id="122"><i>p</i><sub><i>i</i></sub> (<i>t</i>) 是一个单调递增的非负函数。</p>
                </div>
                <div class="p1">
                    <p id="123"><b>定义</b>4 已知在物理机<i>h</i><sub><i>i</i></sub>上的虚拟机部署情况为<i>α</i><sub><i>i</i></sub>, 则<i>h</i><sub><i>i</i></sub>在<i>t</i><sub>1</sub>～<i>t</i><sub>2</sub>时间内的能耗记为:</p>
                </div>
                <div class="p1">
                    <p id="124"><i>P</i><sub><i>i</i></sub> (<i>t</i><sub>1</sub>, <i>t</i><sub>2</sub>) =∫<mathml id="125"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub></mrow></msubsup></mrow></math></mathml><i>p</i><sub><i>i</i></sub> (<i>t</i>) d<i>t</i>=∫<mathml id="126"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub></mrow></msubsup></mrow></math></mathml><i>f</i> (<i>π</i><sub><i>i</i></sub> (<i>t</i>) ) d<i>t</i>      (11) </p>
                </div>
                <div class="p1">
                    <p id="127"><b>定义</b>5 已知物理机上虚拟机的配置情况为<i>A</i>, 虚拟机上容器的部署情况为<i>B</i>, 则数据中心在<i>t</i><sub>1</sub>～<i>t</i><sub>2</sub>时间的能耗为所有物理机能耗之和, 记为:</p>
                </div>
                <div class="p1">
                    <p id="128" class="code-formula">
                        <mathml id="128"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><mo stretchy="false"> (</mo><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub><mo>, </mo><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false">) </mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Μ</mi></munderover><mi>Ρ</mi></mstyle><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub><mo>, </mo><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false">) </mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Μ</mi></munderover><mspace width="0.25em" /></mstyle><mrow><mstyle displaystyle="true"><mrow><mo>∫</mo><mtext> </mtext></mrow></mstyle></mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub></mrow></msubsup><mi>f</mi><mo stretchy="false"> (</mo><mi>π</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false"> (</mo><mi>t</mi><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mtext>d</mtext><mi>t</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="129">假设数据中心当前要执行的云任务集合为<i>C</i>, 为了降低数据中心的整体能耗, 根据前面的定义, 定义目标函数如下:</p>
                </div>
                <div class="p1">
                    <p id="130" class="code-formula">
                        <mathml id="130"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>F</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext><mtext>g</mtext><mtext>e</mtext><mtext>t</mtext></mrow></msub><mo>=</mo><munder><mstyle mathsize="140%" displaystyle="true"><mrow><mi>min</mi></mrow></mstyle><mrow><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mspace width="0.25em" /><mi>j</mi></mrow></msub><mo>, </mo><mspace width="0.25em" /><mi>β</mi><msub><mrow></mrow><mrow><mi>j</mi><mo>, </mo><mi>k</mi></mrow></msub></mrow></munder><mo stretchy="false"> (</mo><mi>Ρ</mi><mo stretchy="false"> (</mo><mi>t</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext><mtext>t</mtext></mrow></msub><mo>, </mo><mi>t</mi><msub><mrow></mrow><mrow><mtext>f</mtext><mtext>i</mtext><mtext>n</mtext><mtext>i</mtext><mtext>s</mtext><mtext>h</mtext></mrow></msub><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>3</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="131">其中:<i>t</i><sub>start</sub>为<i>C</i>开始执行的时间, <i>t</i><sub>finish</sub>为<i>C</i>执行完成时间, 1≤<i>i</i>≤<i>M</i>, 1≤<i>j</i>≤<i>N</i>, 1≤<i>k</i>≤<i>S</i>。</p>
                </div>
                <div class="p1">
                    <p id="132">由目标函数可知, 对于相同的云任务集合<i>C</i>, 数据中心能耗优化问题的本质上是要解决虚拟机和容器在部署、迁移时的物理机选择问题。</p>
                </div>
                <h3 id="133" name="133" class="anchor-tag">3 主机选择策略及改进</h3>
                <div class="p1">
                    <p id="134">数据中心的物理机数量庞大, 例如, 腾讯天津数据中心服务器数量已经突破10万台, 而且在同一数据中心有各种不同品牌、型号的物理机, 它们在运行过程中利用率和能耗情况也有所不同。此外, 数据中心计算资源充足, 对于云任务集合<i>C</i>, 其运行所需要的虚拟机和容器一般不会被部署在所有物理机上。因此, 虚拟资源配置和迁移时使用的物理机选择策略对数据中心的能耗有较大影响。</p>
                </div>
                <h4 class="anchor-tag" id="135" name="135">3.1 <b>常用物理机选择策略</b></h4>
                <div class="p1">
                    <p id="136">当前, 云计算环境常用的物理机选择策略主要有随机选择 (Random) 、先来先得 (First Fit, FF) 、最大利用率优先 (Most Full, MF) 、最小利用率优先 (Least Full, LF) 等。</p>
                </div>
                <h4 class="anchor-tag" id="137" name="137">1) Random:</h4>
                <div class="p1">
                    <p id="138">在所有可用的物理机中随机选择一台作为初始部署或迁移目标。</p>
                </div>
                <h4 class="anchor-tag" id="139" name="139">2) FirstFit:</h4>
                <div class="p1">
                    <p id="140">按照数据中心物理机的偏爱列表从头到尾进行遍历, 找到的第一台合适的物理机作为初始部署或迁移目标。</p>
                </div>
                <h4 class="anchor-tag" id="141" name="141">3) MostFull:</h4>
                <div class="p1">
                    <p id="142">计算所有可用的物理机在初始化或迁移时刻的利用率, 选取利用率最大的物理机作为初始部署或迁移目标。</p>
                </div>
                <h4 class="anchor-tag" id="143" name="143">4) LeastFull:</h4>
                <div class="p1">
                    <p id="144">计算所有可用的物理机在初始化或迁移时刻的利用率, 选取利用率最小的物理机作为初始部署或迁移目标。</p>
                </div>
                <div class="p1">
                    <p id="145">以上几种策略中, Random策略最为简单, 每台物理机被选择的机会均等, 起到公平调度的效果, 但没有考虑利用率的问题。FF可以按照某种方式对物理机进行偏爱设置, 排在列表前面的物理机被选择的机会大于列表后面的物理机。MF与LF较为复杂, 要计算每台物理机的利用率。选择利用率大的物理机, 单位时间能耗会相对较大, 但处理时间相对较少。选择利用率小的物理机, 单位时间能耗相对较小, 但处理时间相对较长。</p>
                </div>
                <div class="p1">
                    <p id="146">根据前面的分析, 式 (10) 中<i>p</i><sub><i>i</i></sub> (<i>t</i>) 是一个单调递增的非负函数, 意味着物理机利用率越高, 单位时间能耗也就越高。因此, 利用率是影响物理机能耗的一个重要因素。但是, 根据式 (12) 可知, 物理机一段时间内的能耗不仅与这段时间内该物理机的利用率有关, 也与该物理机单位时间的能耗有关。如果只考虑利用率对能耗的影响, 而不考虑物理机本身例如功率等固有的属性, 得到的结果未必是最优结果。</p>
                </div>
                <h4 class="anchor-tag" id="147" name="147">3.2 <b>物理机选择策略的改进</b></h4>
                <div class="p1">
                    <p id="148">从式 (11) 可知, 在一个数据中心的调度间隔<i>t</i><sub>1</sub>～<i>t</i><sub>2</sub>内某台物理机的能耗是该机的能耗函数在这段时间内的积分。计算积分是一个相对复杂的过程, 加上数据中心物理机数量众多, 如果每台物理机都要频繁计算积分, 容易造成计算量过大。对式 (11) 使用线性插值进行拟合, 可得:</p>
                </div>
                <div class="p1">
                    <p id="149">∫<mathml id="150"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub></mrow></msubsup></mrow></math></mathml><i>p</i><sub><i>i</i></sub> (<i>t</i>) d<i>t</i>≈ (<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>1</sub>) + (<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>2</sub>) -<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>1</sub>) ) /2) (<i>t</i><sub>2</sub>-<i>t</i><sub>1</sub>) =</p>
                </div>
                <div class="p1">
                    <p id="151"> ( (<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>2</sub>) +<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>1</sub>) ) /2) (<i>t</i><sub>2</sub>-<i>t</i><sub>1</sub>)      (14) </p>
                </div>
                <div class="p1">
                    <p id="152">由式 (14) 可知, 只要知道<i>t</i><sub>1</sub>时刻与<i>t</i><sub>2</sub>时刻容器的利用率, 便可用式 (8) 和式 (9) 计算出物理机的利用率, 进而可用式 (10) 和式 (14) 计算出该机在<i>t</i><sub>1</sub>～<i>t</i><sub>2</sub>的能耗值。当把物理机在前一时间段的能耗值都计算出来后, 可以用此值作为物理机选择的依据, 选择能耗值较小的物理机作为部署和迁移的目标物理机。因为根据物体的聚类性质, 邻近事物具有类似的特性。前一时段能耗较小的物理机, 后一时段能耗同样较小的概率较大。本文将这种物理机选择算法称为Power Full (PF) 算法。PF算法描述如下:</p>
                </div>
                <div class="p1">
                    <p id="153">步骤1 将空闲与关闭的物理机放入排它集<i>X</i>。</p>
                </div>
                <div class="p1">
                    <p id="154">步骤2 将所有有任务运行的物理机放入运行集<i>E</i>中, 并使用式 (8) 和式 (9) 计算<i>E</i>中每台物理机的CPU利用率。</p>
                </div>
                <div class="p1">
                    <p id="155">步骤3 将<i>E</i>中过载的物理机和欠载的物理机移入<i>X</i>。</p>
                </div>
                <div class="p1">
                    <p id="156">步骤4 使用式 (10) 和式 (14) 计算<i>E</i>中每台物理机的能耗的模拟值。</p>
                </div>
                <div class="p1">
                    <p id="157">步骤5 返回<i>E</i>中选择模拟值最小的物理机。</p>
                </div>
                <h4 class="anchor-tag" id="158" name="158">3.3 <b>算法的复杂度分析</b></h4>
                <div class="p1">
                    <p id="159">在实际的云计算环境中, 有专门的高性能资源调度服务器, 根据各物理机、虚拟机及容器的实时运行状况对资源调度进行决策。</p>
                </div>
                <div class="p1">
                    <p id="160">在步骤2中, 资源调度服务器收集所有容器的利用率以计算物理主机的整体利用率, 按照式 (8) 和式 (9) , 该步骤的时间复杂度为<i>O</i> (<i>M</i>×<i>N</i>×<i>S</i>) 。但在实际运行过程中, 一般有<i>M</i>≪<i>N</i>≪<i>S</i>, 因此<b><i>A</i></b>与<b><i>B</i></b>是0和1的稀疏矩阵, 通过使用稀疏矩阵压缩存储方法和编程技术可使该步骤的时间复杂度降低到<i>O</i> (<i>M</i>+<i>N</i>+<i>S</i>) 。</p>
                </div>
                <div class="p1">
                    <p id="161">步骤4对根据式 (14) 计算每台物理机的能耗模拟值, 复杂度为<i>O</i> (<i>M</i>) 。</p>
                </div>
                <div class="p1">
                    <p id="162">步骤5对物理机的能耗模拟值进行排序, 假如使用快速排序方法, 则复杂度为<i>Ο</i> (<i>M</i> log <i>M</i>) 。</p>
                </div>
                <div class="p1">
                    <p id="163">Random与FF算法不需要计算物理主机的利用率, 仅需要选择一台合适的物理主机即可, 复杂度为<i>Ο</i> (<i>M</i>) 。LF、MF与PF算法均要计算物理主机利用率章并进行排序。相比LF与MF, PF多做了步骤4, 即多了一个复杂度为<i>Ο</i> (<i>M</i>) 的步骤。在式 (14) 中, 由于 (<i>t</i><sub>2</sub>-<i>t</i><sub>1</sub>) 对于每台物理机都是一样的, 在实际计算时可用<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>2</sub>) +<i>p</i><sub><i>i</i></sub> (<i>t</i><sub>1</sub>) 的值来代表物理机的能耗值进行排序。数据中心中物理机的数量相比容器要少得多, 而且步骤4只需进行<i>M</i>次加法, 这对于高性能的资源调度服务器来说, 该步骤的时间开销其实可以忽略不计。步骤4增加的时间对于数据中心来说完全可以接受。</p>
                </div>
                <div class="p1">
                    <p id="164">PF算法运行在资源调度服务器, 算法所需要的容器利用率信息由监视服务器通过常规方法获得, PF算法不需要虚拟机和容器额外的工作, 不会对虚拟机和容器的性能产生影响。</p>
                </div>
                <h3 id="165" name="165" class="anchor-tag">4 实验结果及分析</h3>
                <h4 class="anchor-tag" id="166" name="166">4.1 <b>实验环境</b></h4>
                <div class="p1">
                    <p id="167">CloudSim是常用的云计算资源调度算法模拟仿真平台, 使用Java语言开发, 开放源代码, 可以自定义物理机选择算法、处理机共享算法等常用的云计算资源调度策略<citation id="203" type="reference"><link href="23" rel="bibliography" /><link href="25" rel="bibliography" /><sup>[<a class="sup">11</a>,<a class="sup">12</a>]</sup></citation>。ContainerCloudSim是ClodSim的扩展, 提供了容器云环境下计算资源调度算法的建模和仿真。此外, ContainerCloudSim还建立了数据中心的能耗模型, 提供了对各种资源调度算法在数据中心节能方面的表现进行评价的途径<citation id="202" type="reference"><link href="27" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup></citation>。CloudSim的最新版本4.0中集成了ContainerCloudSim。本文将使用ContainerCloudSim作为实验平台对改进后的算法进行验证。</p>
                </div>
                <div class="p1">
                    <p id="168">在本次实验中, CPU实时资源利用率是重要的基础数据。为了使仿真实验更加接近真实场境, 本文使用从真实世界的工作负载跟踪获得的数据进行实验。工作负载数据来自Planet-Lab基础设施10天内监控到数据中心物理机的CPU利用率<citation id="204" type="reference"><link href="29" rel="bibliography" /><sup>[<a class="sup">14</a>]</sup></citation>。此外, ContainerCloudSim中提供了包括IbmX3250XeonX3470等7种不同厂商和型号的物理机模型, 并提供了它们在不同利用率时的能耗情况, 如表1所示。</p>
                </div>
                <div class="area_img" id="169">
                    <p class="img_tit"><b>表</b>1 <b>数据中心物理主机选型表</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 1 Specification of physical machine in data center</p>
                    <p class="img_note"></p>
                    <table id="169" border="1"><tr><td rowspan="2"><br />序号</td><td rowspan="2">主机</td><td colspan="11"><br />不同利用率时的能耗/W</td></tr><tr><td><br />[0, <br />0.1) </td><td>1.0</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><br />1</td><td>HpMl110G3PentiumD930</td><td>105.0</td><td>112.0</td><td>118.0</td><td>125.0</td><td>131.0</td><td>137.0</td><td>147.0</td><td>153.0</td><td>157.0</td><td>164</td><td>169</td></tr><tr><td><br />2</td><td>HpMl110G4Xeon3040</td><td>86.0</td><td>89.4</td><td>92.6</td><td>96.0</td><td>99.5</td><td>102.0</td><td>106.0</td><td>108.0</td><td>112.0</td><td>114</td><td>117</td></tr><tr><td><br />3</td><td>HpMl110G5Xeon3075</td><td>93.7</td><td>97.0</td><td>101.0</td><td>105.0</td><td>110.0</td><td>116.0</td><td>121.0</td><td>125.0</td><td>129.0</td><td>133</td><td>135</td></tr><tr><td><br />4</td><td>IbmX3250XeonX3470</td><td>41.6</td><td>46.7</td><td>52.3</td><td>57.9</td><td>65.4</td><td>73.0</td><td>80.7</td><td>89.5</td><td>99.6</td><td>105</td><td>113</td></tr><tr><td><br />5</td><td>IbmX3250XeonX3480</td><td>42.3</td><td>46.7</td><td>49.7</td><td>55.4</td><td>61.8</td><td>69.3</td><td>76.1</td><td>87.0</td><td>96.1</td><td>106</td><td>113</td></tr><tr><td><br />6</td><td>IbmX3550XeonX5670</td><td>66.0</td><td>107.0</td><td>120.0</td><td>131.0</td><td>143.0</td><td>156.0</td><td>173.0</td><td>191.0</td><td>211.0</td><td>229</td><td>247</td></tr><tr><td><br />7</td><td>IbmX3550XeonX5675</td><td>58.4</td><td>98.0</td><td>109.0</td><td>118.0</td><td>128.0</td><td>140.0</td><td>153.0</td><td>170.0</td><td>189.0</td><td>205</td><td>222</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="170">表1中的数据为不同物理机在不同的CPU利用率时的单位时间能耗值。可见不同物理机在相同利用率时的能耗是不同的, 而且每种物理机的能耗随着利用率的提高而提高。</p>
                </div>
                <h4 class="anchor-tag" id="171" name="171">4.2 <b>实验场景</b></h4>
                <div class="p1">
                    <p id="172">根据云计算环境的多样性, 设计实验场景如下: 实验场景1 中, 任务长度固定, 有20 ～200 个虚拟机需要在数据中心进行部署, 每次增加20 台虚拟机, 物理机的数量设为虚拟机的一半, 容器数量为虚拟机的3倍; 实验场景2 中, 任务长度固定, 有100～200 个虚拟机需要在数据中心进行部署, 每次增加20 台虚拟机, 物理机数量固定100 台, 容器数量为虚拟机的3倍;实验场景3, 采用动态任务长度, 任务长度在50 000～100 000, 物理机5～120台, 虚拟机15～500台, 容器50～2 000个。实验场景1与实验场景2的物理机数量、虚拟机数量与文献<citation id="205" type="reference">[<a class="sup">15</a>]</citation>一致。</p>
                </div>
                <h4 class="anchor-tag" id="173" name="173">4.3 <b>实验结果及分析</b></h4>
                <div class="p1">
                    <p id="174">为了验证各种算法在多种不同情况下的节能效果, 每个实验场境又分为多个实验小组, 每组实验使用同样的云任务、物理机、虚拟机和容器配置。为了描述方便, 每组实验使用HXXX/VXXX/CXXX的形式式标记物理机、虚拟机和容器的数量, 如H10/V100/C500表示物理机10台、虚拟机100台、容器500个。此外, 在实验过程发现Random选择算法得到的能耗值普遍比FF、LF、MF和PF高出很多, 将PF与该方法相比没有太大意义, 因此本文不提供Random方法的实验结果。</p>
                </div>
                <h4 class="anchor-tag" id="175" name="175">4.3.1 实验结果</h4>
                <div class="p1">
                    <p id="176">实验场景1 任务长度固定为30 000。实验分为5组, 各组的物理机、虚拟机和容器的配置情况分别为:G11:H10/V20/C60、G12:H30/V60/C180、G13:H50/V100/C300、G14:H70/V140/C420、G15:H90/V180/C540。每个组的物理机随机从表1中随机选择, 小组内实验时使用同样的物理机集合。对5个组分别使用FF、LF、MF和PF进行实验, 实验结果如图1 (a) 所示。</p>
                </div>
                <div class="p1">
                    <p id="177">实验场景2 任务长度固定30 000, 从表1随机选取100台物理机作为本场景实验用物理机。实验分为6组, 各组的物理机、虚拟机和容器的配置情况分别为:G21:H100/V100/C300、G22:H100/V120/C360、G23:H100/V140/C420、G24:H100/V160/C480、G25:H100/V180/C540、G26:H100/V200/C600。对6个小组分别使用FF、LF、MF和PF进行实验, 实验结果如图1 (b) 所示。</p>
                </div>
                <div class="p1">
                    <p id="178">实验场景3 其中任务长度50 000～100 000。实验分为5组, 各组的物理机、虚拟机和容器的配置情况分别为:G31:H5/V15/C50、G32:H10/V30/C100、G33:H20/V100/C500、G34:H60/V250/C1000、G35:H120/V500/C2000。每个组的物理机随机从表1中随机选择, 小组内实验时使用同样的物理机集合。对5个小组分别使用FF、LF、MF和PF进行实验, 实验结果如图1 (c) 所示。</p>
                </div>
                <h4 class="anchor-tag" id="179" name="179">4.3.2 结果分析</h4>
                <div class="p1">
                    <p id="180">场景1模拟的是实际应用中有规律的不同物理机群不同批量的数据计算服务, 任务长度固定, 物理机、虚拟机和容器的数量不断增加。FF、LF和MF算法在这几组的实验中互有优劣。但是不管是哪一组实验, PF的在节能方面要比FF、LF和MF算法表现要好, 能耗分别平均降低了45%、53%和49%。</p>
                </div>
                <div class="p1">
                    <p id="181">场景2模拟的是有规律的相同物理机群不同批量的数据计算服务, 任务长度固定, 物理机固定, 虚拟机和容器的数量依次递增。在这种场境中, 整体来看, FF与MF表现差不多, LF表现较好, 但PF算法比MF算法表现还要好。与FF、LF和MF算法相比, 采用PF算法数据中心能耗分别平均降低了56%、46%和58%。</p>
                </div>
                <div class="p1">
                    <p id="182">场景3模拟的是无规律的不同物理机群不同批量的数据计算服务, 任务长度不固定, 物理机不固定, 虚拟机和容器的数量随着任务量的增大而增大。在这种场境中, MF表现不俗, 但表现最好的还是PF算法。在5个组的实验中, 采用PF算法的数据中心能耗比采用FF、LF和MF算法分别平均降低了32%、24%和12%。</p>
                </div>
                <div class="p1">
                    <p id="183">从图1可见, 不管在哪一种场景, 采用PF算法时数据中心的能耗明显比FF、LF和MF要低;而且, 随着任务长度、物理机、虚拟机、容器数量的增大, PF算法所表现出来的节能效果越好。虽然FF的时间复杂度要比LF、MF和PF低, 但是节能效果较差。PF与LF、MF的时间复杂度差不多, 但节能效果比LF和MF好。</p>
                </div>
                <div class="p1">
                    <p id="184">文献<citation id="206" type="reference">[<a class="sup">15</a>]</citation>采用的粒子群优化 (Particle Swarm Optimization, PSO) 算法对数据中心资源配置进行了优化, 在资源利用与能耗之间作了较好的均衡, 但优化后数据中心的整体能耗水平相比MF (文献<citation id="207" type="reference">[<a class="sup">15</a>]</citation>中称为Best Fit, BF) 算法并没有降低。虽然本文中采用了容器技术, 但是由于容器迁移可以使用虚拟机迁移相同的策略, 本次实验中只考虑虚拟机、容器如何初始化部署以及虚拟机迁移的问题, 不考虑容器的迁移问题, 因此, 本文与文献<citation id="208" type="reference">[<a class="sup">15</a>]</citation>在能耗方面的实验结果是具有可比性的。总体来说, 本文提出的PF算法在节能方面优于文献<citation id="209" type="reference">[<a class="sup">15</a>]</citation>中的算法。</p>
                </div>
                <div class="area_img" id="185">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201903028_185.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 不同场景数据中心的能耗情况" src="Detail/GetImg?filename=images/JSJY201903028_185.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 不同场景数据中心的能耗情况  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201903028_185.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 1 Energy consumption of data center in different experimental scenes</p>

                </div>
                <h3 id="186" name="186" class="anchor-tag">5 结语</h3>
                <div class="p1">
                    <p id="187">本文提出的PF物理机选择算法综合考虑了物理机利用率和物理机单位时间能耗这两个影响数据中心整体能耗的主要因素, 在保护物理机利用率的前提下选择能耗较低的物理机作为部署和迁移虚拟机、容器的目标物理机, 有效降低了以容器作为基本运行单元的数据中心的整体能耗。但是, PF算法每次选择物理机前都要进行资源利用率的计算。当前, 以深度强化学习为代表的人工智能技术正在成为研究和应用的热点, 能否使用深度强化学习方法, 通过预先进行的训练与学习, 在资源调度时可以直接选择物理机从而进一步提高算法的性能和降低数据中心能耗是接下来要研究的问题。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201704001&amp;v=MTI4ODU3cWZadVpwRmlEbVZyckJMejdCZDdHNEg5Yk1xNDlGWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 武志学.云计算虚拟化技术的发展与趋势[J].计算机应用, 2017, 37 (4) :915-923. (WU Z X. Advances on virtualization technoloty of cloud computing [J]. Journal of Computer Applications, 2017, 37 (4) : 915-923.) 
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201806011&amp;v=MTA1NTdyckJNalhTWkxHNEg5bk1xWTlFWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 刘伟佳, 李博权.容器技术在DRaaS中的应用研究[J].微电子学与计算机, 2018, 35 (6) :52-55. (LIU W J, LI B Q. Application research on container technology in DRaaS[J]. Microelectronics and Computer, 2018, 35 (6) : 52-55.) 
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Workload-aware resource management for energy efficient heterogeneous Docker containers">

                                <b>[3]</b> KANG D-K, CHOI G-B, KIM S-H, et al. Workload-aware resource management for energy efficient heterogeneous Docker containers [C]// Proceedings of the 2016 IEEE Region 10 Conference. Piscataway, NJ: IEEE, 2016: 2428-2431.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Economically efficient virtualization over cloud using Docker containers">

                                <b>[4]</b> KUMAR K, KURHEKAR M. Economically efficient virtualization over cloud using Docker containers [C] // CCEM 2016: Proceedings of the 2016 IEEE International Conference on Cloud Computing in Emerging Markets. Washington, DC: IEEE Computer Society, 2016: 95-100.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201412001&amp;v=MTUwMDk5WE5yWTlGWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckJMejdCZHJHNEg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 李青, 李勇, 涂碧波, 等.QoS 保证的数据中心动态资源供应方法[J].计算机学报, 2014, 37 (12) :2396-2407. (LI Q, LI Y, TU B B, et al. QoS-guaranteed dynamic resource provision in Internet data centers [J]. Chinese Journal of Computers, 2014, 37 (12) : 2396-2407.) 
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Novel Resource Scheduling Approach in Container Based Clouds">

                                <b>[6]</b> XU X, YU H, PEI X. A novel resource scheduling approach in container based clouds [C]// Proceedings of the 2014 IEEE 17th International Conference on Computational Science and Engineering. Washington, DC: IEEE Computer Society, 2014: 257-264.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSSG201710009&amp;v=MTE4NTVxcUJ0R0ZyQ1VSN3FmWnVacEZpRG1WcnJCTHo3WWFiRzRIOWJOcjQ5RmJZUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 崔广章, 朱志祥.容器云资源调度策略的改进[J].计算机与数字工程, 2017, 45 (10) :1931-1936. (CUI G Z, ZHU Z X. Improved container cloud resource scheduling policy [J]. Computer and Digital Engineering, 2017, 45 (10) : 1931-1936.) 
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201804021&amp;v=MzIwMzhyQkx6N0JiN0c0SDluTXE0OUhaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnBGaURtVnI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 施超, 谢在鹏, 柳晗, 等.基于稳定匹配的容器部署策略的优化[J].计算机科学, 2018, 45 (4) :131-136. (SHI C, XIE Z P, LIU H, et al. Optimization of container deployment strategy based on stable matching [J]. Computer Science, 2018, 45 (4) :131-136.) 
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Energy efficiency with an application container">

                                <b>[9]</b> DEMIRKOL OE, DEMIRKOL A. Energy efficiency with an application container [J]. Turkish Journal of Electrical Engineering and Computer Sciences, 2018, 26 (2) : 1129-1139.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Container-as-a-service at the edge:trade-off between energy efficiency and service availability at fog nano data centers">

                                <b>[10]</b> KAUR K, DHAND T, KUMAR N, et al. Container-as-a-service at the edge: trade-off between energy efficiency and service availability at fog nano data centers [J]. IEEE Wireless Communications, 2018, 24 (3) : 48-56.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An approach toward amelioration of a new cloudlet allocation strategy using cloudsim">

                                <b>[11]</b> BANERJEE S, ROY A, CHOWDHURY A, et al. An approach toward amelioration of a new cloudlet allocation strategy using cloudsim [J]. Arabian Journal for Science and Engineering, 2018, 43 (2) : 879-902.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Energy aware resource allocation for clouds using two level ant colony optimization">

                                <b>[12]</b> KUMAR A, KUMAR R, SHARMA A. Energy aware resource allocation for clouds using two level ant colony optimization [J]. Computing and Informatics, 2018, 37 (1) : 76-108.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=ContainerCloudSim:An environment for modeling and simulation of containers in cloud data centers">

                                <b>[13]</b> PIRAGHAJ S F, DASTJERDI A V, CALHEIROS R N, et al. ContainerCloudSim: an environment for modeling and simulation of containers in cloud data centers [J]. Software: Practice and Experience, 2017, 47 (4) : 505-521.
                            </a>
                        </p>
                        <p id="29">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A learning automata-based algorithm for energy and SLA efficient consolidation of virtual machines in cloud data centers">

                                <b>[14]</b> RANJBARI M, TORKESTANI J A. A learning automata-based algorithm for energy and SLA efficient consolidation of virtual machines in cloud data centers [J]. Journal of Parallel and Distributed Computing, 2017, 113: 55-62.
                            </a>
                        </p>
                        <p id="31">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXWX201807033&amp;v=MjgzMjk5bk1xSTlHWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckJQVFhjZHJHNEg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 黄启成, 陈羽中, 江伟, 等.一种面向云环境虚拟机部署的粒子群优化策略[J].小型微型计算机系统, 2018, 39 (7) :1554-1559. (HUANG Q C, CHEN Y Z, JIANG W, et al. Particle swarm optimization strategy for VM placement in cloud[J]. Journal of Chinese Computer Systems, 2018, 39 (7) : 1554-1559.) This work is partially supported by the National Natural Science Foundation of China (61672174, 61772145) , the Science and Technology Project of Guangdong Province (2017ZC0346) , the Open Funds of Guangdong Research Center of Cloud Robot (Oriented to Petrochemical Industry) (650007) , the Key Platform and Scientific Research Project of Guangdong Education Department (2016KQNCX105, 2017KTSCX128) .LI Qirui, born in 1982, Ph. D. candidate, associate professor. His research interests include cloud computing resource scheduling, communication security.PENG Zhiping, born in 1969, Ph. D., professor. His research interests include cloud computing resource scheduling, machine learning.CUI Delong, born in 1978, M. S., associate professor. His research interests include cloud computing resource scheduling.HE Jieguang, born in 1981, Ph. D., lecturer. His research interests include cloud computing resource scheduling.\
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJY201903028" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201903028&amp;v=MTM5ODBMejdCZDdHNEg5ak1ySTlIYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRmlEbVZyckI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZONFRYTUhIM2RrMzdIS2psYmhhZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="1" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
