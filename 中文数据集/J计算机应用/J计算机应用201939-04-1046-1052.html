<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637136777507471250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJY201904019%26RESULT%3d1%26SIGN%3dqWfDYfty52HyyNDFvcAxAM4uApo%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201904019&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201904019&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201904019&amp;v=MDEwMTg3UEx6N0JkN0c0SDlqTXE0OUViWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#35" data-title="0 引言 ">0 引言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#41" data-title="1 相关工作 ">1 相关工作</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#43" data-title="1) 特征提取:">1) 特征提取:</a></li>
                                                <li><a href="#45" data-title="2) 状态挖掘。">2) 状态挖掘。</a></li>
                                                <li><a href="#47" data-title="3) 时间序列预测。">3) 时间序列预测。</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#49" data-title="2 特征树模型 ">2 特征树模型</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#50" data-title="2.1 &lt;b&gt;时间序列分段&lt;/b&gt;">2.1 <b>时间序列分段</b></a></li>
                                                <li><a href="#88" data-title="2.2 &lt;b&gt;特征树定义&lt;/b&gt;">2.2 <b>特征树定义</b></a></li>
                                                <li><a href="#111" data-title="2.3 &lt;b&gt;特征树生成&lt;/b&gt;">2.3 <b>特征树生成</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#192" data-title="3 预测模型 ">3 预测模型</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#194" data-title="3.1 &lt;b&gt;观测序列&lt;/b&gt;">3.1 <b>观测序列</b></a></li>
                                                <li><a href="#199" data-title="3.2 &lt;b&gt;状态发现&lt;/b&gt;">3.2 <b>状态发现</b></a></li>
                                                <li><a href="#227" data-title="3.3 &lt;b&gt;模型生成&lt;/b&gt;">3.3 <b>模型生成</b></a></li>
                                                <li><a href="#253" data-title="3.4 &lt;b&gt;模型优化&lt;/b&gt;">3.4 <b>模型优化</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#292" data-title="4 预测模型MTSTPA ">4 预测模型MTSTPA</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#316" data-title="5 实验 ">5 实验</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#321" data-title="5.1 &lt;b&gt;验证分段算法&lt;/b&gt;">5.1 <b>验证分段算法</b></a></li>
                                                <li><a href="#326" data-title="5.2 &lt;b&gt;参数的选择&lt;/b&gt;">5.2 <b>参数的选择</b></a></li>
                                                <li><a href="#332" data-title="5.3 &lt;b&gt;特征树有效性&lt;/b&gt;">5.3 <b>特征树有效性</b></a></li>
                                                <li><a href="#336" data-title="5.4 &lt;b&gt;模型优化验证&lt;/b&gt;">5.4 <b>模型优化验证</b></a></li>
                                                <li><a href="#339" data-title="5.5 MTSTPA&lt;b&gt;有效性&lt;/b&gt;">5.5 MTSTPA<b>有效性</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#343" data-title="6 结语 ">6 结语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#87" data-title="图1 拟合斜率的概率分布">图1 拟合斜率的概率分布</a></li>
                                                <li><a href="#108" data-title="图2 多尺度分段序列示例">图2 多尺度分段序列示例</a></li>
                                                <li><a href="#110" data-title="图3 特征树示例">图3 特征树示例</a></li>
                                                <li><a href="#207" data-title="图4 结点权重分配">图4 结点权重分配</a></li>
                                                <li><a href="#247" data-title="图5 &lt;i&gt;S&lt;/i&gt;&lt;mathml id=&quot;248&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt; (&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;) &lt;/mo&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;/math&gt;&lt;/mathml&gt;状态下斜率和长度的条件概率分布">图5 <i>S</i><mathml id="248"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布</a></li>
                                                <li><a href="#250" data-title="图6 S&lt;mathml id=&quot;251&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt; (&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;) &lt;/mo&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;/math&gt;&lt;/mathml&gt;状态下斜率和长度的条件概率分布">图6 S<mathml id="251"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布</a></li>
                                                <li><a href="#255" data-title="图7 &lt;i&gt;S&lt;/i&gt;&lt;mathml id=&quot;256&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt; (&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;) &lt;/mo&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;/math&gt;&lt;/mathml&gt;状态下斜率和长度的条件概率分布">图7 <i>S</i><mathml id="256"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>3</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布</a></li>
                                                <li><a href="#258" data-title="图8 SSE曲线">图8 SSE曲线</a></li>
                                                <li><a href="#323" data-title="图9 原始时间序列">图9 原始时间序列</a></li>
                                                <li><a href="#324" data-title="图10 极值点序列">图10 极值点序列</a></li>
                                                <li><a href="#328" data-title="图11 &lt;i&gt;K&lt;/i&gt;值对预测精度影响">图11 <i>K</i>值对预测精度影响</a></li>
                                                <li><a href="#331" data-title="图12 &lt;i&gt;U&lt;/i&gt;/&lt;i&gt;N&lt;/i&gt;值对预测精度影响">图12 <i>U</i>/<i>N</i>值对预测精度影响</a></li>
                                                <li><a href="#334" data-title="图13 策略1与策略2预测精度对比">图13 策略1与策略2预测精度对比</a></li>
                                                <li><a href="#338" data-title="图14 优化前后预测精度对比">图14 优化前后预测精度对比</a></li>
                                                <li><a href="#342" data-title="图15 三类模型多时间尺度趋势预测精度对比">图15 三类模型多时间尺度趋势预测精度对比</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="410">


                                    <a id="bibliography_1" title="张普, 吴冲锋.股票价格波动:风险还是价值?[J].管理世界, 2010 (11) :52-60. (ZHANG P, WU C F.Stock price volatility:risk or value[J].Management World, 2010 (11) :52-60.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GLSJ201011008&amp;v=MDgwMDVSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc3UElpSFlaTEc0SDlITnJvOUZiSVFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                        张普, 吴冲锋.股票价格波动:风险还是价值?[J].管理世界, 2010 (11) :52-60. (ZHANG P, WU C F.Stock price volatility:risk or value[J].Management World, 2010 (11) :52-60.) 
                                    </a>
                                </li>
                                <li id="412">


                                    <a id="bibliography_2" title="唐黎.金融时间序列预测的信息融合与计算智能模型[D].成都:电子科技大学, 2018:1-4. (TANG L.Information fusion and computational intelligence models for financial time series prediction[D].Chengdu:University of Electronic Science and Technology of China, 2018:1-4.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1018974841.nh&amp;v=MjA1OTNwRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc3UFZGMjZGcnEvR3RuSXI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                        唐黎.金融时间序列预测的信息融合与计算智能模型[D].成都:电子科技大学, 2018:1-4. (TANG L.Information fusion and computational intelligence models for financial time series prediction[D].Chengdu:University of Electronic Science and Technology of China, 2018:1-4.) 
                                    </a>
                                </li>
                                <li id="414">


                                    <a id="bibliography_3" title="KEOGH E, CHU S, HART D, et al.An online algorithm for segmenting time series[C]//Proceedings of the 2001 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2001:89-296." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An online algorithm for segmenting time series">
                                        <b>[3]</b>
                                        KEOGH E, CHU S, HART D, et al.An online algorithm for segmenting time series[C]//Proceedings of the 2001 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2001:89-296.
                                    </a>
                                </li>
                                <li id="416">


                                    <a id="bibliography_4" title="CHANG P C, LIAO T W, LIN J J, et al.A dynamic threshold decision system for stock trading signal detection[J].Applied Soft Computing, 2011, 11 (5) :3998-4010." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011300297776&amp;v=MDY4MzhkR2VycVFUTW53WmVadEZpbmxVcjNJS0ZzY2F4VT1OaWZPZmJLN0h0RE5ySTlGWnVJSUMzcy9vQk1UNlQ0UFFIL2lyUg==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                        CHANG P C, LIAO T W, LIN J J, et al.A dynamic threshold decision system for stock trading signal detection[J].Applied Soft Computing, 2011, 11 (5) :3998-4010.
                                    </a>
                                </li>
                                <li id="418">


                                    <a id="bibliography_5" title="梁强, 范英, 魏一鸣.基于小波分析的石油价格长期趋势预测方法及其实证研究[J].中国管理科学, 2005, 13 (1) :30-39. (LIANG Q, FAN Y, WEI Y M.Long term trend forecasting method of oil price based on wavelet analysis and empirical study[J].Chinese Journal of Management Science, 2005, 13 (1) :30-39.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZGGK200501005&amp;v=MTE3MDc0SHRUTXJvOUZZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc3UFB5ck1aYkc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                        梁强, 范英, 魏一鸣.基于小波分析的石油价格长期趋势预测方法及其实证研究[J].中国管理科学, 2005, 13 (1) :30-39. (LIANG Q, FAN Y, WEI Y M.Long term trend forecasting method of oil price based on wavelet analysis and empirical study[J].Chinese Journal of Management Science, 2005, 13 (1) :30-39.) 
                                    </a>
                                </li>
                                <li id="420">


                                    <a id="bibliography_6" title="MORCHEN F.Time series feature extraction for data mining using DWT and DFT[EB/OL].[2018-05-10].http://mybytes.de/papers/moerchen03time.pdf." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time series feature extraction for data mining using DWT and DFT">
                                        <b>[6]</b>
                                        MORCHEN F.Time series feature extraction for data mining using DWT and DFT[EB/OL].[2018-05-10].http://mybytes.de/papers/moerchen03time.pdf.
                                    </a>
                                </li>
                                <li id="422">


                                    <a id="bibliography_7" title="SUN Y Q, WANG R J, SUN B Y, et al.Prediction about time series based on updated prediction ARMA model[C]//Proceedings of the 2013 10th International Conference on Fuzzy Systems and Knowledge Discovery.Piscataway, NJ:IEEE, 2013:680-684." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Prediction about time series based on updated prediction ARMA model">
                                        <b>[7]</b>
                                        SUN Y Q, WANG R J, SUN B Y, et al.Prediction about time series based on updated prediction ARMA model[C]//Proceedings of the 2013 10th International Conference on Fuzzy Systems and Knowledge Discovery.Piscataway, NJ:IEEE, 2013:680-684.
                                    </a>
                                </li>
                                <li id="424">


                                    <a id="bibliography_8" title="ZHANG D E H, LI G C L, WONG A K C.Discovery of temporal associations in multivariate time series[J].IEEE Transactions on Knowledge and Data Engineering, 2014, 26 (12) :2969-2982." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Discovery of temporal associations in multivariate time series">
                                        <b>[8]</b>
                                        ZHANG D E H, LI G C L, WONG A K C.Discovery of temporal associations in multivariate time series[J].IEEE Transactions on Knowledge and Data Engineering, 2014, 26 (12) :2969-2982.
                                    </a>
                                </li>
                                <li id="426">


                                    <a id="bibliography_9" title="WANG P, WANG H X, WANG W.Finding semantics in time series[C]//Proceedings of the 2011 ACM SIGMOD International Conference on Management of Data.New York:ACM, 2011:385-396." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Finding semantics in time series">
                                        <b>[9]</b>
                                        WANG P, WANG H X, WANG W.Finding semantics in time series[C]//Proceedings of the 2011 ACM SIGMOD International Conference on Management of Data.New York:ACM, 2011:385-396.
                                    </a>
                                </li>
                                <li id="428">


                                    <a id="bibliography_10" title="HAN Z, CHEN H F, YAN T, et al.Time series segmentation to discover behavior switching in complex physical systems[C]//Proceedings of the 2015 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2015:161-170." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time series segmentation to discover behavior switching in complex physical systems">
                                        <b>[10]</b>
                                        HAN Z, CHEN H F, YAN T, et al.Time series segmentation to discover behavior switching in complex physical systems[C]//Proceedings of the 2015 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2015:161-170.
                                    </a>
                                </li>
                                <li id="430">


                                    <a id="bibliography_11" title="CREAMER G, FREUND Y.Automated trading with boosting and expert weighting[J].Quantitative Finance, 2009, 10 (4) :401-420." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=STJD&amp;filename=STJDFFF64324DA4355513CF5438D3CED4B55&amp;v=MTU3NzRhUU43K2FDT052RlNpV1dyN0pJRnBtYUJ1SFlmT0dRbGZCckxVMDV0cGh6TDIzd2E4PU5qbkJhc1hPYU5mSXJJMUJFSm9MRDNrOHloY1FtVWw0VEh6cTJCRkdETQ==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                        CREAMER G, FREUND Y.Automated trading with boosting and expert weighting[J].Quantitative Finance, 2009, 10 (4) :401-420.
                                    </a>
                                </li>
                                <li id="432">


                                    <a id="bibliography_12" title="KAASTRA I, BOYD M.Designing a neural network for forecasting financial and economic time series[J].Neurocomputing, 1996, 10 (3) :215-236." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011501915958&amp;v=MDYwOTdNbndaZVp0RmlubFVyM0lLRnNjYXhVPU5pZk9mYks3SHRETnFvOUViZW9LQlhreG9CTVQ2VDRQUUgvaXJSZEdlcnFRVA==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                        KAASTRA I, BOYD M.Designing a neural network for forecasting financial and economic time series[J].Neurocomputing, 1996, 10 (3) :215-236.
                                    </a>
                                </li>
                                <li id="434">


                                    <a id="bibliography_13" title="ZIAT A, DELASALLES E, DENOVER L, et al.Spatio-temporal neural networks for space-time series forecasting and relations discovery[C]//Proceedings of the 2017 IEEE International Conference on Data Mining.Washington, DC:IEEE Computer Society, 2017:705-714." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal neural networks for space-time series forecasting and relations discovery">
                                        <b>[13]</b>
                                        ZIAT A, DELASALLES E, DENOVER L, et al.Spatio-temporal neural networks for space-time series forecasting and relations discovery[C]//Proceedings of the 2017 IEEE International Conference on Data Mining.Washington, DC:IEEE Computer Society, 2017:705-714.
                                    </a>
                                </li>
                                <li id="436">


                                    <a id="bibliography_14" title="DANELMAYR G, GADALETA S, HUNDLEY D, et al.Time series prediction by estimating Markov probabilities through topology preserving maps[EB/OL].[2018-05-10].https://doi.org/10.1117/12.367685." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time series prediction by estimating Markov probabilities through topology preserving maps">
                                        <b>[14]</b>
                                        DANELMAYR G, GADALETA S, HUNDLEY D, et al.Time series prediction by estimating Markov probabilities through topology preserving maps[EB/OL].[2018-05-10].https://doi.org/10.1117/12.367685.
                                    </a>
                                </li>
                                <li id="438">


                                    <a id="bibliography_15" title="王双成, 高瑞, 杜瑞杰.具有超父结点时间序列贝叶斯网络集成回归模型[J].计算机学报, 2017, 40 (12) :2748-2761. (WANG S C, GAO R, DU R J.With super parent node Bayesian network ensemble regression model for time series[J].Chinese Journal of Computers, 2017, 40 (12) :2748-2761.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201712008&amp;v=MzIxNDl1WnNGeURnVzc3UEx6N0Jkckc0SDliTnJZOUZiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                        王双成, 高瑞, 杜瑞杰.具有超父结点时间序列贝叶斯网络集成回归模型[J].计算机学报, 2017, 40 (12) :2748-2761. (WANG S C, GAO R, DU R J.With super parent node Bayesian network ensemble regression model for time series[J].Chinese Journal of Computers, 2017, 40 (12) :2748-2761.) 
                                    </a>
                                </li>
                                <li id="440">


                                    <a id="bibliography_16" title="BOX G, JENKINS G, REINSEL G, et al.Time Series Analysis:Forecasting and Control[M].New York:Wiley, 2015:2-17." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time Series Analysis:Forecasting and Control">
                                        <b>[16]</b>
                                        BOX G, JENKINS G, REINSEL G, et al.Time Series Analysis:Forecasting and Control[M].New York:Wiley, 2015:2-17.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJY" target="_blank">计算机应用</a>
                2019,39(04),1046-1052 DOI:10.11772/j.issn.1001-9081.2018091882            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>多时间尺度时间序列趋势预测</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E9%87%91%E7%AD%96&amp;code=41473849&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王金策</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%82%93%E8%B6%8A%E8%90%8D&amp;code=38921825&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">邓越萍</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%8F%B2%E6%98%8E&amp;code=41473850&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">史明</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%91%A8%E4%BA%91%E9%A3%9E&amp;code=41473851&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">周云飞</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%B1%B1%E8%A5%BF%E8%83%BD%E6%BA%90%E5%AD%A6%E9%99%A2%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E4%BF%A1%E6%81%AF%E5%B7%A5%E7%A8%8B%E7%B3%BB&amp;code=1699775&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">山西能源学院计算机与信息工程系</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对股票、基金等大量时间序列数据的趋势预测问题, 提出一种基于新颖特征模型的多时间尺度时间序列趋势预测算法。首先, 在原始时间序列中提取带有多时间尺度特征的特征树, 其刻画了时间序列, 不仅带有序列在各个层次的特征, 同时表示了层次之间的关系。然后, 利用聚类挖掘特征序列中的隐含状态。最后, 应用隐马尔可夫模型 (HMM) 设计一个多时间尺度趋势预测算法 (MTSTPA) , 同时对不同尺度下的趋势以及趋势的长度作出预测。在真实股票数据集上的实验中, 在各个尺度上的预测准确率均在60%以上, 与未使用特征树对比, 使用特征树的模型预测效率更高, 在某一尺度上准确率高出10个百分点以上。同时, 与经典自回归滑动平均模型 (ARMA) 模型和PHMM (Pattern-based HMM) 对比, MTSTPA表现更优, 验证了其有效性。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%89%B9%E5%BE%81%E6%A0%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">特征树;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E9%A2%84%E6%B5%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时间序列预测;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%9A%E6%97%B6%E9%97%B4%E5%B0%BA%E5%BA%A6%E8%B6%8B%E5%8A%BF%E9%A2%84%E6%B5%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">多时间尺度趋势预测;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%9A%90%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E6%A8%A1%E5%9E%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">隐马尔可夫模型;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    王金策 (1990—) , 男, 河北衡水人, 助教, 硕士, 主要研究方向:数据挖掘、机器学习;;
                                </span>
                                <span>
                                    邓越萍 (1965—) , 女, 山西平遥人, 副教授, 硕士, 主要研究方向:数据库、软件测试;;
                                </span>
                                <span>
                                    史明 (1973—) , 男, 山西长治人, 副教授, 硕士, 主要研究方向:网站建设、信息管理;;
                                </span>
                                <span>
                                    *周云飞 (1983—) , 男, 河北张家口人, 讲师, 博士, 主要研究方向:虚拟现实、数值模拟。电子邮箱zhouyunfei0514@163.com;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-09-10</p>

            </div>
                    <h1><b>Time series trend prediction at multiple time scales</b></h1>
                    <h2>
                    <span>WANG Jince</span>
                    <span>DENG Yueping</span>
                    <span>SHI Ming</span>
                    <span>ZHOU Yunfei</span>
            </h2>
                    <h2>
                    <span>Department of Computer and Information Engineering, Shanxi Institute of Energy</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>A time series trend prediction algorithm at multiple time scales based on novel feature model was proposed to solve the trend prediction problem of stock and fund time series data. Firstly, a feature tree with multiple time scales of features was extracted from original time series, which described time series with the characteristics of the series in each level and relationship between levels. Then, the hidden states in feature sequences were extracted by clustering. Finally, a Multiple Time Scaled Trend Prediction Algorithm (MTSTPA) was designed by using Hidden Markov Model (HMM) to simultaneously predict the trend and length of the trends at different scales. In the experiments on real stock datasets, the prediction accuracy at every scale are more than 60%. Compared with the algorithm without using feature tree, the model using the feature tree is more efficient, and the accuracy is up to 10 percentage points higher at a certain scale. At the same time, compared with the classical Auto-Regressive Moving Average (ARMA) model and pattern-based Hidden Markov Model (PHMM) , MTSTPA performs better, verifying the validity of MTSTPA.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=feature%20tree&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">feature tree;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=time%20series%20prediction&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">time series prediction;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=trend%20prediction%20at%20multiple%20time%20scales&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">trend prediction at multiple time scales;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Hidden%20Markov%20Model%20(HMM)%20&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Hidden Markov Model (HMM) ;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    WANG Jince, born in 1990, M. S. , teaching assistant. His research interests include time series data mining, machine learning.;
                                </span>
                                <span>
                                    DENG Yueping, born in 1965, M. S. , associate professor. Her research interests include dadabase, software test.;
                                </span>
                                <span>
                                    SHI Ming, born in 1973, M. S. , associate professor. His research interests include website construction, information management.;
                                </span>
                                <span>
                                    ZHOU Yunfei, born in 1983, Ph. D. , lecturer. His research interests include virtual reality, numerical simulation.;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2018-09-10</p>
                            </div>


        <!--brief start-->
                        <h3 id="35" name="35" class="anchor-tag">0 引言</h3>
                <div class="p1">
                    <p id="36">伴随着金融行业的快速发展, 产生了大量垂类数据, 如股票价格序列、期货价格序列以及各类基金价格序列等时间序列数据<citation id="442" type="reference"><link href="410" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>, 因此, 金融时间序列预测已经得到了广泛的研究<citation id="443" type="reference"><link href="412" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。现有预测算法主要通过时间序列回归分析, 实现单一时间尺度上的点预测, 忽略了多时间尺度的趋势预测。多时间尺度趋势预测对于金融投资等领域中的应用具有重要意义。投资者往往需要预测金融产品在未来以日、周、月和季度为周期等不同时间尺度下的价格走势, 从而设计最优的投资策略。时间序列的多时间尺度趋势预测, 不仅强调时间尺度的层次性 (即大时间周期由若干小时间周期组成) , 还强调对特定时间尺度上的某个趋势的开始和结束时间进行预测。</p>
                </div>
                <div class="p1">
                    <p id="37">实现股票时间序列的多时间尺度趋势预测的挑战在于如何准确、全面地提取时间序列中的多时间尺度特征。本文对此进行了研究, 主要思路是, 通过提取有效的时间序列多时间尺度的层次特征, 建立基于特征树的隐马尔可夫预测模型。基于这一思路, 本文主要做了如下工作:</p>
                </div>
                <div class="p1">
                    <p id="38">1) 提出了一种有效的时间序列多时间尺度特征模型——特征树。特征树的每一层对应一个时间尺度, 越接近根结点, 时间尺度越大。特征树中的每个结点代表一个特定时间尺度下的时间序列分段。特征树刻画了原始时间序列数据在多时间尺度上的层次性以及层次之间的联系。</p>
                </div>
                <div class="p1">
                    <p id="39">2) 提出了基于特征树的多时间尺度趋势预测算法MTSTPA (Multiple Time Scaled Trend Prediction Algorithm) 。MTSTPA能同时对不同尺度下的趋势以及趋势的长度作出预测。MTSTPA将特征树的每个层次的特征子树序列视为该层时间尺度下的观测序列, 从中学习得到该时间尺度下的隐马尔可夫模型 (Hidden Markov Model, HMM) , 从而实现该层时间尺度下的趋势预测。此外, 为了提高预测精度, MTSTPA在作出预测之前, 首先对噪声进行了过滤。</p>
                </div>
                <div class="p1">
                    <p id="40">3) 在真实数据集上验证了本文提出的模型和算法的有效性。</p>
                </div>
                <h3 id="41" name="41" class="anchor-tag">1 相关工作</h3>
                <div class="p1">
                    <p id="42">本文的相关工作包括时间序列特征提取、状态挖掘和时间序列预测。</p>
                </div>
                <h4 class="anchor-tag" id="43" name="43">1) 特征提取:</h4>
                <div class="p1">
                    <p id="44">文献<citation id="446" type="reference">[<a class="sup">3</a>,<a class="sup">4</a>]</citation>提取时间序列的形态特征, 文献<citation id="447" type="reference">[<a class="sup">5</a>,<a class="sup">6</a>]</citation>提取时间序列的频率特征, 文献<citation id="444" type="reference">[<a class="sup">7</a>]</citation>获取序列自相关系数, 文献<citation id="445" type="reference">[<a class="sup">8</a>]</citation>提取序列的频繁模式等。提取形态特征一般做法是对时间序列单层次分段, 并用长度、斜率、点到线段的距离等作为每个分段的特征。提取频率特征主要途径是在单一时间尺度内将时间序列分解为一组正交的频域基函数的线性组合 (如傅里叶变换) , 将分解得到的各项系数作为频率成分。使用时间序列的自相关系数、偏相关系数等特征, 可以确定影响当前数值的历史数据的个数。时间序列符号化会在一定程度上造成数据损失, 而提取频繁模式同样是属于时间序列单一尺度上的特征。上述特征提取方法的不足之处是没有考虑时间序列的多时间尺度特征, 因此有必要提出新的特征模型。</p>
                </div>
                <h4 class="anchor-tag" id="45" name="45">2) 状态挖掘。</h4>
                <div class="p1">
                    <p id="46">文献<citation id="448" type="reference">[<a class="sup">9</a>]</citation>提出了基于时间序列形态的隐藏状态转移模型, 其缺点是只针对序列的单一时间尺度的状态。文献<citation id="449" type="reference">[<a class="sup">10</a>]</citation>提出了一种基于概率的全局状态转换模型, 对时间序列进行多层次分段, 但是不能实现单一时间序列在多时间尺度上的状态发现。</p>
                </div>
                <h4 class="anchor-tag" id="47" name="47">3) 时间序列预测。</h4>
                <div class="p1">
                    <p id="48">常见的时间序列预测模型包括滑动平均模型、利用指数平滑预测模型<citation id="450" type="reference"><link href="430" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>、自回归滑动平均模型 (Auto-Regressive Moving Average Model, ARMA) 、基于特征变换的神经网络预测模型<citation id="452" type="reference"><link href="432" rel="bibliography" /><link href="434" rel="bibliography" /><sup>[<a class="sup">12</a>,<a class="sup">13</a>]</sup></citation>、基于拓扑结构的TPM (Topology Preserving Map) 模型<citation id="453" type="reference"><link href="436" rel="bibliography" /><link href="438" rel="bibliography" /><sup>[<a class="sup">14</a>,<a class="sup">15</a>]</sup></citation>和贝叶斯网络模型, 以上预测模型均根据序列的部分历史数据, 预测下一个时间点或时间段的具体数值。文献<citation id="451" type="reference">[<a class="sup">9</a>]</citation>在隐马尔可夫模型的基础上得到PHMM (Pattern-based HMM) , 仅仅对单一时间尺度趋势预测作出了研究, 没有实现对金融时间序列多时间尺度趋势的预测。</p>
                </div>
                <h3 id="49" name="49" class="anchor-tag">2 特征树模型</h3>
                <h4 class="anchor-tag" id="50" name="50">2.1 <b>时间序列分段</b></h4>
                <div class="p1">
                    <p id="51">一条时间序列可以根据趋势的变化划分为一系列的线段, 这些线段是构成时间序列特征树的基本元素。由于时间序列充满噪声, 为了降噪, 在划分线段之前, 本文首先应用文献<citation id="454" type="reference">[<a class="sup">11</a>]</citation>中差离值 (DIFferential value, DIF) 对原始序列进行滤波, 在此基础上, 在大小预先设置的滑动窗口内, 应用最小二乘法拟合一条线段, 并根据各个窗口内线段斜率的变化, 判断序列中的极值点, 两个相邻极值点之间的连线即为一个分段。分段过程如算法1所示。</p>
                </div>
                <div class="p1">
                    <p id="52">算法1 时间序列分段。</p>
                </div>
                <div class="p1">
                    <p id="53">输入 窗口大小<i>W</i>;时间序列当前时刻的值<i>v</i>;<i>W</i>内拟合斜率有效阈值<i>tsh</i>。</p>
                </div>
                <div class="p1">
                    <p id="54">输出 <i>flag</i>:1表示非极值点, 0表示是极值点;<i>P</i><sub>PLR</sub>, 记录极值点索引列表。</p>
                </div>
                <div class="p1">
                    <p id="55">1) Segment (<i>W</i>, <i>v</i>, <i>tsh</i>) </p>
                </div>
                <div class="p1">
                    <p id="57">2) BEGIN</p>
                </div>
                <div class="p1">
                    <p id="59">3) <i>DIFArray</i>.Add (DIF (<i>v</i>) ) ;</p>
                </div>
                <div class="p1">
                    <p id="61">4) <i>time</i>++;</p>
                </div>
                <div class="p1">
                    <p id="63">5) <i>CurrentSlope</i>=OLS (<i>W</i>, <i>DIFArray</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="65">6) IF <i>flag</i>=1 and |<i>CurrentSlope</i>|&gt;<i>Tsh</i></p>
                </div>
                <div class="p1">
                    <p id="67">7) IF <i>LastSlope</i>×<i>CurrentSlope</i>&lt;0</p>
                </div>
                <div class="p1">
                    <p id="69">8) <i>flag</i>=0;</p>
                </div>
                <div class="p1">
                    <p id="71">9) END IF</p>
                </div>
                <div class="p1">
                    <p id="73">10) ELSE</p>
                </div>
                <div class="p1">
                    <p id="75">11) <i>P</i><sub>PLR</sub>.Add (<i>time</i>-<i>W</i>) </p>
                </div>
                <div class="p1">
                    <p id="77">12) <i>flag</i>=1;</p>
                </div>
                <div class="p1">
                    <p id="79">13) END IF</p>
                </div>
                <div class="p1">
                    <p id="81">14) <i>LastSlope</i>=<i>CurrentSlope</i>;</p>
                </div>
                <div class="p1">
                    <p id="83">15) END</p>
                </div>
                <div class="p1">
                    <p id="85">算法1中:第3) 行DIF () 将<i>v</i>转换为<i>DIF</i>; <i>time</i>表示当前时刻的索引; <i>flag</i>表示当前段是否结束;<i>tsh</i>衡量拟合斜率是否有效;第5) 行<i>CurrentSlope</i>表示OLS () 应用最小二乘法获取当前滑动窗口内数据的拟合斜率;第7) 行判断是否产生一个极值点 (<i>LastSlope</i>表示上一个窗口内数据的拟合斜率, 初始值为1) 。</p>
                </div>
                <div class="p1">
                    <p id="86">设置<i>tsh</i>是为了防止序列在窗口内的微小波动影响分段效果, 其大小根据拟合斜率的分布 (在历史数据中统计得出) 设置, 如图1所示 (斜率的概率分布图) 。本文实验数据集上的拟合斜率服从高斯分布, 且均值为0, 设置<i>tsh</i>为此分布的51%的分位数<i>μ</i><sub>0.51</sub>, 在区间[-<i>μ</i><sub>0.51</sub>, <i>μ</i><sub>0.51</sub>]内的拟合斜率视为无效斜率, 不具有趋势特征。</p>
                </div>
                <div class="area_img" id="87">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 拟合斜率的概率分布" src="Detail/GetImg?filename=images/JSJY201904019_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 拟合斜率的概率分布  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 1 Probability distribution of fitting slope</p>

                </div>
                <h4 class="anchor-tag" id="88" name="88">2.2 <b>特征树定义</b></h4>
                <div class="p1">
                    <p id="89">设时间序列F有H种时间尺度的分段, 即有H个不同层次的表示。原始序列的相邻极值点之间的连线代表其最小尺度分段, 第一个极值点与末尾极值点之间的连线代表最大尺度分段。记时间序列在h层上的分段序列为:F<sup> (h) </sup>= (f<mathml id="90"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, f<mathml id="91"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, f<mathml id="92"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>n</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>) , 1 ≤ h ≤ H, 1 ≤ n ≤ 2<sup>h-1</sup>, F<sup> (h) </sup>表示时间序列的第h层, f<mathml id="93"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml> (1 ≤ i ≤n) 表示h层第i个分段。图2 (横坐标为极值点对应的时间) 展示了一个时间序列三层分段示例:第一层只有一根线段, 代表最大的时间尺度;第三层为代表最小时间尺度的分段序列, 包含4个分段, 每个分段通过连接原始序列相邻极值点得到。</p>
                </div>
                <div class="p1">
                    <p id="94">为了刻画时间序列更多的层次特征以及更加清晰地表示每个层次之间的关系, 提出了一种有效的时间序列多时间尺度特征模型——特征树, 其形式定义如下:</p>
                </div>
                <div class="p1">
                    <p id="95"><b>定义</b>1 特征树。高度为<i>H</i>的特征树是一棵二叉树, 其第<i>h</i>层的结点从左到右对应着时间序列在第<i>h</i>个时间尺度上分段序列<i>F</i><sup> (<i>h</i>) </sup>= (<i>f</i><mathml id="96"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, <i>f</i><mathml id="97"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, <i>f</i><mathml id="98"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>n</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>) (1 ≤ <i>h</i> ≤ <i>H</i>, 1 ≤ <i>n</i> ≤ 2<sup><i>h</i>-1</sup>) , 第<i>h</i>层对应的时间尺度大于第<i>h</i>+1层对应的时间尺度。任一结点存储了时间尺度<i>h</i>下的第<i>i</i>个分段的<i>interval</i> (起止区间) 、<i>slope</i> (斜率) 。根结点对应的分段序列<i>F</i><sup> (1) </sup>只包含一个分段;内部结点<i>f</i><mathml id="99"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>由其子结点<i>f</i><mathml id="100"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>与<i>f</i><mathml id="101"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>2</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>组合构成, 即<i>f</i><mathml id="102"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>interval</i>由<i>f</i><mathml id="103"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>interval</i>与<i>f</i><mathml id="104"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>2</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>interval</i>合并构成, <i>f</i><mathml id="105"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>j</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>slope</i>为<i>f</i><mathml id="106"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>的起始位置与<i>f</i><mathml id="107"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>j</mi><mo>×</mo><mn>2</mn><mo>+</mo><mn>2</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>结束位置的连线的斜率;叶子结点对应的是分段序列<i>F</i><sup> (<i>H</i>) </sup>, 即相邻极值点之间的线段序列。</p>
                </div>
                <div class="area_img" id="108">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_108.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 多尺度分段序列示例" src="Detail/GetImg?filename=images/JSJY201904019_108.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 多尺度分段序列示例  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_108.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 2 Example of segments at multiple scales</p>

                </div>
                <div class="p1">
                    <p id="109">图3给出了图2所示时间序列对应的特征树。每棵特征树都带有表示层次之间联系的特征, 根结点代表最大尺度, 区间长度为29, 其趋势由两棵子树确定, 左右代表时间的先后同时左右子树分别由各自的子树构成。因此, 特征树完整刻画了时间序列在各个层次上的趋势表现, 同时也表示了每个层次之间的联系。</p>
                </div>
                <div class="area_img" id="110">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 特征树示例" src="Detail/GetImg?filename=images/JSJY201904019_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 特征树示例  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 3 Example of feature tree</p>

                </div>
                <h4 class="anchor-tag" id="111" name="111">2.3 <b>特征树生成</b></h4>
                <div class="p1">
                    <p id="112">特征树生成是将时间序列压缩为一棵树的过程。生成过程为动态增长:时间序列的每一段作为底层叶结点, 每两段组合为一段, 生成父结点, 计算其斜率和区间并记录, 新的一层继续向上增长, 直至最高层结点数为1。</p>
                </div>
                <div class="p1">
                    <p id="113">由于特征树生成过程中底层结点的个数不一定为2<sup><i>n</i></sup>, 例如, <i>m</i>层结点个数为奇数, 则说明此时在尺度<i>m</i>+1下没有新的分段。因此, 当某层结点个数为奇数时停止生长, 等到本层有新结点加入继续向上更新。本文算法每层用一个链表辅助特征树的生成。构造特征树的具体过程如算法2～3所述。</p>
                </div>
                <div class="p1">
                    <p id="114">算法2 特征树生成。</p>
                </div>
                <div class="p1">
                    <p id="115">输入 原始序列数据<i>Data</i>;新生成分段<i>Seg</i> (起止位置、斜率, 由<i>P</i><sub>PLR</sub>与原始数据获取) ;原特征树<i>T</i>。</p>
                </div>
                <div class="p1">
                    <p id="116">输出 特征树<i>T</i>。</p>
                </div>
                <div class="p1">
                    <p id="117">1) GenerateTree (<i>Data</i>, <i>Seg</i>, <i>T</i>) </p>
                </div>
                <div class="p1">
                    <p id="119">2) BEGIN</p>
                </div>
                <div class="p1">
                    <p id="121">3) IF <i>flag</i>==0</p>
                </div>
                <div class="p1">
                    <p id="123">4) <i>Node</i>.<i>length</i>=<i>Seg</i>.<i>end</i>-<i>Seg</i>.<i>start</i>;</p>
                </div>
                <div class="p1">
                    <p id="125">5) <i>Node</i>.<i>slope</i>=<i>Seg</i>.<i>slope</i>;</p>
                </div>
                <div class="p1">
                    <p id="127">6) <i>T</i><sup> (<i>m</i>) </sup>.AddNode (<i>Node</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="129">7) //底层结点为偶数时向上更新特征树</p>
                </div>
                <div class="p1">
                    <p id="360">8) IF T<sup> (m) </sup>.count%2==0</p>
                </div>
                <div class="p1">
                    <p id="130">9) Update Levels (Data, T) ;</p>
                </div>
                <div class="p1">
                    <p id="133">10) END IF</p>
                </div>
                <div class="p1">
                    <p id="135">11) END IF</p>
                </div>
                <div class="p1">
                    <p id="137">12) END</p>
                </div>
                <div class="p1">
                    <p id="139">算法3 更新特征树。</p>
                </div>
                <div class="p1">
                    <p id="140">输入 原始序列数据<i>Data</i>;待更新特征树<i>T</i>。</p>
                </div>
                <div class="p1">
                    <p id="141">输出 更新多个层次后的特征树<i>T</i>。</p>
                </div>
                <div class="p1">
                    <p id="361">1) Update Levels (Data, T) </p>
                </div>
                <div class="p1">
                    <p id="144">2) BEGIN</p>
                </div>
                <div class="p1">
                    <p id="146">3) FOR <i>m</i>=<i>H</i>:1</p>
                </div>
                <div class="p1">
                    <p id="148">4) <i>Mcount</i>=<i>T</i><sup> (<i>m</i>) </sup>.<i>count</i>;</p>
                </div>
                <div class="p1">
                    <p id="150">5) <i>Node</i>.<i>l</i>=<i>T</i><mathml id="152"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Μ</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>m</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>l</i>+<i>T</i><mathml id="153"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Μ</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mo>-</mo><mn>1</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>m</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>l</i>;</p>
                </div>
                <div class="p1">
                    <p id="154">6) <i>Node</i>.<i>s</i>=getSlope (<i>Data</i>, <i>Node</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="156">7) <i>Node</i>.<i>left</i>=<i>T</i><mathml id="158"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Μ</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mo>-</mo><mn>1</mn></mrow><mrow><mo stretchy="false"> (</mo><mi>m</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>;</p>
                </div>
                <div class="p1">
                    <p id="159">8) <i>Node</i>.<i>right</i>=<i>T</i><mathml id="161"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Μ</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>m</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>;</p>
                </div>
                <div class="p1">
                    <p id="162">9) //当本层为顶层时向上增长一层</p>
                </div>
                <div class="p1">
                    <p id="164">10) IF <i>m</i>==1</p>
                </div>
                <div class="p1">
                    <p id="166">11) <i>T</i>.AddLevel (<i>NewList</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="168">12) END IF</p>
                </div>
                <div class="p1">
                    <p id="170">13) //为本层添加一个结点</p>
                </div>
                <div class="p1">
                    <p id="172">14) <i>T</i><sup> (<i>m</i>-1) </sup>.AddNode (<i>Node</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="174">15) //本层结点为偶数时向上更新特征树</p>
                </div>
                <div class="p1">
                    <p id="176">16) IF (<i>T</i><sup> (<i>m</i>-1) </sup>.<i>count</i> %2==0) </p>
                </div>
                <div class="p1">
                    <p id="178">17) continue;</p>
                </div>
                <div class="p1">
                    <p id="180">18) ELSE</p>
                </div>
                <div class="p1">
                    <p id="182">19) break;</p>
                </div>
                <div class="p1">
                    <p id="184">20) END IF</p>
                </div>
                <div class="p1">
                    <p id="186">21) END FOR</p>
                </div>
                <div class="p1">
                    <p id="188">22) END</p>
                </div>
                <div class="p1">
                    <p id="190">算法3中:<i>Mcount</i>表示<i>T</i>的<i>m</i>层的结点个数;<i>Node</i>表示<i>T</i>的一个新结点;<i>NewList</i>表示<i>T</i>新一层的链表;<i>T</i><mathml id="191"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Μ</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>m</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>表示时间序列在尺度<i>m</i>下的特征子树链表中的第<i>MCount</i>个结点;<i>T</i>的每个结点保存着对应尺度下每个分段的斜率, 长度和左右子树, 其层数是时间序列特征树的层数, 同时<i>T</i>的每一层构成某一尺度下的特征子树链表。</p>
                </div>
                <h3 id="192" name="192" class="anchor-tag">3 预测模型</h3>
                <div class="p1">
                    <p id="193">文献<citation id="455" type="reference">[<a class="sup">9</a>,<a class="sup">10</a>]</citation>为应用隐马尔可夫模型预测时间序列状态提供了思路。时间序列在某个尺度下的一个分段, 作为本尺度特征子树的根结点, 本研究基于时间序列的各个时间尺度下的特征子树序列, 分别训练一个相应时间尺度下的隐马尔可夫模型 (HMM) , 不同的时间尺度的特征子树序列分别对应HMM, 基于HMM的解码功能即可实现原始时间序列的多时间尺度预测。</p>
                </div>
                <h4 class="anchor-tag" id="194" name="194">3.1 <b>观测序列</b></h4>
                <div class="p1">
                    <p id="195">本文将时间序列中各时间尺度下的特征子树序列视为观测序列。<i>h</i>尺度下的观测序列表现为以特征树的第<i>h</i>层结点为根结点的特征子树的序列, <i>T</i><sup> (<i>h</i>) </sup>= (<i>T</i><mathml id="196"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, <i>T</i><mathml id="197"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, <i>T</i><mathml id="198"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>n</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>) , <i>n</i>表示<i>h</i>层有<i>n</i>棵特征子树。</p>
                </div>
                <h4 class="anchor-tag" id="199" name="199">3.2 <b>状态发现</b></h4>
                <div class="p1">
                    <p id="200">首先, 文献<citation id="456" type="reference">[<a class="sup">9</a>]</citation>中证明, 时间序列中存在不同分布, 由此通过聚类分析确定一个特征子树序列中隐藏的状态。</p>
                </div>
                <h4 class="anchor-tag" id="201" name="201">1) 相似性度量。</h4>
                <div class="p1">
                    <p id="202">由3.1节可知, 时间序列的尺度<i>h</i>下的观测序列为<i>T</i><sup> (<i>h</i>) </sup>= (<i>T</i><mathml id="203"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, <i>T</i><mathml id="204"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, <i>T</i><mathml id="205"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>n</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>) 。</p>
                </div>
                <div class="p1">
                    <p id="206">图4所示特征树的第二层有两棵特征子树, 每棵特征子树由三个结点 (1个根结点和2个子结点) 构成, 这两棵特征子树构成一个特征子树序列, 表示了时间序列在尺度2下的观测特征。</p>
                </div>
                <div class="area_img" id="207">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 结点权重分配" src="Detail/GetImg?filename=images/JSJY201904019_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 结点权重分配  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 4 Node weight allocation</p>

                </div>
                <div class="p1">
                    <p id="208">现在的任务是对特征子树序列<i>T</i><sup> (<i>h</i>) </sup>中的子树聚类。首先将每个结点的两个属性值用离差标准化方法 (min-max normalization) 归一化, 如式 (1) 所示:</p>
                </div>
                <div class="p1">
                    <p id="209" class="code-formula">
                        <mathml id="209"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ν</mi><mi>o</mi><mi>r</mi><mi>V</mi><mo>=</mo><mfrac><mrow><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>-</mo><mi>Μ</mi><mi>i</mi><mi>n</mi><mi>V</mi></mrow><mrow><mi>Μ</mi><mi>a</mi><mi>x</mi><mi>V</mi><mo>-</mo><mi>Μ</mi><mi>i</mi><mi>n</mi><mi>V</mi></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="210">其中:<i>value</i>为待归一化数据值;<i>MinV</i>和<i>MaxV</i>分别为相同位置上最小值和最大值。</p>
                </div>
                <div class="p1">
                    <p id="211">特征树中的结点对时间序列趋势的影响按照层次由低到高依次减小, 故给特征树的每层分配权重1/<i>H</i>, 每层结点则均分1/<i>H</i>的权重。以图4表示的特征树为例, 每层平均占有1/3的权重, 第二层的每个结点占有 (1/3) /2, 第三层四个结点则每个结点占有 (1/3) /4。每个结点的权重函数定义如下:</p>
                </div>
                <div class="p1">
                    <p id="212" class="code-formula">
                        <mathml id="212"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>Η</mi><mo>×</mo><mn>2</mn><msup><mrow></mrow><mrow><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msup></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="213">其中:<i>h</i>为特征树第<i>h</i>层。两棵子树的相似性度量函数定义如下:</p>
                </div>
                <div class="area_img" id="362">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJY201904019_36200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="218">其中:<i>l</i>表示层号;<i>n</i>表示<i>l</i>层的第<i>n</i>个结点。</p>
                </div>
                <h4 class="anchor-tag" id="219" name="219">2) 状态挖掘。</h4>
                <div class="p1">
                    <p id="220">采用<i>K</i>-means聚类算法实现状态发现, 聚簇个数<i>K</i>, 即为状态的个数。对尺度<i>h</i>下的特征子树序列聚类, 得到<i>K</i>个聚簇, {<i>C</i><mathml id="221"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, <i>C</i><mathml id="222"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, <i>C</i><mathml id="223"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>Κ</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>}, 每一个聚簇代表尺度<i>h</i>下的1个隐藏状态, 从而得到<i>K</i>个状态的集合<i>S</i><sup> (<i>h</i>) </sup>={<i>S</i><mathml id="224"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, <i>S</i><mathml id="225"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, <i>S</i><mathml id="226"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>Κ</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>}。</p>
                </div>
                <h4 class="anchor-tag" id="227" name="227">3.3 <b>模型生成</b></h4>
                <div class="p1">
                    <p id="228">确定了时间序列在尺度h下特征子树序列T <sup> (h) </sup>的隐藏状态集合S<sup> (h) </sup>后, 可以进一步生成T <sup> (h) </sup>对应的隐马尔可夫模型。首先, 将聚类后的特征子树序列中每棵子树用对应的状态替换, 形成状态序列Q<sup> (h) </sup>= (Q<mathml id="229"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mn>1</mn><mi>i</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, Q<mathml id="230"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mn>2</mn><mi>i</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>, …, Q<mathml id="231"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>n</mi><mi>i</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>) , Q<mathml id="232"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>b</mi><mi>i</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>∈S<sup> (h) </sup>, 1≤b≤n, 由此序列经过统计得到状态转移矩阵, 如下:</p>
                </div>
                <div class="p1">
                    <p id="233"><b><i>A</i></b><sup> (<i>h</i>) </sup>={<i>a</i><mathml id="234"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>}<sub><i>K</i>×<i>K</i></sub></p>
                </div>
                <div class="p1">
                    <p id="235">其中:1≤<i>i</i>≤<i>K</i>, 1≤<i>j</i>≤<i>K</i>。<i>a</i><mathml id="236"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>表示在尺度<i>h</i>下特征子树序列由状态<i>i</i>转移到状态<i>j</i>的概率, 计算公式如下:</p>
                </div>
                <div class="p1">
                    <p id="237" class="code-formula">
                        <mathml id="237"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>a</mi><msubsup><mrow></mrow><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup><mo>=</mo><mfrac><mrow><mtext>c</mtext><mtext>o</mtext><mtext>u</mtext><mtext>n</mtext><mtext>t</mtext><mo stretchy="false"> (</mo><mo stretchy="false"> (</mo><mi>Q</mi><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup><mo>, </mo><mi>Q</mi><msubsup><mrow></mrow><mi>j</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup><mo stretchy="false">) </mo><mo stretchy="false">) </mo></mrow><mrow><mtext>c</mtext><mtext>o</mtext><mtext>u</mtext><mtext>n</mtext><mtext>t</mtext><mo stretchy="false"> (</mo><mo stretchy="false"> (</mo><mi>Q</mi><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup><mo stretchy="false">) </mo><mo stretchy="false">) </mo></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="238">其中:count (<i>s</i>) 统计状态序列<i>Q</i><sup> (<i>h</i>) </sup>中出现子序列<i>s</i>的次数。</p>
                </div>
                <div class="p1">
                    <p id="239">尺度<i>h</i>下特征子树根结点的长度是该尺度的体现, 为了探究时间序列在尺度<i>h</i>, 状态<i>i</i>下趋势的规律, 需要计算观测序列根结点的发射概率, 即每棵特征子树根结点的生成概率。本文将<i>T</i><sup> (<i>h</i>) </sup>中的子树按状态分组, 状态相同的子树在同一组, 同时, 假设结点的斜率和长度的概率分布相互独立, 于是, 属于状态<i>i</i>的子树的根结点<i>r</i>的生成概率为:</p>
                </div>
                <div class="p1">
                    <p id="240"><i>P</i><sub><i>i</i></sub> (<i>r</i>) =<i>P</i><sub><i>slope</i></sub> (<i>r</i>.<i>slope</i>|<i>i</i>) ×<i>P</i><sub><i>length</i></sub> (<i>r</i>.<i>length</i>|<i>i</i>)      (5) </p>
                </div>
                <div class="p1">
                    <p id="241">其中:<i>r</i>.<i>slope</i>为结点<i>r</i>的斜率, <i>r</i>.<i>length</i>为结点<i>r</i>的长度。本研究假设在状态<i>i</i>下, <i>r</i>.<i>slope</i>和<i>r</i>.<i>length</i>分别服从一维高斯分布N (<i>μ</i><sub><i>is</i></sub>, <i>σ</i><mathml id="242"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>s</mi></mrow><mn>2</mn></msubsup></mrow></math></mathml>) 和N (<i>μ</i><sub><i>il</i></sub>, <i>σ</i><mathml id="243"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>l</mi></mrow><mn>2</mn></msubsup></mrow></math></mathml>) , <i>μ</i><sub><i>is</i></sub>与<i>σ</i><mathml id="244"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>s</mi></mrow><mn>2</mn></msubsup></mrow></math></mathml>分别是<i>i</i>状态下<i>r</i>.<i>slope</i>的均值和方差, <i>μ</i><sub><i>il</i></sub>与<i>σ</i><mathml id="245"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>i</mi><mi>l</mi></mrow><mn>2</mn></msubsup></mrow></math></mathml>分别是<i>i</i>状态下<i>r</i>.<i>length</i>的均值和方差。</p>
                </div>
                <div class="p1">
                    <p id="246">为验证以上的假设, 本文对实验所用序列数据进行了调查, 设置<i>K</i>值为3, 结果如图5～图7所示, 三幅图分别展示了斜率和长度的条件概率分布。在每个状态下的每棵特征子树中根结点<i>r</i>的斜率和长度均服从高斯分布, 表明了聚类的有效性和假设的合理性。</p>
                </div>
                <div class="area_img" id="247">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_247.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 S1 (h) 状态下斜率和长度的条件概率分布" src="Detail/GetImg?filename=images/JSJY201904019_247.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 <i>S</i><mathml id="248"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_247.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 5 Conditional probability distribution of slope and length at <i>S</i><mathml id="249"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml></p>

                </div>
                <div class="area_img" id="250">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_250.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 S2 (h) 状态下斜率和长度的条件概率分布" src="Detail/GetImg?filename=images/JSJY201904019_250.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 S<mathml id="251"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_250.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><i>Fig</i>. 6 <i>Conditional probability distribution of slope and length at</i> S<mathml id="252"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>2</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml></p>

                </div>
                <h4 class="anchor-tag" id="253" name="253">3.4 <b>模型优化</b></h4>
                <div class="p1">
                    <p id="254">实验结果表明, 时间序列中存在噪声片段, 这些片段会降低聚类效果, 增大<i>SSE</i> (<i>Sum of Squared Errors</i>) , 如图8所示 (横坐标为滑动步数<i>d</i>) , 随着噪声片段按照一定步长向前滑动, <i>SSE</i>随着<i>d</i>增长逐渐减小后有上升趋势。</p>
                </div>
                <div class="area_img" id="255">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_255.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 S3 (h) 状态下斜率和长度的条件概率分布" src="Detail/GetImg?filename=images/JSJY201904019_255.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 <i>S</i><mathml id="256"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>3</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>状态下斜率和长度的条件概率分布  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_255.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 7 Conditional probability distribution of slope and length at <i>S</i><mathml id="257"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>3</mn><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml></p>

                </div>
                <div class="area_img" id="258">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_258.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 SSE曲线" src="Detail/GetImg?filename=images/JSJY201904019_258.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 SSE曲线  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_258.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><i>Fig</i>. 8 <i>Curve of</i> SSE</p>

                </div>
                <div class="p1">
                    <p id="259">为解决这一问题, 本研究通过预先对原始时间序列数据去噪实现对模型的优化。假设现有时间序列, <i>N</i>个数据点。用4个时间点<i>start</i>、 <i>p</i>、<i>q</i>、<i>end</i>将其分为三段<i>L</i><sub>1</sub> (<i>start</i>: <i>p</i>) , <i>L</i><sub>2</sub> (<i>p</i>: <i>q</i>) , <i>L</i><sub>3</sub> (<i>q</i>: <i>end</i>) 。设置初始值<i>p</i>=0, <i>q</i>= <i>p</i>+<i>U</i>, 设置一个长度为<i>U</i>的噪声窗口, 即<i>L</i><sub>2</sub>。合并<i>L</i><sub>1</sub>与<i>L</i><sub>3</sub>两段数据, 利用算法1分段, 再用<i>K</i>-means聚类, 得出<i>SSE</i>。完成一次<i>SSE</i>计算后, <i>p</i>与<i>q</i>向右滑动<i>step</i>个数据, 即<i>p</i>= <i>p</i>+<i>step</i>, <i>q</i>=<i>q</i>+<i>step</i>, 循环计算<i>SSE</i>, 直到窗口滑动至末尾。</p>
                </div>
                <div class="p1">
                    <p id="260"><i>SEE</i>越小聚类效果越好, 根据上述执行结果, 确定使<i>SSE</i>最小的窗口位置为最佳噪声片段位置, 即<i>p</i>值。具体过程如算法4所示。</p>
                </div>
                <div class="p1">
                    <p id="261">算法4 确定噪声片段位置。</p>
                </div>
                <div class="p1">
                    <p id="262">输入 原始时间序列<i>Data</i>;窗口大小<i>U</i>;当前时间序列长度<i>N</i>;窗口滑动步长<i>step</i>。</p>
                </div>
                <div class="p1">
                    <p id="263">输出 窗口起始位置<i>p</i>;窗口结束位置<i>q</i>。</p>
                </div>
                <div class="p1">
                    <p id="264">1) GetW (<i>Data</i>, <i>U</i>, <i>N</i>, <i>step</i>) </p>
                </div>
                <div class="p1">
                    <p id="266">2) BEGIN</p>
                </div>
                <div class="p1">
                    <p id="268">3) FOR <i>m</i>=1: <i>step</i>: <i>N</i>-<i>U</i></p>
                </div>
                <div class="p1">
                    <p id="270">4) FOR <i>n</i>=1:<i>m</i></p>
                </div>
                <div class="p1">
                    <p id="272">5) <i>SL</i>=Segment (<i>W</i>, <i>Data</i> [<i>n</i>], <i>tsh</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="274">6) END FOR</p>
                </div>
                <div class="p1">
                    <p id="276">7) FOR <i>g</i>=<i>m</i>+<i>U</i> : <i>N</i></p>
                </div>
                <div class="p1">
                    <p id="278">8) <i>SL</i>=Segment (<i>W</i>, <i>Data</i> [<i>g</i>], <i>tsh</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="280">9) END FOR</p>
                </div>
                <div class="p1">
                    <p id="282">10) <i>SSE</i>.Add (GetSSE (<i>SL</i>) ) ;</p>
                </div>
                <div class="p1">
                    <p id="283">11) END FOR</p>
                </div>
                <div class="p1">
                    <p id="285">12) <i>start</i>=<i>SSE</i>.IndexOf (<i>SSE</i>. <i>Min</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="287">13) <i>p</i>=<i>start</i>×<i>step</i>;</p>
                </div>
                <div class="p1">
                    <p id="289">14) END</p>
                </div>
                <div class="p1">
                    <p id="291">算法4中:GetSSE () 是得到聚类结果的<i>SSE</i>;<i>SL</i>为分段结果链表。</p>
                </div>
                <h3 id="292" name="292" class="anchor-tag">4 预测模型MTSTPA</h3>
                <div class="p1">
                    <p id="293">由于每个时间尺度下的特征子树根结点表示该尺度下一个分段的斜率和长度, 本文算法<i>MTSTPA</i>通过该特征子树序列的<i>HMM</i>序列预测下一棵子树根结点。</p>
                </div>
                <div class="p1">
                    <p id="294">由3.3节得出, 时间序列在尺度<i>h</i>下对应状态转移矩阵<b><i>A</i></b><sup> (<i>h</i>) </sup>, 根据<b><i>A</i></b><sup> (<i>h</i>) </sup>得到下一个出现概率最大的状态<i>i</i>。根据3.3节得出, 在处于相同状态的特征子树集合中, 特征子树根结点的斜率和长度相互独立, 且分别服从高斯分布, 又根据式 (7) 得出, 在某个状态<i>i</i>下, 当根结点的<i>slope</i>与<i>length</i>全部取均值时概率最大。因此, 状态<i>i</i>对应聚簇的簇中心为最优预测值。由此本文提出一个多时间尺度预测算法MTSTPA。MTSTPA在极值点处作出预测, 如果当前点不能确定为极值点, 则根据时间序列的上一个极值点, 预测序列当前所处的趋势。MTSTPA对时间序列在尺度<i>h</i>下的趋势的预测过程如算法5所示。</p>
                </div>
                <div class="p1">
                    <p id="295">算法5 MTSTPA。</p>
                </div>
                <div class="p1">
                    <p id="296">输入 尺度<i>h</i>下状态转移矩阵<b><i>A</i></b><sup> (<i>h</i>) </sup>;尺度<i>h</i>下每个聚簇的中心<i>C</i><sup> (<i>h</i>) </sup>;最新的状态<i>LastS</i>。</p>
                </div>
                <div class="p1">
                    <p id="297">输出 预测趋势长度<i>ForLength</i>;预测趋势斜率<i>ForSlope</i>。</p>
                </div>
                <div class="p1">
                    <p id="298">1) Forecast (<b><i>A</i></b><sup> (<i>h</i>) </sup>, <i>C</i><sup> (<i>h</i>) </sup>, <i>LastS</i>) </p>
                </div>
                <div class="p1">
                    <p id="300">2) BEGIN</p>
                </div>
                <div class="p1">
                    <p id="302">3) Next S<sup> (h) </sup>=arg max (A<sup> (h) </sup>[Last S][i]) ;</p>
                </div>
                <div class="p1">
                    <p id="304">4) <i>ForLength</i>=UNor (<i>C</i><mathml id="306"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Ν</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>S</mi><msup><mrow></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msup></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>RLength</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="307">5) <i>ForSlope</i>=UNor (<i>C</i><mathml id="309"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Ν</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>S</mi><msup><mrow></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msup></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>.<i>RSlope</i>) ;</p>
                </div>
                <div class="p1">
                    <p id="310">6) END</p>
                </div>
                <div class="p1">
                    <p id="312">算法3中:<i>NextS</i><sup> (<i>h</i>) </sup>为预测的下一个状态;<i>C</i><mathml id="313"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>Ν</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>S</mi><msup><mrow></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msup></mrow><mrow><mo stretchy="false"> (</mo><mi>h</mi><mo stretchy="false">) </mo></mrow></msubsup></mrow></math></mathml>为预测状态对应聚簇的簇中心, <i>RLength</i>和<i>RSlope</i>分别为根结点长度和斜率;UNor () 将归一化的数值恢复为原数值:</p>
                </div>
                <div class="p1">
                    <p id="314">UNor (<i>NorV</i>) =<i>NorV</i>× (<i>MaxV</i>-<i>MinV</i>) +<i>MinV</i></p>
                </div>
                <div class="p1">
                    <p id="315">其中: <i>MinV</i>与<i>MaxV</i>分别是对应原数据的最小值与最大值。</p>
                </div>
                <h3 id="316" name="316" class="anchor-tag">5 实验</h3>
                <div class="p1">
                    <p id="317">在2001年01月01日至2015年07月08日时间段内, 深交所和上交所的每支股票每日收盘价数据都会构成3 600个数据点的时间序列, 本研究取所有股票的时间序列作为实验数据集。每条时间序列的前70%作为训练数据, 后30%作为测试数据。本文使用下式定义的预测精度作为评价指标:</p>
                </div>
                <div class="p1">
                    <p id="318" class="code-formula">
                        <mathml id="318"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>C</mi><mi>o</mi><mi>r</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi></mrow><mrow><mi>F</mi><mi>o</mi><mi>r</mi><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>6</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="319">其中:<i>CorCount</i>代表预测正确总次数;<i>ForCount</i>代表预测总次数。</p>
                </div>
                <div class="p1">
                    <p id="320">为了验证本文提出的特征树模型、预测模型和预测算法MTSTPA的有效性, 本文设计了五组实验:第一组, 验证分段算法;第二组, 确定预测模型参数, 即隐马尔可夫模型状态数<i>K</i>与优化模型噪声窗口大小<i>U</i>;第三组, 特征树模型有效性验证;第四组, 模型优化验证;第五组, 与传统预测模型多时间尺度预测精度对比。每组预测实验进行三次, 取三次预测精度的平均值。每次实验在数据集中随机选取20条序列作为实验数据。</p>
                </div>
                <h4 class="anchor-tag" id="321" name="321">5.1 <b>验证分段算法</b></h4>
                <div class="p1">
                    <p id="322">为验证算法1的有效性, 实验比较了原始时间序列与由算法1得出的极值点序列对应时间段的趋势。图9表示一条原始时间序列, 将其作为输入数据执行算法1得到极值点序列, 如图10所示。</p>
                </div>
                <div class="area_img" id="323">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_323.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 原始时间序列" src="Detail/GetImg?filename=images/JSJY201904019_323.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 原始时间序列  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_323.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><i>Fig</i>. 9 <i>Original time series</i></p>

                </div>
                <div class="area_img" id="324">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_324.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 极值点序列" src="Detail/GetImg?filename=images/JSJY201904019_324.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图10 极值点序列  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_324.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><i>Fig</i>. 10 <i>Extreme point series</i></p>

                </div>
                <div class="p1">
                    <p id="325">原始时间序列1～7下降趋势, 7～9上升趋势, 9～14下降趋势, 14～29是上升趋势, 与图10中极值点之间线段的趋势相同, 验证了算法1对极值点判断的准确性。</p>
                </div>
                <h4 class="anchor-tag" id="326" name="326">5.2 <b>参数的选择</b></h4>
                <div class="p1">
                    <p id="327">通过实验确定隐藏状态的个数K (K-<i>means</i>聚类的聚簇个数) 。根据<i>MTSTPA</i>预测时间序列在多个时间尺度内的趋势。K分别取2、3、4, 尺度<i>n</i>=3开始预测 (特征树第三层开始有四棵子树) , 预测结果如图11所示, 在实验所用数据集上, <i>K</i>=3时各个时间尺度上的预测精度均大于55%, 最高可达到75%以上, 因此<i>K</i>取值为3。</p>
                </div>
                <div class="area_img" id="328">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_328.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 K值对预测精度影响" src="Detail/GetImg?filename=images/JSJY201904019_328.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图11 <i>K</i>值对预测精度影响  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_328.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 11 Effect of <i>K</i> value on prediction accuracy</p>

                </div>
                <div class="p1">
                    <p id="329">通过实验确定<i>U</i>/<i>N</i>。设计实验:分别取<i>U</i>/<i>N</i>×100%值为15%、25%、35%、45%、55%, 统计每个值对应实验的预测精度, 对比得出最优<i>U</i>/<i>N</i>。</p>
                </div>
                <div class="p1">
                    <p id="330">图12显示, 在实验所用数据集上, 噪声窗口占总数据35%时各个时间尺度的预测精度均在65%以上。因此优化模型将长度占总数据35%的数据片段视为噪声片段, 应用算法2找出片段最佳位置, 将其滤除。</p>
                </div>
                <div class="area_img" id="331">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_331.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图12 U/N值对预测精度影响" src="Detail/GetImg?filename=images/JSJY201904019_331.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图12 <i>U</i>/<i>N</i>值对预测精度影响  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_331.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 12 Effect of <i>U</i>/<i>N</i> value on prediction accuracy</p>

                </div>
                <h4 class="anchor-tag" id="332" name="332">5.3 <b>特征树有效性</b></h4>
                <div class="p1">
                    <p id="333">实验用两个策略进行对比验证:策略1, 未使用特征子树, 用树的单层结点序列 (对应时间尺度的分段序列) 作为本时间尺度的观测序列;策略2, 使用特征子树, 用该时间尺度下的特征子树序列作为观测序列 (本文所用策略) 。实验设置<i>K</i>=3, <i>U</i>/<i>N</i>=35%。如图13所示, 策略2在各个时间尺度下的预测精度均优于策略1, 其中尺度4和尺度5高出10个百分点以上, 验证了策略2的有效性。</p>
                </div>
                <div class="area_img" id="334">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_334.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图13 策略1与策略2预测精度对比" src="Detail/GetImg?filename=images/JSJY201904019_334.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图13 策略1与策略2预测精度对比  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_334.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 13 Comparison of prediction accuracy between Strategy 1 and Strategy 2</p>

                </div>
                <div class="p1">
                    <p id="335">图13显示, 预测精度随着时间尺度的减小由增加到下降, 分析得出模型的预测精度与两个因素相关:1) 每个时间尺度下的特征子树的棵数;2) 每棵特征子树所携带的层次信息的多少。在本组实验中, 尺度3到尺度5, 时间尺度依次减小, 特征子树个数依次增多, 故通过式 (6) 统计得到的<b><i>A</i></b><sup> (3) </sup>、<b><i>A</i></b><sup> (4) </sup>与<b><i>A</i></b><sup> (5) </sup>准确度依次增高, 预测精度逐渐达到最高79%;尺度5到尺度9下的特征子树携带的层次信息逐渐减少, 预测精度下降, 但是最低预测精度仍在55%以上。</p>
                </div>
                <h4 class="anchor-tag" id="336" name="336">5.4 <b>模型优化验证</b></h4>
                <div class="p1">
                    <p id="337">为了验证优化模型的有效性, 现进行优化前后预测精度对比实验。实验设置<i>K</i>=3, <i>U</i>/<i>N</i>=35%。图14显示了优化前后的预测效果。优化模型预测精度总体上优于优化前模型, 验证了优化算法的有效性。</p>
                </div>
                <div class="area_img" id="338">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_338.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图14 优化前后预测精度对比" src="Detail/GetImg?filename=images/JSJY201904019_338.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图14 优化前后预测精度对比  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_338.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 14 Comparison of accuracy before and after optimization</p>

                </div>
                <h4 class="anchor-tag" id="339" name="339">5.5 MTSTPA<b>有效性</b></h4>
                <div class="p1">
                    <p id="340">本组实验对比<i>MTSTPA</i>、<i>ARMA</i>与<i>PHMM</i>三种时间序列预测模型的预测精度。<i>PHMM</i>同样应用隐马尔可夫模型, 采用单纯分段特征, 预测单一时间尺度下序列走势。实验设置<i>MTSTPA</i>参数<i>K</i>=3, <i>U</i>/<i>N</i>=35%。针对多时间尺度预测, 为使实验结果具有说服力, 在给定时刻<i>t</i>, 预测<i>t</i>+Δ<i>t</i>时刻的趋势, 其中, Δ<i>t</i>代表不同的时间尺度。实验中选取Δ<i>t</i>=5, 10, 20, 40, 80, 160。</p>
                </div>
                <div class="p1">
                    <p id="341">图15显示了三种模型的预测精度。MTSTPA在每个预测步长的表现都优于其他两种模型。ARMA作为经典的时间序列预测模型可以预测短时期的数据, 但是难以捕捉时间序列在不同时间尺度下的特征。PHMM每段特征属性只包含<i>slope</i>与<i>length</i>, 没有包含层次特征。ARMA和PHMM的多步预测方法是根据之前的预测值对后续值进行预测, 而MTSTPA是根据特征树捕捉到的各时间尺度下的特征在所有时间尺度上的预测。因此, 在多时间尺度趋势预测方面, MTSTPA优于其他两种模型。</p>
                </div>
                <div class="area_img" id="342">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201904019_342.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图15 三类模型多时间尺度趋势预测精度对比" src="Detail/GetImg?filename=images/JSJY201904019_342.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图15 三类模型多时间尺度趋势预测精度对比  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201904019_342.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 15 Comparison of accuracy of multiple scales trend prediction among three models</p>

                </div>
                <h3 id="343" name="343" class="anchor-tag">6 结语</h3>
                <div class="p1">
                    <p id="344">本文提出了一种新的特征模型——特征树。特征树刻画了原始时间序列数据在多时间尺度上的层次结构以及各层次之间的联系。在此基础上, 本文提出了基于特征树的多时间尺度趋势预测算法<i>MTSTPA</i>, 该算法将对应时间尺度的特征子树序列视为观测序列, 从中学习得到一个<i>HMM</i>, 利用<i>HMM</i>的预测功能实现不同时间尺度上的趋势预测。但是, 本文算法对频繁震荡的序列数据无法有效预测, 因此采用自适应的聚类算法和概率图模型解决此类问题是下一步的研究重点, 另外本文研究时间序列的趋势预测, 未来将研究多时间尺度的时间序列点预测。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="410">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GLSJ201011008&amp;v=MzEwNzVnVzc3UElpSFlaTEc0SDlITnJvOUZiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeUQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b>张普, 吴冲锋.股票价格波动:风险还是价值?[J].管理世界, 2010 (11) :52-60. (ZHANG P, WU C F.Stock price volatility:risk or value[J].Management World, 2010 (11) :52-60.) 
                            </a>
                        </p>
                        <p id="412">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1018974841.nh&amp;v=MDgyMjBWRjI2RnJxL0d0bklycEViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpzRnlEZ1c3N1A=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b>唐黎.金融时间序列预测的信息融合与计算智能模型[D].成都:电子科技大学, 2018:1-4. (TANG L.Information fusion and computational intelligence models for financial time series prediction[D].Chengdu:University of Electronic Science and Technology of China, 2018:1-4.) 
                            </a>
                        </p>
                        <p id="414">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An online algorithm for segmenting time series">

                                <b>[3]</b>KEOGH E, CHU S, HART D, et al.An online algorithm for segmenting time series[C]//Proceedings of the 2001 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2001:89-296.
                            </a>
                        </p>
                        <p id="416">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011300297776&amp;v=MTQ2NDdUNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp0RmlubFVyM0lLRnNjYXhVPU5pZk9mYks3SHRETnJJOUZadUlJQzNzL29CTQ==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b>CHANG P C, LIAO T W, LIN J J, et al.A dynamic threshold decision system for stock trading signal detection[J].Applied Soft Computing, 2011, 11 (5) :3998-4010.
                            </a>
                        </p>
                        <p id="418">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZGGK200501005&amp;v=Mjk0NDNVUjdxZlp1WnNGeURnVzc3UFB5ck1aYkc0SHRUTXJvOUZZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b>梁强, 范英, 魏一鸣.基于小波分析的石油价格长期趋势预测方法及其实证研究[J].中国管理科学, 2005, 13 (1) :30-39. (LIANG Q, FAN Y, WEI Y M.Long term trend forecasting method of oil price based on wavelet analysis and empirical study[J].Chinese Journal of Management Science, 2005, 13 (1) :30-39.) 
                            </a>
                        </p>
                        <p id="420">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time series feature extraction for data mining using DWT and DFT">

                                <b>[6]</b>MORCHEN F.Time series feature extraction for data mining using DWT and DFT[EB/OL].[2018-05-10].http://mybytes.de/papers/moerchen03time.pdf.
                            </a>
                        </p>
                        <p id="422">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Prediction about time series based on updated prediction ARMA model">

                                <b>[7]</b>SUN Y Q, WANG R J, SUN B Y, et al.Prediction about time series based on updated prediction ARMA model[C]//Proceedings of the 2013 10th International Conference on Fuzzy Systems and Knowledge Discovery.Piscataway, NJ:IEEE, 2013:680-684.
                            </a>
                        </p>
                        <p id="424">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Discovery of temporal associations in multivariate time series">

                                <b>[8]</b>ZHANG D E H, LI G C L, WONG A K C.Discovery of temporal associations in multivariate time series[J].IEEE Transactions on Knowledge and Data Engineering, 2014, 26 (12) :2969-2982.
                            </a>
                        </p>
                        <p id="426">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Finding semantics in time series">

                                <b>[9]</b>WANG P, WANG H X, WANG W.Finding semantics in time series[C]//Proceedings of the 2011 ACM SIGMOD International Conference on Management of Data.New York:ACM, 2011:385-396.
                            </a>
                        </p>
                        <p id="428">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time series segmentation to discover behavior switching in complex physical systems">

                                <b>[10]</b>HAN Z, CHEN H F, YAN T, et al.Time series segmentation to discover behavior switching in complex physical systems[C]//Proceedings of the 2015 IEEE International Conference on Data Mining.Piscataway, NJ:IEEE, 2015:161-170.
                            </a>
                        </p>
                        <p id="430">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=STJD&amp;filename=STJDFFF64324DA4355513CF5438D3CED4B55&amp;v=Mjg1MzZFSm9MRDNrOHloY1FtVWw0VEh6cTJCRkdETWFRTjcrYUNPTnZGU2lXV3I3SklGcG1hQnVIWWZPR1FsZkJyTFUwNXRwaHpMMjN3YTg9TmpuQmFzWE9hTmZJckkxQg==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b>CREAMER G, FREUND Y.Automated trading with boosting and expert weighting[J].Quantitative Finance, 2009, 10 (4) :401-420.
                            </a>
                        </p>
                        <p id="432">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011501915958&amp;v=MDQzNDdjYXhVPU5pZk9mYks3SHRETnFvOUViZW9LQlhreG9CTVQ2VDRQUUgvaXJSZEdlcnFRVE1ud1plWnRGaW5sVXIzSUtGcw==&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b>KAASTRA I, BOYD M.Designing a neural network for forecasting financial and economic time series[J].Neurocomputing, 1996, 10 (3) :215-236.
                            </a>
                        </p>
                        <p id="434">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal neural networks for space-time series forecasting and relations discovery">

                                <b>[13]</b>ZIAT A, DELASALLES E, DENOVER L, et al.Spatio-temporal neural networks for space-time series forecasting and relations discovery[C]//Proceedings of the 2017 IEEE International Conference on Data Mining.Washington, DC:IEEE Computer Society, 2017:705-714.
                            </a>
                        </p>
                        <p id="436">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time series prediction by estimating Markov probabilities through topology preserving maps">

                                <b>[14]</b>DANELMAYR G, GADALETA S, HUNDLEY D, et al.Time series prediction by estimating Markov probabilities through topology preserving maps[EB/OL].[2018-05-10].https://doi.org/10.1117/12.367685.
                            </a>
                        </p>
                        <p id="438">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201712008&amp;v=MjcyNjI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc3UEx6N0Jkckc0SDliTnJZOUZiSVFLREg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b>王双成, 高瑞, 杜瑞杰.具有超父结点时间序列贝叶斯网络集成回归模型[J].计算机学报, 2017, 40 (12) :2748-2761. (WANG S C, GAO R, DU R J.With super parent node Bayesian network ensemble regression model for time series[J].Chinese Journal of Computers, 2017, 40 (12) :2748-2761.) 
                            </a>
                        </p>
                        <p id="440">
                            <a id="bibliography_16" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time Series Analysis:Forecasting and Control">

                                <b>[16]</b>BOX G, JENKINS G, REINSEL G, et al.Time Series Analysis:Forecasting and Control[M].New York:Wiley, 2015:2-17.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJY201904019" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201904019&amp;v=MDEwMTg3UEx6N0JkN0c0SDlqTXE0OUViWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeURnVzc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZJTWYxaVVtWjVZcnN4dE5mQUIrND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
