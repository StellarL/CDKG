<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637136674551408750%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJY201906007%26RESULT%3d1%26SIGN%3dM5v0TpEGSxj0ENcQOA1W0Hxw%252fEc%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201906007&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJY201906007&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201906007&amp;v=MjUwODhIOWpNcVk5Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0Z5L2hWYnJJTHo3QmQ3RzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#35" data-title="0 引言 ">0 引言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#41" data-title="1 相关工作 ">1 相关工作</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#44" data-title="2 建模策略 ">2 建模策略</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#46" data-title="2.1 MapReduce&lt;b&gt;运行原理&lt;/b&gt;">2.1 MapReduce<b>运行原理</b></a></li>
                                                <li><a href="#53" data-title="2.2 &lt;b&gt;微操作定义&lt;/b&gt;">2.2 <b>微操作定义</b></a></li>
                                                <li><a href="#64" data-title="2.3 &lt;b&gt;微操作基准测试&lt;/b&gt;">2.3 <b>微操作基准测试</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#72" data-title="3 作业重构与优化 ">3 作业重构与优化</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#73" data-title="3.1 &lt;b&gt;作业重构&lt;/b&gt;">3.1 <b>作业重构</b></a></li>
                                                <li><a href="#88" data-title="3.2 &lt;b&gt;基于微操作的参数调优&lt;/b&gt;">3.2 <b>基于微操作的参数调优</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#96" data-title="4 实验结果与分析 ">4 实验结果与分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#98" data-title="4.1 &lt;b&gt;度量标准&lt;/b&gt;">4.1 <b>度量标准</b></a></li>
                                                <li><a href="#102" data-title="4.2 &lt;b&gt;数据集&lt;/b&gt;">4.2 <b>数据集</b></a></li>
                                                <li><a href="#104" data-title="4.3 &lt;b&gt;结果分析&lt;/b&gt;">4.3 <b>结果分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#115" data-title="5 结语 ">5 结语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#49" data-title="图1 MapReduce运行过程">图1 MapReduce运行过程</a></li>
                                                <li><a href="#52" data-title="&lt;b&gt;表&lt;/b&gt;1 &lt;b&gt;涉及的参数空间中参数&lt;/b&gt;"><b>表</b>1 <b>涉及的参数空间中参数</b></a></li>
                                                <li><a href="#101" data-title="&lt;b&gt;表&lt;/b&gt;2 &lt;b&gt;集群默认参数值&lt;/b&gt;"><b>表</b>2 <b>集群默认参数值</b></a></li>
                                                <li><a href="#107" data-title="图2 terasort 的sd_mic_op模型">图2 terasort 的sd_mic_op模型</a></li>
                                                <li><a href="#109" data-title="&lt;b&gt;表&lt;/b&gt;3 collection&lt;b&gt;阶段的优化率&lt;/b&gt;"><b>表</b>3 collection<b>阶段的优化率</b></a></li>
                                                <li><a href="#110" data-title="&lt;b&gt;表&lt;/b&gt;4 collection&lt;b&gt;阶段的优化参数值&lt;/b&gt;"><b>表</b>4 collection<b>阶段的优化参数值</b></a></li>
                                                <li><a href="#111" data-title="&lt;b&gt;表&lt;/b&gt;5 shuffle&lt;b&gt;阶段的优化率&lt;/b&gt;"><b>表</b>5 shuffle<b>阶段的优化率</b></a></li>
                                                <li><a href="#112" data-title="&lt;b&gt;表&lt;/b&gt;6 shuffle&lt;b&gt;阶段的参数调优值&lt;/b&gt;"><b>表</b>6 shuffle<b>阶段的参数调优值</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="128">


                                    <a id="bibliography_1" title="DEAN J, GHEMAWAT S.MapReduce:simplified data processing on large clusters[C]//Proceedings of the 6th Conference on Symposium on Opearting Systems Design and Implementation.Berkeley, CA:USENIX Association, 2004:137-149." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Mapreduce:simplified data processing on large clusters">
                                        <b>[1]</b>
                                        DEAN J, GHEMAWAT S.MapReduce:simplified data processing on large clusters[C]//Proceedings of the 6th Conference on Symposium on Opearting Systems Design and Implementation.Berkeley, CA:USENIX Association, 2004:137-149.
                                    </a>
                                </li>
                                <li id="130">


                                    <a id="bibliography_2" title="CUTTING D.Apache Hadoop[EB/OL]. (2015-02-25) [2018-08-12].http://hadoop.apache.org." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Apache Hadoop">
                                        <b>[2]</b>
                                        CUTTING D.Apache Hadoop[EB/OL]. (2015-02-25) [2018-08-12].http://hadoop.apache.org.
                                    </a>
                                </li>
                                <li id="132">


                                    <a id="bibliography_3" title="BABU S.Towards automatic optimization of MapReduce programs[C]//Proceedings of the 1st ACM Symposium on Cloud Computing.New York:ACM, 2010:137-142." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Towards Automatic Optimization of MapReduce Program-s">
                                        <b>[3]</b>
                                        BABU S.Towards automatic optimization of MapReduce programs[C]//Proceedings of the 1st ACM Symposium on Cloud Computing.New York:ACM, 2010:137-142.
                                    </a>
                                </li>
                                <li id="134">


                                    <a id="bibliography_4" title="TIPCON T.7 tips for improving MapReduce performance[EB/OL]. (2009-12-17) [2018-08-12].http://www.cloudera.com/blog/2009/12/7-tips-for-improving-mapreduce-performance/." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=7 tips for improving MapReduce performance">
                                        <b>[4]</b>
                                        TIPCON T.7 tips for improving MapReduce performance[EB/OL]. (2009-12-17) [2018-08-12].http://www.cloudera.com/blog/2009/12/7-tips-for-improving-mapreduce-performance/.
                                    </a>
                                </li>
                                <li id="136">


                                    <a id="bibliography_5" title="HERODOTOU H, LIM H, LUO G, et al.Starfish:a self-tuning system for big data analytics[C]//Proceedings of the 2011 5th Biennial Conference on Innovative Data Systems Research.Asilomar, CA:[s.n.], 2011:261-272." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Starfish:a self-tuning system for big data analytics">
                                        <b>[5]</b>
                                        HERODOTOU H, LIM H, LUO G, et al.Starfish:a self-tuning system for big data analytics[C]//Proceedings of the 2011 5th Biennial Conference on Innovative Data Systems Research.Asilomar, CA:[s.n.], 2011:261-272.
                                    </a>
                                </li>
                                <li id="138">


                                    <a id="bibliography_6" title="WANG J H, QIU M K, GUO B, et al.Phase-reconfigurable shuffle optimization for Hadoop MapReduce[EB/OL].[2018-08-12].https://www.onacademic.com/detail/journal_1000038191224210_fd14.html." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Phase-reconfigurable shuffle optimization for Hadoop MapReduce">
                                        <b>[6]</b>
                                        WANG J H, QIU M K, GUO B, et al.Phase-reconfigurable shuffle optimization for Hadoop MapReduce[EB/OL].[2018-08-12].https://www.onacademic.com/detail/journal_1000038191224210_fd14.html.
                                    </a>
                                </li>
                                <li id="140">


                                    <a id="bibliography_7" title="YIGITBASI N, WILLKE T L, LIAO G, et al.Towards machine learning-based auto-tuning of MapReduce[C]//Proceedings of the IEEE 21st International Symposium on Modeling, Analysis and Simulation of Computer and Telecommunication Systems.Piscataway, NJ:IEEE, 2013:11-20." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Towards machine learning-based auto-tuning of MapReduce">
                                        <b>[7]</b>
                                        YIGITBASI N, WILLKE T L, LIAO G, et al.Towards machine learning-based auto-tuning of MapReduce[C]//Proceedings of the IEEE 21st International Symposium on Modeling, Analysis and Simulation of Computer and Telecommunication Systems.Piscataway, NJ:IEEE, 2013:11-20.
                                    </a>
                                </li>
                                <li id="142">


                                    <a id="bibliography_8" title="CHAUDHURI S, NARASAYYA V.Self-tuning database systems:a decade of progress[C]//Proceedings of the 2007 International Conference on Very Large Data Bases.Framingham, MA:VLDBEndowment, 2007:3-14." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Self-tuning database systems: a decade ofprogress">
                                        <b>[8]</b>
                                        CHAUDHURI S, NARASAYYA V.Self-tuning database systems:a decade of progress[C]//Proceedings of the 2007 International Conference on Very Large Data Bases.Framingham, MA:VLDBEndowment, 2007:3-14.
                                    </a>
                                </li>
                                <li id="144">


                                    <a id="bibliography_9" title="IPEK E, de SUPINSKI B R, SCHULZ M, et al.An approach to performance prediction for parallel applications[C]//Proceedings of the 2005 European Conference on Parallel Processing, LNCS3648.Berlin:Springer, 2005:196-205." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An approach to performance prediction for parallel applications">
                                        <b>[9]</b>
                                        IPEK E, de SUPINSKI B R, SCHULZ M, et al.An approach to performance prediction for parallel applications[C]//Proceedings of the 2005 European Conference on Parallel Processing, LNCS3648.Berlin:Springer, 2005:196-205.
                                    </a>
                                </li>
                                <li id="146">


                                    <a id="bibliography_10" title="SINGER J, KOVOOR G, BROWN G, et al.Garbage collection auto-tuning for Java MapReduce on multi-cores[C]//Proceedings of the 2011 International Symposium on Memory Management.New York:ACM, 2011:109-118." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Garbage collection auto-tuning for Java MapReduce on multi-cores">
                                        <b>[10]</b>
                                        SINGER J, KOVOOR G, BROWN G, et al.Garbage collection auto-tuning for Java MapReduce on multi-cores[C]//Proceedings of the 2011 International Symposium on Memory Management.New York:ACM, 2011:109-118.
                                    </a>
                                </li>
                                <li id="148">


                                    <a id="bibliography_11" title="CHENG D Z, RAO J, GUO Y F, et al.Improving performance of heterogeneous MapReduce clusters with adaptive task tuning[J].IEEE Transactions on Parallel&amp;amp;Distributed Systems, 2017, 28 (3) :774-786." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Improving Performance of Heterogeneous MapReduce Clusters with Adaptive Task Tuning">
                                        <b>[11]</b>
                                        CHENG D Z, RAO J, GUO Y F, et al.Improving performance of heterogeneous MapReduce clusters with adaptive task tuning[J].IEEE Transactions on Parallel&amp;amp;Distributed Systems, 2017, 28 (3) :774-786.
                                    </a>
                                </li>
                                <li id="150">


                                    <a id="bibliography_12" title="WASI-UR-RAHMAN M, ISLAM N S, LU X, et al.MR-Advisor:a comprehensive tuning tool for advising HPC users to accelerate MapReduce applications on supercomputers[C]//Proceedings of the 28th International Symposium on Computer Architecture and High Performance Computing.Piscataway, NJ:IEEE, 2016:198-205." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=MR-Advisor:a comprehensive tuning tool for advising HPC users to accelerate MapReduce applications on supercomputers">
                                        <b>[12]</b>
                                        WASI-UR-RAHMAN M, ISLAM N S, LU X, et al.MR-Advisor:a comprehensive tuning tool for advising HPC users to accelerate MapReduce applications on supercomputers[C]//Proceedings of the 28th International Symposium on Computer Architecture and High Performance Computing.Piscataway, NJ:IEEE, 2016:198-205.
                                    </a>
                                </li>
                                <li id="152">


                                    <a id="bibliography_13" title="童颖.基于机器学习的Hadoop参数调优方法[D].武汉:华中科技大学, 2016:1-52. (TONG Y.Hadoop parameters tuning method based on machine learning[D].Wuhan:Huazhong University of Science and Technology, 2016:1-52.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016744918.nh&amp;v=MDcwMzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGeS9oVmJySVZGMjZHTFM4R3RqTnA1RWJQSVE=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                        童颖.基于机器学习的Hadoop参数调优方法[D].武汉:华中科技大学, 2016:1-52. (TONG Y.Hadoop parameters tuning method based on machine learning[D].Wuhan:Huazhong University of Science and Technology, 2016:1-52.) 
                                    </a>
                                </li>
                                <li id="154">


                                    <a id="bibliography_14" title="LIAO G, DATTA K, WILLKE T L.Gunther:search-based autotuning of MapReduce[C]//Proceedings of the 2013 European Conference on Parallel Processing, LNCS 8097.Berlin:Springer, 2013:406-419." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Gunther:Search-based auto-tuning of mapreduce">
                                        <b>[14]</b>
                                        LIAO G, DATTA K, WILLKE T L.Gunther:search-based autotuning of MapReduce[C]//Proceedings of the 2013 European Conference on Parallel Processing, LNCS 8097.Berlin:Springer, 2013:406-419.
                                    </a>
                                </li>
                                <li id="156">


                                    <a id="bibliography_15" title="DEB K.An introduction to genetic algorithms[J].Sadhana, 1999, 24 (4/5) :293-315." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00000085912&amp;v=MDEzMDR6QmRoNGo5OVNYcVJyeG94Y01IN1I3cWRaK1p1RmlybFZMdk9KVjQ9Tmo3QmFyTzRIdEhNcjRkQWJlb05ZM2s1&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                        DEB K.An introduction to genetic algorithms[J].Sadhana, 1999, 24 (4/5) :293-315.
                                    </a>
                                </li>
                                <li id="158">


                                    <a id="bibliography_16" title="祝春祥, 陈世平, 陈敏刚.基于递归随机抽样的Hadoop配置优化[J].计算机工程, 2016, 42 (2) :26-32. (ZHU C X, CHEN SP, CHEN M G.Configuration optimization of Hadoop based on recursive random sampling[J].Computer Engineering, 2016, 42 (2) :26-32.) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201602005&amp;v=MTUzNTlJTHo3QmJiRzRIOWZNclk5RllZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0Z5L2hWYnI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[16]</b>
                                        祝春祥, 陈世平, 陈敏刚.基于递归随机抽样的Hadoop配置优化[J].计算机工程, 2016, 42 (2) :26-32. (ZHU C X, CHEN SP, CHEN M G.Configuration optimization of Hadoop based on recursive random sampling[J].Computer Engineering, 2016, 42 (2) :26-32.) 
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">

    <div class="head-tag">   
            <p>
               <b> 网络首发时间: 2019-04-10 09:41</b>
            </p>     
    </div>


        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJY" target="_blank">计算机应用</a>
                2019,39(06),1589-1594 DOI:10.11772/j.issn.1001-9081.2018122592            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于微操作的Hadoop参数自动调优方法</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E8%80%98%E4%B9%A6&amp;code=40434650&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李耘书</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%BB%95%E9%A3%9E&amp;code=22384183&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">滕飞</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E5%A4%A9%E7%91%9E&amp;code=10222865&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李天瑞</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%A5%BF%E5%8D%97%E4%BA%A4%E9%80%9A%E5%A4%A7%E5%AD%A6%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=0218487&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">西南交通大学信息科学与技术学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%9B%9B%E5%B7%9D%E7%9C%81%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%8E%E6%99%BA%E8%83%BD%E6%8A%80%E6%9C%AF%E9%AB%98%E6%A0%A1%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4(%E8%A5%BF%E5%8D%97%E4%BA%A4%E9%80%9A%E5%A4%A7%E5%AD%A6)&amp;code=0218487&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">四川省云计算与智能技术高校重点实验室(西南交通大学)</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>Hadoop作为大规模分布式数据处理框架已经在工业界得到广泛的应用, 针对手动和经验调优方法中参数空间庞大和运行流程复杂的问题, 提出了一种Hadoop参数自动优化的方法和分析框架。首先, 对作业运行流程进行解耦, 从可变参数直接影响的更细粒度的角度定义微操作, 从而分析参数和单次微操作执行时间的关系;然后, 利用微操作对作业运行流程进行重构, 建立参数和作业运行时间关系的模型;最后, 在此模型上应用各类搜索优化算法高效快速得出优化后的系统参数。在terasort和wordcount两个作业类型上进行了实验, 实验结果表明, 相对于默认参数情况, 该方法使作业执行时间分别缩短了至少41%和30%。该方法能够有效提高Hadoop作业执行效率, 缩短作业执行时间。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Hadoop&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Hadoop;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">参数调优;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%BE%AE%E6%93%8D%E4%BD%9C&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">微操作;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%87%8D%E6%9E%84&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">重构;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">搜索算法;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    李耘书 (1991—) , 男, 四川广元人, 硕士研究生, 主要研究方向:云计算、机器学习;
                                </span>
                                <span>
                                    *滕飞 (1984—) , 女, 山东泰安人, 副教授, 博士, CCF会员, 主要研究方向:云计算、医学信息学、工业大数据挖掘fteng@ swjtu. edu. cn;
                                </span>
                                <span>
                                    李天瑞 (1969—) , 男, 福建莆田人, 教授, 博士, CCF会员, 主要研究方向:智能信息处理、数据挖掘、云计算。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-12</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金资助项目 (61573292);</span>
                                <span>四川省科技计划项目 (2019YJ0214);</span>
                    </p>
            </div>
                    <h1><b>Microoperation-based parameter auto-optimization method of Hadoop</b></h1>
                    <h2>
                    <span>LI Yunshu</span>
                    <span>TENG Fei</span>
                    <span>LI Tianrui</span>
            </h2>
                    <h2>
                    <span>School of Information Science and Technology, Southwest Jiaotong University</span>
                    <span>Key Laboratory of Cloud Computing and Intelligent Technology of Sichuan Province Southwest Jiaotong University)</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>As a large-scale distributed data processing framework, Hadoop has been widely used in industry during the past few years. Currently manual parameter optimization and experience-based parameter optimization are ineffective due to complex running process and large parameter space. In order to solve this problem, a method and an analytical framework for Hadoop parameter auto-optimization were proposed. Firstly, the operation process of a job was broken down into several microoperations and the microoperations were determined from the angle of finer granularity directly affected by variable parameters, so that the relationship between parameters and the execution time of a single microoperation was able to be analyzed. Then, by reconstructing the job operation process based on microoperations, a model of the relationship between parameters and the execution time of whole job was established. Finally, various searching optimization algorithms were applied on this model to efficiently and quickly obtain the optimized system parameters. Experiments were conducted with two types of jobs, terasort and wordcount. The experimental results show that, compared with the default parameters condition, the proposed method reduce the job execution time by at least 41% and 30% respectively. The proposed method can effectively improve the job execution efficiency of Hadoop and shorten the job execution time.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Hadoop&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Hadoop;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=parameter%20optimization&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">parameter optimization;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=microoperation&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">microoperation;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=reconstitution&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">reconstitution;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=search%20algorithm&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">search algorithm;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    LI Yunshu, born in 1991, M. S. candidate. His research interests include cloud computing, machine learning. ;
                                </span>
                                <span>
                                    TENG Fei, born in 1984, Ph. D. , associate professor. Her research interests include cloud computing, medical informatics, industrial big data mining. ;
                                </span>
                                <span>
                                    LI Tianrui, born in 1969, Ph. D. , professor. His research interests include intelligent information processing, data mining, cloud computing.;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2018-12-12</p>
                                    <p>
                            <b>Fund：</b>
                                                        <span>partially supported by the National Natural Science Foundation of China (61573292);</span>
                                <span>the Science and Technology Project of Sichuan Province (2019YJ0214);</span>
                    </p>
            </div>


        <!--brief start-->
                        <h3 id="35" name="35" class="anchor-tag">0 引言</h3>
                <div class="p1">
                    <p id="36">Google在早年提出了最原始的用于大规模数据并行处理的分布式架构模型MapReduce<citation id="160" type="reference"><link href="128" rel="bibliography" /><link href="130" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>]</sup></citation>, 在帮助企业解决大数据处理效率的问题上迈出了很大的一步。随着处理数据的规模越来越大, 提升优化Hadoop的性能和数据处理的时效性成为研究重点。Hadoop系统拥有200多个可配置参数, 虽然默认参数配置经过精心设计, 但是由于多种多样的任务类型使得大多数情况的任务执行效率并不高。Hadoop中对性能有影响的参数繁多, 虽然Hadoop2.0对少量参数进行了修改和删除, 但面对复杂的作业类型, 依靠人工对Hadoop系统进行调优依然是一个充满挑战的任务<citation id="161" type="reference"><link href="132" rel="bibliography" /><link href="134" rel="bibliography" /><sup>[<a class="sup">3</a>,<a class="sup">4</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="37">本文提出一种基于微操作重构的Hadoop参数自动调优方法, 该方法通过建立比阶段更细粒度的微操作模型来刻画参数变化和单次微操作执行时间的关系, 再基于运行原理对微操作模型进行组合得到阶段 (phase) 执行时间和参数的关系, 在此基础上可以应用不同算法搜索找出优化参数。综上所述, 本文的主要工作如下:</p>
                </div>
                <div class="p1">
                    <p id="38">1) 提出了微操作模型的概念。该模型能够直观准确地描述系统参数变化对执行时间带来的影响, 从数据流的角度使得对多参数同时变化时作业执行时间变化的分析变得方便且准确, 同时建立了单次微操作执行时间与配置参数之间的函数关系。</p>
                </div>
                <div class="p1">
                    <p id="39">2) 提出了微操作模型求解方法, 通过基准测试运行简单的实际作业来建模求解模型参数, 得到微操作模型。</p>
                </div>
                <div class="p1">
                    <p id="40">3) 提出了一种利用微操作对运行过程进行解构重构的策略。该方法不随作业类型和集群配置变化而变化, 同时查找最优参数具有耗时短、效率高、可移植性好的优点。该方法可视为一种优化问题的描述方法和分析框架, 从更细粒度的角度刻画参数变化原理, 建立模型寻找最优参数组合。</p>
                </div>
                <h3 id="41" name="41" class="anchor-tag">1 相关工作</h3>
                <div class="p1">
                    <p id="42">近年来, 关于Hadoop参数自动调优的研究吸引了众多研究者的参与。基于成本分析的 (cost-based) 方法通过预测未知任务各类资源的利用情况, 最大化资源利用率使得作业运行时间更短。文献<citation id="162" type="reference">[<a class="sup">5</a>]</citation>利用动态作业分析来捕获Map阶段和Reduce阶段的运行行为帮助用户微调Hadoop作业参数;文献<citation id="163" type="reference">[<a class="sup">6</a>]</citation>通过改变MapReduce的执行策略来提高shuffling和sorting操作的执行效率来提升整个MapReduce过程的性能。cost-based性能建模是一种较成熟的方法, 但是它是一种白盒建模方法, 需要研究者对非常复杂的系统内部组件有很好的了解, 包括软件系统和硬件系统, 这一点给用户带来了巨大挑战。基于机器学习 (Machine Learning-based, ML-based) 的性能建模是一种基于机器学习的调优模型 <citation id="168" type="reference"><link href="140" rel="bibliography" /><link href="142" rel="bibliography" /><link href="144" rel="bibliography" /><link href="146" rel="bibliography" /><link href="148" rel="bibliography" /><link href="150" rel="bibliography" /><link href="152" rel="bibliography" /><sup>[<a class="sup">7</a>,<a class="sup">8</a>,<a class="sup">9</a>,<a class="sup">10</a>,<a class="sup">11</a>,<a class="sup">12</a>,<a class="sup">13</a>]</sup></citation>。文献<citation id="164" type="reference">[<a class="sup">7</a>]</citation>主要应用各类回归算法来分析建模;文献<citation id="165" type="reference">[<a class="sup">9</a>]</citation>通过神经网络来预测作业时间再进行调优。ML-based方法在庞大的参数空间内收集训练样本, 选择机器学习模型用于训练自动调优, 在给定任务类型的情况下自动给出最优参数集。它是一个黑盒模型, 建立在对特定任务类型和系统实际性能表现的观察基础上, 不需要详细的系统内部信息;但它在收集训练数据非常困难, 需耗费大量时间, 实际应用效率并不高。基于搜索 (Search-based) 调优模型是一种利用搜索算法的自动调优模型<citation id="169" type="reference"><link href="154" rel="bibliography" /><link href="156" rel="bibliography" /><link href="158" rel="bibliography" /><sup>[<a class="sup">14</a>,<a class="sup">15</a>,<a class="sup">16</a>]</sup></citation>。Search-based调优模型将所有会影响Hadoop性能的关键参数构成一个参数空间, 利用搜索算法如文献<citation id="166" type="reference">[<a class="sup">14</a>]</citation>采用遗传算法、文献<citation id="167" type="reference">[<a class="sup">16</a>]</citation>采用递归随机抽样, 通过在实际集群中迭代执行作业任务, 在参数空间中自动迭代搜索优化的参数组合。该方法和ML-based方法相比, 不用构造完整参数空间的训练样本, 在获取样本的时间上会有所减少。但是, 针对不同的任务类型, 参数的影响方式不同, 搜索策略也会随之改变;同时, 在收集样本时需要执行大量的实际作业, 优化过程耗费时间长也是其主要缺点。</p>
                </div>
                <div class="p1">
                    <p id="43">针对上述问题, 本文提出了基于微操作重构的Hadoop参数自动调优方法。该方法具有良好的移植性, 可以视为一种优化问题的描述方法和分析框架, 同时适用于各类不同优化搜索算法。</p>
                </div>
                <h3 id="44" name="44" class="anchor-tag">2 建模策略</h3>
                <div class="p1">
                    <p id="45">本章主要介绍微操作模型的相关概念和微操作模型的建立方法。</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46">2.1 MapReduce<b>运行原理</b></h4>
                <div class="p1">
                    <p id="47">一个MapReduce Job可以分为Map stage 和 Reduce stage两个主要过程, 一个stage由多个task组成, 例如map task和reduce task, 而一个task可以分为多个按顺序执行的phase。如图1所示, 对MapReduce任务按照运行流程进行解构。MapReduce任务可以分为两个主要过程:</p>
                </div>
                <div class="p1">
                    <p id="48">1) Map stage。Map stage中多轮map task组依次执行, 每轮中多个map task并行处理数据, map task运行过程分为三个阶段:read phase, map phase和collection phase。其中参数对性能有较大影响的是collection phase, 其余两个阶段中参数对性能的影响并不明显, 所以本文方法在map task中主要对collection phase进行分析, 得到参数和collection phase运行时间的关系。</p>
                </div>
                <div class="area_img" id="49">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201906007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 MapReduce运行过程" src="Detail/GetImg?filename=images/JSJY201906007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 MapReduce运行过程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201906007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 1 Running process of MapReduce</p>

                </div>
                <div class="p1">
                    <p id="50">2) Reduce stage。Reduce stage中同样存在多轮reduce task, 每轮多个reduce task组并行处理数据, 每个reduce task从多个map输出中获取所需数据, 最终将处理结果输出磁盘。reduce task的运行过程分为三个阶段:shuffle phase, reduce phase和sort_write phase。其中参数对性能由较大影响的是shuffle phase, 所以本文方法在reduce task中只对shuffle phase从微操作的角度进行分析, 得到参数和shuffle phase运行时间的关系。在sort_write phase中, 虽然没有参数对其性能有直接影响, 但是shuffle phase中的某些参数对sort_write phase的性能有间接的影响, 所以后面章节也会对sort_write phase阶段进行分析介绍。</p>
                </div>
                <div class="p1">
                    <p id="51">在众多参数中, 关于决定map task并行个数的参数map.cpu.vcores和map.memory.mb、决定map task输入数据块大小的参数dfs.blocksize、决定reduce task并行个数的参数reduce.cpu.vcores和reduce.memory.mb, 以及决定reduce task个数的参数mapred.reduce.task等参数的经验调优已有大量研究 <citation id="170" type="reference"><link href="134" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>, 本文的调优目标主要针对那些依靠经验调优较具挑战的参数。map task输入数据块的大小一般视实际作业执行需求和并行个数而定, 通常为128 MB和256 MB。map task并行个数参数通常和输入数据块大小配合设置, 小数据量作业时所有数据在一轮处理完, 数据量较大时根据实际内存在每一轮中分配尽量多的并行map task个数使得性能最大化。reduce task并行个数通常设置为使得性能最大化的个数, 根据实际内存分配尽量多的并行个数, 所有reduce task尽量在一轮中处理完。在某些业务中, 这些参数的值根据业务需求已经确定, 不属于可变参数, 所以本文主要针对map task和reduce task个数都确定的情况进行调优, 对如表1所示的本文涉及的参数空间内的参数进行调节。</p>
                </div>
                <div class="area_img" id="52">
                    <p class="img_tit"><b>表</b>1 <b>涉及的参数空间中参数</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 1 Parameters in parameter space involved</p>
                    <p class="img_note"></p>
                    <table id="52" border="1"><tr><td><br />参数名</td><td>定义域</td></tr><tr><td><br />mapreduce.map.java.opts</td><td>正整数</td></tr><tr><td><br />mapreduce.reduce.java.opts</td><td>正整数</td></tr><tr><td><br />mapreduce.map.sort.spill.percent</td><td>[0, 1]</td></tr><tr><td><br />mapreduce.reduce.shuffle.input.buffer.percent</td><td>[0, 1]</td></tr><tr><td><br />mapreduce.reduce.shuffle.merge.percent</td><td>[0, 1]</td></tr><tr><td><br />mapreduce.task.io.sort.mb</td><td>正整数</td></tr><tr><td><br />mapreduce.task.io.sort.factor</td><td>正整数</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="53" name="53">2.2 <b>微操作定义</b></h4>
                <div class="p1">
                    <p id="54">一个map task分为三个阶段:read phase、map phase和collection phase。其中参数对性能有较大影响的是collection phase, 在该阶段中, 定义两种类型的微操作:</p>
                </div>
                <div class="p1">
                    <p id="55">1) 将输入数据写入到内存, 内存大小由参数io.sort.mb决定, 定义内存写微操作cm_mic_op。</p>
                </div>
                <div class="p1">
                    <p id="56">2) 当内存数据写入量到达阈值时触发磁盘写操作, 将内存中所有数据写入磁盘, 阈值由参数sort.spill.percent决定, 定义磁盘写微操作cd_mic_op。</p>
                </div>
                <div class="p1">
                    <p id="57">微操作的意义在通过参数可以定量分析某次微操作处理的数据量, 从而得到微操作时间。</p>
                </div>
                <div class="p1">
                    <p id="58">同样, 一个reduce task分为三个阶段:shuffle phase、reduce phase和sort_write phase。其中参数对性能有较大影响的是shuffle phase, 在该阶段中定义三种类型的微操作:</p>
                </div>
                <div class="p1">
                    <p id="59">1) 从map端拉取输入数据存入内存, 内存空间大小由参数reduce.java.opts和参数shuffle.input.buffer.percent决定, 定义单次内存写操作为微操作sm_mic_op。</p>
                </div>
                <div class="p1">
                    <p id="60">2) 当内存写达到阈值时, 将内存中的数据按照阈值大小写入磁盘存为本地文件。阈值由参数shuffle.merge.percent决定, 定义单次磁盘写微操作sd_mic_op。</p>
                </div>
                <div class="p1">
                    <p id="61">3) 当写入磁盘的本地文件个数到达阈值时, 在磁盘中进行文件合并, 将阈值个数的文件合并为一个大文件, 阈值由io.sort.factor决定, 定义单次merge操作为磁盘合并微操作merge_mic_op。</p>
                </div>
                <div class="p1">
                    <p id="62">参数对shuffle phase阶段性能的影响直接体现在这三种类型的微操作中, 通过分析参数变化对微操作处理数据量的影响, 可以得到参数变化对阶段运行时间所造成的影响。</p>
                </div>
                <div class="p1">
                    <p id="63">本节在参数对性能有较大影响的阶段中定义了几种微操作方式, 在其余阶段, 参数对其性能影响较小, 本文不予讨论, 仅通过优化上述阶段中的参数即可达到优化整个作业的目的。</p>
                </div>
                <h4 class="anchor-tag" id="64" name="64">2.3 <b>微操作基准测试</b></h4>
                <div class="p1">
                    <p id="65">在2.2节中定义了几种不同阶段的微操作, 在本节将介绍如何建立微操作模型, 得到微操作执行时间与参数的关系。</p>
                </div>
                <div class="p1">
                    <p id="66">Hadoop中参数影响性能的本质在于, 参数值不同时单次微操作处理的数据量不同, 而内存写和磁盘写微操作在处理不同大小的数据时速率不同, 同时总数据量一定时微操作执行的总次数会因为单次微操作处理的数据量不同而变化, 所以参数通过影响内存写和磁盘写微操作的总执行次数和单次微操作速率影响作业总执行时间。通过确定单次微操作在不同参数值下处理数据的速率, 再完成所有数据处理流程得到微操作执行次数, 即可得到阶段总时间。接下来介绍如何建立微操作速率模型。</p>
                </div>
                <div class="p1">
                    <p id="67">与Map task的collection phase中两种微操作相关的系统参数是io.sort.mb和sort.spill.percent, 这两个参数决定了内存写入时的空间大小和触发磁盘写操作的阈值。将这两个参数值设为不同的离散值, 并使用相应参数值在实际集群中执行实际的单map task任务, 在系统执行日志中收集内存写和磁盘写在不同数据量下的速率表现, 通过拟合速率和数据量大小的关系建立微操作速率模型, 通过速率和数据量即可得到执行时间。该基准测试的目的在于测试出cm_mic_op和cd_mic_op处理不同大小数据时的速率表现, 只需执行简单的单map task任务, 执行时间短, 建模效率高, 这里高效率的建模方式也是本方法可移植性好的根本体现。基准测试时任务类型须和目标作业类型相同, 因为不同作业的数据结构不同, 微操作的速率也就可能不同, 需要建立不同的微操作模型。</p>
                </div>
                <div class="p1">
                    <p id="68">与Reduce task的shuffle phase中三种微操作相关的系统参数是reduce.java.opts、shuffle.input.buffer.percent、shuffle.merge.percent和io.sort.factor, 这四个参数是reduce task中影响性能的主要参数, 其决定了内存写入时的空间大小和触发磁盘写操作的阈值, 以及在磁盘进行文件合并时的阈值。同样, 这些参数对时间性能的影响主要体现在影响微操作处理的数据量大小。为了建立sm_mic_op、sd_mic_op和merge_mic_op的速率模型, 将这几个参数值设为不同的离散值, 并使用相应参数值在集群中执行实际的单reduce任务, 然后在系统日志中收集不同操作在不同数据量下的速率表现, 通过拟合微操作执行速率和数据量大小的关系建立模型, 通过速率和数据量便可得到执行时间。这里建立的内存写微操作sm_mic_op可以看作是网络传输速率模型。通过定义微操作的方式定量地分析网络传输速率和数据量大小的关系, 在对reduce端的微操作进行基准测试时, map端的task需能完整体现网络结构的性能, 即在每一个nodemanager中都需要执行map task, 存储中间数据供reduce task拉取。由于只是测试单reduce task作业, 所以数据量无需过大, 以测试效率为主。</p>
                </div>
                <div class="p1">
                    <p id="69">在集群和作业类型固定的情况下, 本文假设微操作速率符合以下线性模型:</p>
                </div>
                <div class="p1">
                    <p id="70"><i>V</i><sub>micro_op</sub>=<i>c</i>*<i>S</i><sub>data</sub>+<i>d</i>      (1) </p>
                </div>
                <div class="p1">
                    <p id="71">其中:<i>V</i><sub>micro_op</sub>表示微操作速率;<i>S</i><sub>data</sub>表示数据量大小;<i>c</i>和<i>d</i>表示该模型参数。</p>
                </div>
                <h3 id="72" name="72" class="anchor-tag">3 作业重构与优化</h3>
                <h4 class="anchor-tag" id="73" name="73">3.1 <b>作业重构</b></h4>
                <div class="p1">
                    <p id="74">在本节中, 将详细介绍如何根据建立好的微操作模型重构得到阶段 (phase) 的原始运行过程, 从而得到阶段运行时间和参数的关系。</p>
                </div>
                <div class="p1">
                    <p id="75">在第2章中, 对两个阶段进行了解构, 针对不同的阶段, 利用该阶段定义的微操作对该阶段的运行流程进行重构。Map task中的collection phase, 作如下定义:</p>
                </div>
                <div class="p1">
                    <p id="76" class="code-formula">
                        <mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mi>c</mi></msub><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mi>Μ</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mi>y</mi><mo stretchy="false">) </mo><mo>+</mo><mfrac><mrow><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub></mrow><mrow><mi>x</mi><mo>*</mo><mi>y</mi></mrow></mfrac><mo>*</mo><mi>D</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mi>y</mi><mo stretchy="false">) </mo><mo>+</mo><mo stretchy="false"> (</mo><mfrac><mrow><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub></mrow><mrow><mi>x</mi><mo>*</mo><mi>y</mi></mrow></mfrac><mo>-</mo><mn>1</mn><mo stretchy="false">) </mo><mo>*</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mi>Μ</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mo stretchy="false"> (</mo><mn>2</mn><mo>*</mo><mi>y</mi><mo>-</mo><mn>1</mn><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mo>+</mo><mi>D</mi><mo stretchy="false"> (</mo><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub><mi>%</mi><mi>x</mi><mo stretchy="false">) </mo><mo>+</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mi>Μ</mi><mo stretchy="false"> (</mo><mo stretchy="false"> (</mo><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub><mi>%</mi><mi>x</mi><mo stretchy="false">) </mo><mo>-</mo><mi>x</mi><mo>*</mo><mo stretchy="false"> (</mo><mn>1</mn><mo>-</mo><mi>y</mi><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mo>, </mo><mtext> </mtext><mtext> </mtext><mi>y</mi><mo>&gt;</mo><mn>0</mn><mo>.</mo><mn>5</mn></mtd></mtr><mtr><mtd><mi>Μ</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mi>y</mi><mo stretchy="false">) </mo><mo>+</mo><mfrac><mrow><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub></mrow><mi>x</mi></mfrac><mo>*</mo><mo stretchy="false"> (</mo><mi>D</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mi>y</mi><mo stretchy="false">) </mo><mo>+</mo><mi>D</mi><mo stretchy="false"> (</mo><mi>x</mi><mo>*</mo><mo stretchy="false"> (</mo><mn>1</mn><mo>-</mo><mi>y</mi><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mo>+</mo></mtd></mtr><mtr><mtd><mtext> </mtext><mi>D</mi><mo stretchy="false"> (</mo><mi>D</mi><msub><mrow></mrow><mrow><mtext>i</mtext><mtext>n</mtext></mrow></msub><mi>%</mi><mi>x</mi><mo stretchy="false">) </mo><mo>, </mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mi>y</mi><mo>≤</mo><mn>0</mn><mo>.</mo><mn>5</mn></mtd></mtr></mtable></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="77">其中:记参数io.sort.mb的值为<i>x</i>, 参数sort.spill.percent的值为<i>y</i>;<i>T</i><sub><i>c</i></sub>表示collection phase执行时间;cm_mic_op微操作时间模型表示为<i>M</i> (<i>a</i>) , <i>a</i>表示输入数据量大小, 返回处理时间;cd_mic_op微操作时间模型表示为<i>D</i> (<i>a</i>) , <i>a</i>表示输入数据量大小;<i>D</i><sub>in</sub>表示collection phase处理数据的总大小。</p>
                </div>
                <div class="p1">
                    <p id="78">当第一次内存写达到阈值时, 触发磁盘写操作并将写入了数据的内存空间锁定 (内存空间被锁定后, 不再有数据写入) , 与此同时, 内存写操作会继续在剩余空闲的内存空间内写入数据直到当次磁盘写操作结束, 此时解锁之前被锁定的内存空间, 若:</p>
                </div>
                <div class="p1">
                    <p id="79">1) 此次磁盘写操作过程中内存中被写入的数据量大于等于<i>x</i>*<i>y</i>, 则再次触发磁盘写操作, 将内存中的数据全部存入磁盘。</p>
                </div>
                <div class="p1">
                    <p id="80">2) 此次磁盘写操作过程中内存中被写入的数据量小于<i>x</i>*<i>y</i>, 则在被解锁的内存空间中继续写入数据, 直到内存中的数据量达到阈值<i>x</i>*<i>y</i>时, 再次触发磁盘写操作。</p>
                </div>
                <div class="p1">
                    <p id="81">如此交替执行内存写操作和磁盘写操作直至所有数据被写入磁盘。在式 (2) 中, <i>y</i>&gt;0.5时对应上述情况1) , <i>y</i>≤0.5时对应上述情况2) 。</p>
                </div>
                <div class="p1">
                    <p id="82">对于reduce task中的shuffle phase, 有四个主要影响性能的参数:reduce.java.opts、shuffle.input.buffer.percent、shuffle.merge.percent和io.sort.factor。其中reduce.java.opts和shuffle.input.buffer.percent决定了sm_mic_op内存写入时的空间大小。参数shuffle.merge.percent决定了触发sd_mic_op磁盘写入时内存中存在数据的阈值, 参数io.sort.factor决定了触发merge_mic_op文件合并时本地存在的文件个数, 例如当io.sort.factor=<i>n</i>时, 当本地存在的文件个数为2*<i>n</i>-1个时, 触发merge_mic_op操作, 合并大小最小的<i>n</i>个文件为一个文件。</p>
                </div>
                <div class="p1">
                    <p id="83">对于shuffle phase运行过程的重构, 首先sm_mic_op从起始位置开始查找内存中空余空间, 往未被锁定的内存空间中写入数据, 当第一次内存写达到阈值时触发磁盘写操作并将该部分内存空间锁定, 直到本次磁盘写操作结束时对其解锁;与此触发磁盘写操作的同时, 内存写操作继续在剩余空闲且未被锁定的空间内写入数据, 达到阈值时再次触发磁盘写操作, 如此往复, 当本地文件个数达到触发merge_mic_op的阈值时, 触发文件合并操作;当sm_mic_op查找到内存空间尾部位置时, 开始等待, 停止写入数据直到所有磁盘写操作结束即内存中所有空间被解锁时, 再次从内存起始位置开始查找空余空间写入数据;当sm_mic_op处理过的数据量达到reduce task所需处理的数据总量时, 重构过程完成。</p>
                </div>
                <div class="p1">
                    <p id="84">基于微操作模型, 可以在不同参数值的情况下对shuffle phase进行作业重构, 得出参数和阶段执行时间的关系。</p>
                </div>
                <div class="p1">
                    <p id="85">在reduce task中还有一个阶段是sort_write phase (sw_phase) , 该阶段利用多路归并算法将所有数据进行排序并输出到磁盘得到最终结果。该阶段的特殊性在于虽然没有直接影响该阶段性能的参数, 但是在shuffle phase中产生的本地文件个数会间接影响该阶段的数据排序效率。为了提高整个job执行时间优化的准确性, 需要对该阶段进行建模。将sort_write phase整个阶段定义为一个磁盘写微操作, 影响该操作的参数是决定shuffle phase本地文件个数的参数和总数据量, 所以在第2章的基准测试中, 测试shuffle phase相关微操作的同时, 在系统日志中提取出sort_write phase执行时间与shuffle phase的本地文件个数和数据量的关系。定义如下微操作模型:</p>
                </div>
                <div class="p1">
                    <p id="86"><i>T</i><sub>sw_phase</sub>=<i>D</i><sub>sw_input</sub>* (<i>N</i><sub>spill</sub>*<i>α</i><sub>sw_phase</sub>+<i>β</i><sub>sw_phase</sub>)      (3) </p>
                </div>
                <div class="p1">
                    <p id="87">其中:<i>T</i><sub>sw_phase</sub>表示sort_write phase的执行时间;<i>D</i><sub>sw_input</sub>表示sort_write phase处理的数据量大小;<i>N</i><sub>spill</sub>表示shuffle phase中sd_mic_op执行的次数; <i>α</i><sub>sw_phase</sub>和<i>β</i><sub>sw_phase</sub>表示模型参数, 通过基准测试拟合可以得到模型参数。</p>
                </div>
                <h4 class="anchor-tag" id="88" name="88">3.2 <b>基于微操作的参数调优</b></h4>
                <div class="p1">
                    <p id="89">针对本文的Hadoop参数调优问题, 优化目标是最小化mapreduce job的运行时间, 将job解构为六个phase之后, 优化目标从最小化job整体运行时间转换为最小化collection phase、shuffle phase和sort_write phase运行时间之和。基于微操作模型对各阶段运行时间进行最小化即可得到最小化的job运行时间。</p>
                </div>
                <div class="p1">
                    <p id="90">本文方法可视为一种优化问题的描述方法和分析框架, 在此模型基础上可以应用不同的参数搜索算法来优化作业运行时间。下面给出基于微操作模型的调优框架:</p>
                </div>
                <div class="p1">
                    <p id="91">1) 解构运行过程, 分析参数影响方式, 定义微操作类型。</p>
                </div>
                <div class="p1">
                    <p id="92">2) 基于定义的微操作进行基准测试, 建立微操作执行时间和参数的关系。</p>
                </div>
                <div class="p1">
                    <p id="93">3) 基于微操作对运行过程进行重构, 建立整体运行时间与参数的关系。</p>
                </div>
                <div class="p1">
                    <p id="94">4) 选择搜索算法在参数空间内进行搜索, 迭代执行模型, 得到在不同参数值情况下运行时间的情况选择运行时间达到要求的参数组合。</p>
                </div>
                <div class="p1">
                    <p id="95">5) 结束参数优化。</p>
                </div>
                <h3 id="96" name="96" class="anchor-tag">4 实验结果与分析</h3>
                <div class="p1">
                    <p id="97">使用本文提出的方法构建了微操作模型和运行过程重构模型进行实验。实验环境配置为:型号为DELL PowerEdge R710的服务器6台, 磁盘500 GB/台, 内存8 GB/台, 默认设置一个nodemanager上并行4个map task, 并行2个reduce task。用terasort和wordcount两种作业测试了本文的方法。</p>
                </div>
                <h4 class="anchor-tag" id="98" name="98">4.1 <b>度量标准</b></h4>
                <div class="p1">
                    <p id="99">在实验结果中主要对作业默认配置的运行时间和调优后的运行时间进行对比, 并对默认配置的运行时间归一化为1, 调优后执行时间为与默认配置下执行时间的比率。</p>
                </div>
                <div class="p1">
                    <p id="100">作业默认参数值如表2所示, 在参数名后标记序号是为在后续参数表中表示对应参数名, 不再写具体参数名。</p>
                </div>
                <div class="area_img" id="101">
                    <p class="img_tit"><b>表</b>2 <b>集群默认参数值</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 2 Default parameter values of cluster</p>
                    <p class="img_note"></p>
                    <table id="101" border="1"><tr><td><br />参数名</td><td>序号</td><td>默认值</td></tr><tr><td><br />mapreduce.map.java.opts</td><td>1</td><td>-Xmx1 024 MB</td></tr><tr><td><br />mapreduce.reduce.java.opts</td><td>2</td><td>-Xmx2 048 MB</td></tr><tr><td><br />mapreduce.map.sort.spill.percent</td><td>3</td><td>0.80</td></tr><tr><td><br />mapreduce.reduce.shuffle.input.buffer.percent</td><td>4</td><td>0.70</td></tr><tr><td><br />mapreduce.reduce.shuffle.merge.percent</td><td>5</td><td>0.66</td></tr><tr><td><br />mapreduce.task.io.sort.mb</td><td>6</td><td>100</td></tr><tr><td><br />mapreduce.task.io.sort.factor</td><td>7</td><td>10</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="102" name="102">4.2 <b>数据集</b></h4>
                <div class="p1">
                    <p id="103">实验在terasort和wordcount 2个作业类型上测试本文提出的方法, terasort和wordcount是常用的benchmark。针对collection phase分别测试50 GB、100 GB和200 GB的输入数据量;针对shuffle phase分别测试100 GB、200 GB和300 GB的输入数据量。针对job的运行时间分别测试100 GB和200 GB的输入数据量。</p>
                </div>
                <h4 class="anchor-tag" id="104" name="104">4.3 <b>结果分析</b></h4>
                <div class="p1">
                    <p id="105">如图2的实验结果所示, 第一个实验是对terasort任务中的sd_mic_op微操作 (tr_sd_mic_op) 进行拟合建模, 可以得到该微操作执行速率和数据量的关系。从图2可以看出, 线性拟合程度很高, 个别离群点是由集群的不稳定带来的系统随机误差。</p>
                </div>
                <div class="p1">
                    <p id="106">第二个实验是在terasort任务和wordcount任务上对collection phase的优化效果进行对比, 结果如表3所示。在terasort任务中, 单map task处理的数据量大小是1 GB, 平均运行时间相对于默认参数可以优化43%左右;wordcount任务中, 单map task处理的数据量大小也是1 GB, 平均运行时间相对于默认参数情况下可以优化33%左右。参数调优后的值如表4所示, 因为该阶段只涉及三个参数, 所以其余参数为默认值。terasort任务是一个排序任务, 处理过程中数据量不会有太大的变化, 而wordcount任务处理过程中数据量会减少, 这是导致优化程度不一样的主要原因。</p>
                </div>
                <div class="area_img" id="107">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJY201906007_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 terasort 的sd_mic_op模型" src="Detail/GetImg?filename=images/JSJY201906007_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 terasort 的sd_mic_op模型  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJY201906007_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 2 sd_mic_op model of terasort</p>

                </div>
                <div class="p1">
                    <p id="108">第三个实验是在terasort和wordcount任务上对shuffle phase的优化效果进行对比, 结果如表5所示。相对于默认参数情况下, terasort的shuffle phase运行时间平均优化了45%左右, wordcount的shuffle phase运行时间平均优化了30%左右。shuffle phase参数调优后的值如表6所示, 因为该阶段只设计四个参数, 所以其余参数为默认值。究其原因与collection phase分析的原因类似, 不同任务数据变化方式也不一样, 调优效果也不一样。</p>
                </div>
                <div class="area_img" id="109">
                    <p class="img_tit"><b>表</b>3 collection<b>阶段的优化率</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 3 Optimization rate of collection phase</p>
                    <p class="img_note"></p>
                    <table id="109" border="1"><tr><td><br />数据量大小/GB</td><td>terasot优化比/%</td><td>wordcount优化比/%</td></tr><tr><td><br />50</td><td>42.3</td><td>31.8</td></tr><tr><td><br />100</td><td>41.8</td><td>33.8</td></tr><tr><td><br />200</td><td>43.1</td><td>32.7</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="110">
                    <p class="img_tit"><b>表</b>4 collection<b>阶段的优化参数值</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 4 Optimized parameter values of collection phase</p>
                    <p class="img_note"></p>
                    <table id="110" border="1"><tr><td><br />作业类型</td><td>参数1取<br />值/MB</td><td>参数3取值</td><td>参数6取值</td><td>参数2, 4, <br />5, 7取值</td></tr><tr><td><br />terasort</td><td>1 536</td><td>0.1</td><td>600</td><td>默认</td></tr><tr><td><br />wordcount</td><td>1 536</td><td>0.1</td><td>500</td><td>默认</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="111">
                    <p class="img_tit"><b>表</b>5 shuffle<b>阶段的优化率</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 5 Optimization rate of shuffle phase</p>
                    <p class="img_note"></p>
                    <table id="111" border="1"><tr><td><br />数据量大小/GB</td><td>terasot优化比/%</td><td>wordcount优化比/%</td></tr><tr><td><br />100</td><td>43.4</td><td>28.5</td></tr><tr><td><br />200</td><td>47.9</td><td>29.1</td></tr><tr><td><br />300</td><td>48.3</td><td>27.2</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="112">
                    <p class="img_tit"><b>表</b>6 shuffle<b>阶段的参数调优值</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit">Tab. 6 Optimized parameter values of shuffle phase</p>
                    <p class="img_note"></p>
                    <table id="112" border="1"><tr><td>作业类型</td><td>数据量<br />大小/GB</td><td>参数2取<br />值/MB</td><td>参数4<br />取值</td><td>参数5<br />取值</td><td>参数7<br />取值</td><td>参数1, 3, <br />6取值</td></tr><tr><td>terasot</td><td>100</td><td>3 072</td><td>0.9</td><td>0.6</td><td>200</td><td>默认</td></tr><tr><td><br />terasot</td><td>200</td><td>3 072</td><td>0.9</td><td>0.4</td><td>200</td><td>默认</td></tr><tr><td><br />terasot</td><td>300</td><td>3 072</td><td>0.9</td><td>0.8</td><td>200</td><td>默认</td></tr><tr><td><br />wordcount</td><td>100</td><td>3 072</td><td>0.8</td><td>0.4</td><td>200</td><td>默认</td></tr><tr><td><br />wordcount</td><td>200</td><td>3 072</td><td>0.9</td><td>0.6</td><td>200</td><td>默认</td></tr><tr><td><br />wordcount</td><td>300</td><td>3 072</td><td>0.9</td><td>0.6</td><td>200</td><td>默认</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="113">第四个实验对比terasor和wordcount对job级别的调优效果, 相对于默认参数情况下, terasort任务对整个job的运行时间可以优化41%左右, wordcount任务对整个job的运行时间可以优化30%左右。</p>
                </div>
                <div class="p1">
                    <p id="114">通过对比实验可以看到, 本文提出的方法在不同作业类型的小中数据集上均能较大幅度地优化作业执行时间, 验证了该方法的有效性。</p>
                </div>
                <h3 id="115" name="115" class="anchor-tag">5 结语</h3>
                <div class="p1">
                    <p id="116">本文针对基于手动或者经验的Hadoop参数调优存在的问题, 提出了一种基于微操作重构的Hadoop参数自动优化的方法。该方法通过将整体运行过程进行解构, 定义参数直接影响的微操作模型, 可以对参数的变化进行定量的分析, 再基于微操作对运行过程进行重构, 从而建立整体运行时间和参数的关系。实验结果表明, 本文提出的方法在调节那些人工调优很有难度的参数上有较好的效果, 表明了本文所提的方法是可行且高效的。接下来, 我们会针对其他更复杂的参数, 如单机并行的map task和reduce task个数等进行调优, 这会涉及到运行流程和硬件设备的相关分析, 将是未来进一步的研究方向。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="128">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Mapreduce:simplified data processing on large clusters">

                                <b>[1]</b>DEAN J, GHEMAWAT S.MapReduce:simplified data processing on large clusters[C]//Proceedings of the 6th Conference on Symposium on Opearting Systems Design and Implementation.Berkeley, CA:USENIX Association, 2004:137-149.
                            </a>
                        </p>
                        <p id="130">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Apache Hadoop">

                                <b>[2]</b>CUTTING D.Apache Hadoop[EB/OL]. (2015-02-25) [2018-08-12].http://hadoop.apache.org.
                            </a>
                        </p>
                        <p id="132">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Towards Automatic Optimization of MapReduce Program-s">

                                <b>[3]</b>BABU S.Towards automatic optimization of MapReduce programs[C]//Proceedings of the 1st ACM Symposium on Cloud Computing.New York:ACM, 2010:137-142.
                            </a>
                        </p>
                        <p id="134">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=7 tips for improving MapReduce performance">

                                <b>[4]</b>TIPCON T.7 tips for improving MapReduce performance[EB/OL]. (2009-12-17) [2018-08-12].http://www.cloudera.com/blog/2009/12/7-tips-for-improving-mapreduce-performance/.
                            </a>
                        </p>
                        <p id="136">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Starfish:a self-tuning system for big data analytics">

                                <b>[5]</b>HERODOTOU H, LIM H, LUO G, et al.Starfish:a self-tuning system for big data analytics[C]//Proceedings of the 2011 5th Biennial Conference on Innovative Data Systems Research.Asilomar, CA:[s.n.], 2011:261-272.
                            </a>
                        </p>
                        <p id="138">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Phase-reconfigurable shuffle optimization for Hadoop MapReduce">

                                <b>[6]</b>WANG J H, QIU M K, GUO B, et al.Phase-reconfigurable shuffle optimization for Hadoop MapReduce[EB/OL].[2018-08-12].https://www.onacademic.com/detail/journal_1000038191224210_fd14.html.
                            </a>
                        </p>
                        <p id="140">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Towards machine learning-based auto-tuning of MapReduce">

                                <b>[7]</b>YIGITBASI N, WILLKE T L, LIAO G, et al.Towards machine learning-based auto-tuning of MapReduce[C]//Proceedings of the IEEE 21st International Symposium on Modeling, Analysis and Simulation of Computer and Telecommunication Systems.Piscataway, NJ:IEEE, 2013:11-20.
                            </a>
                        </p>
                        <p id="142">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Self-tuning database systems: a decade ofprogress">

                                <b>[8]</b>CHAUDHURI S, NARASAYYA V.Self-tuning database systems:a decade of progress[C]//Proceedings of the 2007 International Conference on Very Large Data Bases.Framingham, MA:VLDBEndowment, 2007:3-14.
                            </a>
                        </p>
                        <p id="144">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An approach to performance prediction for parallel applications">

                                <b>[9]</b>IPEK E, de SUPINSKI B R, SCHULZ M, et al.An approach to performance prediction for parallel applications[C]//Proceedings of the 2005 European Conference on Parallel Processing, LNCS3648.Berlin:Springer, 2005:196-205.
                            </a>
                        </p>
                        <p id="146">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Garbage collection auto-tuning for Java MapReduce on multi-cores">

                                <b>[10]</b>SINGER J, KOVOOR G, BROWN G, et al.Garbage collection auto-tuning for Java MapReduce on multi-cores[C]//Proceedings of the 2011 International Symposium on Memory Management.New York:ACM, 2011:109-118.
                            </a>
                        </p>
                        <p id="148">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Improving Performance of Heterogeneous MapReduce Clusters with Adaptive Task Tuning">

                                <b>[11]</b>CHENG D Z, RAO J, GUO Y F, et al.Improving performance of heterogeneous MapReduce clusters with adaptive task tuning[J].IEEE Transactions on Parallel&amp;Distributed Systems, 2017, 28 (3) :774-786.
                            </a>
                        </p>
                        <p id="150">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=MR-Advisor:a comprehensive tuning tool for advising HPC users to accelerate MapReduce applications on supercomputers">

                                <b>[12]</b>WASI-UR-RAHMAN M, ISLAM N S, LU X, et al.MR-Advisor:a comprehensive tuning tool for advising HPC users to accelerate MapReduce applications on supercomputers[C]//Proceedings of the 28th International Symposium on Computer Architecture and High Performance Computing.Piscataway, NJ:IEEE, 2016:198-205.
                            </a>
                        </p>
                        <p id="152">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016744918.nh&amp;v=MjMxNDBGckNVUjdxZlp1WnNGeS9oVmJySVZGMjZHTFM4R3RqTnA1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b>童颖.基于机器学习的Hadoop参数调优方法[D].武汉:华中科技大学, 2016:1-52. (TONG Y.Hadoop parameters tuning method based on machine learning[D].Wuhan:Huazhong University of Science and Technology, 2016:1-52.) 
                            </a>
                        </p>
                        <p id="154">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Gunther:Search-based auto-tuning of mapreduce">

                                <b>[14]</b>LIAO G, DATTA K, WILLKE T L.Gunther:search-based autotuning of MapReduce[C]//Proceedings of the 2013 European Conference on Parallel Processing, LNCS 8097.Berlin:Springer, 2013:406-419.
                            </a>
                        </p>
                        <p id="156">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00000085912&amp;v=MDY5OTk1ekJkaDRqOTlTWHFScnhveGNNSDdSN3FkWitadUZpcmxWTHZPSlY0PU5qN0Jhck80SHRITXI0ZEFiZW9OWTNr&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b>DEB K.An introduction to genetic algorithms[J].Sadhana, 1999, 24 (4/5) :293-315.
                            </a>
                        </p>
                        <p id="158">
                            <a id="bibliography_16" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201602005&amp;v=MDUwNjlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0Z5L2hWYnJJTHo3QmJiRzRIOWZNclk5RllZUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[16]</b>祝春祥, 陈世平, 陈敏刚.基于递归随机抽样的Hadoop配置优化[J].计算机工程, 2016, 42 (2) :26-32. (ZHU C X, CHEN SP, CHEN M G.Configuration optimization of Hadoop based on recursive random sampling[J].Computer Engineering, 2016, 42 (2) :26-32.) 
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJY201906007" />
        <input id="dpi" type="hidden" value="400" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJY201906007&amp;v=MjUwODhIOWpNcVk5Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0Z5L2hWYnJJTHo3QmQ3RzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxSWmZRblJCWGhwbXU2MEpGM0M3ND0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
