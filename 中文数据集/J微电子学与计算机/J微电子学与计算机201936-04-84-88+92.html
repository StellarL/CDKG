<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637134027421662500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dWXYJ201904017%26RESULT%3d1%26SIGN%3d9IYQ6HGKaXfK%252bG%252ba9r8zwOrE%252b7s%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201904017&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201904017&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201904017&amp;v=MDQ4ODY0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5em1WN3JMTWpYU1pMRzRIOWpNcTQ5RVk0UUtESDg0dlI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#21" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#26" data-title="2 TernarySort&lt;b&gt;算法&lt;/b&gt; ">2 TernarySort<b>算法</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#27" data-title="2.1 &lt;b&gt;问题描述&lt;/b&gt;">2.1 <b>问题描述</b></a></li>
                                                <li><a href="#30" data-title="2.2 &lt;b&gt;算法思想&lt;/b&gt;">2.2 <b>算法思想</b></a></li>
                                                <li><a href="#33" data-title="2.3 &lt;b&gt;用于掩码匹配的决策树&lt;/b&gt;">2.3 <b>用于掩码匹配的决策树</b></a></li>
                                                <li><a href="#42" data-title="2.4 &lt;b&gt;离线分区算法&lt;/b&gt;">2.4 <b>离线分区算法</b></a></li>
                                                <li><a href="#62" data-title="2.5 &lt;b&gt;在线分区算法&lt;/b&gt;">2.5 <b>在线分区算法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#78" data-title="3 &lt;b&gt;实验与分析&lt;/b&gt; ">3 <b>实验与分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#80" data-title="3.1 &lt;b&gt;实验环境&lt;/b&gt;">3.1 <b>实验环境</b></a></li>
                                                <li><a href="#84" data-title="3.2 &lt;b&gt;与&lt;/b&gt;TSS&lt;b&gt;算法的比较&lt;/b&gt;">3.2 <b>与</b>TSS<b>算法的比较</b></a></li>
                                                <li><a href="#92" data-title="3.3 &lt;b&gt;在线分区算法与离线分区算法的比较&lt;/b&gt;">3.3 <b>在线分区算法与离线分区算法的比较</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#97" data-title="4 &lt;b&gt;结束语&lt;/b&gt; ">4 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#32" data-title="&lt;b&gt;表&lt;/b&gt;1 TernarySort&lt;b&gt;算法与其他算法的比较&lt;/b&gt;"><b>表</b>1 TernarySort<b>算法与其他算法的比较</b></a></li>
                                                <li><a href="#36" data-title="&lt;b&gt;表&lt;/b&gt;2 &lt;b&gt;掩码匹配规则示例&lt;/b&gt;"><b>表</b>2 <b>掩码匹配规则示例</b></a></li>
                                                <li><a href="#37" data-title="&lt;b&gt;图&lt;/b&gt;1 &lt;b&gt;决策树示意图&lt;/b&gt;"><b>图</b>1 <b>决策树示意图</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;表&lt;/b&gt;3 &lt;b&gt;规则分区算法&lt;/b&gt;"><b>表</b>3 <b>规则分区算法</b></a></li>
                                                <li><a href="#86" data-title="&lt;b&gt;图&lt;/b&gt;2 TernarySort&lt;b&gt;算法与&lt;/b&gt;TSS&lt;b&gt;算法的分类性能比较&lt;/b&gt;"><b>图</b>2 TernarySort<b>算法与</b>TSS<b>算法的分类性能比较</b></a></li>
                                                <li><a href="#88" data-title="&lt;b&gt;图&lt;/b&gt;3 TernarySort&lt;b&gt;算法与&lt;/b&gt;TSS&lt;b&gt;算法的分区数量比较&lt;/b&gt;"><b>图</b>3 TernarySort<b>算法与</b>TSS<b>算法的分区数量比较</b></a></li>
                                                <li><a href="#90" data-title="&lt;b&gt;图&lt;/b&gt;4 TernarySort&lt;b&gt;算法与&lt;/b&gt;TSS&lt;b&gt;算法的更新性能比较&lt;/b&gt;"><b>图</b>4 TernarySort<b>算法与</b>TSS<b>算法的更新性能比较</b></a></li>
                                                <li><a href="#94" data-title="&lt;b&gt;图&lt;/b&gt;5 TernarySort&lt;b&gt;在线分区算法与&lt;/b&gt;&lt;b&gt;离线分区算法的分类性能比较&lt;/b&gt;"><b>图</b>5 TernarySort<b>在线分区算法与</b><b>离线分区算法的分类性能比较</b></a></li>
                                                <li><a href="#96" data-title="&lt;b&gt;图&lt;/b&gt;6 TernarySort&lt;b&gt;在线分区算法与&lt;/b&gt;&lt;b&gt;离线分区算法的构建时间比较&lt;/b&gt;"><b>图</b>6 TernarySort<b>在线分区算法与</b><b>离线分区算法的构建时间比较</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" MCKEOWN N, AANDERSON T, BALAKRISHNAN H, et al. OpenFlow: enabling innovation in campus networks[J]. ACM SIGCOMM Computer Communication Review, 2008, 38 (2) : 69-74." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000047027&amp;v=MTg4NzVHZXJxUVRNbndaZVp1SHlqbVViL0lKRjBRYnhFPU5pZklZN0s3SHRqTnI0OUZaTzhJREg0K29CTVQ2VDRQUUgvaXJSZA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         MCKEOWN N, AANDERSON T, BALAKRISHNAN H, et al. OpenFlow: enabling innovation in campus networks[J]. ACM SIGCOMM Computer Communication Review, 2008, 38 (2) : 69-74.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" BOSSHART P, DALY D, GIBB G, et al. P4: Programming Protocol-independent Packet Processors[J]. ACM SIGCOMM Computer Communication Review, 2014, 44 (3) : 87-95." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM14090900000282&amp;v=Mjg0MzN0ak1wbzlGWk9zUERuUTdvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp1SHlqbVViL0lKRjBRYnhFPU5pZklZN0s4SA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         BOSSHART P, DALY D, GIBB G, et al. P4: Programming Protocol-independent Packet Processors[J]. ACM SIGCOMM Computer Communication Review, 2014, 44 (3) : 87-95.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" GUPTA P, MCKEOWN N. Packet classification using hierarchical intelligent cuttings[A]. Hot Interconnects VII[C]. 1999: 34-41." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Packet classification using hierarchical intelligent cuttings">
                                        <b>[3]</b>
                                         GUPTA P, MCKEOWN N. Packet classification using hierarchical intelligent cuttings[A]. Hot Interconnects VII[C]. 1999: 34-41.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" HE P, XIE G, SALAMATION K, et al. Meta-algorithms for Software-Based Packet Classification[A]. 2014 IEEE 22nd International Conference on Network Protocols[C]. 2014: 308-319." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Meta-algorithms for Software-Based Packet Classification">
                                        <b>[4]</b>
                                         HE P, XIE G, SALAMATION K, et al. Meta-algorithms for Software-Based Packet Classification[A]. 2014 IEEE 22nd International Conference on Network Protocols[C]. 2014: 308-319.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" PFAFF B, PETTIT J, KOPPNEN T, et al. The Design and Implementation of Open vSwitch[A]. 12th USENIX Symposium on Networked Systems Design and Implementation (NSDI 15) [C]. Oakland, CA: USENIX Association, 2015: 117-130." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The Design and Implementation of Open vSwitch">
                                        <b>[5]</b>
                                         PFAFF B, PETTIT J, KOPPNEN T, et al. The Design and Implementation of Open vSwitch[A]. 12th USENIX Symposium on Networked Systems Design and Implementation (NSDI 15) [C]. Oakland, CA: USENIX Association, 2015: 117-130.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" SRINIVASAN V, SURI S, VARGHESE G. Packet Classification Using Tuple Space Search[A]. Proceedings of the Conference on Applications, Technologies, Architectures, and Protocols for Computer Communication[C]. New York, NY, USA: ACM, 1999: 135-146." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Packet classification using tuple space search">
                                        <b>[6]</b>
                                         SRINIVASAN V, SURI S, VARGHESE G. Packet Classification Using Tuple Space Search[A]. Proceedings of the Conference on Applications, Technologies, Architectures, and Protocols for Computer Communication[C]. New York, NY, USA: ACM, 1999: 135-146.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" DALY J, TORNG E. TupleMerge: Building Online Packet Classifiers by Omitting Bits[A]. 2017 26th International Conference on Computer Communication and Networks (ICCCN) [C]. 2017: 1-10." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=TupleMerge: Building Online Packet Classifiers by Omitting Bits">
                                        <b>[7]</b>
                                         DALY J, TORNG E. TupleMerge: Building Online Packet Classifiers by Omitting Bits[A]. 2017 26th International Conference on Computer Communication and Networks (ICCCN) [C]. 2017: 1-10.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" YINGCHAREONTHAWORNCHAI S, DALY J, LIU A X, et al. A Sorted-Partitioning Approach to Fast and Scalable Dynamic Packet Classification[J]. IEEE/ACM Transactions on Networking, 2018: 1-14." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Sorted-Partitioning Approach to Fast and Scalable Dynamic Packet Classification">
                                        <b>[8]</b>
                                         YINGCHAREONTHAWORNCHAI S, DALY J, LIU A X, et al. A Sorted-Partitioning Approach to Fast and Scalable Dynamic Packet Classification[J]. IEEE/ACM Transactions on Networking, 2018: 1-14.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" TAYLOR D E, TURNER J S. Classbench: A packet classification benchmark[J]. IEEE/ACM Transactions on Networking (TON) , 2007, 15 (3) : 499-511." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000094495&amp;v=Mjk4NjlPSUxDSFU4b0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VYi9JSkYwUWJ4RT1OaWZJWTdLN0h0ak5yNDlGWg==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         TAYLOR D E, TURNER J S. Classbench: A packet classification benchmark[J]. IEEE/ACM Transactions on Networking (TON) , 2007, 15 (3) : 499-511.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(04),84-88+92             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>一种支持快速增量更新的掩码匹配算法</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9B%B9%E4%BD%9C%E4%BC%9F&amp;code=36908626&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">曹作伟</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%99%88%E6%99%93&amp;code=09682411&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">陈晓</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%80%AA%E5%AE%8F&amp;code=10357473&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">倪宏</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%A3%B0%E5%AD%A6%E7%A0%94%E7%A9%B6%E6%89%80%E5%9B%BD%E5%AE%B6%E7%BD%91%E7%BB%9C%E6%96%B0%E5%AA%92%E4%BD%93%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E4%B8%AD%E5%BF%83&amp;code=0177578&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院声学研究所国家网络新媒体工程技术研究中心</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E7%94%B5%E6%B0%94%E4%B8%8E%E9%80%9A%E4%BF%A1%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=1698842&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院大学电子电气与通信工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>文章提出一种支持快速增量更新的掩码匹配算法TernarySort.该算法使用决策树将掩码匹配规则划分为多个分区, 不同叶节点的规则互不重叠, 以保障规则更新性能.同时通过选取有效比特位, 减小决策树深度, 并允许叶节点中规则重叠, 减少分区数量, 以提高分类性能.实验结果表明, 与现有的算法相比, TernarySort可提升80%以上的分类性能, 同时保持快速的更新性能.TernarySort能够满足SDN对掩码匹配算法的要求.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%BD%AF%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">软件定义网络;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BD%91%E5%8C%85%E5%88%86%E7%B1%BB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">网包分类;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%86%B3%E7%AD%96%E6%A0%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">决策树;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    曹作伟 男, (1991-) , 博士研究生.研究方向为软件定义网络、可编程数据平面.;
                                </span>
                                <span>
                                    *陈晓 (通讯作者) 男, (1964-) , 硕士, 研究员.研究方向为网络通信、新媒体技术等.E-mail:xxchen@dsp.ac.cn.;
                                </span>
                                <span>
                                    倪宏 男, (1964-) , 硕士, 研究员.研究方向为网络通信、新媒体技术等.;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-08-01</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家科技重大专项项目 (2017ZX03001019);</span>
                    </p>
            </div>
                    <h1><b>A Mask Matching Algorithm with Fast Incremental Update Support</b></h1>
                    <h2>
                    <span>CAO Zuo-wei</span>
                    <span>CHEN Xiao</span>
                    <span>NI Hong</span>
            </h2>
                    <h2>
                    <span>National Network New Media Engineering Research Center, Institute of Acoustics, Chinese Academy of Sciences</span>
                    <span>School of Electronic, Electrical and Communication Engineering, University of Chinese Academy of Sciences</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>This paper proposes a mask match algorithm, TernarySort, supporting fast incremental update. The algorithm uses decision trees to partition mask matching rules. To guarantee the update performance, it restricts that rules residing in different leaf nodes do not overlap with each other. At the same time, TernarySort selects effective bits to reduce the depth of decision trees. And it allows rules to overlap in one leaf node, to decrease the number of partitions and improve the classification performance. The experimental results show that, compared to currently used algorithms, TernarySort can improve packet classification performance by more than 80% while maintaining fast rule updating performance. TernarySort meets the requirements of SDN for mask matching algorithms.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=SDN&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">SDN;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=packet%20classification&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">packet classification;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=decision%20tree&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">decision tree;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-08-01</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="21" name="21" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="22">软件定义网络 (Software Defined Networking, SDN) 将控制功能与转发功能分离, 通过集中式的控制器以标准化接口对各种网络设备进行管理和配置.OpenFlow<citation id="100" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>由斯坦福大学提出, 已成为SDN中控制器与网络设备通信的事实标准.然而OpenFlow面临协议扩展问题, 难以满足更多的网络协议、带状态的数据转发等复杂需求.新的数据平面编程语言, 如P4<citation id="101" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>, 提出了对任意协议字段的支持.借助数据平面可编程技术, 交换机无需理解特定的报文协议, 新的网络应用的开发不再需要修改交换机代码, 新技术、新业务的迭代速度将得到极大的提升.</p>
                </div>
                <div class="p1">
                    <p id="23">类似于OpenFlow, P4采用了匹配动作表 (Match Action Table, MAT) 作为数据平面的转发模型.在MAT模型中, 报文处理包括字段解析、流表匹配与动作执行等步骤.流表匹配包括最长前缀匹配、范围匹配和掩码匹配等类型, 是影响数据平面转发性能的关键环节之一.流表匹配问题实质上是网包分类问题.在SDN环境下, 网包分类算法除支持报文的快速分类, 还需要支持规则的快速更新, 以满足控制器动态修改交换机转发规则的需求.</p>
                </div>
                <div class="p1">
                    <p id="24">传统的网包分类算法大多只关注报文分类速度, 难以满足快速更新的需求.基于决策树的算法如HiCuts<citation id="102" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>、SmartSplit<citation id="103" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>等, 按空间将规则划分为单个决策树, 分类性能高, 然而由于规则重叠, 同一条规则会重复出现于叶子节点, 更新一条规则需要同时处理多个节点, 影响更新性能.开源OpenFlow交换机Open vSwitch<citation id="104" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>采用改进的TSS (Tuple Space Search) <citation id="105" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>算法, 按照字段掩码长度对规则进行划分, 分区内使用哈希搜索, 同一分区内规则互不重叠, TSS算法可支持快速更新, 然而TSS算法的分区数量过多, 影响了报文的分类性能.在TSS算法基础上, TupleMerge<citation id="106" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>算法根据协议字段, 去除不重要的比特 (比如IP地址的末尾比特) , 以降低分区数量, 提高分类速度, 然而该算法要求交换机具备协议字段的先验知识, 不能直接应用于可编程数据平面.PartitionSort<citation id="107" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>算法采用最大独立集的方式对规则进行划分, 要求同一分区内的规则满足可排序、不重叠, 对于最长前缀匹配和范围匹配规则, 该算法在更新速度与查找速度上取得了良好的平衡.然而, 由于掩码匹配规则无法排序, 不能直接应用PartitionSort算法.</p>
                </div>
                <div class="p1">
                    <p id="25">针对上述问题, 本文提出一种支持快速增量更新的掩码匹配算法TernarySort, 选取有效比特将规则划分为决策树, 在避免分区内生成重复规则的同时, 减少分区数量, 实现高速的分类性能与快速的更新性能.</p>
                </div>
                <h3 id="26" name="26" class="anchor-tag">2 TernarySort<b>算法</b></h3>
                <h4 class="anchor-tag" id="27" name="27">2.1 <b>问题描述</b></h4>
                <div class="p1">
                    <p id="28">报文字段<i>f</i>是<i>w</i>个报文比特构成的自然数集合[0, 2<sup><i>w</i>-1</sup>], 规则<i>r</i>是从<i>d</i>个字段的子集到某个动作的映射关系, 即<i>r</i>= (<i>s</i><sub>1</sub>⊆<i>f</i><sub>1</sub>×<i>s</i><sub>2</sub>⊆<i>f</i><sub>2</sub>×…×<i>s</i><sub><i>d</i></sub>⊆<i>f</i><sub><i>d</i></sub>→decision) .若报文<i>p</i>= (<i>p</i><sub>1</sub>, <i>p</i><sub>2</sub>, …, <i>p</i><sub><i>d</i></sub>) 满足<i>p</i><sub>1</sub>∈<i>s</i><sub>1</sub>∧<i>p</i><sub>2</sub>∈<i>s</i><sub>2</sub>∧…∧<i>p</i><sub><i>d</i></sub>∈<i>s</i><sub><i>d</i></sub>, 称<i>p</i>匹配<i>r</i>.<i>n</i>个规则按照优先级排列, 组成一个规则集合[<i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, …, <i>r</i><sub><i>n</i></sub>].报文分类即找到优先级最高的匹配规则.</p>
                </div>
                <div class="p1">
                    <p id="29">根据规则在字段上的定义, 将规则分为范围匹配、最长前缀匹配和掩码匹配等类型.范围匹配规则由区间定义<i>s</i>=[<i>l</i>, <i>h</i>];最长前缀匹配规则由前缀定义<i>s</i>={0, 1}<sup><i>w</i><sub><i>p</i></sub></sup>*<sup><i>w</i>-<i>w</i><sub><i>p</i></sub></sup>, 其中0≤<i>w</i><sub><i>p</i></sub>≤<i>w</i>为前缀长度, *表示同时匹配0和1;与最长前缀匹配规则一样, 掩码匹配规则由0/1/*比特构成, 不同的是, 0/1/*可以按照任意顺序排列.</p>
                </div>
                <h4 class="anchor-tag" id="30" name="30">2.2 <b>算法思想</b></h4>
                <div class="p1">
                    <p id="31">TernarySort算法结合决策树的规则划分方式与避免重复规则的分区思想.决策树作为掩码匹配规则的查询结构, 可实现报文的快速分类, 在决策树内, 按照比特划分规则;一个决策树作为一个分区, 分区内没有重复的规则, 规则被划分为多个分区, 规则的插入和删除只涉及单个分区的节点, 可实现规则的快速更新.如表1所示, 与现有的网包分类算法相比较, TernarySort算法支持掩码匹配规则, 并能够实现高速的报文分类与快速的规则更新.</p>
                </div>
                <div class="area_img" id="32">
                    <p class="img_tit"><b>表</b>1 TernarySort<b>算法与其他算法的比较</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="32" border="1"><tr><td>算法</td><td>SmartSplit</td><td>TSS</td><td>PartitionSort</td><td>TernarySort</td></tr><tr><td><br />范围匹配</td><td>支持</td><td>不支持</td><td>支持</td><td>不支持</td></tr><tr><td><br />最长前缀匹配</td><td>支持</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td><br />掩码匹配</td><td>不支持</td><td>支持</td><td>不支持</td><td>支持</td></tr><tr><td><br />分类性能</td><td>很高</td><td>较慢</td><td>高</td><td>高</td></tr><tr><td><br />更新性能</td><td>很慢</td><td>快</td><td>快</td><td>快</td></tr><tr><td><br />内存占用</td><td>很高</td><td>低</td><td>低</td><td>低</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="33" name="33">2.3 <b>用于掩码匹配的决策树</b></h4>
                <div class="p1">
                    <p id="34">本小节将介绍用于掩码匹配的决策树结构.选取比特划分规则, 非叶节点表示用于划分的比特, 叶节点存储掩码匹配规则.对于同一分区内, 任意两个不同叶节点中的规则, 存在可以区分的比特, 即规则不会重复出现于不同的叶节点.同一叶节点中的规则允许重叠.如表2所示的掩码匹配规则示例中, {<i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, <i>r</i><sub>3</sub>, <i>r</i><sub>4</sub>, <i>r</i><sub>5</sub>}共同构成图1所示的决策树, “<i>b</i>&lt;1&gt;”表示将规则按照第1位比特的值进行划分.<i>r</i><sub>6</sub>由于无法与其他规则区分, 将划分到其他决策树中.</p>
                </div>
                <div class="p1">
                    <p id="35">报文分类时, 按照决策树的比特顺序查找匹配规则.若叶节点中存在匹配该报文的规则, 则返回优先级最高的规则, 否则继续查找其他决策树.</p>
                </div>
                <div class="area_img" id="36">
                    <p class="img_tit"><b>表</b>2 <b>掩码匹配规则示例</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="36" border="1"><tr><td><br />规则</td><td>掩码</td><td>优先级</td></tr><tr><td><br /><i>r</i><sub>1</sub></td><td>100</td><td>6</td></tr><tr><td><br /><i>r</i><sub>2</sub></td><td>11*</td><td>5</td></tr><tr><td><br /><i>r</i><sub>3</sub></td><td>01*</td><td>4</td></tr><tr><td><br /><i>r</i><sub>4</sub></td><td>*01</td><td>3</td></tr><tr><td><br /><i>r</i><sub>5</sub></td><td>*00</td><td>2</td></tr><tr><td><br /><i>r</i><sub>6</sub></td><td>***</td><td>1</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="37">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 决策树示意图" src="Detail/GetImg?filename=images/WXYJ201904017_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 <b>决策树示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="38">插入规则<i>r</i>时, 按照决策树的比特顺序查找叶节点, 若<i>r</i>在非叶节点比特上的值为通配符, 说明该规则与多个叶节点中的规则重叠, 不能插入该决策树;若找到了叶节点, 与节点中规则集合<i>R</i>比较, 若存在可区分的比特, 则插入新的非叶节点, 以区分<i>R</i>与<i>r</i>;若<i>R</i>与<i>r</i>无法区分, 并且<i>R</i>中的规则数量未达到阈值Thr<sub>co</sub> (比如10) , 则令<i>R</i>=<i>R</i>∪{<i>r</i>};若<i>R</i>中的规则数量等于阈值, 则不能插入.通过阈值Thr<sub>co</sub>允许节点中的规则重叠, 可降低决策树深度, 提高分类性能.若规则<i>r</i>无法插入决策树, 则尝试插入其他决策树.若规则<i>r</i>无法插入现有决策树, 则构建新的决策树.</p>
                </div>
                <div class="p1">
                    <p id="39">删除规则<i>r</i>时, 从所属叶节点中移除<i>r</i>, 若所属叶节点中的规则为空, 则删除叶节点及其父节点, 并用兄弟节点代替其父节点的位置.</p>
                </div>
                <div class="p1">
                    <p id="40">决策树的时间性能与深度线性相关, 令<i>n</i>为决策树中的规则数量, <i>d</i>为决策树的实际深度, <i>l</i>为掩码匹配规则中的字段长度和, 必然有log<sub>2</sub> (<i>n</i>/Thr<sub>co</sub>) ≤<i>d</i>≤<i>l</i>.存在正实数<i>M</i>=<i>l</i>与<i>n</i><sub>0</sub>=2, 对所有的<i>n</i>≥<i>n</i><sub>0</sub>, 均满足<mathml id="41"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mi>d</mi><mo>|</mo></mrow><mo>≤</mo><mi>Μ</mi><mrow><mo>|</mo><mrow><mrow><mi>log</mi></mrow><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false"> (</mo><mi>n</mi><mo>/</mo><mrow><mtext>Τ</mtext><mtext>h</mtext><mtext>r</mtext></mrow><msub><mrow></mrow><mrow><mtext>c</mtext><mtext>o</mtext></mrow></msub><mo stretchy="false">) </mo></mrow><mo>|</mo></mrow></mrow></math></mathml>.故<i>d</i>=<i>O</i> (log<i>n</i>) , 即单个决策树的查询、插入和删除性能为<i>O</i> (log<i>n</i>) .决策树所需的节点数量为<i>O</i> (<i>n</i>) , 空间性能为<i>O</i> (<i>n</i>) .</p>
                </div>
                <h4 class="anchor-tag" id="42" name="42">2.4 <b>离线分区算法</b></h4>
                <div class="p1">
                    <p id="43">当重叠的规则数量较多时, 规则将被划分为多个分区, 考虑到报文分类性能与分区数量直接相关, 为提高分类性能, 应尽可能减少分区数量.对此, 采用有效比特对规则进行划分, 所谓“有效比特”, 即能够区分最多规则的比特, 应满足两点要求, 其一, 规则在该比特的通配符比例应尽可能低, 以容纳更多的规则, 其二, 该比特的0/1分布应尽可能均匀, 以更好地区分规则.</p>
                </div>
                <div class="p1">
                    <p id="44">令<i>N</i>为当前待划分的规则数量, <i>N</i><sup><i>i</i></sup><sub>*</sub>表示第<i>i</i>位为通配符的规则数量, 则第<i>i</i>位的通配符比例为:</p>
                </div>
                <div class="p1">
                    <p id="45" class="code-formula">
                        <mathml id="45"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup><mo>=</mo><mfrac><mrow><mi>Ν</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup></mrow><mi>Ν</mi></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="46">第<i>i</i>位为0的比例表示为<i>P</i><mathml id="47"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>0</mn><mi>i</mi></msubsup></mrow></math></mathml>, 第<i>i</i>位为1的比例表示为<i>P</i><mathml id="48"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mn>1</mn><mi>i</mi></msubsup></mrow></math></mathml>, 则第<i>i</i>位的0/1分布情况可表示为:</p>
                </div>
                <div class="p1">
                    <p id="49" class="code-formula">
                        <mathml id="49"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Η</mi><msup><mrow></mrow><mi>i</mi></msup><mo>=</mo><mo>-</mo><mfrac><mrow><mi>Ρ</mi><msubsup><mrow></mrow><mn>0</mn><mi>i</mi></msubsup></mrow><mrow><mn>1</mn><mo>-</mo><mi>Ρ</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup></mrow></mfrac><mrow><mi>log</mi></mrow><mfrac><mrow><mi>Ρ</mi><msubsup><mrow></mrow><mn>0</mn><mi>i</mi></msubsup></mrow><mrow><mn>1</mn><mo>-</mo><mi>Ρ</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup></mrow></mfrac><mo>-</mo><mfrac><mrow><mi>Ρ</mi><msubsup><mrow></mrow><mn>1</mn><mi>i</mi></msubsup></mrow><mrow><mn>1</mn><mo>-</mo><mi>Ρ</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup></mrow></mfrac><mrow><mi>log</mi></mrow><mfrac><mrow><mi>Ρ</mi><msubsup><mrow></mrow><mn>1</mn><mi>i</mi></msubsup></mrow><mrow><mn>1</mn><mo>-</mo><mi>Ρ</mi><msubsup><mrow></mrow><mo>*</mo><mi>i</mi></msubsup></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="50">将二者相加作为第<i>i</i>位的权重:</p>
                </div>
                <div class="p1">
                    <p id="51"><i>w</i><sub><i>i</i></sub>=<i>H</i><sup><i>i</i></sup>+ (1-<i>P</i><sup><i>i</i></sup><sub>*</sub>)      (3) </p>
                </div>
                <div class="p1">
                    <p id="52">选择权重最高的比特作为有效比特.</p>
                </div>
                <div class="p1">
                    <p id="53">以图1为例, 给定规则集合{<i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, <i>r</i><sub>3</sub>, <i>r</i><sub>4</sub>, <i>r</i><sub>5</sub>, <i>r</i><sub>6</sub>}, 计算每个比特的权重, 选取第1个比特划分规则, 得到{<i>r</i><sub>1</sub>, <i>r</i><sub>4</sub>, <i>r</i><sub>5</sub>}、{<i>r</i><sub>2</sub>, <i>r</i><sub>3</sub>}与<mathml id="54"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mi>r</mi><msub><mrow></mrow><mn>6</mn></msub></mrow><mo>}</mo></mrow><mo>, </mo><mrow><mo>{</mo><mrow><mi>r</mi><msub><mrow></mrow><mn>6</mn></msub></mrow><mo>}</mo></mrow></mrow></math></mathml>的第1位比特为通配符, 将划分到新的决策树.第二步划分{<i>r</i><sub>1</sub>, <i>r</i><sub>4</sub>, <i>r</i><sub>5</sub>}和{<i>r</i><sub>2</sub>, <i>r</i><sub>3</sub>}, 计算比特权重分别选择第2位与第0位作为有效比特, 前者被划分为{<i>r</i><sub>1</sub>, <i>r</i><sub>5</sub>}与<mathml id="55"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mi>r</mi><msub><mrow></mrow><mn>4</mn></msub></mrow><mo>}</mo></mrow></mrow></math></mathml>, 后者被划分为<mathml id="56"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mi>r</mi><msub><mrow></mrow><mn>2</mn></msub></mrow><mo>}</mo></mrow></mrow></math></mathml>与<mathml id="57"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mi>r</mi><msub><mrow></mrow><mn>3</mn></msub></mrow><mo>}</mo></mrow></mrow></math></mathml>, 最终得到图1所示的决策树.</p>
                </div>
                <div class="p1">
                    <p id="58">基于有效比特的概念, 提出划分规则的离线分区算法, 如表3所示.算法通过不断迭代, 将规则划分为决策树.第5行中, 当规则无法继续划分时, 比如所有比特都已被选择, 或是剩余比特都相同, 则选择优先级最高的前Thr<sub>co</sub>个规则生成叶子节点, 返回剩余规则.对于未能划分的规则, 继续使用该算法生成新的决策树, 直到将所有规则完成划分.</p>
                </div>
                <div class="p1">
                    <p id="59">令规则数量为<i>n</i>, 每个规则需要经过Ω (log<i>n</i>) 次划分, 每一次划分需要计算<i>O</i> (<i>l</i>) 个比特的权重, 故而算法1的时间性能为Ω (<i>l</i>·<i>n</i>·log<i>n</i>) .最坏的情况下, 当所有规则的所有比特都相同时, 第<i>i</i>个规则需要经过<i>i</i>次划分, 算法1的时间性能为<i>O</i> (<i>l</i>·<i>n</i><sup>2</sup>) .</p>
                </div>
                <div class="p1">
                    <p id="60">利用算法1只需少量的分区即可完成规则划分.为进一步提高报文分类性能, 采用类似于Open vSwitch对TSS的优化, 记录每个分区的最高优先级, 将分区按照最高优先级进行排序.在报文分类时, 按照最高优先级降序搜索分区, 若匹配规则的优先级大于下一个分区的最高优先级, 则停止搜索, 否则继续搜索下个分区.分区T内的规则优先级采用最大堆<i>H</i> (<i>T</i>) 维护, 其插入和删除时间性能均为<i>O</i> (log<i>n</i>) , 空间性能为<i>O</i> (<i>n</i>) .</p>
                </div>
                <div class="area_img" id="61">
                    <p class="img_tit"><b>表</b>3 <b>规则分区算法</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="61" border="1"><tr><td colspan="2"><br />算法1 规则分区算法Partition (<i>S</i>, node) </td></tr><tr><td><br /></td><td>Input:规则集合<i>S</i>, 规则所属节点node<br />Output:未划分的规则集合<i>R</i></td></tr><tr><td><br />1.</td><td>if<math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mi>S</mi><mo>|</mo></mrow><mo>≤</mo><mrow><mtext>Τ</mtext><mtext>h</mtext><mtext>r</mtext></mrow><msub><mrow></mrow><mrow><mtext>c</mtext><mtext>o</mtext></mrow></msub></mrow></math></td></tr><tr><td><br />2.</td><td>将node作为叶子节点, 存入<i>S</i>中的规则, 返回∅</td></tr><tr><td><br />3.</td><td>for each未选择的比特 in <i>S</i></td></tr><tr><td><br />4.</td><td>计算各比特的通配符比例<i>P</i><sup><i>i</i></sup><sub>*</sub>与熵<i>H</i><sup><i>i</i></sup></td></tr><tr><td><br />5.</td><td>if 无法继续划分</td></tr><tr><td><br />6.</td><td>将node作为叶子节点, 存入S中优先级最高的前Thr<sub>co</sub>则, 返回剩余规则</td></tr><tr><td><br />7.</td><td>选择权重最大的比特i, 记录在节点node中</td></tr><tr><td><br />8.</td><td>let <i>R</i>={<i>S</i>中第<i>i</i>位为通配符的规则}</td></tr><tr><td><br />9.</td><td>let <i>S</i><sub>0</sub>={<i>S</i>中第<i>i</i>位为0的规则}, node0=新的节点</td></tr><tr><td><br />10.</td><td>let <i>S</i><sub>1</sub>={<i>S</i>中第<i>i</i>位为1的规则}, node1=新的节点</td></tr><tr><td><br />11.</td><td>返回<i>R</i>∪Partition (<i>S</i><sub>0</sub>, node0) ∪Partition (<i>S</i><sub>1</sub>, node1) </td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="62" name="62">2.5 <b>在线分区算法</b></h4>
                <div class="p1">
                    <p id="63">在线分区算法中, 由于规则被随机插入和删除, 无法预先获取规则的比特信息, 不能直接应用算法1.为降低报文分类时的查找分区的平均数量, 插入规则<i>r</i>时, 按照最高优先级降序依次尝试插入各个分区, 使规则尽量聚集在优先级最高的分区中.若所有分区都不能容纳<i>r</i>, 则创建新的分区.将规则<i>r</i>插入分区<i>T</i>后, 同时插入<i>H</i> (<i>T</i>) 内, 若最高优先级发生变化, 则重新排序所有分区.</p>
                </div>
                <div class="p1">
                    <p id="64">决策树比特的选取受到规则插入顺序的影响, 由于规则的添加顺序随机, 可能导致决策树不平衡, 影响分类性能.对此, 当分区内的规则数量达到阈值<i>Thr</i><sub>re</sub> (比如10) 时, 运用算法1, 重新调整决策树.由于阈值<i>Thr</i><sub>re</sub>较小, 运行算法1的时间不会太长.</p>
                </div>
                <div class="p1">
                    <p id="65">此外, 规则的随机插入, 还可能导致通配符比例低的规则被通配符比例高的规则绑定的情况.若第一个插入的规则为<i>r</i><sub>6</sub>=&lt;***&gt;, 无论第二个规则为何, 都将与<i>r</i><sub>6</sub>位于同一叶节点, 无法再与其他规则区分.对此, 采用Jaccard相似度作为重叠规则的准入条件.定义规则A 和规则B的Jaccard相似度为:</p>
                </div>
                <div class="p1">
                    <p id="66" class="code-formula">
                        <mathml id="66"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>J</mi><mo stretchy="false"> (</mo><mi>A</mi><mo>, </mo><mi>B</mi><mo stretchy="false">) </mo><mo>=</mo><mfrac><mrow><mrow><mo>|</mo><mrow><mi>A</mi><mstyle displaystyle="true"><mo>∩</mo><mi>B</mi></mstyle></mrow><mo>|</mo></mrow></mrow><mrow><mrow><mo>|</mo><mrow><mi>A</mi><mstyle displaystyle="true"><mo>∪</mo><mi>B</mi></mstyle></mrow><mo>|</mo></mrow></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="67">对于掩码匹配规则, 定义<mathml id="68"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>A</mi><mstyle displaystyle="true"><mo>∩</mo><mi>B</mi></mstyle></mrow><mo>|</mo></mrow></mrow></math></mathml>为相同的非通配符比特数量:</p>
                </div>
                <div class="p1">
                    <p id="69"><mathml id="70"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>A</mi><mstyle displaystyle="true"><mo>∩</mo><mi>B</mi></mstyle></mrow><mo>|</mo></mrow><mo>=</mo><mtext>p</mtext><mtext>o</mtext><mtext>p</mtext></mrow></math></mathml>_count ( (<i>m</i> (<i>A</i>) &amp; <i>m</i> (<i>B</i>) ) &amp; (<i>k</i> (<i>A</i>) <sup>∧</sup><i>k</i> (<i>B</i>) ) )      (5) </p>
                </div>
                <div class="p1">
                    <p id="71">式中, <i>m</i> (<i>A</i>) 表示规则<i>A</i>的掩码, 有<i>m</i> (<i>r</i><sub>1</sub>) =&lt;111&gt;, 而<i>m</i> (<i>r</i><sub>6</sub>) =&lt;000&gt;;<i>k</i> (<i>A</i>) 表示规则<i>A</i>的值, 如<i>k</i> (<i>r</i><sub>1</sub>) =&lt;100&gt;, 而<i>k</i> (<i>r</i><sub>6</sub>) =&lt;000&gt;, pop_count (<i>b</i>) 表示比特向量<i>O</i> (<i>n</i>) 中1的个数.定义<i>O</i> (<i>m</i>log<i>n</i>) 为非通配符比特的数量:</p>
                </div>
                <div class="p1">
                    <p id="72" class="code-formula"><mathml id="73"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>A</mi><mstyle displaystyle="true"><mo>∪</mo><mi>B</mi></mstyle></mrow><mo>|</mo></mrow><mo>=</mo><mtext>p</mtext><mtext>o</mtext><mtext>p</mtext></mrow></math></mathml>_count<mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo> (</mo><mrow><mi>m</mi><mo stretchy="false"> (</mo><mi>A</mi><mo stretchy="false">) </mo><mo stretchy="false">|</mo><mi>m</mi><mo stretchy="false"> (</mo><mi>B</mi><mo stretchy="false">) </mo></mrow><mo>) </mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>6</mn><mo stretchy="false">) </mo></mrow></math></mathml></p>
                </div>
                <div class="p1">
                    <p id="75">通过 (4) 式可以计算出<i>J</i> (<i>r</i><sub>1</sub>, <i>r</i><sub>6</sub>) =0, 而<i>J</i> (<i>r</i><sub>1</sub>, <i>r</i><sub>5</sub>) =2/3.设置适当的相似度阈值<i>Thr</i><sub>sim</sub> (比如0.1) , 即可避免高通配符比例规则绑定的情况.</p>
                </div>
                <div class="p1">
                    <p id="76">对于规则删除, 为快速定位规则所在分区, 维护映射<i>M</i> (<i>R</i>) 记录规则插入的分区.在删除规则时, 除了从决策树中删除规则, 还应从<i>H</i> (<i>T</i>) 与<i>M</i> (<i>R</i>) 内移除对应的记录, 并根据需要重新排序分区.若分区<i>T</i>内不再含有其他规则, 删除分区<i>T</i>.<i>M</i> (<i>R</i>) 可采用平衡二叉树实现, 其插入和删除时间性能为<i>O</i> (log<i>n</i>) , 空间性能为<i>O</i> (<i>n</i>) .</p>
                </div>
                <div class="p1">
                    <p id="77">令分区数量为<i>m</i>, 则报文的分类时间与规则的插入时间为<i>O</i> (<i>m</i>log<i>n</i>) , 规则的删除时间与<i>m</i>无关, 为<i>O</i> (log<i>n</i>) , 算法的空间性能为<i>O</i> (<i>n</i>) .</p>
                </div>
                <h3 id="78" name="78" class="anchor-tag">3 <b>实验与分析</b></h3>
                <div class="p1">
                    <p id="79">为评估算法有效性, 本文实现了TernarySort算法, 并与TSS算法进行了比较, 后者采用Sorrachai的代码实现.</p>
                </div>
                <h4 class="anchor-tag" id="80" name="80">3.1 <b>实验环境</b></h4>
                <div class="p1">
                    <p id="81">实验使用的规则由ClassBench<citation id="108" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>生成, 使用12个种子文件 (5个ACL, 5个防火墙 (FW) , 2个IP-chain (IPC) ) , 生成1 k、2 k、4 k、8 k、16 k、32 k、64 k共7种不同大小的规则集合, 每种大小生成5个规则, 总共测试420个规则集合.这些规则由五元组定义, 其中IP地址使用最长前缀表示, 端口号使用范围表示, 协议号使用精确匹配表示.为支持这类规则, 在TernarySort算法的实现中, 对于无法使用掩码匹配表示端口范围的规则, 仅使用IP地址的比特用于规则划分.</p>
                </div>
                <div class="p1">
                    <p id="82">实验包括三类, 离线分类、在线分类、在线更新.离线分类使用所有规则生成静态的数据结构, 对1M个报文进行分类.在线分类, 按照随机顺序插入规则, 用生成的数据结构对1M个报文进行分类.报文数据由ClassBench根据规则生成.在线更新测试中, 使用一半的规则作为初始规则插入, 然后随机运行500 k次插入和500 k次删除, 统计规则的更新时间.</p>
                </div>
                <div class="p1">
                    <p id="83">实验运行的软件环境为Linux 4.12.14 64位系统, 硬件环境为Intel Core i5-4570 @ 3.20 GHz, 4核心, 4 GB DDR3内存.</p>
                </div>
                <h4 class="anchor-tag" id="84" name="84">3.2 <b>与</b>TSS<b>算法的比较</b></h4>
                <div class="p1">
                    <p id="85">使用在线分类测试比较TernarySort算法与TSS算法的分类性能.用TSS的报文分类时间除以TernarySort, 对420个比例求平均值, TernarySort的分类速度比TSS快88%.具体到60个64 k规则集合, TernarySort的分类速度比TSS快126%.图2展示了二者在不同规则集合上的分类时间.通过求分类时间的倒数, 可得到算法的吞吐速率, TernarySort可以实现1.79 Mpps的平均吞吐, 而TSS只有0.99 Mpps的平均吞吐.</p>
                </div>
                <div class="area_img" id="86">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_086.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 TernarySort算法与TSS算法的分类性能比较" src="Detail/GetImg?filename=images/WXYJ201904017_086.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 TernarySort<b>算法与</b>TSS<b>算法的分类性能比较</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_086.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="87">TernarySort的分类速度能够超过TSS的分类速度, 原因在于前者所需的分区数量远少于后者.如图3所示, TSS所需的分区数量平均为TernarySort的11倍, 报文查询的分区数量平均为TernarySort的7倍.</p>
                </div>
                <div class="area_img" id="88">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_088.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 TernarySort算法与TSS算法的分区数量比较" src="Detail/GetImg?filename=images/WXYJ201904017_088.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 TernarySort<b>算法与</b>TSS<b>算法的分区数量比较</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_088.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="89">使用在线更新测试比较TernarySort算法与TSS算法的更新性能.TernarySort的平均规则更新时间为1.07 μs, 最大更新时间为1.89 μs.对于大多数应用而言, 这样的规则更新性能已经足够.图4展示了TernarySort与TSS在不同规则集合上的平均更新时间.TernarySort的规则更新时间平均比TSS多83%.</p>
                </div>
                <div class="area_img" id="90">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_090.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 TernarySort算法与TSS算法的更新性能比较" src="Detail/GetImg?filename=images/WXYJ201904017_090.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 TernarySort<b>算法与</b>TSS<b>算法的更新性能比较</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_090.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="91">在内存占用方面, TernarySort与TSS所需的空间都为O (n) , TernarySort所需内存平均较TSS多38%.</p>
                </div>
                <h4 class="anchor-tag" id="92" name="92">3.3 <b>在线分区算法与离线分区算法的比较</b></h4>
                <div class="p1">
                    <p id="93">离线分类测试结果显示, TernarySort的离线分区算法在分类性能方面要明显优于在线分区算法.如图5所示, 在线算法的分类时间平均比离线算法多125%.在线算法中规则插入的顺序随机, 对比特的选则相对盲目.对比二者的分区数量, 在线算法平均比离线算法多106%.</p>
                </div>
                <div class="area_img" id="94">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 TernarySort在线分区算法与离线分区算法的分类性能比较" src="Detail/GetImg?filename=images/WXYJ201904017_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 TernarySort<b>在线分区算法与</b><b>离线分区算法的分类性能比较</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="95">图6展示了在线算法与离线算法的平均构建时间, 二者相差在1个量级以上.在线算法可以在0.1 s完成64 k个规则的插入, 而离线算法则需要2 s以上.对报文分类性能要求很高、更新性能要求较低的场景下, 采用离线分区算法会更好一些.</p>
                </div>
                <div class="area_img" id="96">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904017_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 TernarySort在线分区算法与离线分区算法的构建时间比较" src="Detail/GetImg?filename=images/WXYJ201904017_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 TernarySort<b>在线分区算法与</b><b>离线分区算法的构建时间比较</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904017_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="97" name="97" class="anchor-tag">4 <b>结束语</b></h3>
                <div class="p1">
                    <p id="98">此前的研究提出了可以同时满足高速分类和快速更新需求的网包分类算法.然而, 这些研究并不能应用于可编程数据平面的掩码匹配.针对这个问题, 本文提出了一种应用于支持快速增量更新的掩码匹配算法TernarySort, 基于有效比特的计算, 将掩码匹配规则划分为多个决策树, 同时提供高速的分类性能和快速的更新性能.在此基础上, 本文通过计算规则的相似性, 允许部分规则重叠, 以减少分区数量, 进一步提高分类性能.本文基于实际流量规则, 对所提方法进行了验证.实验结果表明, 与现有网包分类算法相比, 所提TernarySort算法可提升80%以上的分类性能, 同时保持快速的规则更新性能.本文的研究表明, TernarySort算法可以满足SDN对掩码匹配算法的性能要求.</p>
                </div>
                <div class="p1">
                    <p id="99">在未来工作中, 作者将针对多核环境的同步问题, 进一步优化TernarySort算法, 并在可编程数据平面中实现.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000047027&amp;v=MjAxNDI5RlpPOElESDQrb0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VYi9JSkYwUWJ4RT1OaWZJWTdLN0h0ak5yNA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> MCKEOWN N, AANDERSON T, BALAKRISHNAN H, et al. OpenFlow: enabling innovation in campus networks[J]. ACM SIGCOMM Computer Communication Review, 2008, 38 (2) : 69-74.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM14090900000282&amp;v=MjM4NDRUTW53WmVadUh5am1VYi9JSkYwUWJ4RT1OaWZJWTdLOEh0ak1wbzlGWk9zUERuUTdvQk1UNlQ0UFFIL2lyUmRHZXJxUQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> BOSSHART P, DALY D, GIBB G, et al. P4: Programming Protocol-independent Packet Processors[J]. ACM SIGCOMM Computer Communication Review, 2014, 44 (3) : 87-95.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Packet classification using hierarchical intelligent cuttings">

                                <b>[3]</b> GUPTA P, MCKEOWN N. Packet classification using hierarchical intelligent cuttings[A]. Hot Interconnects VII[C]. 1999: 34-41.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Meta-algorithms for Software-Based Packet Classification">

                                <b>[4]</b> HE P, XIE G, SALAMATION K, et al. Meta-algorithms for Software-Based Packet Classification[A]. 2014 IEEE 22nd International Conference on Network Protocols[C]. 2014: 308-319.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The Design and Implementation of Open vSwitch">

                                <b>[5]</b> PFAFF B, PETTIT J, KOPPNEN T, et al. The Design and Implementation of Open vSwitch[A]. 12th USENIX Symposium on Networked Systems Design and Implementation (NSDI 15) [C]. Oakland, CA: USENIX Association, 2015: 117-130.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Packet classification using tuple space search">

                                <b>[6]</b> SRINIVASAN V, SURI S, VARGHESE G. Packet Classification Using Tuple Space Search[A]. Proceedings of the Conference on Applications, Technologies, Architectures, and Protocols for Computer Communication[C]. New York, NY, USA: ACM, 1999: 135-146.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=TupleMerge: Building Online Packet Classifiers by Omitting Bits">

                                <b>[7]</b> DALY J, TORNG E. TupleMerge: Building Online Packet Classifiers by Omitting Bits[A]. 2017 26th International Conference on Computer Communication and Networks (ICCCN) [C]. 2017: 1-10.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Sorted-Partitioning Approach to Fast and Scalable Dynamic Packet Classification">

                                <b>[8]</b> YINGCHAREONTHAWORNCHAI S, DALY J, LIU A X, et al. A Sorted-Partitioning Approach to Fast and Scalable Dynamic Packet Classification[J]. IEEE/ACM Transactions on Networking, 2018: 1-14.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000094495&amp;v=MDE0MTZVYi9JSkYwUWJ4RT1OaWZJWTdLN0h0ak5yNDlGWk9JTENIVThvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp1SHlqbQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> TAYLOR D E, TURNER J S. Classbench: A packet classification benchmark[J]. IEEE/ACM Transactions on Networking (TON) , 2007, 15 (3) : 499-511.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201904017" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201904017&amp;v=MDQ4ODY0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5em1WN3JMTWpYU1pMRzRIOWpNcTQ5RVk0UUtESDg0dlI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
