<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133871047912500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dWXYJ201907011%26RESULT%3d1%26SIGN%3d1%252fnSPigEhOaze8yvRjPXXPr3%252bc4%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201907011&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201907011&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201907011&amp;v=MDg2NDhIOWpNcUk5RVpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5amtWNzdPTWpYU1pMRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#1" data-title="1 引言 ">1 引言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#5" data-title="2 TMR纠错系统硬件设计 ">2 TMR纠错系统硬件设计</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#6" data-title="2.1 系统硬件结构设计">2.1 系统硬件结构设计</a></li>
                                                <li><a href="#19" data-title="2.2 TMR IP核设计及实现">2.2 TMR IP核设计及实现</a></li>
                                                <li><a href="#31" data-title="2.3 AXI＿TMR IP核仿真">2.3 AXI＿TMR IP核仿真</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#37" data-title="3 TMR纠错系统软件设计 ">3 TMR纠错系统软件设计</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#47" data-title="4 板子上验证 ">4 板子上验证</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#49" data-title="5 结束语 ">5 结束语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#11" data-title="图1 系统硬件结构框图">图1 系统硬件结构框图</a></li>
                                                <li><a href="#23" data-title="图2 TMR IP核结构框图">图2 TMR IP核结构框图</a></li>
                                                <li><a href="#27" data-title="表1 AXI＿LITE总线四个寄存器使用说明">表1 AXI＿LITE总线四个寄存器使用说明</a></li>
                                                <li><a href="#28" data-title="表2 三模冗余真值表">表2 三模冗余真值表</a></li>
                                                <li><a href="#35" data-title="图3 TMR状态流程图">图3 TMR状态流程图</a></li>
                                                <li><a href="#36" data-title="图4 AXI＿TMR IP核封装图">图4 AXI＿TMR IP核封装图</a></li>
                                                <li><a href="#45" data-title="图5 AXI＿TMR IP核仿真图">图5 AXI＿TMR IP核仿真图</a></li>
                                                <li><a href="#46" data-title="图6 应用程序设计框图">图6 应用程序设计框图</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="53">


                                    <a id="bibliography_1" title="谭宜涛, 杨海钢, 黄娟, 等.基于关键路径的三模冗余表决器插入算法[J].电子与信息学报, 2012, 34 (2) :487-492." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZYX201202040&amp;v=MjYxNjc0SDlQTXJZOUJaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeWprVjc3T0lUZlNkckc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                        谭宜涛, 杨海钢, 黄娟, 等.基于关键路径的三模冗余表决器插入算法[J].电子与信息学报, 2012, 34 (2) :487-492.
                                    </a>
                                </li>
                                <li id="55">


                                    <a id="bibliography_2" title="桂江华, 徐睿, 卓琳.基于三模冗余架构的集成电路加固设计[J].中国电子科学研究院学报, 2013, 8 (6) :643-646." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJPL201306018&amp;v=MTk0MTVxcUJ0R0ZyQ1VSTE9lWmVWdUZ5amtWNzdPTGlmYllyRzRIOUxNcVk5RWJJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                        桂江华, 徐睿, 卓琳.基于三模冗余架构的集成电路加固设计[J].中国电子科学研究院学报, 2013, 8 (6) :643-646.
                                    </a>
                                </li>
                                <li id="57">


                                    <a id="bibliography_3" title="张超, 赵伟, 刘峥.基于FPGA的三模冗余容错技术研究[J].现代电子技术, 2011, 34 (05) :167-171." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201105054&amp;v=MjU1Njc0SDlETXFvOUFZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeWprVjc3T1BTblBaTEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                        张超, 赵伟, 刘峥.基于FPGA的三模冗余容错技术研究[J].现代电子技术, 2011, 34 (05) :167-171.
                                    </a>
                                </li>
                                <li id="59">


                                    <a id="bibliography_4" title="王猛, 岳素格, 赵元富, 陆振林.一种改进的三模冗余任务同步方法[J].微电子学与计算机, 2015, 32 (9) :177-180." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201509036&amp;v=MjM1NDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1Rnlqa1Y3N09NalhTWkxHNEg5VE1wbzlHWW9RS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                        王猛, 岳素格, 赵元富, 陆振林.一种改进的三模冗余任务同步方法[J].微电子学与计算机, 2015, 32 (9) :177-180.
                                    </a>
                                </li>
                                <li id="61">


                                    <a id="bibliography_5" title="杨玉辰, 周国昌, 巨艇, 等.三模冗余反馈纠错技术在星载电路加固设计中的应用与实现[J].空间电子技术, 2017, 14 (2) :34-37." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJDZ201702008&amp;v=MDg3Njk5Yk1yWTlGYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1Rnlqa1Y3N09MaWZQZExHNEg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                        杨玉辰, 周国昌, 巨艇, 等.三模冗余反馈纠错技术在星载电路加固设计中的应用与实现[J].空间电子技术, 2017, 14 (2) :34-37.
                                    </a>
                                </li>
                                <li id="63">


                                    <a id="bibliography_6" title="王豪, 刘博, 张旭光.一种面向航天应用的高可靠FP-GA设计架构研究[J].航天控制, 2015, 33 (6) :64-69." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTKZ201506012&amp;v=MTM4NDBGckNVUkxPZVplVnVGeWprVjc3T0xUbkFkTEc0SDlUTXFZOUVab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                        王豪, 刘博, 张旭光.一种面向航天应用的高可靠FP-GA设计架构研究[J].航天控制, 2015, 33 (6) :64-69.
                                    </a>
                                </li>
                                <li id="65">


                                    <a id="bibliography_7" title="韩月涛, 潘伟萍, 杨帆, 等.基于FPGA的三模冗余UART电路设计[J].电子测量技术, 2011, 34 (3) :57-61." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201103014&amp;v=MTIxNDBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5amtWNzdPSVRmSVlyRzRIOURNckk5RVlJUUs=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                        韩月涛, 潘伟萍, 杨帆, 等.基于FPGA的三模冗余UART电路设计[J].电子测量技术, 2011, 34 (3) :57-61.
                                    </a>
                                </li>
                                <li id="67">


                                    <a id="bibliography_8" title="ds190-Zynq-7000SoC Data Sheet Overview v.1.11.1[EB/OL].2018.http∥www xiilnx com/suport/documentation/data_sheets/ds190-Zynq-7000-Overview.pdf." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=ds190-Zynq-7000SoC Data Sheet Overview v.1.11.1">
                                        <b>[8]</b>
                                        ds190-Zynq-7000SoC Data Sheet Overview v.1.11.1[EB/OL].2018.http∥www xiilnx com/suport/documentation/data_sheets/ds190-Zynq-7000-Overview.pdf.
                                    </a>
                                </li>
                                <li id="69">


                                    <a id="bibliography_9" title="AO R, CHEN Q Q, LI Z W, et al.Multi-objective evolutionary design of selective triple modular redundancy systems against SEUs[J].Chinese Journal of Aeronautics, 2015, 28 (3) :804-813." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES739A1EED14D28036A147C5D65B2C0CE2&amp;v=MTA5ODk4R1VOcytkQ09OdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQ3BiUTM1ZGhoeExtN3dhND1OaWZPZmJTN0Y2RE4ydm94WmU5N0RuUTV6QkJpNnp0Nk8zcVdxaGRIZQ==&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                        AO R, CHEN Q Q, LI Z W, et al.Multi-objective evolutionary design of selective triple modular redundancy systems against SEUs[J].Chinese Journal of Aeronautics, 2015, 28 (3) :804-813.
                                    </a>
                                </li>
                                <li id="71">


                                    <a id="bibliography_10" title="SHUBHAM C ANJANKAR, MAHESH T KOLTE, AJINKYA PUND, et al.FPGA based multiple fault tolerant and recoverable technique using triple modular redundancy (FRTMR) [J].Procedia Computer Science, 2016, DOI:10.1016/j.procs.2016.03.109." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=FPGA Based Multiple Fault Tolerant and Recoverable Technique Using Triple Modular Redundancy (FRTMR)">
                                        <b>[10]</b>
                                        SHUBHAM C ANJANKAR, MAHESH T KOLTE, AJINKYA PUND, et al.FPGA based multiple fault tolerant and recoverable technique using triple modular redundancy (FRTMR) [J].Procedia Computer Science, 2016, DOI:10.1016/j.procs.2016.03.109.
                                    </a>
                                </li>
                                <li id="73">


                                    <a id="bibliography_11" title="ug702-Partial Reconfiguration User Guide v14.5[EB/OL].2013.http:∥www xiilnx com/suport/documentation/data_manu/xillinx14_7/ug702.pdf." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=ug702-Partial Reconfiguration User Guide v14.5">
                                        <b>[11]</b>
                                        ug702-Partial Reconfiguration User Guide v14.5[EB/OL].2013.http:∥www xiilnx com/suport/documentation/data_manu/xillinx14_7/ug702.pdf.
                                    </a>
                                </li>
                                <li id="75">


                                    <a id="bibliography_12" title="pg162-logicover IP AXI Master Burst v2.0[EB/OL]2013.http:∥www xiilnx com/suport/documentation/axi_matster_burst/v2_0/pg162http:∥www xiilnx com/suport/documentation/axi-master-burst.pdf." target="_blank"
                                       href="">
                                        <b>[12]</b>
                                        pg162-logicover IP AXI Master Burst v2.0[EB/OL]2013.http:∥www xiilnx com/suport/documentation/axi_matster_burst/v2_0/pg162http:∥www xiilnx com/suport/documentation/axi-master-burst.pdf.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(07),54-58+64             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm">基于SOC的三模冗余纠错系统设计及实现</span>
                                    </h1>

            </div>
                        <h2>
                                <a href="javascript:;">陈锋</a>
                                <a href="javascript:;">张磊</a>
                                <a href="javascript:;">宫永生</a>
                </h2>
                    <h2>

                    <span>中国科学院大学</span>
                    <span>中国科学院空间应用工程与技术中心</span>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对航天领域逐渐开始使用的SOC器件的DDR缓存容易在空间应用环境下发生数据错误的问题, 本文设计并实现了一种三模冗余纠错系统, 目的是保证空间应用环境下SOC器件DDR缓存数据的正确性.本系统通过硬件电路的形式进行三模冗余表决, 并把表决结果写回DDR相应的缓存地址空间.既减少了对CPU资源的占用, 又提高了表决速度.本设计提出了一种反馈纠错机制, 区别于一般的三模冗余能容错但不纠错的特性, 能快速地、批量地进行数据纠错.并通过Xilinx公司的XC702开发板验证, 当开发板的DDR注入错误数据后, 本设计可以成功地在开发板上进行系统容错并纠正源地址的错误数据.达到了确保SOC器件DDR缓存正确性的目的.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=SOC&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">SOC;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=TMR&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">TMR;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%B9%E9%94%99&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">容错;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BA%A0%E9%94%99&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">纠错;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    陈锋 男, (1992-) , 硕士研究生.研究方向为FPGA部分动态重配置.E-mail:chenfeng16@csu.ac.cn.;
                                </span>
                                <span>
                                    张磊 男, (1971-) , 硕士, 高级工程师.研究方向为卫星通信.;
                                </span>
                                <span>
                                    宫永生 男, (1984-) , 博士, 副研究员.研究方向为空间数据存储.;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-09-18</p>

            </div>
                    <h1>Design and realization of TMR error correction system based on SOC</h1>
                    <h2>
                    <span>CHEN Feng</span>
                    <span>ZHANG Lei</span>
                    <span>GONG Yong-sheng</span>
            </h2>
                    <h2>
                    <span>University of Chinese Academy of Sciences</span>
                    <span>Technology and Engineering Center for Space Utilization, Chinese Academy of Sciences</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Aiming at the problem that DDR cache of SOC devices used in the aerospace field is easy to generate data errors in the space application environment, this paper designs and implements a three-mode redundancy error correction system to ensure the accuracy of DDR cache data in the space application environment.The system carries on the three-mode redundancy voting through the hardware circuit form, and writes the voting result back DDR corresponding cache address space.It not only reduces the CPU resource, but also increases the voting speed.In this design, a feedback error correction mechanism is proposed, which is different from the general three-mode redundancy, which can tolerate but not correct errors, and can quickly and in batches correct errors.It is verified through XC702 development board of Xilinx company.After the DDR of the development board is injected with error data, this design can successfully carry out the system fault tolerance and correct the error data of the source address on the development board.The accuracy of the SOC device DDR cache is ensured.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=SOC&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">SOC;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=TMR&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">TMR;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=errors%20tolerance&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">errors tolerance;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=errors%20correction&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">errors correction;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-09-18</p>
                            </div>


        <!--brief start-->
                        <h3 id="1" name="1" class="anchor-tag">1 引言</h3>
                <div class="p1">
                    <p id="2">在航天领域使用SOC器件存在一个很严重的问题, 即如何是保证DDR缓存的正确性.本文采用的方法是:对DDR缓存进行三模冗余 (Triple Modular Redundancy, TMR) 容错并纠错DDR源地址错误数据<citation id="77" type="reference"><link href="53" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="3">TMR设计是电路设计领域应用广泛的容错方法, 它常用于一些重要的航天器件的容错加固设计.TMR的核心是利用冗余去屏蔽已发生的故障对整个电路的影响<citation id="78" type="reference"><link href="55" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>.但是, 它不能对出错的模块进行修复.当一个模块出错后, 我们只是将错误通过多数表决器屏蔽, 但是该模块的错误数据仍然存在.而且一般的TMR也不能对错误进行检测和定位, 以便系统进行修复.如果出现的错误得不到及时修复, 那么当另外两个模块的其中一个的对应地址的数据再次出现错误时, TMR将失效<citation id="79" type="reference"><link href="57" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>.通过将TMR表决器的输出反馈到这三个模块中, 可以在容错的基础上达到纠正错误的功能.</p>
                </div>
                <div class="p1">
                    <p id="4">本系统充分利用FPGA运行的并行性, 将TMR的数据表决和反馈纠正DDR中源地址错误数据移植到FPGA中执行, 简化了软件执行流程, 缩短了时间开销<citation id="80" type="reference"><link href="59" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>.在本系统设计中, 把TMR设计封装成IP核的形式, 利用DMA IP核实现TMR的三个模块 (在本系统中为DDR中三段缓存地址) 的数据容错, 以及将TMR表决器输出反馈写到这三个模块的源数据地址段中覆盖错误的源数据<citation id="81" type="reference"><link href="61" rel="bibliography" /><link href="63" rel="bibliography" /><sup>[<a class="sup">5</a>,<a class="sup">6</a>]</sup></citation>.相对于一般的TMR设计, 本系统能很好的解决SOC器件在空间应用环境下DDR缓存出错问题, 并及时纠正错误缓存.</p>
                </div>
                <h3 id="5" name="5" class="anchor-tag">2 TMR纠错系统硬件设计</h3>
                <h4 class="anchor-tag" id="6" name="6">2.1 系统硬件结构设计</h4>
                <div class="p1">
                    <p id="7">本系统设计是通过在FPGA上使用硬件描述语言 (Hardware Description Language, HDL) 编程实现的.把TMR的功能封装成IP核, 方便系统调用.</p>
                </div>
                <div class="p1">
                    <p id="8">TMR基本原理为:使用三个完全相同的模块存储或执行相同数据, 由表决器以三中取二原则对其输出进行表决, 以确定整个系统的输出.TMR系统可以容忍一个模块发生故障而不影响整个系统运行的正确性<citation id="82" type="reference"><link href="65" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>.本系统在TMR的基础上, 把表决器的输出反馈回这三个模块的源地址段 (即对应DDR中的三段缓存地址空间) , 以实现迅速的纠错.为了提高TMR的数据读取, 以及表决后数据写回的速率.采用DMA (Direct Memory Access) IP核的方式来执行搬运数据工作, 可做到快速的、批量的数据读写.TMR单次处理数据块为DDR中的2K缓存数据, 可以通过修改TMR IP核改变单次处理的数据块.本系统结构框图如图1所示.</p>
                </div>
                <div class="p1">
                    <p id="9">本系统的数据总线采用AXI4总线, 控制总线采用AXI4＿LITE总线.对于挂载在DMA IP核上的FIFO (First Input First Output) 模块, 采用无地址信号的AXI4＿Stream总线<citation id="83" type="reference"><link href="67" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>.对图1中的各个IP核的介绍如下:</p>
                </div>
                <div class="p1">
                    <p id="10"> (1) PS为SOC架构FPGA板卡上的处理器.主要负责DMA IP核的读写控制, 以及使能和接收TMR IP核的反馈信号.</p>
                </div>
                <div class="area_img" id="11">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_01100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 系统硬件结构框图" src="Detail/GetImg?filename=images/WXYJ201907011_01100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 系统硬件结构框图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_01100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="12"> (2) AXI＿DMA为xilinx官方IP核, 主要负责TMR的三个模块运算数据的读取, 以及把TMR IP核表决结果写回到TMR的三个模块.</p>
                </div>
                <div class="p1">
                    <p id="13"> (3) AXI4-Stream Data FIFO为挂载在DMA IP核上的FIFO模块, 用于DMA读写数据的缓存.</p>
                </div>
                <div class="p1">
                    <p id="87"> (4) AXI＿BRAM Controller为BRAM (Block Random Access Memory) IP核连接到AXI4总线的控制器.用于DMA IP核通过AXI4总线对BRAM IP核进行读写操作.</p>
                </div>
                <div class="p1">
                    <p id="16"> (5) BRAM用于TMR三个模块数据表决前的缓存以及表决结果的缓存.</p>
                </div>
                <div class="p1">
                    <p id="17"> (6) TMR为三模冗余表决器IP核.它通过AXI4＿LITE总线接受处理器的控制, 以及把表决完成标志位反馈给处理器.</p>
                </div>
                <div class="p1">
                    <p id="18">本系统采用Xilinx的XC7Z020-1CLG484-I板卡作为实现平台.在此系统中TMR的三个模块即为挂载在PS端的PS＿DDR的三段缓存空间.系统采用的BRAM大小为8k.前6k缓存空间分别存储来自于PS＿DDR三段缓存空间的各2k数据, 由DMA IP核进行数据搬运, 用于TMR表决.最后2k缓存空间用于暂存TMR表决输出结果, 此结果由DMA IP核搬运写回DDR的三段缓存空间的相应的源数据地址段.TMR IP核每次表决的数据块大小为2k.</p>
                </div>
                <h4 class="anchor-tag" id="19" name="19">2.2 TMR IP核设计及实现</h4>
                <div class="p1">
                    <p id="20">由于BRAM作为TMR执行表决前后的数据缓存, 那么它就是TMR的数据交互对象, 而处理器就是TMR的控制信号来源以及反馈对象.</p>
                </div>
                <div class="p1">
                    <p id="21">BRAM IP核设置为双端口类型.端口A用于DMA的读写操作, 端口B用于TMR的读写操作.设置BRAM读写数据宽度为32bits, 设置操作模式为写优先.把双端口的读延迟设置为一个时钟周期.8k的BRAM逻辑地址空间为0x0000～0x1FFF.0x0000～0x07FF为TMR模块1的数据缓存空间, 0x0800～0x0FFF为TMR模块2的数据缓存空间, 0x1000～0x17FF为TMR模块3的数据缓存空间, 0x1800～0x1FFF为TMR表决结果的数据缓存空间.</p>
                </div>
                <div class="p1">
                    <p id="22">在工程设计中, 把BRAM IP核与TMR IP核封装在一起, 形成具有缓存功能的TMR IP核, 如图2中的AXI＿TMR就是此IP核结构框图.图中BRAM的端口A要映射到AXI＿TMR IP核外, 作为DMA的读写操作端口<citation id="84" type="reference"><link href="69" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>.</p>
                </div>
                <div class="area_img" id="23">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_02300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 TMR IP核结构框图" src="Detail/GetImg?filename=images/WXYJ201907011_02300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 TMR IP核结构框图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_02300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="24">把AXI＿TMR IP核封装成AXI＿LITE总线形式, 寄存器数量默认四个, 但只用到两个即slv＿reg0和slv＿reg1.由于只用到slv＿reg0的写功能和slv＿reg1的读功能.所以为了减少占用FPGA的逻辑资源, 屏蔽掉slv＿reg0的读功能和slv＿reg1的写功能以及slv＿reg2、slv＿reg3的代码.</p>
                </div>
                <div class="p1">
                    <p id="25">对于slv＿reg0和slv＿reg1寄存器, 只用到它的第0位.把slv＿reg0的第0位映射为TMR的状态机入口寄存器, slv＿reg0则成为了TMR的使能寄存器, 也就成为了AXI＿TMR IP核的使能寄存器.把TMR完成2K数据操作的标志信号映射给slv＿reg1的第0位, 当TMR完成操作时, 标志信号输出高电平即二进制1, 则slv＿reg1的第0位也为1.当PS读取slv＿reg1的第0位为1时, 便可以使能DMA读取BRAM中最后2K暂存的TMR表决结果, 写回DDR的三段缓存空间, 如表1所示.</p>
                </div>
                <div class="p1">
                    <p id="26">表2为三模冗余真值表, 根据此表得到TMR的表决公式为:ab+bc+ac=y.在电路上表现为三路信号两两相与, 得到的结果再经过或门就得到表决输出y<citation id="85" type="reference"><link href="71" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>.</p>
                </div>
                <div class="area_img" id="27">
                                            <p class="img_tit">
                                                表1 AXI＿LITE总线四个寄存器使用说明
                                                
                                                &nbsp;&nbsp;
                                                <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_02700.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a>
                                                <a class="table downimg" data-tablename="Detail/GetImg?filename=images/WXYJ201907011_02700.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">下载原表</a>
                                            </p>
                                    <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_02700.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <img alt="表1 AXI＿LITE总线四个寄存器使用说明" src="Detail/GetImg?filename=images/WXYJ201907011_02700.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                    </a>

                </div>
                <div class="area_img" id="28">
                                            <p class="img_tit">
                                                表2 三模冗余真值表
                                                
                                                &nbsp;&nbsp;
                                                <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_02800.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a>
                                                <a class="table downimg" data-tablename="Detail/GetImg?filename=images/WXYJ201907011_02800.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">下载原表</a>
                                            </p>
                                    <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_02800.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <img alt="表2 三模冗余真值表" src="Detail/GetImg?filename=images/WXYJ201907011_02800.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                    </a>

                </div>
                <div class="p1">
                    <p id="29">根据TMR的表决公式, 以及BRAM的读写特性.设计TMR状态流程图如图3所示.其中a.addr为BRAM的逻辑首地址.</p>
                </div>
                <div class="p1">
                    <p id="30">根据图3实现的AXI＿TMR IP核封装图如图4所示.其中clka、rsta、ena、wea、addra、dina、douta信号为图2中BRAM IP核的PROTA的端口信号.</p>
                </div>
                <h4 class="anchor-tag" id="31" name="31">2.3 AXI＿TMR IP核仿真</h4>
                <div class="p1">
                    <p id="32">TMRIP核的仿真采用vivado自带的仿真器.以下为仿真文件设计思路, 仿真输入时钟为100MHz.</p>
                </div>
                <div class="p1">
                    <p id="33"> (1) 在BRAM IP核的0x0000～0x17FF地址空间造数.由于BRAM的读写数据宽度设置为32bits, 即每个数据用四个字节表示.所以可以在地址空间0x0000～0x07FF、0x0800～0x0FFF、0x1000～0x17FF内分别连续写入0～511、100～611、0～511.</p>
                </div>
                <div class="p1">
                    <p id="34"> (2) 给AXI＿LITE接口的slv＿reg0寄存器赋值1, 等待10个时钟周期再赋值0;然后等待9 000个时钟周期, 接着循环赋值1和0;如此反复三次.当slv＿reg0寄存器第0位赋值1时, 便开始使能AXI＿TMR IP核.等待9 000个时钟周期是为了让AXI＿TMR IP核有足够的时钟周期完成2k数据的操作, 实际上TMR完成2k数据需要的时钟周期为12*512个时钟远小于9 000, 12表示TMR的状态机的状态个数, 512表示对2K数据共做512次TMR操作.图5为AXI＿TMR IP核仿真图的部分截图.</p>
                </div>
                <div class="area_img" id="35">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_03500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 TMR状态流程图" src="Detail/GetImg?filename=images/WXYJ201907011_03500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 TMR状态流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_03500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="36">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_03600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 AXI＿TMR IP核封装图" src="Detail/GetImg?filename=images/WXYJ201907011_03600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 AXI＿TMR IP核封装图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_03600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="37" name="37" class="anchor-tag">3 TMR纠错系统软件设计</h3>
                <div class="p1">
                    <p id="38">本系统基于SDK软件平台进行软件应用程序设计.在完成图1的系统硬件结构设计, 并生成比特流后, 导入SDK中形成硬件平台封装文件.之后, 在新建的工程里开始本系统的应用程序设计.图6为本系统应用程序设计框图<citation id="86" type="reference"><link href="73" rel="bibliography" /><link href="75" rel="bibliography" /><sup>[<a class="sup">11</a>,<a class="sup">12</a>]</sup></citation>, 在图6和具体设计步骤的说明中, TMR的三个模块 (模块1, 2, 3) 即为DDR中的三个地址段 (地址段1, 2, 3) .具体设计步骤如下:</p>
                </div>
                <div class="p1">
                    <p id="39"> (1) 构建一个DMA中断资源初始化函数, 以使能DMA中断.当DMA正确地完成数据搬运时, 发送通道和接收通道的中断标志信号 (TxDone和RxDone) 将变1, 如果DMA搬运数据出错, 中断返回信号Error将变1.</p>
                </div>
                <div class="p1">
                    <p id="40"> (2) 宏定义TMR的三个模块地址空间, 该地址空间即DDR中的三个地址段, 每个模块存储空间为8k.再定义一个 (2k+4) Bytes的地址空间用于缓存DMA搬回DDR的BRAM最后2k数据+BRAM最后2k的最后4个Bytes.</p>
                </div>
                <div class="p1">
                    <p id="41">定义这个缓存地址空间的理由如下:根据BRAM的特性, DMA从BRAM的0x1800～0x1FFF地址空间读数据时, 读到的第一个数据是TMR模块做完三模冗余后通过BRAM端口B写入BRAM的最后一个数据即写入地址空间0x1FFC～0x1FFF的4个Bytes大小的数据.所以在该缓存空间中应该把DMA从BRAM搬运的第一个数据放置到最后.然后再从此缓存的基地址+4Bytes处开始, 通过DMA把2k的数据搬到DDR的三个地址段的的相应的地址空间中.</p>
                </div>
                <div class="p1">
                    <p id="42"> (3) 初始化TMR的三个模块, 分别往模块1、2、3中造数0～2 047, 100～2 147, 0～2 047.模块2初始化的数据为注入的错误数据.</p>
                </div>
                <div class="p1">
                    <p id="43"> (4) 分别把TMR的三个模块中的2K数据即模块1的0～511, 模块2的100～611, 模块3的0～511.通过DMA搬运到BRAM中的0x0000～0x07FF, 0x0800～0x0FFF, 0x1000～0x17FF地址空间.当TMR模块做完2K数据的三模冗余操作并将表决结果存入BRAM的0x1800～0x1FFF地址空间后, DMA从该地址空间把2k数据搬运回模块1、2、3的相应地址 (即DDR中三个地址段的相应地址) .然后, 再循环地从TMR的三个模块的下一个2K地址空间搬运数据到BRAM中, 如此循环, 直到把TMR三个模块中的数据表决完.</p>
                </div>
                <div class="p1">
                    <p id="44"> (5) PS通过AXI＿LITE接口写入slv＿reg0[0]一个脉冲.当TMR模块接收到此脉冲上升沿的下个周期开始工作, 然后让CPU监听AXI＿LITE接口的slv＿reg1[0]的状态, 当slv＿reg1[0]变为1时, 表示TMR已经将2k数据的表决结果写入BRAM的0x1800～0x1FFF地址空间.此时, CPU再次启动DMA, 把表决结果搬运回TMR的三个模块的相应地址空间中, 以纠正相应的错误数据.如此循环, 直到把TMR三个模块中的数据表决完.</p>
                </div>
                <div class="area_img" id="45">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_04500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 AXI＿TMR IP核仿真图" src="Detail/GetImg?filename=images/WXYJ201907011_04500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 AXI＿TMR IP核仿真图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_04500.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="46">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201907011_04600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 应用程序设计框图" src="Detail/GetImg?filename=images/WXYJ201907011_04600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 应用程序设计框图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201907011_04600.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="47" name="47" class="anchor-tag">4 板子上验证</h3>
                <div class="p1">
                    <p id="48">验证平台为Xilinx XC7Z020-1CLG484-I.通过串口调试工具将表决的结果打印出来.实验结果表明.虽然, 模块2 (即DDR地址段2) 为注入的错误数据, 但因为模块1和2数据完全相同, 所以表决结果正确.而且, 在表决结果反馈给DDR的三个地字段1, 2, 3后, 再去读取地址段2的数据, 发现错误的数据被纠正了.实验结果表明, 本系统既屏蔽了DDR2的错误数据, 同时在每次表决结束后又快速地纠正了模块2的错误数据.</p>
                </div>
                <h3 id="49" name="49" class="anchor-tag">5 结束语</h3>
                <div class="p1">
                    <p id="50">在当前航天领域逐渐使用SOC器件的背景下, 本文设计并实现了一种三模冗余纠错系统, 经过开发板验证, 证明该系统在屏蔽DDR错误数据的同时, 可以及时快速地、批量地纠正DDR缓存数据, 从而保证SOC器件DDR缓存的正确性.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="53">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZYX201202040&amp;v=MTIyNTBQTXJZOUJaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeWprVjc3T0lUZlNkckc0SDk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b>谭宜涛, 杨海钢, 黄娟, 等.基于关键路径的三模冗余表决器插入算法[J].电子与信息学报, 2012, 34 (2) :487-492.
                            </a>
                        </p>
                        <p id="55">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJPL201306018&amp;v=Mjg3MjdlWmVWdUZ5amtWNzdPTGlmYllyRzRIOUxNcVk5RWJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b>桂江华, 徐睿, 卓琳.基于三模冗余架构的集成电路加固设计[J].中国电子科学研究院学报, 2013, 8 (6) :643-646.
                            </a>
                        </p>
                        <p id="57">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201105054&amp;v=MjQ5MzMzenFxQnRHRnJDVVJMT2VaZVZ1Rnlqa1Y3N09QU25QWkxHNEg5RE1xbzlBWUlRS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b>张超, 赵伟, 刘峥.基于FPGA的三模冗余容错技术研究[J].现代电子技术, 2011, 34 (05) :167-171.
                            </a>
                        </p>
                        <p id="59">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201509036&amp;v=MjI1MjdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1Rnlqa1Y3N09NalhTWkxHNEg5VE1wbzlHWW9RS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b>王猛, 岳素格, 赵元富, 陆振林.一种改进的三模冗余任务同步方法[J].微电子学与计算机, 2015, 32 (9) :177-180.
                            </a>
                        </p>
                        <p id="61">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJDZ201702008&amp;v=MTMwMzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeWprVjc3T0xpZlBkTEc0SDliTXJZOUZiSVE=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b>杨玉辰, 周国昌, 巨艇, 等.三模冗余反馈纠错技术在星载电路加固设计中的应用与实现[J].空间电子技术, 2017, 14 (2) :34-37.
                            </a>
                        </p>
                        <p id="63">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTKZ201506012&amp;v=MjAwNTBUTXFZOUVab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeWprVjc3T0xUbkFkTEc0SDk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b>王豪, 刘博, 张旭光.一种面向航天应用的高可靠FP-GA设计架构研究[J].航天控制, 2015, 33 (6) :64-69.
                            </a>
                        </p>
                        <p id="65">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201103014&amp;v=MzIzMjNVUkxPZVplVnVGeWprVjc3T0lUZklZckc0SDlETXJJOUVZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b>韩月涛, 潘伟萍, 杨帆, 等.基于FPGA的三模冗余UART电路设计[J].电子测量技术, 2011, 34 (3) :57-61.
                            </a>
                        </p>
                        <p id="67">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=ds190-Zynq-7000SoC Data Sheet Overview v.1.11.1">

                                <b>[8]</b>ds190-Zynq-7000SoC Data Sheet Overview v.1.11.1[EB/OL].2018.http∥www xiilnx com/suport/documentation/data_sheets/ds190-Zynq-7000-Overview.pdf.
                            </a>
                        </p>
                        <p id="69">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES739A1EED14D28036A147C5D65B2C0CE2&amp;v=MDUxMzZwYlEzNWRoaHhMbTd3YTQ9TmlmT2ZiUzdGNkROMnZveFplOTdEblE1ekJCaTZ6dDZPM3FXcWhkSGU4R1VOcytkQ09OdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQw==&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b>AO R, CHEN Q Q, LI Z W, et al.Multi-objective evolutionary design of selective triple modular redundancy systems against SEUs[J].Chinese Journal of Aeronautics, 2015, 28 (3) :804-813.
                            </a>
                        </p>
                        <p id="71">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=FPGA Based Multiple Fault Tolerant and Recoverable Technique Using Triple Modular Redundancy (FRTMR)">

                                <b>[10]</b>SHUBHAM C ANJANKAR, MAHESH T KOLTE, AJINKYA PUND, et al.FPGA based multiple fault tolerant and recoverable technique using triple modular redundancy (FRTMR) [J].Procedia Computer Science, 2016, DOI:10.1016/j.procs.2016.03.109.
                            </a>
                        </p>
                        <p id="73">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=ug702-Partial Reconfiguration User Guide v14.5">

                                <b>[11]</b>ug702-Partial Reconfiguration User Guide v14.5[EB/OL].2013.http:∥www xiilnx com/suport/documentation/data_manu/xillinx14_7/ug702.pdf.
                            </a>
                        </p>
                        <p id="75">
                            <a id="bibliography_12" target="_blank" href="">

                                <b>[12]</b>pg162-logicover IP AXI Master Burst v2.0[EB/OL]2013.http:∥www xiilnx com/suport/documentation/axi_matster_burst/v2_0/pg162http:∥www xiilnx com/suport/documentation/axi-master-burst.pdf.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201907011" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201907011&amp;v=MDg2NDhIOWpNcUk5RVpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5amtWNzdPTWpYU1pMRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
