<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133314608408750%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dWXYJ201912007%26RESULT%3d1%26SIGN%3d5aFoRhMjpPCqv4HGq9ztyP7gzRg%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201912007&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201912007&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201912007&amp;v=MzIxMTNZOUZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGeURuVmJySk1qWFNaTEc0SDlqTnI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#19" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#22" data-title="2 AXIe&lt;b&gt;总线与时间交织采样&lt;/b&gt; ">2 AXIe<b>总线与时间交织采样</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#23" data-title="2.1 AXIe&lt;b&gt;总线&lt;/b&gt;">2.1 AXIe<b>总线</b></a></li>
                                                <li><a href="#27" data-title="2.2 &lt;b&gt;时间交织采样&lt;/b&gt;">2.2 <b>时间交织采样</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#31" data-title="3 AXIe&lt;b&gt;高速数据采集传输接口设计&lt;/b&gt; ">3 AXIe<b>高速数据采集传输接口设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#35" data-title="3.1 &lt;b&gt;数据采集模块设计&lt;/b&gt;">3.1 <b>数据采集模块设计</b></a></li>
                                                <li><a href="#40" data-title="3.2 &lt;b&gt;数据缓存模块设计&lt;/b&gt;">3.2 <b>数据缓存模块设计</b></a></li>
                                                <li><a href="#51" data-title="3.3 AXIe&lt;b&gt;数据传输接口设计&lt;/b&gt;">3.3 AXIe<b>数据传输接口设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#62" data-title="4 &lt;b&gt;实验结果及分析&lt;/b&gt; ">4 <b>实验结果及分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#66" data-title="4.1 &lt;b&gt;数据采集模块分析验证&lt;/b&gt;">4.1 <b>数据采集模块分析验证</b></a></li>
                                                <li><a href="#68" data-title="4.2 &lt;b&gt;数据缓存模块分析验证&lt;/b&gt;">4.2 <b>数据缓存模块分析验证</b></a></li>
                                                <li><a href="#70" data-title="4.3 &lt;b&gt;数据传输模块分析验证&lt;/b&gt;">4.3 <b>数据传输模块分析验证</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#74" data-title="5 &lt;b&gt;结束语&lt;/b&gt; ">5 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#25" data-title="&lt;b&gt;图&lt;/b&gt;1 AXIe&lt;b&gt;体系结构&lt;/b&gt;"><b>图</b>1 AXIe<b>体系结构</b></a></li>
                                                <li><a href="#30" data-title="&lt;b&gt;图&lt;/b&gt;2 &lt;b&gt;时间交织采样示意图&lt;/b&gt;"><b>图</b>2 <b>时间交织采样示意图</b></a></li>
                                                <li><a href="#34" data-title="&lt;b&gt;图&lt;/b&gt;3 AXIe&lt;b&gt;数据采集传输系统构架&lt;/b&gt;"><b>图</b>3 AXIe<b>数据采集传输系统构架</b></a></li>
                                                <li><a href="#38" data-title="&lt;b&gt;图&lt;/b&gt;4 &lt;b&gt;芯片输出时钟示意图&lt;/b&gt;"><b>图</b>4 <b>芯片输出时钟示意图</b></a></li>
                                                <li><a href="#44" data-title="&lt;b&gt;图&lt;/b&gt;5 &lt;b&gt;数据转换拼接原理框图&lt;/b&gt;"><b>图</b>5 <b>数据转换拼接原理框图</b></a></li>
                                                <li><a href="#48" data-title="&lt;b&gt;图&lt;/b&gt;6 &lt;b&gt;跨时钟域处理后两路数据拼接图&lt;/b&gt;"><b>图</b>6 <b>跨时钟域处理后两路数据拼接图</b></a></li>
                                                <li><a href="#49" data-title="&lt;b&gt;图&lt;/b&gt;7 DDR3&lt;b&gt;控制器构架&lt;/b&gt;"><b>图</b>7 DDR3<b>控制器构架</b></a></li>
                                                <li><a href="#53" data-title="&lt;b&gt;图&lt;/b&gt;8 &lt;b&gt;仲裁器状态转移图&lt;/b&gt;"><b>图</b>8 <b>仲裁器状态转移图</b></a></li>
                                                <li><a href="#56" data-title="&lt;b&gt;图&lt;/b&gt;9 &lt;b&gt;数据传输状态图&lt;/b&gt;"><b>图</b>9 <b>数据传输状态图</b></a></li>
                                                <li><a href="#59" data-title="&lt;b&gt;图&lt;/b&gt;10 RIFFA&lt;b&gt;架构&lt;/b&gt;"><b>图</b>10 RIFFA<b>架构</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;图&lt;/b&gt;11 &lt;b&gt;发送数据搬移图&lt;/b&gt;"><b>图</b>11 <b>发送数据搬移图</b></a></li>
                                                <li><a href="#64" data-title="&lt;b&gt;图&lt;/b&gt;12 &lt;b&gt;单路采样点显示图&lt;/b&gt;"><b>图</b>12 <b>单路采样点显示图</b></a></li>
                                                <li><a href="#65" data-title="&lt;b&gt;图&lt;/b&gt;13 &lt;b&gt;两片&lt;/b&gt;ADC&lt;b&gt;交织情况下采样点显示图&lt;/b&gt;"><b>图</b>13 <b>两片</b>ADC<b>交织情况下采样点显示图</b></a></li>
                                                <li><a href="#72" data-title="&lt;b&gt;图&lt;/b&gt;14 PCIe&lt;b&gt;接口波形显示图&lt;/b&gt;"><b>图</b>14 PCIe<b>接口波形显示图</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" AXIe-1:Base Architecture Specification Revision 2.0[S].USA.AXIeConsortium ,2010." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Base Architecture Specification">
                                        <b>[1]</b>
                                         AXIe-1:Base Architecture Specification Revision 2.0[S].USA.AXIeConsortium ,2010.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 许川佩,黄天怀.基于FPGA的AXIe接口设计[J].仪表技术与传感器,2016(10):45-49." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YBJS201610012&amp;v=Mjc5MzlHRnJDVVJMT2VaZVZ2RnlEblZickpQQy9CZmJHNEg5Zk5yNDlFWm9RS0RIODR2UjRUNmo1NE8zenFxQnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         许川佩,黄天怀.基于FPGA的AXIe接口设计[J].仪表技术与传感器,2016(10):45-49.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" NARCISO S.Introduction to AXIe[C]//2010IEEE AUTOTESTCON,Orlando,FL,2010:1-5." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Introduction to AXIe">
                                        <b>[3]</b>
                                         NARCISO S.Introduction to AXIe[C]//2010IEEE AUTOTESTCON,Orlando,FL,2010:1-5.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" HAASZ V.AXIe — New standard for the highest performance test and measurement applications[C]//Proceedings of the 6th IEEE International Conference on Intelligent Data Acquisition and Advanced Computing Systems,Prague,2011:30-32." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=AXIe-New standard for the highest performance test and measurement applications">
                                        <b>[4]</b>
                                         HAASZ V.AXIe — New standard for the highest performance test and measurement applications[C]//Proceedings of the 6th IEEE International Conference on Intelligent Data Acquisition and Advanced Computing Systems,Prague,2011:30-32.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 甘伟旺,李智.并行交替高速数字化仪的研究与设计[J].现代电子技术,2016,39(23):78-82." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201623020&amp;v=MTk3NThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RnlEblZickpQU25QWkxHNEg5Zk9ySTlIWkk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         甘伟旺,李智.并行交替高速数字化仪的研究与设计[J].现代电子技术,2016,39(23):78-82.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 杨扩军,田书林,蒋俊,等.基于TIADC的20 GS/s高速数据采集系统[J].仪器仪表学报,2014,35(4):841-849." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB201404018&amp;v=MTI4MjNVUkxPZVplVnZGeURuVmJySlBEelRiTEc0SDlYTXE0OUViSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         杨扩军,田书林,蒋俊,等.基于TIADC的20 GS/s高速数据采集系统[J].仪器仪表学报,2014,35(4):841-849.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 简磊,陈莹莹.基于FPGA的TIADC并行采样系统设计[J].电子测试,2017(2):5-6." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WDZC201702003&amp;v=MzE5ODBNaW5SYmJHNEg5Yk1yWTlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RnlEblZicko=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         简磊,陈莹莹.基于FPGA的TIADC并行采样系统设计[J].电子测试,2017(2):5-6.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" BLACK W,HODGES D.Time interleaved converter arrays[J].IEEE journal of solid-state circuits,1980,15(6):1022-1029." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=TIME INTERLEAVED CONVERTER ARRAYS">
                                        <b>[8]</b>
                                         BLACK W,HODGES D.Time interleaved converter arrays[J].IEEE journal of solid-state circuits,1980,15(6):1022-1029.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(12),30-35             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>AXIe高速数据采集传输接口设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%AE%B8%E5%B7%9D%E4%BD%A9&amp;code=10737332&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">许川佩</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%9F%B9%E6%BA%90&amp;code=40018688&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张培源</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%8C%83%E5%85%B4%E8%8C%82&amp;code=42862711&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">范兴茂</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%A1%82%E6%9E%97%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E5%B9%BF%E8%A5%BF%E8%87%AA%E5%8A%A8%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF%E4%B8%8E%E4%BB%AA%E5%99%A8%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=0269119&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">桂林电子科技大学广西自动检测技术与仪器重点实验室</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>为了解决海量数据的高速传输问题,本文以AXIe(Advanced TCA Extensions for Instrumentation)总线为传输架构,重点设计数据的高速缓存和传输接口,并设计时间交织数据采集模块完成AXIe数据采集传输接口验证.通过两片ADC实现时间交织数据采样功能,将DDR3作为数据的深存储单元,采用PCI Express实现数据高速传输.在FPGA上完成设计,使用ILA嵌入式逻辑分析仪进行功能验证.结果表明,该设计能很好地实现交织采样功能,完成基于AXIe总线的数据传输.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BA%A4%E7%BB%87%E9%87%87%E6%A0%B7&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">交织采样;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=DDR3&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">DDR3;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PCI%20Express&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PCI Express;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=AXIe%E6%8E%A5%E5%8F%A3&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">AXIe接口;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    许川佩,女,(1968-),博士,教授,博士生导师.研究方向为自动测试总线与系统、集成电路测试技术.;
                                </span>
                                <span>
                                    *张培源,男,(1993-),硕士研究生.研究方向为集成电路测试技术.E-mail:1337862538@qq.com.;
                                </span>
                                <span>
                                    范兴茂,男,(1995-),硕士研究生.研究方向为集成电路测试技术.;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-01-21</p>

            </div>
                    <h1><b>The design of high-speed data acquisition and transmission interface of AXIe</b></h1>
                    <h2>
                    <span>XU Chuan-pei</span>
                    <span>ZHANG Pei-yuan</span>
                    <span>FAN Xing-mao</span>
            </h2>
                    <h2>
                    <span>Guangxi Key Laboratory of Automatic Detection Technology and Instrument,Gulin University of Electronic Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>In order to solve the problem of high-speed transmission of massive data, this paper uses AXIe(advanced TCA extensions for instrumentation) bus as the transmission architecture, and focuses on the design of data cache and transmission interface, and designs time-interleaved data acquisition module to complete AXIe data acquisition and transmission interface verification. The time-interleaved data sampling function is realized by two ADCs, and DDR3 is used as a deep storage unit of data, and high-speed data transmission is realized by using PCI Express. The design was done on the FPGA and functional verification using the ILA embedded logic analyzer. The results show that the design can achieve the interleaving sampling function well and complete the data transmission based on AXIe bus.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=time-interleaved&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">time-interleaved;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=DDR3&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">DDR3;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PCI%20Express&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PCI Express;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=AXIe%20interface&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">AXIe interface;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-01-21</p>
                            </div>


        <!--brief start-->
                        <h3 id="19" name="19" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="20">随着现代信息技术的发展,对测试系统的要求越来越高,如何实现更高速的无缝数据采集与传输是测试技术的难点.伴随着总线技术的发展,最新一代总线AXIe总线标准不仅具备ATCA(Advanced Telecom Computing Architecture,先进电信计算机构架)的先进特性,还拥有比VXI和PXI更大的功率、更快的散热和更高的数据吞吐率,并且可以兼容如LXI和PXI等已有的总线标准<citation id="76" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.AXIe体系结构能够更好的满足高速数据采集传输系统的发展需求<citation id="77" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>.文献<citation id="78" type="reference">[<a class="sup">3</a>]</citation>、<citation id="79" type="reference">[<a class="sup">4</a>]</citation>研究了AXIe标准和测量应用,文献<citation id="80" type="reference">[<a class="sup">2</a>]</citation>设计了基于千兆网和PCI Express两种通讯方式的AXIe接口.</p>
                </div>
                <div class="p1">
                    <p id="21">受半导体制造工艺和成本的影响,单片ADC芯片很难同时满足高性能和低成本的要求.时间交织采样结构可以有效提高整个系统的采样率,又能降低系统成本<citation id="81" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>.文献<citation id="82" type="reference">[<a class="sup">5</a>]</citation>介绍了一种基于四片ADC并行交替采样高速数字化仪.文献<citation id="83" type="reference">[<a class="sup">6</a>]</citation>设计了一套基于4通道时间交织高速数据采集系统,并将它应用在数字示波器上.文献<citation id="84" type="reference">[<a class="sup">7</a>]</citation>介绍一种基于多片ADC的时间交织并行采样方法以及在FPGA平台上的实现.但是上述文献并没有对AXIe总线在时间交织数据采集系统中的应用作详细阐述.本文重点设计数据采集模块和AXIe之间的传输接口,用时间交织技术设计A/D模块,实现基于AXIe总线的高速数据采集.</p>
                </div>
                <h3 id="22" name="22" class="anchor-tag">2 AXIe<b>总线与时间交织采样</b></h3>
                <h4 class="anchor-tag" id="23" name="23">2.1 AXIe<b>总线</b></h4>
                <div class="p1">
                    <p id="24">AXIe总线标准是高级电子计算机架构在仪器和测试领域的扩展,以ATCA规范为基础,应用分层化结构,具有三个区域.如图1所示,AXIe体系结构采用了ATCA规范中的外形结构、电源及散热、整个平台的管理和数据传输方式等.AXIe-1是AXIe的基本架构,在ATCA的基础上增加触发、同步、定时和本地总线.AXIe-2又在此基础上做出了软件规范,也在相关配置和控制方面做出规范.它们主要涉及区域1和区域2.AXIe-3.1主要增加在半导体等方面的测试,AXIe-3.n作为扩展用于对未来领域区定于标准,主要域3上<citation id="85" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.</p>
                </div>
                <div class="area_img" id="25">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 AXIe体系结构" src="Detail/GetImg?filename=images/WXYJ201912007_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 AXIe<b>体系结构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="26">AXIe基本接口采用星型拓扑结构,同时支持10/100/1000 BASE-T以太网和PCIe 1.0/2.0/3.0每通道2.5/5.0/8.0Gb/s接口协议.每个通信接口占用两行连接器引脚,具有8 对差分信号,最多支持四通道端口配置.AXIe提供多种触发信号和同步信号,如点到点同步信号SYNC、双向触发信号STRIG、模块间触发总线TRIG.提供通信接口参考时钟FCLK和仪器参考时钟CLK100.</p>
                </div>
                <h4 class="anchor-tag" id="27" name="27">2.2 <b>时间交织采样</b></h4>
                <div class="p1">
                    <p id="28">时间交织采样思想最早是由Black和Hodges提出<citation id="86" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>,其基本思路是通过多路ADC对同一被测信号进行并行采样.如图2所示,有M路ADC,每路采样率为<i>f</i><sub><i>s</i></sub>,相邻两路间采样时钟相位相差2π/M,最后把采样数据按照采样先后顺序进行拼接,得到采样率为M倍<i>f</i><sub><i>s</i></sub>的数据采集系统.</p>
                </div>
                <div class="p1">
                    <p id="29">理想情况下,时间交织采样方式为均匀采样,相邻通道采样间隔相同,在实际设计中,受限于工艺影响,每片ADC芯片性能指标不可能完全一致.采样时钟的抖动与偏斜会造成相邻两通道间采样间隔不均匀.因此时间交织采样系统实际应用中是周期非均匀采样,对各通道间基准电压、增益、时钟延时要求较高.</p>
                </div>
                <div class="area_img" id="30">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 时间交织采样示意图" src="Detail/GetImg?filename=images/WXYJ201912007_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 <b>时间交织采样示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="31" name="31" class="anchor-tag">3 AXIe<b>高速数据采集传输接口设计</b></h3>
                <div class="p1">
                    <p id="32">本文要实现一个以AXIe为通信架构的数据采集系统,通过AXIe总线的PCIe进行传输.考虑到系统数据采集模块和PCIe总线间速率不匹配问题,采用大容量存储器做为数据缓存模块配合PCIe进行数据传输和接收.本文重点设计采集数据和AXIe总线间的存储及传输接口,通过时间交织采样模式采集数据进行验证.系统整体分为三部分进行实现,数据采集模块,数据缓存模块和数据传输模块.其中数据采集模块采用时间交织采样技术实现,需要相位可控的低抖动时钟保证采样效果.DDR3存储器具有高速、低功耗、容量大的特性,可以较好的满足存储模块的要求.FPGA支持多电平标准,又带有丰富的IP核,包括DDR3控制器和PCIe控制器,满足系统的设计需求.通过RIFFA(PC机和FPGA间通信架构)实现采集数据通过AXIe到PC端的传输.按照系统功能划分为以下几个主要模块,模拟前端模块、时钟产生模块、数据接收模块、数据组包模块、DDR3控制模块、RIFFA ENDPOINT架构、AXIe相关接口.整体系统构架如图3所示.</p>
                </div>
                <div class="p1">
                    <p id="33">系统的整体工作流程为:被测信号经过模拟前端进行信号调理,通过 ADC完成模数转换,结果经FPGA接收处理缓存到DDR3内,最后通过RIFFA架构以AXIe的PCI Express接口实现数据传输.</p>
                </div>
                <div class="area_img" id="34">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_034.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 AXIe数据采集传输系统构架" src="Detail/GetImg?filename=images/WXYJ201912007_034.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 AXIe<b>数据采集传输系统构架</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_034.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="35" name="35">3.1 <b>数据采集模块设计</b></h4>
                <div class="p1">
                    <p id="36">被测信号易受杂波干扰,需进行模拟前端设计.模拟前端设计主要包括有源衰减、抗混叠滤波、输入保护、阻抗变换几部分组成.本文通过两片AD9226高速ADC芯片组成两路时间交织数据采样模块.AD9226芯片具有12bit精度,最高65MSPS采样率,同时满足低成本,高信噪比(69dB @ <i>f</i><sub>IN</sub> = 31 MHz)的要求.</p>
                </div>
                <div class="p1">
                    <p id="37">采样时钟的抖动将会加重相位误差,直接影响波形的重建.本文选用ADI公司的AD9516时钟芯片,其具有低相位噪声锁相环.同时支持4对最高250 MHz CMOS 时钟输出,每对共用两个级联的分频器和相位粗调延时,可实现最高180°相位延时调节,芯片输出的时钟抖动为275 fs,满足数据采样模块对时钟的要求.系统采样时钟输出如图4所示.</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 芯片输出时钟示意图" src="Detail/GetImg?filename=images/WXYJ201912007_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 <b>芯片输出时钟示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="39">设计中使用芯片内部VCO,通过AXIe背板输入100 MHz参考时钟,先通过内部倍频产生2 GHZ时钟频率,再经过分频产生两路CMOS时钟输出信号.</p>
                </div>
                <h4 class="anchor-tag" id="40" name="40">3.2 <b>数据缓存模块设计</b></h4>
                <div class="p1">
                    <p id="41">数据缓存模块实现对两路ADC采集数据的接收转换,并通过FPGA进行组包存储.</p>
                </div>
                <h4 class="anchor-tag" id="42" name="42">3.2.1 数据转换与拼接</h4>
                <div class="p1">
                    <p id="43">设计中ADC接口是LVDS差分信号,FPGA内部不能采用差分信号进行传输,在信号进入FPGA时先经过IBUFDS原语实现差分转单端处理.ADC采样时钟和FPGA工作时钟属于不同的时钟区域,采样数据需同步到FPGA工作的时钟域,设计中采用异步FIFO实现跨时钟域的处理并对两路数据进行封包和拼接.整体框图如图5所示.</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 数据转换拼接原理框图" src="Detail/GetImg?filename=images/WXYJ201912007_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 <b>数据转换拼接原理框图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="45">时间交织采样具有并行性,两路采样数据相差Ts/2(Ts是采样周期),数据拼接要考虑到后续波形的还原.设计中以CLK2为同步时钟,把CLK1的采样数据同步到CLK2上,同步后数据DATA1和DATA2按先后顺序拼接在一起.数据拼接如图6所示.</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46">3.2.2 DDR3控制接口设计</h4>
                <div class="p1">
                    <p id="47">拼接完成的数据先经DDR3缓存.Xilinx 7系列FPGA提供DDR3底层控制接口,为了更适用于本文设计,需要对接口进行改进.如图7所示,在原有DDR3 IP核的基础上添加读写控制模块、读写数据缓存模块、读写命令缓存模块、读写仲裁器以及命令选择器.通过添加以上模块,DDR3控制器可以实现1-64位深度的读写数据和命令突发长度.并且根据设计需求设定写优先级大于读优先级,地址可以根据数据的读写进度自动计算出下一步操作位置.</p>
                </div>
                <div class="area_img" id="48">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 跨时钟域处理后两路数据拼接图" src="Detail/GetImg?filename=images/WXYJ201912007_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 <b>跨时钟域处理后两路数据拼接图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="49">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 DDR3控制器构架" src="Detail/GetImg?filename=images/WXYJ201912007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>7 DDR3<b>控制器构架</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="50">DDR3读写速度快,但读和写不能同步进行,设计中引入仲裁器来避免读写冲突问题.如图8所示,当进行DDR3 IP核初始化时,仲裁器状态处于不可操作状态START.若初始化完成,仲裁器状态进入ARBIT,此时,可以进行读写操作分配.如果有写请求,仲裁器就进入状态WR,进行写操作,操作完成后跳回读写分配装态ARBIT.若读写请求同时有效,先进行写操作.当仲裁器进入状态RD时,进行数据读操作.</p>
                </div>
                <h4 class="anchor-tag" id="51" name="51">3.3 AXIe<b>数据传输接口设计</b></h4>
                <div class="p1">
                    <p id="52">DDR3上缓存的数据通过AXIe进行传输,本文选用PCIe作为传输接口,采用PCIe2.0四通道进行传输.PCIe的控制以及FPGA端到PC端的通信由RIFFA架构实现.</p>
                </div>
                <div class="area_img" id="53">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 仲裁器状态转移图" src="Detail/GetImg?filename=images/WXYJ201912007_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>8 <b>仲裁器状态转移图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="54" name="54">3.3.1 PCIe接口设计</h4>
                <div class="p1">
                    <p id="55">对于PCIe接口的设计,调用IP核可以节约时间,但给出的接口不能直接用于本文.本文采用RIFFA ENDPOINT框架在FPGA内部实现IP核和USER端的通信.通过传输控制器监测PCIe和DDR3的工作状态,实现数据缓存模块和传输模块间的数据传输管理.如图9所示,数据传输状态转移图.当数据传输模块处于初始化时,控制器处于初始状态S0.初始化完成后进入S1状态,如果此时检测到PCIe上有接收数据,控制器就会进入S4状态进行数据接收.当控制器在S5状态时,FIFO存储器对PCIe上的数据进行缓存,直到数据传输结束标志RX_LAST拉高时,完成此组数据缓存,跳回到S4状态.数据发送流程和数据接收相似,控制器在S1状态判断PCIe总线的占用情况,检测到空闲时进入S2状态,进行数据发送.S3状态实现FIFO缓存的数据往PCIe总线发送.</p>
                </div>
                <div class="area_img" id="56">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 数据传输状态图" src="Detail/GetImg?filename=images/WXYJ201912007_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>9 <b>数据传输状态图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="57" name="57">3.3.2 RIFFA架构</h4>
                <div class="p1">
                    <p id="58">AXIe通信架构下PCIe单通道可以实现5 Gb/s 的传输速率,最多支持四通道同时工作.为了提高FPGA和PC机之间数据交换的效率,减少不必要的带宽消耗,一个合适的架构必不可少.RIFFA是一个通过PCIe总线实现CPU和FPGA数据通信的简单架构,该架构在用户端留有独立的数据发送和接收端口.RIFFA不依赖PCIe Bridge,使用直接存储器访问(DMA)传输和中断模式传输数据,运行速率可以到达PCIe链路的饱和点.其架构如图10所示,RIFFA架构分为PC端和FPGA端两部分,通过PCIe进行连接.PC端提供上层驱动和协议库,FPGA端包括PCIe底层接口、数据发送接收模块、通道选择模块和用户通道.RIFFA通过RX/TX DMA Engine模块采用分散收集地址信息的方法实现数据传输.RIFFA最多支持12个连接通道,使用第二代PCIe情况下支持32位、64位和128位数据传输宽度,本文采用32位宽2个连接通道进行数据传输.</p>
                </div>
                <div class="area_img" id="59">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 RIFFA架构" src="Detail/GetImg?filename=images/WXYJ201912007_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>10 RIFFA<b>架构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="60">RIFFA架构下数据传输分发送数据搬移和接收数据搬移.如图11所示,发送数据搬移是用户通过应用程序调用库函数fpga_recv,然后由FPGA端实现启动.用户应用程序线程进入内核驱动传输程序,然后开始接收FPGA的写请求,将数据分包发送.启动发送函数后,服务器建立一个散列元素收集列表,将数据存储地址和长度等信息放入其中,写入共享缓冲区.用户应用程序将缓冲区相关信息发送给FPGA. FPGA根据缓冲区地址进行数据写入,如果散列收集元素列表的地址有多个,FPGA将通过中断发出多次请求.待发送数据全部写入缓存区后,驱动程序读取FPGA写入的字节数,确认是否与已发送的数据长度一致.如果长度相同,此次数据发送完成.RIFFA架构下数据接收搬移流程和数据发送操作方向相反,调用内核驱动方式相同.</p>
                </div>
                <div class="area_img" id="61">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 发送数据搬移图" src="Detail/GetImg?filename=images/WXYJ201912007_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>11 <b>发送数据搬移图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="62" name="62" class="anchor-tag">4 <b>实验结果及分析</b></h3>
                <div class="p1">
                    <p id="63">主要对时间交织数据采集模块、数据缓存模块和数据传输模块以及整体传输进行分析验证.</p>
                </div>
                <div class="area_img" id="64">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图12 单路采样点显示图" src="Detail/GetImg?filename=images/WXYJ201912007_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>12 <b>单路采样点显示图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="65">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_065.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图13 两片ADC交织情况下采样点显示图" src="Detail/GetImg?filename=images/WXYJ201912007_065.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>13 <b>两片</b>ADC<b>交织情况下采样点显示图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_065.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="66" name="66">4.1 <b>数据采集模块分析验证</b></h4>
                <div class="p1">
                    <p id="67">数据采集模块完成模数信号的转换,实现时间交织数据采集功能.Xilinx FPGA集成开发环境Vivado下自带逻辑分析仪ILA,可以对FPGA内部信号进行抓取.本文通过信号发生器对两路ADC同时输入10 MHz峰峰值为5 V的正弦波信号.每路ADC的采样率设为输入信号频率的5倍为50 MSPS.两路交织下的采样率为100 MSPS,可在被测信号一个周期内采集10个样点.ILA嵌入式逻辑分析仪可以对抓到的数据按时间排列组成波形显示,但不能处理数据.图12是单通道采样显示效果图,图13是两路采样通道交织情况显示效果图.通过对比可以发现单片ADC采集情况下波形还原效果较差,两片ADC时间交织采集下波形还原效果明显得到改善.交织状态下采样时钟相差180°,如图13所示,波形还原效果较好,时钟芯片产生的两路相移时钟可以满足采样要求.</p>
                </div>
                <h4 class="anchor-tag" id="68" name="68">4.2 <b>数据缓存模块分析验证</b></h4>
                <div class="p1">
                    <p id="69">数据缓存模块主要对DDR3的读写进行验证,通过ILA抓取DDR3中的读写数据.本文采用666MHz作为DDR3的工作时钟,突发长度设为64位,读写地址按顺序增加.写信号主要包括写使能,写数据,写地址和写计数.在写使能wr_en有效后,写数据wr_data依次写入,写计数data_cnt每次加一,写地址在完成64个数据传输后进行新地址写入.读数据流程和写数据相反,先把起始地址、突发长度、读使能等相关命令写入控制器.然后控制器根据命令输出数据和可读使能rd_data_valid,用户根据可读使能接收数据.通过ILA抓取读写信号,可以确定数据缓存模块能完成数据存储工作.</p>
                </div>
                <h4 class="anchor-tag" id="70" name="70">4.3 <b>数据传输模块分析验证</b></h4>
                <div class="p1">
                    <p id="71">数据传输模块包括AXIe相关接口信息,PCIe采用第二代总线规范,每通道传输速率为5Gb/s,配置为四通道.本文对RIFFA构架下PCIe数据传输进行验证,分为数据发送和接收.通过ILA 抓取传输数据,并对数据做波形显示验证数据传输准确性.图14是采集数据在PCIe接口处波形显示图.</p>
                </div>
                <div class="area_img" id="72">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201912007_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图14 PCIe接口波形显示图" src="Detail/GetImg?filename=images/WXYJ201912007_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>14 PCIe<b>接口波形显示图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201912007_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="73">如图14所示,通过ILA嵌入式逻辑分析仪抓取PCIe接口处的采集数据,然后按时间进行数据连线显示.通过和图13的波形对比可以发现传输数据没有问题.FPGA端和PC端通过PCIe总线进行数据传输信号.每次中断请求axis_tx_tlast有效时,一组数据axis_tx_tdata写入RIFFA内核,然后由内核驱动程序进行数据发送.PCIe数据传输是双向的,数据接收流程相同,多组数据传输时,通过中断方式每次传输一组数据.通过波形显示图和PCIe信号图,说明RIFFA架构可以通过PCIe总线实现FPGA端到PC端的通信.</p>
                </div>
                <h3 id="74" name="74" class="anchor-tag">5 <b>结束语</b></h3>
                <div class="p1">
                    <p id="75">本文通过研究AXIe总线在数据采集中的具体应用,为了实现数据的高效传输,以DDR3为深存储单元配合PCIe的DMA方式进行设计.采用自顶而下的结构对各个部分进行模块化设计,并通过硬件描述语言Verilog完成逻辑实现,工程具有可移植性和扩展性.结果验证,本设计可以实现时间交织数据采样功能,能达到数据高速缓存和传输效果,系统运行稳定.可以根据实际需求更换更高的ADC芯片提高数据传输接口的带宽利用.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Base Architecture Specification">

                                <b>[1]</b> AXIe-1:Base Architecture Specification Revision 2.0[S].USA.AXIeConsortium ,2010.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YBJS201610012&amp;v=MjE5MzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZ5RG5WYnJKUEMvQmZiRzRIOWZOcjQ5RVpvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 许川佩,黄天怀.基于FPGA的AXIe接口设计[J].仪表技术与传感器,2016(10):45-49.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Introduction to AXIe">

                                <b>[3]</b> NARCISO S.Introduction to AXIe[C]//2010IEEE AUTOTESTCON,Orlando,FL,2010:1-5.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=AXIe-New standard for the highest performance test and measurement applications">

                                <b>[4]</b> HAASZ V.AXIe — New standard for the highest performance test and measurement applications[C]//Proceedings of the 6th IEEE International Conference on Intelligent Data Acquisition and Advanced Computing Systems,Prague,2011:30-32.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201623020&amp;v=MjgxMzJGeURuVmJySlBTblBaTEc0SDlmT3JJOUhaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 甘伟旺,李智.并行交替高速数字化仪的研究与设计[J].现代电子技术,2016,39(23):78-82.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB201404018&amp;v=MDQ5MzZiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGeURuVmJySlBEelRiTEc0SDlYTXE0OUU=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 杨扩军,田书林,蒋俊,等.基于TIADC的20 GS/s高速数据采集系统[J].仪器仪表学报,2014,35(4):841-849.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WDZC201702003&amp;v=MDYzMTBiTXJZOUZaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGeURuVmJySk1pblJiYkc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 简磊,陈莹莹.基于FPGA的TIADC并行采样系统设计[J].电子测试,2017(2):5-6.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=TIME INTERLEAVED CONVERTER ARRAYS">

                                <b>[8]</b> BLACK W,HODGES D.Time interleaved converter arrays[J].IEEE journal of solid-state circuits,1980,15(6):1022-1029.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201912007" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201912007&amp;v=MzIxMTNZOUZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGeURuVmJySk1qWFNaTEc0SDlqTnI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR00wSFZOZ1ZITVBhbjNuajd3OD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
