<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133357217940000%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dWXYJ201911003%26RESULT%3d1%26SIGN%3d6LP8qbZ1PykHGLNW2VDguU9FHgY%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201911003&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201911003&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201911003&amp;v=MjA3NjVMRzRIOWpOcm85Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXcnJKTWpYU1o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#27" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#29" data-title="2 &lt;b&gt;几种实时操作系统简介&lt;/b&gt; ">2 <b>几种实时操作系统简介</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#34" data-title="3 RT-preempt&lt;b&gt;补丁原理&lt;/b&gt; ">3 RT-preempt<b>补丁原理</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#36" data-title="3.1 &lt;b&gt;中断线程化&lt;/b&gt;">3.1 <b>中断线程化</b></a></li>
                                                <li><a href="#40" data-title="3.2 &lt;b&gt;临界区可抢占&lt;/b&gt;">3.2 <b>临界区可抢占</b></a></li>
                                                <li><a href="#42" data-title="3.3 &lt;b&gt;高精度时钟&lt;/b&gt;">3.3 <b>高精度时钟</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#44" data-title="4 &lt;b&gt;实时抢占补丁性能测试&lt;/b&gt; ">4 <b>实时抢占补丁性能测试</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#46" data-title="4.1 &lt;b&gt;测试环境&lt;/b&gt;">4.1 <b>测试环境</b></a></li>
                                                <li><a href="#49" data-title="4.2 &lt;b&gt;进程上下文切换时间&lt;/b&gt;">4.2 <b>进程上下文切换时间</b></a></li>
                                                <li><a href="#70" data-title="4.3 &lt;b&gt;中断响应和恢复时间&lt;/b&gt;">4.3 <b>中断响应和恢复时间</b></a></li>
                                                <li><a href="#76" data-title="4.4 Cyclictest&lt;b&gt;测试&lt;/b&gt;">4.4 Cyclictest<b>测试</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#82" data-title="5 &lt;b&gt;系统可靠性的设计&lt;/b&gt; ">5 <b>系统可靠性的设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#84" data-title="5.1 MIPS&lt;b&gt;异常处理简介&lt;/b&gt;">5.1 MIPS<b>异常处理简介</b></a></li>
                                                <li><a href="#90" data-title="5.2 &lt;b&gt;异常处理的与实现&lt;/b&gt;">5.2 <b>异常处理的与实现</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#95" data-title="6 &lt;b&gt;结束语&lt;/b&gt; ">6 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#32" data-title="&lt;b&gt;表&lt;/b&gt;1 &lt;b&gt;各种&lt;/b&gt;RTOS&lt;b&gt;比较&lt;/b&gt;"><b>表</b>1 <b>各种</b>RTOS<b>比较</b></a></li>
                                                <li><a href="#39" data-title="&lt;b&gt;图&lt;/b&gt;1 &lt;b&gt;中断线程化过程&lt;/b&gt;"><b>图</b>1 <b>中断线程化过程</b></a></li>
                                                <li><a href="#48" data-title="&lt;b&gt;表&lt;/b&gt;2 &lt;b&gt;测试环境&lt;/b&gt;"><b>表</b>2 <b>测试环境</b></a></li>
                                                <li><a href="#69" data-title="&lt;b&gt;图&lt;/b&gt;2 &lt;b&gt;标准&lt;/b&gt;Linux&lt;b&gt;测试结果&lt;/b&gt;"><b>图</b>2 <b>标准</b>Linux<b>测试结果</b></a></li>
                                                <li><a href="#72" data-title="&lt;b&gt;图&lt;/b&gt;3 &lt;b&gt;图中断测试流程&lt;/b&gt;"><b>图</b>3 <b>图中断测试流程</b></a></li>
                                                <li><a href="#74" data-title="&lt;b&gt;表&lt;/b&gt;3 RT-preempt&lt;b&gt;与&lt;/b&gt;VxWorks&lt;b&gt;性能对比&lt;/b&gt;"><b>表</b>3 RT-preempt<b>与</b>VxWorks<b>性能对比</b></a></li>
                                                <li><a href="#78" data-title="&lt;b&gt;图&lt;/b&gt;4 &lt;b&gt;标准&lt;/b&gt;Linux&lt;b&gt;测试结果&lt;/b&gt;"><b>图</b>4 <b>标准</b>Linux<b>测试结果</b></a></li>
                                                <li><a href="#79" data-title="&lt;b&gt;图&lt;/b&gt;5 &lt;b&gt;实时&lt;/b&gt;Linux&lt;b&gt;测试结果&lt;/b&gt;"><b>图</b>5 <b>实时</b>Linux<b>测试结果</b></a></li>
                                                <li><a href="#80" data-title="&lt;b&gt;表&lt;/b&gt;4 &lt;b&gt;实时和非实时内核&lt;/b&gt;cyclictest&lt;b&gt;测试结果对比&lt;/b&gt;"><b>表</b>4 <b>实时和非实时内核</b>cyclictest<b>测试结果对比</b></a></li>
                                                <li><a href="#86" data-title="&lt;b&gt;表&lt;/b&gt;5 Cause&lt;b&gt;寄存器&lt;/b&gt;"><b>表</b>5 Cause<b>寄存器</b></a></li>
                                                <li><a href="#89" data-title="&lt;b&gt;表&lt;/b&gt;6 &lt;b&gt;异常表&lt;/b&gt;"><b>表</b>6 <b>异常表</b></a></li>
                                                <li><a href="#93" data-title="&lt;b&gt;表&lt;/b&gt;7 &lt;b&gt;异常处理策略&lt;/b&gt;"><b>表</b>7 <b>异常处理策略</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="111">


                                    <a id="bibliography_1" title=" 邹玉龙,刘彬,田小莉,等.基于龙芯1E1F航天应用平台与VxWorks系统的VxBus型驱动设计[J].计算机测量与控制,2018,26 (5):108-112." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JZCK201805026&amp;v=Mjc2MzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXcnJJTHpmSVpiRzRIOW5NcW85SFlvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         邹玉龙,刘彬,田小莉,等.基于龙芯1E1F航天应用平台与VxWorks系统的VxBus型驱动设计[J].计算机测量与控制,2018,26 (5):108-112.
                                    </a>
                                </li>
                                <li id="113">


                                    <a id="bibliography_2" >
                                        <b>[2]</b>
                                     黄江泉.面向航天应用的高可靠系统软件设计研究[D].北京:中国科学院研究生院,2012.</a>
                                </li>
                                <li id="115">


                                    <a id="bibliography_3" title=" 肖和龙,唐文胜.基于RTAI改进的Linux实时调度算法[J].计算机工程与应用,2012,48(1):81-83." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG201201023&amp;v=MDA0MDFyQ1VSTE9lWmVWdkZDbmdXcnJJTHo3TWFiRzRIOVBNcm85SFo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         肖和龙,唐文胜.基于RTAI改进的Linux实时调度算法[J].计算机工程与应用,2012,48(1):81-83.
                                    </a>
                                </li>
                                <li id="117">


                                    <a id="bibliography_4" title=" WU Z J,MC GUIRE N.Porting RT-preempt to Loongson2F[C]//Eleventh Real-Time Linux Workshop.Dresden,Germany,2009:169." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Porting RT-preempt to Loongson2F">
                                        <b>[4]</b>
                                         WU Z J,MC GUIRE N.Porting RT-preempt to Loongson2F[C]//Eleventh Real-Time Linux Workshop.Dresden,Germany,2009:169.
                                    </a>
                                </li>
                                <li id="119">


                                    <a id="bibliography_5" title=" FAYYAD-KAZAN H,PERNEEL L,TIMMERMAN M.Linux preempt-rt v2.6.33 versus v3.6.6:better or worse for real-time applications?[J].ACM Sigbed Review,2014,11(1):26-31." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Linux PREEMPT-RT v2.6.33 Versus v3.6.6:Better or Worse for Real-time Applications?">
                                        <b>[5]</b>
                                         FAYYAD-KAZAN H,PERNEEL L,TIMMERMAN M.Linux preempt-rt v2.6.33 versus v3.6.6:better or worse for real-time applications?[J].ACM Sigbed Review,2014,11(1):26-31.
                                    </a>
                                </li>
                                <li id="121">


                                    <a id="bibliography_6" title=" HART D,STULTZ J,TS&#39;O T.Real-time Linux in real time[J].IBM Systems Journal,2008,47(2):207-220." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Real-time Linux in real time">
                                        <b>[6]</b>
                                         HART D,STULTZ J,TS&#39;O T.Real-time Linux in real time[J].IBM Systems Journal,2008,47(2):207-220.
                                    </a>
                                </li>
                                <li id="123">


                                    <a id="bibliography_7" title=" 吴章金.Linux 实时抢占补丁的研究与实践[D].兰州:兰州大学,2010." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2010131306.nh&amp;v=MTAxOThySVYxMjZIcks3SDlMTXFaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3I=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         吴章金.Linux 实时抢占补丁的研究与实践[D].兰州:兰州大学,2010.
                                    </a>
                                </li>
                                <li id="125">


                                    <a id="bibliography_8" title=" 刘冀.Tickless技术研究及其在嵌入式系统中的实现[D].成都:电子科技大学,2009." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2009165775.nh&amp;v=Mjk1MDBGckNVUkxPZVplVnZGQ25nV3JySVYxMjdGN0srRzliTHFwRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         刘冀.Tickless技术研究及其在嵌入式系统中的实现[D].成都:电子科技大学,2009.
                                    </a>
                                </li>
                                <li id="127">


                                    <a id="bibliography_9" title=" 刘宇帅,苏宇,王金波,等.航天嵌入式Linux实时性能优化研究[J].航天控制,2018,36(3):58-63." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTKZ201803010&amp;v=MTUxOTVFWklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dycklMVG5BZExHNEg5bk1ySTk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         刘宇帅,苏宇,王金波,等.航天嵌入式Linux实时性能优化研究[J].航天控制,2018,36(3):58-63.
                                    </a>
                                </li>
                                <li id="129">


                                    <a id="bibliography_10" title=" 张晓龙,郭锐锋,陶耀东,等.Linux 实时抢占补丁研究及实时性能测试[J].计算机工程,2014,40(10):304-307." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201410057&amp;v=MzAwMDZHNEg5WE5yNDlBWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dycklMejdCYmI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         张晓龙,郭锐锋,陶耀东,等.Linux 实时抢占补丁研究及实时性能测试[J].计算机工程,2014,40(10):304-307.
                                    </a>
                                </li>
                                <li id="131">


                                    <a id="bibliography_11" title=" Ebugden.Cyclictest[EB/OL].[2018-10-15].https://wiki.linuxfoundation.org/realtime/documentation/howto/tools/cyclictest/start" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Cyclictest">
                                        <b>[11]</b>
                                         Ebugden.Cyclictest[EB/OL].[2018-10-15].https://wiki.linuxfoundation.org/realtime/documentation/howto/tools/cyclictest/start
                                    </a>
                                </li>
                                <li id="133">


                                    <a id="bibliography_12" title=" SWEETMAN D.See MIPS run[M].Amsterdam,Netherlands ,Elsevier,2010." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=See MIPS run">
                                        <b>[12]</b>
                                         SWEETMAN D.See MIPS run[M].Amsterdam,Netherlands ,Elsevier,2010.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(11),11-15             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于龙芯</b>1<b>E的嵌入式Linux实时性的优化与可靠性设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E6%9C%B4&amp;code=42268235&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王朴</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%91%A8%E6%99%B4&amp;code=35809164&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">周晴</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=1698842&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院大学计算机科学与技术学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%9B%BD%E5%AE%B6%E7%A9%BA%E9%97%B4%E7%A7%91%E5%AD%A6%E4%B8%AD%E5%BF%83&amp;code=1697354&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院国家空间科学中心</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>为了满足航天领域对嵌入式操作系统实时性需求,采用实时抢占补丁的方法来优化Linux系统的实时性,并对移植了RT-preempt Linux系统的龙芯1E平台进行实时性测试,分别测试了系统进程切换上下文时间、中断响应时间、中断恢复时间以及系统延时.结果表明实时抢占补丁能满足航天任务对操作系统实时性的需求.为了实现航天领域对嵌入式操作系统的可靠性,通过为每个异常设计异常处理策略对MIPS CPU的异常处理机制进行优化,最后通过对典型的异常处理程序进行测试,验证了该方法的有效性.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%BE%99%E8%8A%AF&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">龙芯;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Linux&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Linux;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%9E%E6%97%B6%E6%8A%A2%E5%8D%A0%E8%A1%A5%E4%B8%81&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">实时抢占补丁;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%B3%BB%E7%BB%9F%E5%8F%AF%E9%9D%A0%E6%80%A7&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">系统可靠性;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    王朴 男，（1993-），硕士研究生．研究方向为计算机应用技术．E-mail:wangpiao16@mails.ucas.ac.cn．;
                                </span>
                                <span>
                                    周晴 女，（1972-），硕士，正研级高工．研究方向为软件系统架构、软件操作系统、软件测试．;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-02-21</p>

                    <p>

                            <b>基金：</b>
                                                        <span>中国科学院战略性先导科技专项(A类)(XDA1502020205);</span>
                    </p>
            </div>
                    <h1><b>Real-time optimization and reliability Realization of embedded Linux based on Loonson</b> 1<b>E</b></h1>
                    <h2>
                    <span>WANG Pu</span>
                    <span>ZHOU Qing</span>
            </h2>
                    <h2>
                    <span>School of Computer Science and Technology,University of Chinese Academy of Sciences</span>
                    <span>National Space Science Center,CAS</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>In order to meet the real-time requirements of the embedded operating system in the aerospace field, the RT-preempt patch method is adopted to optimize the real-time performance of the Linux system, and test the real-time performance of the Loongson 1 E platform transplanted with the RT-preempt Linux system. The system process switching context time, interrupt response time, interrupt recovery time, and system delay are tested separately. The results show that the RT-preempt patch can meet the real-time requirements of the aerospace mission. In order to realize the reliability of the embedded operating system in the aerospace field, the exception handling mechanism of the MIPS CPU is optimized by designing an exception handling strategy for each exception. Finally, the effectiveness of the method is verified by testing typical exception handling procedures.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=loongson&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">loongson;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Linux&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Linux;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=RT-preempt&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">RT-preempt;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=reliability&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">reliability;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-02-21</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="27" name="27" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="28">龙芯1E处理器是一款高性能抗辐射32位处理器,基于MIPS架构,采用180 nm工艺,主频最高可达100 MHz,功耗小于3 W,提供PCI、UART、I2C、SPI等一系列通用的对外接口.该款芯片于2014年推出,主要应用在航天领域<citation id="135" type="reference"><link href="111" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.目前在市场上商用龙芯计算机运行的是基于Linux内核的操作系统标准的Linux是分时系统,不能满足航天领域对实时性的需求,且其异常处理机制不适用于航天应用.因此,需要对Linux实时性能进行优化,并针对异常处理进行可靠性设计<citation id="136" type="reference"><link href="111" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.</p>
                </div>
                <h3 id="29" name="29" class="anchor-tag">2 <b>几种实时操作系统简介</b></h3>
                <div class="p1">
                    <p id="30">对目前国内外流行Vxworks、RTAI、RTLinux/GPL、RT-Preempt等实时操作系统进行简单的介绍与对比.</p>
                </div>
                <div class="p1">
                    <p id="31">Vxworks是一款实时操作系统,由美国风河公司(WindRiver)开发<citation id="137" type="reference"><link href="113" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>.Vxworks性能优秀,可裁剪性强,具有丰富的接口资源,在军工、航天市场的份额达到90%,但Vxworks并不开源,且价格昂贵,不易获取<citation id="138" type="reference"><link href="115" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>.RTLinux/GPL由新墨西哥矿业及科技学院的V. Yodaiken开发,是一款开源的实时操作系统,但目前RTLinux/GPL被风河谷公司收购,其开源版本已停止更新.RT-Preempt Patch是用于提高Linux实时性的实时抢占补丁,由Ingo Molnar和Thomas Gleixner维护,OSADL实验室对其进行稳定性测试<citation id="139" type="reference"><link href="117" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>.实时抢占补丁采用的是整体式内核实时改造方法,使用了中断线程化、临界区可抢占以及优先级继承等技术,可以令Linux系统达到硬实时的要求<citation id="140" type="reference"><link href="119" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>.RT-Preempt作为一款实时抢占补丁,与Linux主线内核一同更新发布,支持包括MIPS在内的多种体系结构.尽管RT-Preempt的响应时间要低于Vxworks、RTLinux等实时系统,但RT-Preempt在OSADL和Linux社区的支持下不断的更新,补丁的内容也会逐渐并入到新版本的主线内核中.不同于RTLinux和RTAI使用双内核方法对Linux进行实时化改造,实时补丁直接对Linux内核内部改造来实时,给用户提供了熟悉的Linux/POSIX编程环境,使用户能够充分利用Linux系统的丰富资源编写应用程序,各种RTOS比较如表1所示.</p>
                </div>
                <div class="area_img" id="32">
                    <p class="img_tit"><b>表</b>1 <b>各种</b>RTOS<b>比较</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="32" border="1"><tr><td><br />RTOS</td><td>优点</td><td>缺点</td></tr><tr><td><br />VxWorks</td><td>性能优秀;可裁剪性强;接口资源丰富</td><td>价格昂贵,不易获取</td></tr><tr><td><br />RTAI</td><td>响应速度快;较多的用户和社区支持</td><td>不支持POSIX;不支持MIPS架构</td></tr><tr><td><br />RTLinux/GPL</td><td>开源;性能优秀</td><td>已停止更新</td></tr><tr><td><br />RT-preempt</td><td>强大的社区支持;支持大量平台;支持POSIX,可移植性强</td><td>性能略弱VxWorks实时操作系统</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="33">基于以上的对比分析,本文选择使用安装RT-preempt的Linux内核来进行移植工作.</p>
                </div>
                <h3 id="34" name="34" class="anchor-tag">3 RT-preempt<b>补丁原理</b></h3>
                <div class="p1">
                    <p id="35">实时抢占补丁采用中断线程化、临界区可抢占、高精度时钟等方法来提高标准Linux内核的实时性.</p>
                </div>
                <h4 class="anchor-tag" id="36" name="36">3.1 <b>中断线程化</b></h4>
                <div class="p1">
                    <p id="37">中断在标准的Linux系统中具有最高优先级,当中断发生时系统会暂停当前的任务进入中断处理程序,而且在此期间有可能进行关中断的操作,系统无法进行任务的调度,这样就无法确定任务的最大延迟时间,系统实时性.而中断线程化技术则是将中断服务程序转变成可被操作系统调度的线程,并且给中断服务程序分配优先级,减少关中断的操作,以此来避免实时任务得不到调度的情况<citation id="141" type="reference"><link href="121" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="38">需要注意的是,并非所有的中断都能够被线程化.例如时钟中断是整个操作系统的脉搏,不被及时处理会造成整个系统的崩溃.另外一些耗时很少的中断如果被线程化,反而会增加系统开销.Linux实现中断线程化的流程如图1所示.</p>
                </div>
                <div class="area_img" id="39">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 中断线程化过程" src="Detail/GetImg?filename=images/WXYJ201911003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 <b>中断线程化过程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="40" name="40">3.2 <b>临界区可抢占</b></h4>
                <div class="p1">
                    <p id="41">标准Linux不支持抢占,内核使用自旋锁和大内核锁来确保数据的一致性.当前进程进入临界区操作数据时,其它进程只能等待,任务完成的时间确定.实时补丁使用优先级可继承的rt_mutex替换自旋锁和大内核锁,高优先级任务可以抢占临界区,如果此时低优先级的任务正持有rt_mutex锁,高优先级的任务会加入到rt_mutex锁的wait_list优先级队列中,等待锁的释放.内核拥有全抢占的能力,而且解决了优先级反转的问题.但内核中依然存在不能被抢占的区域如非线程化的中断等,则不能使用rt_mutex锁代替<citation id="142" type="reference"><link href="123" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>.</p>
                </div>
                <h4 class="anchor-tag" id="42" name="42">3.3 <b>高精度时钟</b></h4>
                <div class="p1">
                    <p id="43">实时系统需要具有高精度的时钟系统,而标准Linux使用jiffies记录从系统启动到目前总共的时钟中断次数,系统的时钟频率单位为HZ,Linux内核自2.5版本开始将频率从100 Hz调到1 000 Hz,时钟分辨率即为1 ms,这对于实时任务来说是不够的,而且系统时钟频率不能盲目的提高,因为这样会增加时钟中断的次数,降低系统的性能.实时补丁为内核设计了一个新的时钟管理系统<citation id="143" type="reference"><link href="125" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>.</p>
                </div>
                <h3 id="44" name="44" class="anchor-tag">4 <b>实时抢占补丁性能测试</b></h3>
                <div class="p1">
                    <p id="45">对移植了RT-Preempt Linux系统的龙芯1E平台进行性能测试,测试分为编写测试程序进行上下文切换时间,使用示波器测试中断响应时间和中断恢复时间,以及使用专门的实时工具Cyclictest程序进行系统延时的测试.</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46">4.1 <b>测试环境</b></h4>
                <div class="p1">
                    <p id="47">本次实验的测试环境如表2所示.</p>
                </div>
                <div class="area_img" id="48">
                    <p class="img_tit"><b>表</b>2 <b>测试环境</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="48" border="1"><tr><td><br />处理器</td><td>龙芯1E</td></tr><tr><td><br />内存</td><td>256 MB</td></tr><tr><td><br />norflash</td><td>4 MB</td></tr><tr><td><br />内核版本</td><td>Linux-3.10.105</td></tr><tr><td><br />RT-Preempt</td><td>patch-3.10.105-rt120</td></tr><tr><td><br />宿主机</td><td>Ubuntu 14.04</td></tr><tr><td><br />交叉编译器</td><td>gcc-4.3-ls232</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="49" name="49">4.2 <b>进程上下文切换时间</b></h4>
                <div class="p1">
                    <p id="50">进程上下文切换时间是指cpu从一个任务切换到另一个任务所耗费的时间,是衡量系统实时性的一个标准<citation id="144" type="reference"><link href="127" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>.本次测试设计了两个进程通过管道通信完成5 000次进程切换,进程的优先级设置为99,采用SCHED_RR调度策略,记录结果并绘制图表进行分析.测试上下文切换时间伪代码如下:</p>
                </div>
                <div class="area_img" id="110">
                                <img alt="" src="Detail/GetImg?filename=images/WXYJ201911003_11000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="110">
                                <img alt="" src="Detail/GetImg?filename=images/WXYJ201911003_11001.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="68">测试结果如图2.</p>
                </div>
                <div class="area_img" id="69">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911003_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 标准Linux测试结果" src="Detail/GetImg?filename=images/WXYJ201911003_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 <b>标准</b>Linux<b>测试结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911003_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="70" name="70">4.3 <b>中断响应和恢复时间</b></h4>
                <div class="p1">
                    <p id="71">中断响应时间是指Linux系统接外部信号陷入异常到中断服务程序开始执行这一段时间,中断恢复时间是指中断服务程序执行结束系统从异常处理状态恢复的时间,是反映实时系统实时性能的重要标准<citation id="145" type="reference"><link href="129" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>.本次测试是I2C中断.测试程序通过配置龙芯处理器的CP0协处理器的INT_SET等寄存器来产生I2C中断,在触发中断前拉高GPIO的第5号引脚的电平,进入中断之后中断服务程序将I2C中断标志位置0,然后拉低GPIO引脚电平并返回,不断循环这个过程来产生脉冲,用示波器显示波形,观察波形记录中断响应时间和中断恢复时间.测试程序流程如图3所示.</p>
                </div>
                <div class="area_img" id="72">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911003_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 图中断测试流程" src="Detail/GetImg?filename=images/WXYJ201911003_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 <b>图中断测试流程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911003_072.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="73">根据示波器的显示,如表3所示,中断响应时间为11.2 μs,中断恢复时间为31.2 μs.</p>
                </div>
                <div class="area_img" id="74">
                    <p class="img_tit"><b>表</b>3 RT-preempt<b>与</b>VxWorks<b>性能对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="74" border="1"><tr><td><br /></td><td>进程切换</td><td>中断响应</td><td>中断</td></tr><tr><td><br />VxWorks</td><td>33</td><td>3.86</td><td>18.8</td></tr><tr><td><br />RT-preempt</td><td>85</td><td>11.2</td><td>31.2</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="75">其中运行VxWorks进行测试的龙芯1E频率为66 MHZ,运行RT-preempt Linux的1E频率为33 MHZ.对比可知,RT-preempt性能虽然弱于VxWorks,但能够满足航天任务的需求.</p>
                </div>
                <h4 class="anchor-tag" id="76" name="76">4.4 Cyclictest<b>测试</b></h4>
                <div class="p1">
                    <p id="77">Cyclictest是实时测试组件rt-tests的一部分可以准确地测量任务的预期唤醒时间与实际唤醒时间之间的差异,以提供有关系统延迟的统计信息,也可以测量由硬件、固件和操作系统引起的实时系统的延迟<citation id="146" type="reference"><link href="131" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>.本次实验使用在内核官网(https://mirrors.edge.kernel.org/pub/linux/utils/rt-tests/)下载的1.0版本的rt-tests,通过交叉编译生成cyclictest程序,编译到内核中,分别在实时和非实时的Linux系统下运行.测试的命令为:cyclictest -l10000 -m -a0 -t1 -n -p99 -i200 -h300 -q &gt; result 其中,-l:loops,即为循环的个数,缺省的情况下为0,本次实验设为10000; -m:锁定当前和将来的内存分配;-a0:在0处理器上运行线程;-t1:threads[num],线程个数为1,-n:nanosleep,使用clock_nanosleep来精确执行线程睡眠时间;-p99:为线程设置的优先级为99;-i:线程之间的间隔,缺省为1000,本次实验设置为200;-h300:只记录延时在300 μs之内结果;-q:quiet,在程序运行结束时打印结果.测试结果如图4、5及表4所示.</p>
                </div>
                <div class="area_img" id="78">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911003_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 标准Linux测试结果" src="Detail/GetImg?filename=images/WXYJ201911003_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 <b>标准</b>Linux<b>测试结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911003_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="79">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911003_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 实时Linux测试结果" src="Detail/GetImg?filename=images/WXYJ201911003_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 <b>实时</b>Linux<b>测试结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911003_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="80">
                    <p class="img_tit"><b>表</b>4 <b>实时和非实时内核</b>cyclictest<b>测试结果对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="80" border="1"><tr><td><br />内核模式</td><td>Min</td><td>Avg</td><td>Max</td></tr><tr><td><br />标准Linux</td><td>64</td><td>154</td><td>47 859</td></tr><tr><td><br />实时Linux</td><td>29</td><td>169</td><td>288</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="81">结果表示,标准Linux的cyclictest测试的Max值要远大于实时Linux,可以得出结论,RT-preempt能够极大的提高Linux的实时性.</p>
                </div>
                <h3 id="82" name="82" class="anchor-tag">5 <b>系统可靠性的设计</b></h3>
                <div class="p1">
                    <p id="83">航天领域嵌入式系统对可靠性具有很高的要求航天器所处的太空中存在大量的高能粒子和宇宙射线,能够对航天器内的电子器件产生影响,如单粒子翻转效应会使CPU寄存器和RAM存储器的内容发生改变,导致系统产生异常.MIPS CPU的异常一共可以处理16种异常,并非每种异常在处理时都需要休眠当前任务,不必要的任务休眠严重影响应用程序的执行,不满足航天应用的可靠性需求.因此本文对Linux系统的异常处理机制进行了改进,使其能够满足航天任务的对操作系统的需求.</p>
                </div>
                <h4 class="anchor-tag" id="84" name="84">5.1 MIPS<b>异常处理简介</b></h4>
                <div class="p1">
                    <p id="85">MIPS体系结构将中断、自陷、系统调用以及其它打断CPU正常执行流的事件统称为异常,并且采用同一种机制来处理.CPU的Cause寄存器是异常处理的关键寄存器,其中的ExcCode域用来判断异常的类型,如表5所示.</p>
                </div>
                <div class="area_img" id="86">
                    <p class="img_tit"><b>表</b>5 Cause<b>寄存器</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="86" border="1"><tr><td>31</td><td>30</td><td>29 28</td><td>27</td><td>26</td><td>25 24</td><td>23</td></tr><tr><td><br />BD</td><td>TI</td><td>CE</td><td>DC</td><td>PCI</td><td>0</td><td>IV</td></tr><tr><td><br />22</td><td>21 16</td><td>15 10</td><td>9 8</td><td>7</td><td>6 2</td><td>1 0</td></tr><tr><td><br />WP</td><td>0</td><td>IP7-2</td><td>IP1-0</td><td>0</td><td>ExcCode</td><td>0</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="87">异常处理流程包括:(1)设置EPC指向重新开始的地址;(2)设置Status寄存器的EXL位,使CPU进入内核模式(高特权级)并且关闭中断;(3)设置Cause寄存器使软件可以获取异常发生的原因;(4)CPU从异常入口点取指令,接下来由软件进行异常处理操作;(5)保护现场,对各个寄存器的值进行压栈;(6)根据Cause寄存器的ExcCode值判断具体异常并执行相应的异常处理例程;(7)恢复现场,写回栈中保存的寄存器的值.7.从异常返回, CPU执行eret指令在清除Status寄存器EXL位的同时跳转到EPC中保存的地址<citation id="147" type="reference"><link href="133" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="88">CPU的异常列表如表6所示.</p>
                </div>
                <div class="area_img" id="89">
                    <p class="img_tit"><b>表</b>6 <b>异常表</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="89" border="1"><tr><td>ExcCode</td><td>符号</td><td>异常名</td><td>ExcCode</td><td>符号</td><td>异常名</td></tr><tr><td><br />0</td><td>Int</td><td>中断</td><td>8</td><td>Sys</td><td>系统调用</td></tr><tr><td><br />1</td><td>Mod</td><td>TLB修改</td><td>9</td><td>Bp</td><td>断点异常</td></tr><tr><td><br />2</td><td>TLBL</td><td>TLB异常</td><td>10</td><td>RI</td><td>保留指令</td></tr><tr><td><br />3</td><td>TLBS</td><td>TLB异常</td><td>11</td><td>CpU</td><td>协处理器</td></tr><tr><td><br />4</td><td>AdEL</td><td>地址异常</td><td>12</td><td>Ov</td><td>算数溢出</td></tr><tr><td><br />5</td><td>AdES</td><td>地址异常</td><td>13</td><td>Tr</td><td>陷阱异常</td></tr><tr><td><br />6</td><td>IBE</td><td>总线异常</td><td>15</td><td>FPE</td><td>浮点异常</td></tr><tr><td><br />7</td><td>DBE</td><td>总线异常</td><td>23</td><td>WATCH</td><td>Watch异常</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="90" name="90">5.2 <b>异常处理的与实现</b></h4>
                <div class="p1">
                    <p id="91">查询龙芯1E的手册中所有异常的原因以及处理方式根据异常的原因和具体的处理方式将异常分为3类;最后编写代码并对内核相关部分进行修改.下面以第4、8、号异常为例来进行介绍.</p>
                </div>
                <div class="p1">
                    <p id="92">4号异常即取地址异常发生的原因包括引用非法地址,和取一个非对齐的地址.Linux对取一个非对齐地址的处理方式是分两次取这个地址引用非法地址会对任务造成致命,Linux会输出调试信息,然后调用do_exit函数退出进程.对一种情况,需要记录异常号、EPC、BadVAddr寄存器的内容,重新运行任务.8号异常是系统调用,是用户进入内核模式的正规方式,Linux会运行相应的处理例程,该类异常不会对任务产生影响.因此只需要记录EPC即可.12号异常是算数溢出异常,Linux会退出进程并输出调试信息,改进策略即为记录异常号、EPC、重启任务.表7列出所有异常的处理策略.</p>
                </div>
                <div class="area_img" id="93">
                    <p class="img_tit"><b>表</b>7 <b>异常处理策略</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="93" border="1"><tr><td><br />异常号</td><td>异常处理方案</td><td>分类</td></tr><tr><td><br />0</td><td>EPC</td><td>1</td></tr><tr><td><br />1、2、3</td><td>EPC</td><td>1</td></tr><tr><td><br />4、5</td><td>保存计数、异常号、EPC、BadVAddr</td><td>2</td></tr><tr><td><br />6、7</td><td>保存计数、异常号、EPC重启任务</td><td>3</td></tr><tr><td><br />8</td><td>EPC</td><td>1</td></tr><tr><td><br />9、13</td><td>保存计数、异常号、EPC、bcode重启任务</td><td>3</td></tr><tr><td><br />10</td><td>保存计数、异常号、EPC重启任务</td><td>3</td></tr><tr><td><br />11</td><td>保存计数、异常号、EPC、Cause的CE域重启任务</td><td>3</td></tr><tr><td><br />12</td><td>保存计数、异常号、EPC重启任务</td><td>3</td></tr><tr><td><br />15</td><td>保存计数、异常号、EPC、si_code重启任务</td><td>3</td></tr><tr><td><br />23</td><td>EPC</td><td>2</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="94">根据异常处理策略修改内核代码,如断点指令的异常处理代码在arch/mips/kernel/traps.c的do_be函数中,修改之后编写应用程序产生除零错误来进行测试.</p>
                </div>
                <h3 id="95" name="95" class="anchor-tag">6 <b>结束语</b></h3>
                <div class="p1">
                    <p id="96">本文嵌入式Linux系统,对系统的进程上下文切换时间、中断响应时间、中断恢复时间、系统延时进行测试,结果表明基于RT-preempt的Linux系统能够满足航天领域对实时性的要求.另一方面设计新的异常处理策略.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="111">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JZCK201805026&amp;v=MDc1MzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXcnJJTHpmSVpiRzRIOW5NcW85SFlvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 邹玉龙,刘彬,田小莉,等.基于龙芯1E1F航天应用平台与VxWorks系统的VxBus型驱动设计[J].计算机测量与控制,2018,26 (5):108-112.
                            </a>
                        </p>
                        <p id="113">
                            <a id="bibliography_2" >
                                    <b>[2]</b>
                                 黄江泉.面向航天应用的高可靠系统软件设计研究[D].北京:中国科学院研究生院,2012.
                            </a>
                        </p>
                        <p id="115">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG201201023&amp;v=MTU5MTBQTXJvOUhaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3JySUx6N01hYkc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 肖和龙,唐文胜.基于RTAI改进的Linux实时调度算法[J].计算机工程与应用,2012,48(1):81-83.
                            </a>
                        </p>
                        <p id="117">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Porting RT-preempt to Loongson2F">

                                <b>[4]</b> WU Z J,MC GUIRE N.Porting RT-preempt to Loongson2F[C]//Eleventh Real-Time Linux Workshop.Dresden,Germany,2009:169.
                            </a>
                        </p>
                        <p id="119">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Linux PREEMPT-RT v2.6.33 Versus v3.6.6:Better or Worse for Real-time Applications?">

                                <b>[5]</b> FAYYAD-KAZAN H,PERNEEL L,TIMMERMAN M.Linux preempt-rt v2.6.33 versus v3.6.6:better or worse for real-time applications?[J].ACM Sigbed Review,2014,11(1):26-31.
                            </a>
                        </p>
                        <p id="121">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Real-time Linux in real time">

                                <b>[6]</b> HART D,STULTZ J,TS'O T.Real-time Linux in real time[J].IBM Systems Journal,2008,47(2):207-220.
                            </a>
                        </p>
                        <p id="123">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2010131306.nh&amp;v=MzI3MjdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dycklWMTI2SHJLN0g5TE1xWkViUElRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 吴章金.Linux 实时抢占补丁的研究与实践[D].兰州:兰州大学,2010.
                            </a>
                        </p>
                        <p id="125">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2009165775.nh&amp;v=MTYyMThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dycklWMTI3RjdLK0c5YkxxcEViUEk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 刘冀.Tickless技术研究及其在嵌入式系统中的实现[D].成都:电子科技大学,2009.
                            </a>
                        </p>
                        <p id="127">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTKZ201803010&amp;v=MjUyMTZaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3JySUxUbkFkTEc0SDluTXJJOUU=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 刘宇帅,苏宇,王金波,等.航天嵌入式Linux实时性能优化研究[J].航天控制,2018,36(3):58-63.
                            </a>
                        </p>
                        <p id="129">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201410057&amp;v=MTc4MzZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3JySUx6N0JiYkc0SDlYTnI0OUE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 张晓龙,郭锐锋,陶耀东,等.Linux 实时抢占补丁研究及实时性能测试[J].计算机工程,2014,40(10):304-307.
                            </a>
                        </p>
                        <p id="131">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Cyclictest">

                                <b>[11]</b> Ebugden.Cyclictest[EB/OL].[2018-10-15].https://wiki.linuxfoundation.org/realtime/documentation/howto/tools/cyclictest/start
                            </a>
                        </p>
                        <p id="133">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=See MIPS run">

                                <b>[12]</b> SWEETMAN D.See MIPS run[M].Amsterdam,Netherlands ,Elsevier,2010.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201911003" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201911003&amp;v=MjA3NjVMRzRIOWpOcm85Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXcnJKTWpYU1o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="0" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
