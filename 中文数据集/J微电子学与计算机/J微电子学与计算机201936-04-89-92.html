<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637134027452756250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dWXYJ201904018%26RESULT%3d1%26SIGN%3d2HJfU6%252f7XGV39O5KF8%252fgzDomzGs%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201904018&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201904018&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201904018&amp;v=MDEzNzBWdUZ5em1WN3JNTWpYU1pMRzRIOWpNcTQ5RWJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmU=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#13" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#15" data-title="2 &lt;b&gt;总体方案的设计&lt;/b&gt; ">2 <b>总体方案的设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#16" data-title="2.1 USB&lt;b&gt;长线传输总体方案&lt;/b&gt;">2.1 USB<b>长线传输总体方案</b></a></li>
                                                <li><a href="#21" data-title="2.2 USB2.0&lt;b&gt;延长器控制芯片&lt;/b&gt;CH317Q&lt;b&gt;及硬件设计&lt;/b&gt;">2.2 USB2.0<b>延长器控制芯片</b>CH317Q<b>及硬件设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#27" data-title="3 &lt;b&gt;长线传输测试方案与结果分析&lt;/b&gt; ">3 <b>长线传输测试方案与结果分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#28" data-title="3.1 &lt;b&gt;长线传输测试方案&lt;/b&gt;">3.1 <b>长线传输测试方案</b></a></li>
                                                <li><a href="#35" data-title="3.2 &lt;b&gt;键鼠上电后不识别机理分析&lt;/b&gt;">3.2 <b>键鼠上电后不识别机理分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#38" data-title="4 &lt;b&gt;键鼠无法识别问题解决方案&lt;/b&gt; ">4 <b>键鼠无法识别问题解决方案</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#44" data-title="5 &lt;b&gt;结束语&lt;/b&gt; ">5 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#19" data-title="&lt;b&gt;图&lt;/b&gt;1 USB&lt;b&gt;长线接口发送功能框图&lt;/b&gt;"><b>图</b>1 USB<b>长线接口发送功能框图</b></a></li>
                                                <li><a href="#20" data-title="&lt;b&gt;图&lt;/b&gt;2 USB&lt;b&gt;长线接口接收功能框图&lt;/b&gt;"><b>图</b>2 USB<b>长线接口接收功能框图</b></a></li>
                                                <li><a href="#24" data-title="&lt;b&gt;图&lt;/b&gt;3 &lt;b&gt;接收板&lt;/b&gt;CH317Q&lt;b&gt;外围电路图&lt;/b&gt;"><b>图</b>3 <b>接收板</b>CH317Q<b>外围电路图</b></a></li>
                                                <li><a href="#25" data-title="&lt;b&gt;图&lt;/b&gt;4 &lt;b&gt;接收板&lt;/b&gt;CH317Q&lt;b&gt;外围&lt;/b&gt;CH9317G"><b>图</b>4 <b>接收板</b>CH317Q<b>外围</b>CH9317G</a></li>
                                                <li><a href="#30" data-title="&lt;b&gt;图&lt;/b&gt;5 USB&lt;b&gt;通信链路示意图&lt;/b&gt;"><b>图</b>5 USB<b>通信链路示意图</b></a></li>
                                                <li><a href="#32" data-title="&lt;b&gt;图&lt;/b&gt;6 &lt;b&gt;键鼠端&lt;/b&gt;USB&lt;b&gt;通信报文&lt;/b&gt;"><b>图</b>6 <b>键鼠端</b>USB<b>通信报文</b></a></li>
                                                <li><a href="#41" data-title="&lt;b&gt;图&lt;/b&gt;7 &lt;b&gt;更改后的&lt;/b&gt;USB&lt;b&gt;通信链路&lt;/b&gt;"><b>图</b>7 <b>更改后的</b>USB<b>通信链路</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 陈喜春.基于CY7C68013A 芯片的USB 键盘的设计[J].山西电子技术, 2012 (1) :6-7." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SXDS201201001&amp;v=MDM0OTJybzlGWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1Rnl6bVY3ck1OalhQZmJHNEg5UE0=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         陈喜春.基于CY7C68013A 芯片的USB 键盘的设计[J].山西电子技术, 2012 (1) :6-7.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 杨红军, 洪三其.基于FPGA的高标清数字光端机的研究[J].制造业自动化, 2015 (10) :117-120." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JXGY201519033&amp;v=MDc3NDJYTWQ3RzRIOVROcG85R1o0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5em1WN3JNTHo=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         杨红军, 洪三其.基于FPGA的高标清数字光端机的研究[J].制造业自动化, 2015 (10) :117-120.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 刘泽西, 程晶晶, 孔力.基于 USB2.0接口的高速实时数据采集系统[J].测控技术, 2007, 26 (2) :34-37." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=IKJS200702011&amp;v=MjE4MTlHRnJDVVJMT2VaZVZ1Rnl6bVY3ck1MQ2JCZmJHNEh0Yk1yWTlFWllRS0RIODR2UjRUNmo1NE8zenFxQnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         刘泽西, 程晶晶, 孔力.基于 USB2.0接口的高速实时数据采集系统[J].测控技术, 2007, 26 (2) :34-37.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 马伟.计算机USB系统原理及其主/从机设计[M].北京:北京航空航天大学出版社, 2004.1" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=000781077381X999&amp;v=MDE2MjR6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZadTl1RkNybFU3dkxKRnNRVlYyN0didTVIdGJMcklkRURPSUdCUk04&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         马伟.计算机USB系统原理及其主/从机设计[M].北京:北京航空航天大学出版社, 2004.1
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 刘荣.圈圈教你玩USB. [M].北京:北京航空航天大学出版社 (第2版) , 2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787512410923000&amp;v=MzI2MjhGQ3JsVTd2TEpGc1FYRnF6R2JhNUhOWE5yNFpIWitzUERCTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZadTl1&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         刘荣.圈圈教你玩USB. [M].北京:北京航空航天大学出版社 (第2版) , 2013.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(04),89-92             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于CH</b>317<b>Q的USB长线传输设计及应用</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%AE%B8%E5%B0%8F%E5%85%B0&amp;code=41465489&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">许小兰</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E7%81%8F&amp;code=22123495&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李灏</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%A5%BF%E5%AE%89%E5%BE%AE%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=1500262&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">西安微电子技术研究所</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>传统的USB鼠标、键盘传输线长度不到两米, 不能满足远距离人机交互操作的需求.为解决USB信号传输距离短的问题, 本文提出了一种基于USB延长器控制芯片的方案.该方案可满足100 m的USB长线传输距离, 已经在某型测控计算机中使用, 经检验系统运行稳定可靠.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=USB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">USB;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%95%BF%E7%BA%BF%E4%BC%A0%E8%BE%93&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">长线传输;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=CH317Q&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">CH317Q;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    许小兰 女, (1994-) , 硕士研究生.研究方向为嵌入式计算机系统应用.E-mail:13227818958@163.com.;
                                </span>
                                <span>
                                    李灏 男, (1978-) , 研究员, 硕士生导师.研究方向为嵌入式计算机系统应用.;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-08-02</p>

            </div>
                    <h1><b>Design and Application of USB Long-haul Transmission Based on CH</b>317</h1>
                    <h2>
                    <span>XU Xiao-lan</span>
                    <span>LI Hao</span>
            </h2>
                    <h2>
                    <span>Xi′an Microelectronics Technology Institute</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>The length of the traditional USB mouse and keyboard transmission lines is less than two meters, which can not meet the needs of long-distance data acquisition and transmission. In order to solve the short distance problem of USB signal transmission, this paper proposes a scheme based on USB extender control chip. The program can meet the 100-meter USB long-distance transmission distance, has been used in a type of measurement and control computer, the test system is stable and reliable.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=USB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">USB;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Long-term%20transmission&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Long-term transmission;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=CH317Q&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">CH317Q;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-08-02</p>
                            </div>


        <!--brief start-->
                        <h3 id="13" name="13" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="14">目前, 武器地面测发控系统对于远程控制和人机交互能力要求越来越高.USB接口具有高速、灵活、低成本、易扩展、安装方便、支持热插拔等优点, 在鼠标/键盘等人机交互设备中有着广泛应用.传统的人机控制设备受信号传输距离的限制, 在某些应用场景下不能满足系统使用要求, 例如一般的USB/PS2鼠标键盘可靠使用距离只有2 m左右.然而对于测发控系统, 有时操作人员需要远距离操作设备, 有时甚至会在几十千米外、甚至几百千米外远程控制地面测发控设备, 因此鼠标、键盘远距离传输技术的研究对于地面控制系统的重要性不言而喻.基于此, 本文提出了一种基于CH317Q的测发控系统鼠标键盘USB长线传输方案.</p>
                </div>
                <h3 id="15" name="15" class="anchor-tag">2 <b>总体方案的设计</b></h3>
                <h4 class="anchor-tag" id="16" name="16">2.1 USB<b>长线传输总体方案</b></h4>
                <div class="p1">
                    <p id="17">该方案分为USB长线发送和接收部分, 核心芯片选用USB延长器控制芯片CH317Q, 该芯片内部可自动识别上位机和下位机模式, USB长线发送及接收部分的功能框图如图1、图2所示:</p>
                </div>
                <div class="p1">
                    <p id="18">以长线接收板为例, 发送板发出的长线差分信号通过网络变压器进入PHY芯片, PHY芯片将千兆以太网差分信号转换成RGMII接口信号连到CH317Q, CH317Q再将RGMII接口信号转为标准的USB接口信号.CH317Q引出的USB口可连接键盘、鼠标、U盘等USB通用设备.图2中的CH9317为USB转换器及网络PHY芯片的配置芯片, PHY芯片和网络变压器用于驱动转换后的差分信号, 它们与CH317Q共同构成了USB长线转换传输系统.</p>
                </div>
                <div class="area_img" id="19">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_019.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 USB长线接口发送功能框图" src="Detail/GetImg?filename=images/WXYJ201904018_019.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 USB<b>长线接口发送功能框图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_019.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="20">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_020.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 USB长线接口接收功能框图" src="Detail/GetImg?filename=images/WXYJ201904018_020.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 USB<b>长线接口接收功能框图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_020.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="21" name="21">2.2 USB2.0<b>延长器控制芯片</b>CH317Q<b>及硬件设计</b></h4>
                <div class="p1">
                    <p id="22">CH317Q是一款USB2.0延长器控制芯片, 用于USB信号的远距离扩展.该方案是双芯片方案, 由CH317Q加第三方的1000BASE-T千兆以太网PHY及外围辅助元器件构成.信号传输路径由USB转千兆以太网, 经由超5类网线 (6 类线性能更好) , 再从千兆以太网转USB.支持并自动识别高速全速和低速USB传输、支持USB-HUB外扩、同一芯片可配置为上拉机和下位机两种模式、无需额外安装软件、支持USB设备热插拔等.</p>
                </div>
                <div class="p1">
                    <p id="23">图3和图4是CH317Q的典型连接.线性稳压器LT1764AEQ-3.3将USB 接口的5 V电压转换为CH317Q芯片的接口工作电压3.3 V;LT1764AEQ-1.8将5 V电压转换为1.8 V电压, 为CH317Q的核心电路供电.线性稳压器TPS74801为PHY芯片RTD8211E提供1.05 V工作电压.CH9317G通过I2C总线分别配置CH317Q及RTL8211E.</p>
                </div>
                <div class="area_img" id="24">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_024.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 接收板CH317Q外围电路图" src="Detail/GetImg?filename=images/WXYJ201904018_024.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 <b>接收板</b>CH317Q<b>外围电路图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_024.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="25">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 接收板CH317Q外围CH9317G" src="Detail/GetImg?filename=images/WXYJ201904018_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 <b>接收板</b>CH317Q<b>外围</b>CH9317G  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="26">在对关键信号进行PCB布线时, 要注意以下几个问题: (1) 布线尽量短; (2) 布线尽量不要跨越不同层, 尽量减少过孔最小过孔和层的改变; (3) 时钟信号放置过滤网络器件以减少EMI影响; (4) 注意阻抗的处理.例如MDI的阻抗在共模情况下为50 Ω, 在差分的情况下为100 Ω; (5) 差分对之间的距离不得小于30mil以减少串扰; (6) 在差分线对上尽量不使用过孔; (7) 差分线上尽量不穿越不同的电源层.对于CH317Q来说, 注意D+和D_的走线尽量的短而且相等, 信号线靠近芯片引出, 避免信号分叉, 晶振尽量靠近芯片, 芯片周围电阻要尽量靠近芯片.PHY芯片RTL8211E为了达到布线优化, 需要注意以下事项.首先是各个元器件之间的距离.PHY离开MAC的距离最好不要不超过2.5 inches.PHY与网络变压器之间的距离尽量不要超过12 cm.</p>
                </div>
                <h3 id="27" name="27" class="anchor-tag">3 <b>长线传输测试方案与结果分析</b></h3>
                <h4 class="anchor-tag" id="28" name="28">3.1 <b>长线传输测试方案</b></h4>
                <div class="p1">
                    <p id="29">在对该系统进行通信测试过程中, 发现存在某些工业加固键盘鼠标 (IKEY公司产品) 无法识别的现象, 为了进行故障排查, 我们将计算机主机 (主机装载操作系统为中标麒麟) 、长线发送板、长线接收板及显控终端键鼠, 使用相应的电缆连接, 重复开关机测试IKEY键鼠是否能被正常识别.同时, 在接收板与IKEY键鼠之间连接USB分析仪, 抓取USB通信报文.具体USB通信链路如图5所示:</p>
                </div>
                <div class="area_img" id="30">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 USB通信链路示意图" src="Detail/GetImg?filename=images/WXYJ201904018_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 USB<b>通信链路示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="31">经多次开关机, 键鼠不能被正常识别故障复现.此时, 抓取键鼠端USB通信报文如图6所示.</p>
                </div>
                <div class="area_img" id="32">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_032.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 键鼠端USB通信报文" src="Detail/GetImg?filename=images/WXYJ201904018_032.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 <b>键鼠端</b>USB<b>通信报文</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_032.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="33">在图6中, 端点00为键盘, 端点01为鼠标, 键盘枚举数据包中间出现了鼠标的枚举数据包, 这种情况称为“数据报文穿插”.一般情况下, USB总线数据传输中可能会存在这种情况, 这与挂在主机上的外设数量、外设类型、通讯方式均有关系 (复合型的外设和普通外设和主机通讯时产生的报文不同, 报文传输时机也不同) .经与芯片厂家沟通, 确认在枚举阶段中发生USB报文穿插的情况下, CH317Q会进入到错误状态并无法自行恢复 (CH317Q在枚举端点0时接收到端点1的OUT数据, 该数据符合USB通信协议且CRC校验正确, 无法对其进行忽略或者抛弃.但由于此报文指明设备端点号为1, 与此刻处理进程中设备端点号0不符.CH317Q无法处理此类状况, 进入错误状态.) , 造成键鼠识别数据在传输中发生错误, 导致主机无法正常识别键鼠.该情况为CH317Q芯片的固有BUG.</p>
                </div>
                <div class="p1">
                    <p id="34">因此, 键鼠上电后无法识别问题定位于CH317Q对键鼠数据的纠错和重发机制不完善, 在设备进行枚举阶段时发生报文穿插情况下会处于错误状态, 导致主机进入系统后无法正常识别键鼠.</p>
                </div>
                <h4 class="anchor-tag" id="35" name="35">3.2 <b>键鼠上电后不识别机理分析</b></h4>
                <div class="p1">
                    <p id="36">主机在检测到显控终端IKEY键鼠后, 首先要对此设备进行枚举, 从设备读取相应的各类描述符.主机根据获取的描述符, 加载合适的驱动程序后才能与键鼠正常通信.通信的数据基本单位是“包”, 如图6中的每一行即为一个“包”.数据在总线上传输的过程中, 必须按照一定关系把不同的“包”组织成“事务”, 图6中序号相同整数部分的即为同一个“事务”. 显控终端实际使用的键鼠设备是USB复合设备, 包含键盘、鼠标两个“端点”.不同的“端点”与主机通讯是不同的“事务”.根据图2-7抓取的USB通信报文, 在主机枚举显控终端键鼠设备过程中, 存在USB报文穿插情况.整个枚举阶段尚未结束, 端点1就已经开始“OUT数据”.</p>
                </div>
                <div class="p1">
                    <p id="37">USB信号长线驱动芯片为CH317Q在发生USB报文穿插的情况下, CH317Q会进入错误状态, 导致主机进入系统后无法正常识别键鼠.</p>
                </div>
                <h3 id="38" name="38" class="anchor-tag">4 <b>键鼠无法识别问题解决方案</b></h3>
                <div class="p1">
                    <p id="39">为了解决键鼠无法识别问题, 通过分析及验证, 确定了一种解决方案:</p>
                </div>
                <div class="p1">
                    <p id="40"> (1) 在接收板和显控终端IKEY键鼠之间增加CH9350整合板, 整合键鼠设备的复合报文, 增强长线驱动USB接口的兼容性.具体连接方式见图7.</p>
                </div>
                <div class="area_img" id="41">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201904018_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 更改后的USB通信链路" src="Detail/GetImg?filename=images/WXYJ201904018_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>7 <b>更改后的</b>USB<b>通信链路</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201904018_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="42">CH317Q对于USB报文穿插会导致USB通讯无法自行恢复, 需要借助下端的CH9350整合板进行USB报文整合.键鼠的通信报文在报文进入CH317Q之前, 经过整合板整合后, 可以杜绝USB报文穿插导致CH317Q进入错误状态.</p>
                </div>
                <div class="p1">
                    <p id="43"> (2) 完善USB总线容错能力.通过升级CH317Q的监控器CH9317, 增加了数据传输状态的复位措施.确保主机在枚举键鼠异常时CH9350可以通过CH9317复位CH317Q, 达到自动重新枚举的目的.</p>
                </div>
                <h3 id="44" name="44" class="anchor-tag">5 <b>结束语</b></h3>
                <div class="p1">
                    <p id="45">针对USB传输距离有局限性问题, 本文研究提出了一种基于CH317Q的USB长线传输设计方案, 同时对长线传输鼠标键盘不识别问题进行了分析, 给出了解决方案.上述长线传输系统经过实际运行, 工作稳定、可靠, 可以推广到对传输距离要求高的工业控制、医疗设备及武器系统中实现智能仪器与计算机之间的远程USB通信.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SXDS201201001&amp;v=MDA2OTR6cXFCdEdGckNVUkxPZVplVnVGeXptVjdyTU5qWFBmYkc0SDlQTXJvOUZaWVFLREg4NHZSNFQ2ajU0TzM=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 陈喜春.基于CY7C68013A 芯片的USB 键盘的设计[J].山西电子技术, 2012 (1) :6-7.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JXGY201519033&amp;v=MTI2NDZPZVplVnVGeXptVjdyTUx6WE1kN0c0SDlUTnBvOUdaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkw=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 杨红军, 洪三其.基于FPGA的高标清数字光端机的研究[J].制造业自动化, 2015 (10) :117-120.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=IKJS200702011&amp;v=MTIxMzFNclk5RVpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5em1WN3JNTENiQmZiRzRIdGI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 刘泽西, 程晶晶, 孔力.基于 USB2.0接口的高速实时数据采集系统[J].测控技术, 2007, 26 (2) :34-37.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=000781077381X999&amp;v=MTU2MDF1OXVGQ3JsVTd2TEpGc1FWVjI3R2J1NUh0YkxySWRFRE9JR0JSTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZa&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 马伟.计算机USB系统原理及其主/从机设计[M].北京:北京航空航天大学出版社, 2004.1
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787512410923000&amp;v=MTk2MjAzeEU5ZmJ2bktyaWZadTl1RkNybFU3dkxKRnNRWEZxekdiYTVITlhOcjRaSForc1BEQk04enhVU21EZDlTSDdu&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 刘荣.圈圈教你玩USB. [M].北京:北京航空航天大学出版社 (第2版) , 2013.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201904018" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201904018&amp;v=MDEzNzBWdUZ5em1WN3JNTWpYU1pMRzRIOWpNcTQ5RWJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmU=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNJUGsvbURSNjZHaHV0MCsxOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
