<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133356986846250%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dWXYJ201911001%26RESULT%3d1%26SIGN%3dBp1cbw84dBBJ3zACcD5AyBCZFrQ%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201911001&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201911001&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201911001&amp;v=MDE5NDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL09NalhTWkxHNEg5ak5ybzlGWllRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#21" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#23" data-title="2 &lt;b&gt;高压系统和误差产生&lt;/b&gt; ">2 <b>高压系统和误差产生</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#38" data-title="3 Auto Trim&lt;b&gt;电路设计&lt;/b&gt; ">3 Auto Trim<b>电路设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#39" data-title="3.1 &lt;b&gt;整体结构&lt;/b&gt;">3.1 <b>整体结构</b></a></li>
                                                <li><a href="#43" data-title="3.2 Controller&lt;b&gt;控制器模块&lt;/b&gt;">3.2 Controller<b>控制器模块</b></a></li>
                                                <li><a href="#47" data-title="3.3 Logic&lt;b&gt;逻辑模块&lt;/b&gt;">3.3 Logic<b>逻辑模块</b></a></li>
                                                <li><a href="#54" data-title="3.4 &lt;b&gt;算法证明&lt;/b&gt;">3.4 <b>算法证明</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#78" data-title="4 &lt;b&gt;仿真验证&lt;/b&gt; ">4 <b>仿真验证</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#83" data-title="5 &lt;b&gt;结束语&lt;/b&gt; ">5 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#27" data-title="&lt;b&gt;图&lt;/b&gt;1 &lt;b&gt;高压系统&lt;/b&gt;"><b>图</b>1 <b>高压系统</b></a></li>
                                                <li><a href="#37" data-title="&lt;b&gt;图&lt;/b&gt;2 VR_PE&lt;b&gt;的产生电路图&lt;/b&gt;"><b>图</b>2 VR_PE<b>的产生电路图</b></a></li>
                                                <li><a href="#41" data-title="&lt;b&gt;图&lt;/b&gt;3 &lt;b&gt;电路整体架构&lt;/b&gt;"><b>图</b>3 <b>电路整体架构</b></a></li>
                                                <li><a href="#46" data-title="&lt;b&gt;图&lt;/b&gt;4 Controller &lt;b&gt;的状态转移图&lt;/b&gt;"><b>图</b>4 Controller <b>的状态转移图</b></a></li>
                                                <li><a href="#49" data-title="&lt;b&gt;图&lt;/b&gt;5 VPP&lt;b&gt;偏移时的走势&lt;/b&gt;"><b>图</b>5 VPP<b>偏移时的走势</b></a></li>
                                                <li><a href="#51" data-title="&lt;b&gt;图&lt;/b&gt;6 ATE&lt;b&gt;校准流程&lt;/b&gt;"><b>图</b>6 ATE<b>校准流程</b></a></li>
                                                <li><a href="#52" data-title="&lt;b&gt;图&lt;/b&gt;7 &lt;b&gt;校准&lt;/b&gt;default VPP&lt;b&gt;的算法流程图&lt;/b&gt;"><b>图</b>7 <b>校准</b>default VPP<b>的算法流程图</b></a></li>
                                                <li><a href="#53" data-title="&lt;b&gt;表&lt;/b&gt;1. op&amp;lt;3:0&amp;gt;&lt;b&gt;对应的&lt;/b&gt;VPP_SPEC&lt;b&gt;及数字信号&lt;/b&gt;"><b>表</b>1. op&lt;3:0&gt;<b>对应的</b>VPP_SPEC<b>及数字信号</b></a></li>
                                                <li><a href="#58" data-title="&lt;b&gt;图&lt;/b&gt;8 &lt;b&gt;推导演算过程&lt;/b&gt;"><b>图</b>8 <b>推导演算过程</b></a></li>
                                                <li><a href="#80" data-title="&lt;b&gt;表&lt;/b&gt;2 EXTE,&lt;b&gt;每个档位对应的实际值&lt;/b&gt;"><b>表</b>2 EXTE,<b>每个档位对应的实际值</b></a></li>
                                                <li><a href="#82" data-title="&lt;b&gt;图&lt;/b&gt;9 mode_flag=2,&lt;b&gt;校准&lt;/b&gt;VPP&lt;b&gt;的仿真结果&lt;/b&gt;"><b>图</b>9 mode_flag=2,<b>校准</b>VPP<b>的仿真结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" >
                                        <b>[1]</b>
                                     鲍黎涛.基于ATE的可靠性技术分析[J].IT时代周刊论文专版,2015(315):177-180.</a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 纪明霞,周志刚,王翠珍,等.ATE通用校准设备的研究[J].仪表技术,2015,43(3):8-10." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YBJI201503003&amp;v=MzA2NTlCUEMvQlo3RzRIOVRNckk5Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXci8=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         纪明霞,周志刚,王翠珍,等.ATE通用校准设备的研究[J].仪表技术,2015,43(3):8-10.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 董锁利,丁颖,张建兰.ATE的校准与设计策略[J].工业计量,2013,23(1):66-68." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GYJL201301022&amp;v=MjgxNTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3IvQklqVEJZckc0SDlMTXJvOUhab1E=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         董锁利,丁颖,张建兰.ATE的校准与设计策略[J].工业计量,2013,23(1):66-68.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 高占宝,梁旭,李行善.ATE系统校准技术研究[J].电子测量与仪器学报,2005,19(2):1-5." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZIY200502000&amp;v=MDY0OTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3IvQklUZkNkN0c0SHRUTXJZOUZaSVE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         高占宝,梁旭,李行善.ATE系统校准技术研究[J].电子测量与仪器学报,2005,19(2):1-5.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 章慧彬.测试成本的挑战及对策[J].电子与封装,2018,18 (5):7-9." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DYFZ201805002&amp;v=MDE2MzNvOUZab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3IvQklUVE5kTEc0SDluTXE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         章慧彬.测试成本的挑战及对策[J].电子与封装,2018,18 (5):7-9.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 董婷婷.低测试成本芯片的ATE和板级测试研究[D].上海:复旦大学,2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015415653.nh&amp;v=MjYwMTA1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL0JWRjI2RzdlNUc5ZkpySkViUElRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         董婷婷.低测试成本芯片的ATE和板级测试研究[D].上海:复旦大学,2013.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 冯忱晖.集成电路工艺偏差的片上检测与应用[D].杭州:浙江大学2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1017054586.nh&amp;v=MTQ5MTVxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXci9CVkYyNkdiTzlHdFRFcVpFYlBJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         冯忱晖.集成电路工艺偏差的片上检测与应用[D].杭州:浙江大学2016.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 李鹏,刘力源,李冬梅.一种高速高精度比较器的设计[J].半导体技术,2010,35(10):1011-1015." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BDTJ201010018&amp;v=MzAzMzZxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL0JKeW5mWkxHNEg5SE5yNDlFYklRS0RIODR2UjRUNmo1NE8zenE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         李鹏,刘力源,李冬梅.一种高速高精度比较器的设计[J].半导体技术,2010,35(10):1011-1015.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" VERMA N ,CHANDRAKASAN A P .An ultra low energy 12-bit rate-resolution scalable SAR ADC for wireless sensor nodes[J].IEEE Journal of Solid-State Circuits,2007,42(6):1196-1205." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An ultra low energy 12-bit rate-resolution scalable SAR ADC for wireless sensor nodes">
                                        <b>[9]</b>
                                         VERMA N ,CHANDRAKASAN A P .An ultra low energy 12-bit rate-resolution scalable SAR ADC for wireless sensor nodes[J].IEEE Journal of Solid-State Circuits,2007,42(6):1196-1205.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(11),1-6             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>一种EFlash高压自校准电路</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%AD%99%E9%93%AD%E9%98%B3&amp;code=43167836&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">孙铭阳</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%91%E6%99%93&amp;code=43167837&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郑晓</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%AD%E6%A1%82%E8%89%AF&amp;code=17313779&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郭桂良</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%A4%A7%E5%AD%A6&amp;code=1698842&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院大学</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E8%8A%AF%E5%9B%BD%E9%99%85%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF%E5%88%B6%E9%80%A0%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&amp;code=1502977&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中芯国际集成电路制造有限公司</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%BE%AE%E7%94%B5%E5%AD%90%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=0052330&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院微电子研究所</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>嵌入式闪存(Embedded Flash,EFlash)内部高压的准确性对其读取、编程和擦除的有效性至关重要.为了EFlash IP的高压误差尽可能小,电路预留了可调接口用于调整内部高压的数值.通过提出自动检测的算法和设计集自动化检测和校准一体的自测电路,达到快速校准高压的目的.实验以一个2 M存储容量的EFlash为对象,实现校准时间从3 s到30 ms的减少.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%97%AA%E5%AD%98&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">嵌入式闪存;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%AB%98%E5%8E%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">高压;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ATE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ATE;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%87%AA%E6%A0%A1%E5%87%86&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">自校准;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%AB%98%E6%95%88&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">高效;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    孙铭阳 女，（1994-），硕士研究生．研究方向为NVM测试方法优化设计．E-mail:mysssun623@163.com．;
                                </span>
                                <span>
                                    郑晓 男，（1983-），硕士，工程师．研究方向为NVM测试/数字电路设计．;
                                </span>
                                <span>
                                    郭桂良 男，（1981-），博士研究生，副研究员．研究方向为模拟/射频集成电路设计．;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-02-20</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然基金(61501453);</span>
                    </p>
            </div>
                    <h1><b>An EFlash high voltage auto trim circuit</b></h1>
                    <h2>
                    <span>SUN Ming-yang</span>
                    <span>ZHENG Xiao</span>
                    <span>GUO Gui-liang</span>
            </h2>
                    <h2>
                    <span>University of Chinese Academy of Sciences</span>
                    <span>Semiconductor Manufacturing International Corporation</span>
                    <span>Institute of Microelectronics of the Chinese Academy of Sciences</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>The accuracy of Embedded Flash(E;Flash) internal high voltage is crucial to its efficiency of reading, programming and erasing. In order to minimize the high voltage error of EFlash IP, the circuit reserved adjustable interface to adjust the value of internal high voltage. By putting forward the algorithm of automatic detection and designing the self-test circuit integrating automatic detection and calibration, the purpose of high voltage calibration can be achieved quickly. The experiment takes EFlash with a storage capacity of 2 M as the object to reduce the calibration time from 3 s to 30 ms.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=EFlash&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">EFlash;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=high%20voltage&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">high voltage;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ATE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ATE;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=auto%20trim&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">auto trim;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=high%20efficiency&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">high efficiency;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-02-20</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="21" name="21" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="22">EFlash的工作模式主要有擦除、编程和读取操作,其功能的正常实现离不开高压.在实际应用中,失调电压以及工艺误差会对高压系统产生较大的影响,使产生的高压偏离目标值.故在EFlash电路设计时可在内部预留16个调节档位,通过外部预留的接口调整内部高压.目前对高压的校准是利用自动测试机台(Auto Test Equipment,ATE)完成,对芯片进行16次外部时间控制编程(External Time Control Program,EXTP)和外部时间控制擦除(External Time Control Erase,EXTE)操作,在此模式下可以通过预留的档位改变高压,并从外部接口测得内部高压输出,通过ATE可以自动完成激励的配给、测量和数据处理然后输出测试结果<citation id="87" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.通过全扫描以及输出对比的方式找到输出高压(VPP)最接近目标值的档位.整个过程需要2.5～3 s的时间,测试时间长,测试程序繁琐,对测试机台依赖性高.虽然当今国内外校准技术水平表明ATE的校准设备正在按照“自动化、机动化、通用化”和“实用、可靠、先进、经济”的原则,向着硬件可互换的方向发展<citation id="88" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>.但是ATE的发展在我国起步较晚,普遍存在量值传递的参数多、配备数量少、体积庞大、不易拆卸的特点,还受着校准周期的制约<citation id="89" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>;还存在着校准系统的不确定度问题、校准环境条件的补偿问题和系统校准中的适配器问题<citation id="90" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>,导致系统复杂多样没有统一标准可以参照;与此同时随着电路时钟速度的提升、集成度的提高和混合信号需求的上升,ATE硬件成本快速增长<citation id="91" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>.针对这些情况,为了在保障测试覆盖率和准确性的前提下,降低测试费用和复杂度<citation id="92" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>,本文研究了一种可测性电路设计和算法,可以帮助加快实现对模拟信号VPP的自动校准,以55 nm工艺节点下的2 M存储容量EFlash为研究对象,最终测得校准时间降低到30 ms,大大减少了对ATE设备的依赖.</p>
                </div>
                <h3 id="23" name="23" class="anchor-tag">2 <b>高压系统和误差产生</b></h3>
                <div class="p1">
                    <p id="24">Eflash电路高压由内部系统产生,整体结构如图1所示,由pump电路、分压模块、比较器和时钟钳位模块四部分组成,其中分压模块的结构如图中虚线内所示,12个相同的电阻串联,最上级的电阻与一个低阻通路并联,通路的开关由trim bits中的OP&lt;3&gt;来控制,这样VDIV的电压就为PUMP产生的HV电压的1/11或1/12.VDIV与参考电压VR_PE分别输入到比较器的两个输入端,如果VDIV比参考电压大,比较器输出低电平,时钟信号被时钟钳位电路钳制,pump没有时钟输入而停止工作,由于负载的存在HV缓慢降低;如果VDIV比参考电压小,比较器输出高电平,CLK正常输入到pump中,pump电路继续工作升高HV.经过这样的比较反馈可以将HV稳定在设定的值.但在实际生产中,由于不可避免的工艺误差<citation id="93" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>,HV电压会与设定值之间有一定的偏差.产生偏差的原因包括电阻模块误差产生的线性偏差(此时的分压系数记作<i>a</i><sub>1</sub>),比较器输入失调电压产生的平移偏差量<i>b</i><sub>1</sub><citation id="94" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>,参考电压VR_PE由于电阻偏差存在的误差而得到的VR_PE′.那么真实值如公式(1)所示</p>
                </div>
                <div class="p1">
                    <p id="25">HV=<i>a</i><sub>1</sub>(VR_PE′+<i>b</i><sub>1</sub>)      (1)</p>
                </div>
                <div class="p1">
                    <p id="26">下面通过分析参考电压的产生过程评估VR_PE的偏差量.</p>
                </div>
                <div class="area_img" id="27">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 高压系统" src="Detail/GetImg?filename=images/WXYJ201911001_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 <b>高压系统</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="28">如图2所示,参考电压的产生电路分为三级,第一级包括一个稳定的外来参考电压<i>V</i><sub>ref</sub>、运放模块、电阻分压模块以及电压选择模块.由于运放虚短的特点,<i>P</i>点的电压与<i>V</i><sub>ref</sub>相同,再通过电阻分压模块产生8个不同的参考电压,由trim bits中的OP&lt;2:0&gt;来选择其中一个参考电压值,记为<i>V</i><sub>ref</sub>_OP.由于该级存在着电阻分压模块和运放,同样存在着电阻偏差和输入失调电压等因素,记真实的输出电压为</p>
                </div>
                <div class="p1">
                    <p id="29"><i>V</i><sub>ref</sub>_OP′=<i>a</i><sub>2</sub>*(<i>V</i><sub>ref</sub>_OP+<i>b</i><sub>2</sub>)      (2)</p>
                </div>
                <div class="p1">
                    <p id="30">式中,<i>a</i><sub>2</sub>为引入电阻偏差后的比例系数;<i>b</i><sub>2</sub>为输入失调电压.该级的驱动能力很弱,因此第二级用一个运放作为驱动电路,输出<i>V</i><sub>ref</sub>_OP_E的真实值为</p>
                </div>
                <div class="p1">
                    <p id="31"><i>V</i><sub>ref</sub>_OP_E′=<i>V</i><sub>ref</sub>_OP′+<i>b</i><sub>3</sub>      (3)</p>
                </div>
                <div class="p1">
                    <p id="32">由于编程和擦写时所需要的高压有所不同,因此第三级对<i>V</i><sub>ref</sub>_OP_E又进行了一次处理,在第三级中,12个相同的电阻串联,顶端接<i>V</i><sub>dd</sub>,底端接<i>V</i><sub>ref</sub>_OP_E,最上级的电阻与一个短路通路并联,同样由trim bits中的OP&lt;3&gt;来控制,这样用于擦除的参考电压值就等于<i>V</i><sub>ref</sub>_OP_E,而用于编程的参考电压值为<mathml id="85"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mn>1</mn><mrow><mn>1</mn><mn>1</mn></mrow></mfrac><mi>V</mi><msub><mrow></mrow><mrow><mtext>d</mtext><mtext>d</mtext></mrow></msub><mo>+</mo><mfrac><mrow><mn>1</mn><mn>0</mn></mrow><mrow><mn>1</mn><mn>1</mn></mrow></mfrac><mi>V</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>f</mtext></mrow></msub><mo>_</mo></mrow></math></mathml>OP_E或者<mathml id="86"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mn>1</mn><mrow><mn>1</mn><mn>2</mn></mrow></mfrac><mi>V</mi><msub><mrow></mrow><mrow><mtext>d</mtext><mtext>d</mtext></mrow></msub><mo>+</mo><mfrac><mrow><mn>1</mn><mn>1</mn></mrow><mrow><mn>1</mn><mn>2</mn></mrow></mfrac><mi>V</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>f</mtext></mrow></msub><mo>_</mo></mrow></math></mathml>OP_E.在这个过程中同样会引入线性偏差量,记真实的比例系数为<i>a</i><sub>3</sub>,故最终得到的参考电压为</p>
                </div>
                <div class="p1">
                    <p id="33" class="code-formula">
                        <mathml id="33"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mtext>V</mtext><mtext>R</mtext><mo>_</mo><mtext>Ρ</mtext><msup><mtext>E</mtext><mo>′</mo></msup></mrow><mo>=</mo><mi>a</mi><msub><mrow></mrow><mn>3</mn></msub><mo>*</mo><mo stretchy="false">(</mo><mi>a</mi><msub><mrow></mrow><mn>2</mn></msub><mo>*</mo><mrow><mo>(</mo><mrow><mi>V</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>f</mtext></mrow></msub><mo>_</mo><mtext>Ο</mtext><mtext>Ρ</mtext><mo>+</mo><mi>b</mi><msub><mrow></mrow><mn>2</mn></msub></mrow><mo>)</mo></mrow><mo>+</mo><mi>b</mi><msub><mrow></mrow><mn>3</mn></msub><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="34">最终的输出HV为</p>
                </div>
                <div class="p1">
                    <p id="35" class="code-formula">
                        <mathml id="35"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mtext>Η</mtext><msup><mtext>V</mtext><mo>′</mo></msup></mrow><mo>=</mo><mi>a</mi><msub><mrow></mrow><mn>1</mn></msub><mo>*</mo><mo stretchy="false">(</mo><mi>a</mi><msub><mrow></mrow><mn>3</mn></msub><mo>*</mo><mrow><mo>(</mo><mrow><mi>a</mi><msub><mrow></mrow><mn>2</mn></msub><mo>*</mo><mrow><mo>(</mo><mrow><mi>V</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>f</mtext></mrow></msub><mo>_</mo><mtext>Ο</mtext><mtext>Ρ</mtext><mo>+</mo><mi>b</mi><msub><mrow></mrow><mn>2</mn></msub></mrow><mo>)</mo></mrow><mo>+</mo><mi>b</mi><msub><mrow></mrow><mn>3</mn></msub></mrow><mo>)</mo></mrow><mo>+</mo><mi>b</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="36">假设单级的线性偏差为5%,最后线性偏差的总量可达15%,而平移偏差量又被比例系数放大,尤其是<i>a</i><sub>1</sub>的系数大于10,故积累的偏差量会很大,因此必须对实际的芯片进行高压的检测和校准.</p>
                </div>
                <div class="area_img" id="37">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 VR_PE的产生电路图" src="Detail/GetImg?filename=images/WXYJ201911001_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 VR_PE<b>的产生电路图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="38" name="38" class="anchor-tag">3 Auto Trim<b>电路设计</b></h3>
                <h4 class="anchor-tag" id="39" name="39">3.1 <b>整体结构</b></h4>
                <div class="p1">
                    <p id="40">电路的整体架构如图3所示,EFlash IP设计时预留有多位trim bits,其中低四位OP&lt;3:0&gt;用来调整VPP的电压.首先由Controller模块发出指令使IP工作在EXTP或EXTE模式下,并设定OP&lt;3:0&gt;=4’b0111,得到IP处于program或chip erase操作下VPP电压的初始值(default).为便于对高压进行处理计算,将高压信号经过电阻分压,得到的电压<i>V</i><sub>in</sub>通过模数转换器ADC模块转换为12位宽的数字信号Dout,Dout作为输入信号在Logic模块中进行运算,得出4位宽的输出data_out,即下次操作中OP&lt;3:0&gt;要设定的值.待IP退出本次测试模式后,op_in通过Controller赋值给OP&lt;3:0&gt;,改变trim bits,随后重新进入EXTP或EXTE模式并重复之前的过程,得到新的data_out.从第二轮开始会在Logic中比较前后两次的data_out数据,当两者相同,即前后两次所要调到的档位相同时,此时trim bits的档位就是使VPP最接近目标值的设置.</p>
                </div>
                <div class="area_img" id="41">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 电路整体架构" src="Detail/GetImg?filename=images/WXYJ201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 <b>电路整体架构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="42">在本电路架构中,ADC起着十分重要的作用,只有将输出的高压信号转换为数字信号<citation id="95" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>,才能在logic模块中进行计算比较.本IP中的Pump的输出能力在13 V以上,实际需要的高压在8 V～12 V之内,而所用ADC的输入电压在0～2.5 V的区间内,故设计电阻分压的比例为7:1,使分压得到的<i>V</i><sub>in</sub>分布在ADC的转换电压中值附近,提高转换的精度.</p>
                </div>
                <h4 class="anchor-tag" id="43" name="43">3.2 Controller<b>控制器模块</b></h4>
                <div class="p1">
                    <p id="44">Controller是产生指令的模块,IP的工作开始、工作模式和工作结束皆由其控制.两位宽的输入mode_flag&lt;1:0&gt;用于产生进入不同模式的时序信息和逻辑信号,包括4个状态,idle、EXTP、EXTE和read.本模块采用三段式状态机,一个模块描述状态转移,第二个模块判断状态转移的条件,描述状态转移的规律,第三个模块描述状态的输出.</p>
                </div>
                <div class="p1">
                    <p id="45">如图4所示,mode_flag为0时,controller发出指令使IP处于Idle状态;mode_flag为1时进入EXTP模式,一共包括5个步骤,首先controller控制IP从idle模式跳到chip erase模式进行全擦除操作,然后通过读操作验证全擦除的有效性,再控制IP进入EXT状态,在EXT模式下进入program状态即可测得EXTP时的VPP电压,最后回到idle模式;mode_flag为2时进入EXTE模式,同样是5个步骤,controller先控制IP从idle模式跳到program模式进行编程操作,然后进行读取操作验证编程的有效性,再跳转到EXT状态,在该模式下进行chip erase操作,测得EXTE时的VPP电压,最后回到idle模式.mode_flag为3时,controller可以使IP随时从idle模式跳到read模式进行读取操作,读取操作结束后也会立即回到idle模式.</p>
                </div>
                <div class="area_img" id="46">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 Controller 的状态转移图" src="Detail/GetImg?filename=images/WXYJ201911001_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 Controller <b>的状态转移图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="47" name="47">3.3 Logic<b>逻辑模块</b></h4>
                <div class="p1">
                    <p id="48">文章在EXTE模式下进行推理验证.表1是电路设计的SPEC值, VPP_SPEC的值是在EXTE模式下每个档位对应的电压设计值,而Dout_SPEC是经过电阻分压和ADC转换所对应VPP的数字信号.例如trim bits的default值是0111,目标高压输出值是10.175 V,通过电阻分压和ADC转换得到的数字信号为7DE.16个档位对应的VPP会发生偏移,假设偏移后每个档位对应的实际电压与SPEC的关系是VPP_EXTE=a*VPP_SPEC+b,如图5所示,曲线VPP_SPEC是各个档位对应的设计值曲线,曲线VPP_上偏是每个档位测得的VPP分布整体偏大的曲线,曲线VPP_下偏是每个档位测得的VPP分布整体偏小的曲线.如果上偏幅度太大导致最小的档位也无法达到目标值,则信号report_error1置高;如果下偏幅度太大导致最大的档位也无法达到目标值,则信号report_error2置高,代表没有可以使VPP达到设计值得档位.</p>
                </div>
                <div class="area_img" id="49">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 VPP偏移时的走势" src="Detail/GetImg?filename=images/WXYJ201911001_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 VPP<b>偏移时的走势</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_049.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="50">图6是当前ATE全扫描方法的流程,通过量测、比较和反馈实现.本电路的logic模块不再使用全扫描的算法,设计如图7所示的“查表法”,进入测试模式测得VPP时trim_flag置高,当data_in大于7E9时,说明电压上偏.首先计算出差值,然后用7E9减去差值得到目标值,对照表1在小于0111的档位中找到最接近7E9的档位,最后对照表格1输出相应的档位data_out&lt;3:0&gt;,如果target值在两个档位中间,本算法取较小的档位;data_in小于d_spec时原理相同.记录当前的data_out,将op&lt;3:0&gt;调到相应的档位,输出的VPP经过ADC转换为数字信号,再通过Logic模块运算后得到新的data_out,如果与前一个data_out相同,则trim_flag拉低,校准结束;如果不同,继续运算直到前后两次的data_out相同.</p>
                </div>
                <div class="area_img" id="51">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 ATE校准流程" src="Detail/GetImg?filename=images/WXYJ201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 ATE<b>校准流程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="52">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_052.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 校准default VPP的算法流程图" src="Detail/GetImg?filename=images/WXYJ201911001_052.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>7 <b>校准</b>default VPP<b>的算法流程图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_052.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="53">
                    <p class="img_tit"><b>表</b>1. op&lt;3:0&gt;<b>对应的</b>VPP_SPEC<b>及数字信号</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="53" border="1"><tr><td><br />op&lt;3:0&gt;</td><td>VPP_SPEC(V,EXTE)</td><td>Dout_SPEC(EXTE)</td></tr><tr><td><br />0000</td><td>8.800</td><td>7A7</td></tr><tr><td><br />0001</td><td>9.075</td><td>7B2</td></tr><tr><td><br />0010</td><td>9.350</td><td>7BD</td></tr><tr><td><br />0011</td><td>9.625</td><td>7C8</td></tr><tr><td><br />0100</td><td>9.675</td><td>7CA</td></tr><tr><td><br />0101</td><td>9.900</td><td>7D3</td></tr><tr><td><br />0110</td><td>9.975</td><td>7D6</td></tr><tr><td><br />0111</td><td>10.175</td><td>7DE</td></tr><tr><td><br />1000</td><td>10.275</td><td>7E2</td></tr><tr><td><br />1001</td><td>10.450</td><td>7E9</td></tr><tr><td><br />1010</td><td>10.600</td><td>7EF</td></tr><tr><td><br />1011</td><td>10.725</td><td>7F4</td></tr><tr><td><br />1100</td><td>10.900</td><td>7FB</td></tr><tr><td><br />1101</td><td>11.200</td><td>807</td></tr><tr><td><br />1110</td><td>11.500</td><td>813</td></tr><tr><td><br />1111</td><td>11.800</td><td>81F</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="54" name="54">3.4 <b>算法证明</b></h4>
                <div class="p1">
                    <p id="55">运用数学方法证明上文算法的可行性.假设线性偏移量为<i>k</i>,平移量为<i>b</i>,16个档位高压HV的输出都会发生偏移,引入线性误差<i>k</i>和平移误差<i>b</i>,那么实测值V<sub>EXTE</sub>和设计值V<sub>spec</sub>的关系如公式(6)所示.</p>
                </div>
                <div class="p1">
                    <p id="56"><i>V</i><sub>EXTE</sub>=<i>kV</i><sub>spec</sub>+<i>b</i>      (6)</p>
                </div>
                <div class="p1">
                    <p id="57">假设目标的输出电压为<i>A</i>,设计的电压trim的间隔为<i>d</i>.为方便计算,将间隔电压归一化,此时目标的输出电压为<i>a</i>,间隔为1,即图8中第二列的电压列表.再引入线性误差和平移误差,得到第三列所示的电压列表,此时在default档位下实际测得的高压值为<i>ka</i>+<i>b</i>.将实测值和目标值的差值记为?,由上述流程可知需要根据这个差值在设计中的spec列表中寻找trim的档位,将此时档位对应的设计值记为target,而该档位对应的实测值则记为<i>V</i><sub>EXTE</sub>.在此先假定0&lt;<i>k</i>&lt;2.</p>
                </div>
                <div class="area_img" id="58">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 推导演算过程" src="Detail/GetImg?filename=images/WXYJ201911001_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>8 <b>推导演算过程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="59">第一次校准时<i>trim</i>的档位为<i>default</i>值,此时<i>target</i><sub>0</sub>为a,实测得V<sub><i>EXTE</i></sub><sub>0</sub>=ka+b,计算得到</p>
                </div>
                <div class="p1">
                    <p id="60" class="code-formula">
                        <mathml id="60"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>Δ</mtext><msub><mrow></mrow><mn>1</mn></msub><mo>=</mo><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>0</mn></mrow></msub><mo>-</mo><mtext>a</mtext></mtd></mtr><mtr><mtd><mo>=</mo><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><mtext>a</mtext><mo>+</mo><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>7</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="61">此时在<i>spec</i>电压列表中寻找的值为</p>
                </div>
                <div class="p1">
                    <p id="62" class="code-formula">
                        <mathml id="62"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub><mo>=</mo><mfrac><mrow><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>0</mn></mrow></msub><mo>-</mo><mtext>b</mtext></mrow><mtext>k</mtext></mfrac><mo>-</mo><mtext>Δ</mtext><msub><mrow></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mo>=</mo><mtext>a</mtext><mo>-</mo><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><mtext>a</mtext><mo>-</mo><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="63">该设计值对应的实测值为</p>
                </div>
                <div class="p1">
                    <p id="64" class="code-formula">
                        <mathml id="64"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>1</mn></mrow></msub><mo>=</mo><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><msub><mrow></mrow><mn>1</mn></msub><mo>*</mo><mtext>k</mtext><mo>+</mo><mtext>b</mtext></mtd></mtr><mtr><mtd><mo>=</mo><mtext>a</mtext><mo>-</mo><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mtext>a</mtext><mo>-</mo><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>9</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="65">因此在第一次校准结束后实测值与目标值的差值为</p>
                </div>
                <div class="p1">
                    <p id="66" class="code-formula">
                        <mathml id="66"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>Δ</mtext><msub><mrow></mrow><mn>2</mn></msub><mo>=</mo><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>1</mn></mrow></msub><mo>-</mo><mtext>a</mtext></mtd></mtr><mtr><mtd><mo>=</mo><mo>-</mo><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mtext>a</mtext><mo>-</mo><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>0</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="67">由于0&lt;k&lt;2,故Δ<sub>2</sub>&lt;Δ<sub>1</sub>.第二次校准的过程与第一次相同,得到</p>
                </div>
                <div class="p1">
                    <p id="68" class="code-formula">
                        <mathml id="68"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><msub><mrow></mrow><mn>2</mn></msub><mo>=</mo><mfrac><mrow><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>1</mn></mrow></msub><mo>-</mo><mtext>b</mtext></mrow><mtext>k</mtext></mfrac><mo>-</mo><mtext>Δ</mtext><msub><mrow></mrow><mn>2</mn></msub></mtd></mtr><mtr><mtd><mo>=</mo><mfrac><mrow><mtext>a</mtext><mo>-</mo><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mtext>a</mtext><mo>-</mo><mtext>k</mtext><mtext>b</mtext></mrow><mtext>k</mtext></mfrac><mo>+</mo><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mtext>a</mtext><mo>+</mo><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>1</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mn>2</mn></mrow></msub><mo>=</mo><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi><msub><mrow></mrow><mn>2</mn></msub><mo>*</mo><mtext>k</mtext><mo>+</mo><mtext>b</mtext></mtd></mtr><mtr><mtd><mo>=</mo><mtext>a</mtext><mo>+</mo><mspace width="0.25em" /><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>3</mn></msup></mrow><mtext>a</mtext><mo>+</mo><mrow><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="69">由所得的结果,可以推断第n-1次校准后测量值与目标值的差Δ和第n次校准后的测量值V<sub><i>EXTE</i></sub>为</p>
                </div>
                <div class="p1">
                    <p id="70" class="code-formula">
                        <mathml id="70"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>Δ</mtext><msub><mrow></mrow><mtext>n</mtext></msub><mo>=</mo><mrow><mo>(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mrow><mtext>n</mtext><mo>-</mo><mn>1</mn></mrow></msup><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mtext>n</mtext></msup><mtext>a</mtext><mo>+</mo><mrow><mo>(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mrow><mtext>n</mtext><mo>-</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mtext>n</mtext><mo>-</mo><mn>1</mn></mrow></msup><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>3</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mi>n</mi></mrow></msub><mo>=</mo><mtext>a</mtext><mo>+</mo><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mtext>a</mtext><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>4</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="71">那么第n次校准后<i>VPP</i>的实际输出值与目标值的差距为</p>
                </div>
                <div class="p1">
                    <p id="72"><i>Δ</i><sub>n+1</sub>=(-1)<sup>n</sup>(k-1)<sup>n+1</sup>a+(-1)<sup>n</sup>(k-1)<sup>n</sup>b      (15)</p>
                </div>
                <div class="p1">
                    <p id="73">那么第n+1次校准在<i>spec</i>电压列表中查到的值是</p>
                </div>
                <div class="p1">
                    <p id="74" class="code-formula">
                        <mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><msub><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mfrac><mrow><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mi>n</mi></mrow></msub><mo>-</mo><mtext>b</mtext></mrow><mtext>k</mtext></mfrac><mo>-</mo><mi>Δ</mi><msub><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msub><mspace width="0.25em" /><mo>=</mo></mtd></mtr><mtr><mtd><mfrac><mrow><mtext>a</mtext><mo>+</mo><mrow><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup></mrow><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mtext>a</mtext><mo>+</mo><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mtext>b</mtext><mo>-</mo><mtext>b</mtext></mrow><mtext>k</mtext></mfrac><mo>-</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mtext>a</mtext><mo>+</mo><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mtext>n</mtext></msup><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>6</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="75">故第n+1次校准得到的实测值为</p>
                </div>
                <div class="p1">
                    <p id="76" class="code-formula">
                        <mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>V</mtext><msub><mrow></mrow><mrow><mi>E</mi><mi>X</mi><mi>Τ</mi><mi>E</mi><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow><msub><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msub><mo>*</mo><mtext>k</mtext><mo>+</mo><mtext>b</mtext></mtd></mtr><mtr><mtd><mo>=</mo><mtext>a</mtext><mo>+</mo><mrow><mo>(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mrow><mo>(</mo><mrow><mtext>k</mtext><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>2</mn></mrow></msup><mtext>a</mtext></mtd></mtr><mtr><mtd><mo>+</mo><mrow><mo>(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mtext>k</mtext><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mtext>n</mtext><mo>+</mo><mn>1</mn></mrow></msup><mtext>b</mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mn>7</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="77">通过上述数学归纳法,证明了第n次校准后<i>VPP</i>的值是a+(-1)<sup>n</sup>(k-1)<sup>n+1</sup>a+(-1)<sup>n</sup>(k-1)<sup>n</sup>b,在开始证明前假定了0&lt;k&lt;2,故可以看到与目标值a的差量以指数型的速度减小,算法收敛,佳值.当差值小于1/2时,即得到所需的校准档位.当k&gt;2,b&gt;0时,<i>target</i><sub>1</sub>是负值,即此情况下输出的真实值中将不会有足够接近a的值;当k&gt;2,b&lt;0时,该算法无法找到最有效的值.但是,k&gt;2意味着每一级线性偏差大于26%,这在实际生产过程中基本不会出现.</p>
                </div>
                <h3 id="78" name="78" class="anchor-tag">4 <b>仿真验证</b></h3>
                <div class="p1">
                    <p id="79">Clk的周期为40ns,mode_flag为2,此时进行EXTE操作,<i>a</i>=1.12,<i>b</i>=0.1,则VPP_EXTE=1.12*VPP_SPEC+0.1,电压整体偏大.表2是每个档位对应的实际值, op为default值0111测得的VPP所对应的数字信号为813,从表中可以看出最接近目标值7DE的档位是0001,在每个档位对应的真实值未知的情况下,验证电路是否可以输出0001.</p>
                </div>
                <div class="area_img" id="80">
                    <p class="img_tit"><b>表</b>2 EXTE,<b>每个档位对应的实际值</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="80" border="1"><tr><td><br />op&lt;3:0&gt;</td><td>VPP_EXTE(V)</td><td>Dout_EXTE</td></tr><tr><td><br />0000</td><td>9.950</td><td>7D5</td></tr><tr><td><br />0001</td><td>10.275</td><td>7E2</td></tr><tr><td><br />0010</td><td>10.575</td><td>7EE</td></tr><tr><td><br />0011</td><td>10.875</td><td>7FA</td></tr><tr><td><br />0100</td><td>10.925</td><td>7FC</td></tr><tr><td><br />0101</td><td>11.200</td><td>807</td></tr><tr><td><br />0110</td><td>11.275</td><td>80A</td></tr><tr><td><br />0111</td><td>11.500</td><td>813</td></tr><tr><td><br />1000</td><td>11.600</td><td>817</td></tr><tr><td><br />1001</td><td>11.800</td><td>81F</td></tr><tr><td><br />1010</td><td>11.975</td><td>826</td></tr><tr><td><br />1011</td><td>12.100</td><td>82B</td></tr><tr><td><br />1100</td><td>12.300</td><td>833</td></tr><tr><td><br />1101</td><td>12.650</td><td>841</td></tr><tr><td><br />1110</td><td>12.975</td><td>84E</td></tr><tr><td><br />1111</td><td>13.325</td><td>85C</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="81">图9为仿真结果,在第三次进入测试模式时运算得到的data_out依然是1,与第二次的data_out相同,说明op&lt;3:0&gt;为0111时,校准data_in(813)最合适的档位是1,即data_out&lt;3:0&gt;为0010,此时trim_flag置低,得到了合适的trim bit.</p>
                </div>
                <div class="area_img" id="82">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201911001_082.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 mode_flag=2,校准VPP的仿真结果" src="Detail/GetImg?filename=images/WXYJ201911001_082.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>9 mode_flag=2,<b>校准</b>VPP<b>的仿真结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201911001_082.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="83" name="83" class="anchor-tag">5 <b>结束语</b></h3>
                <div class="p1">
                    <p id="84">针对EFlash模拟功能模块高压偏移的问题,提出了一种可以实现自校准的测试电路.分析电压产生的原理后,将高压偏移的原因主要归于失调电压和电阻偏差,分别对应为平移偏差和线性偏差,进而设计算法“查表法”并用数学方法证明其有效,最后搭建电路并通过子模块仿真和整体仿真验证了电路功能的完整性.仿真结果显示利用本文的Auto Trim电路能将校准时间节省到30 ms,与目前的ATE全扫描方法的3 s相比大大缩减,相应的成本也会大幅度减少,对节省EFlash整体测试成本的研究有着很高的价值.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" >
                                    <b>[1]</b>
                                 鲍黎涛.基于ATE的可靠性技术分析[J].IT时代周刊论文专版,2015(315):177-180.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YBJI201503003&amp;v=MDgwODBGckNVUkxPZVplVnZGQ25nV3IvQlBDL0JaN0c0SDlUTXJJOUZaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 纪明霞,周志刚,王翠珍,等.ATE通用校准设备的研究[J].仪表技术,2015,43(3):8-10.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GYJL201301022&amp;v=MDk2NjBJalRCWXJHNEg5TE1ybzlIWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL0I=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 董锁利,丁颖,张建兰.ATE的校准与设计策略[J].工业计量,2013,23(1):66-68.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZIY200502000&amp;v=MzI1MzQ5RlpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXci9CSVRmQ2Q3RzRIdFRNclk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 高占宝,梁旭,李行善.ATE系统校准技术研究[J].电子测量与仪器学报,2005,19(2):1-5.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DYFZ201805002&amp;v=MDgwOTJGQ25nV3IvQklUVE5kTEc0SDluTXFvOUZab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 章慧彬.测试成本的挑战及对策[J].电子与封装,2018,18 (5):7-9.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015415653.nh&amp;v=MTAxNzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZDbmdXci9CVkYyNkc3ZTVHOWZKckpFYlBJUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 董婷婷.低测试成本芯片的ATE和板级测试研究[D].上海:复旦大学,2013.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1017054586.nh&amp;v=MTc0MDFGMjZHYk85R3RURXFaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGQ25nV3IvQlY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 冯忱晖.集成电路工艺偏差的片上检测与应用[D].杭州:浙江大学2016.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BDTJ201010018&amp;v=MTU0NDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL0JKeW5mWkxHNEg5SE5yNDlFYklRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 李鹏,刘力源,李冬梅.一种高速高精度比较器的设计[J].半导体技术,2010,35(10):1011-1015.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An ultra low energy 12-bit rate-resolution scalable SAR ADC for wireless sensor nodes">

                                <b>[9]</b> VERMA N ,CHANDRAKASAN A P .An ultra low energy 12-bit rate-resolution scalable SAR ADC for wireless sensor nodes[J].IEEE Journal of Solid-State Circuits,2007,42(6):1196-1205.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201911001" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201911001&amp;v=MDE5NDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2RkNuZ1dyL09NalhTWkxHNEg5ak5ybzlGWllRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sRzVOZlY0eG5jQ2MrRjhjT2RFVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="0" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
