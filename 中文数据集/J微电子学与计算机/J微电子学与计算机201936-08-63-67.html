<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133853591037500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dWXYJ201908014%26RESULT%3d1%26SIGN%3dMVcPqaMzZKoBJJgjmXEveUzUs3o%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201908014&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201908014&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201908014&amp;v=Mjc2MjR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnlublZMN0pNalhTWkxHNEg5ak1wNDlFWUlRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#15" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#18" data-title="2 ZYNQ&lt;b&gt;和卷积神经网络&lt;/b&gt; ">2 ZYNQ<b>和卷积神经网络</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#25" data-title="3 &lt;b&gt;系统设计与实现&lt;/b&gt; ">3 <b>系统设计与实现</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#28" data-title="3.1 CNN LeNet5&lt;b&gt;模型训练&lt;/b&gt;">3.1 CNN LeNet5<b>模型训练</b></a></li>
                                                <li><a href="#31" data-title="3.2 CNN IP&lt;b&gt;核设计与实现&lt;/b&gt;">3.2 CNN IP<b>核设计与实现</b></a></li>
                                                <li><a href="#35" data-title="3.3 CNN IP&lt;b&gt;核优化&lt;/b&gt;">3.3 CNN IP<b>核优化</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#44" data-title="4 &lt;b&gt;实验与结果&lt;/b&gt; ">4 <b>实验与结果</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#45" data-title="4.1 &lt;b&gt;实验测试平台&lt;/b&gt;">4.1 <b>实验测试平台</b></a></li>
                                                <li><a href="#48" data-title="4.2 &lt;b&gt;单张图片测试&lt;/b&gt;">4.2 <b>单张图片测试</b></a></li>
                                                <li><a href="#51" data-title="4.3 &lt;b&gt;图片流测试&lt;/b&gt;">4.3 <b>图片流测试</b></a></li>
                                                <li><a href="#55" data-title="4.4 &lt;b&gt;实验结果比较&lt;/b&gt;">4.4 <b>实验结果比较</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#60" data-title="5 &lt;b&gt;结束语&lt;/b&gt; ">5 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#22" data-title="&lt;b&gt;图&lt;/b&gt;1 CNN LeNet5&lt;b&gt;模型结构&lt;/b&gt;"><b>图</b>1 CNN LeNet5<b>模型结构</b></a></li>
                                                <li><a href="#24" data-title="&lt;b&gt;表&lt;/b&gt;1 &lt;b&gt;各层卷积核、特征图、偏置量个数和所需变量个数&lt;/b&gt;"><b>表</b>1 <b>各层卷积核、特征图、偏置量个数和所需变量个数</b></a></li>
                                                <li><a href="#27" data-title="&lt;b&gt;图&lt;/b&gt;2 &lt;b&gt;系统硬件原理图&lt;/b&gt;"><b>图</b>2 <b>系统硬件原理图</b></a></li>
                                                <li><a href="#30" data-title="&lt;b&gt;图&lt;/b&gt;3 CNN LeNet5&lt;b&gt;误差与训练次数的关系&lt;/b&gt;"><b>图</b>3 CNN LeNet5<b>误差与训练次数的关系</b></a></li>
                                                <li><a href="#34" data-title="&lt;b&gt;图&lt;/b&gt;4 CNN IP&lt;b&gt;原理图&lt;/b&gt;"><b>图</b>4 CNN IP<b>原理图</b></a></li>
                                                <li><a href="#37" data-title="&lt;b&gt;图&lt;/b&gt;5 C1&lt;b&gt;层卷积代码&lt;/b&gt;"><b>图</b>5 C1<b>层卷积代码</b></a></li>
                                                <li><a href="#42" data-title="&lt;b&gt;表&lt;/b&gt;2 &lt;b&gt;不同&lt;/b&gt;Pipelinling&lt;b&gt;生成的&lt;/b&gt;CNN IP&lt;b&gt;核计算速度与资源消耗&lt;/b&gt;"><b>表</b>2 <b>不同</b>Pipelinling<b>生成的</b>CNN IP<b>核计算速度与资源消耗</b></a></li>
                                                <li><a href="#43" data-title="&lt;b&gt;表&lt;/b&gt;3 &lt;b&gt;不同方式计算图片所需要的时间 (周期&lt;/b&gt;:10ns) "><b>表</b>3 <b>不同方式计算图片所需要的时间 (周期</b>:10ns) </a></li>
                                                <li><a href="#53" data-title="&lt;b&gt;图&lt;/b&gt;6 &lt;b&gt;图片流测试结果&lt;/b&gt;"><b>图</b>6 <b>图片流测试结果</b></a></li>
                                                <li><a href="#57" data-title="&lt;b&gt;表&lt;/b&gt;4 &lt;b&gt;文献&lt;/b&gt;&lt;b&gt;与本文实验平台对比&lt;/b&gt;"><b>表</b>4 <b>文献</b><b>与本文实验平台对比</b></a></li>
                                                <li><a href="#58" data-title="&lt;b&gt;表&lt;/b&gt;5 &lt;b&gt;文献&lt;/b&gt;&lt;b&gt;与本文在不同实验平台下对不同 张图像处理的运算速度比较&lt;/b&gt;"><b>表</b>5 <b>文献</b><b>与本文在不同实验平台下对不同 张图像处理的运算速度比较</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="71">


                                    <a id="bibliography_1" title=" ZHANG C, LI P, SUN G, et al.Optimi-zing fpgabased accelerator design for deep convolutional neural networks[C]// Acm/sigda International Symposium on Field-programmable Gate Arrays.ACM, 2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Optimizing FPGA-based acelerator dsign for deep convolutional neural networks">
                                        <b>[1]</b>
                                         ZHANG C, LI P, SUN G, et al.Optimi-zing fpgabased accelerator design for deep convolutional neural networks[C]// Acm/sigda International Symposium on Field-programmable Gate Arrays.ACM, 2015.
                                    </a>
                                </li>
                                <li id="73">


                                    <a id="bibliography_2" title=" LI H, FAN X, JIAO L, et al.A high pe-rformance FPGA-based accelerator for large-scale convolutional neural netwo-rks[C]// 2016 26th International Conf-erence on Field Programmable Logic and Applications (FPL) .IEEE, 2016." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A high performance FPGA-based accelerator for large-scale convolutional neural networks">
                                        <b>[2]</b>
                                         LI H, FAN X, JIAO L, et al.A high pe-rformance FPGA-based accelerator for large-scale convolutional neural netwo-rks[C]// 2016 26th International Conf-erence on Field Programmable Logic and Applications (FPL) .IEEE, 2016.
                                    </a>
                                </li>
                                <li id="75">


                                    <a id="bibliography_3" title=" Xilinx.ds187-XC7Z010-XC7Z020-Data-Sheet[EB/OL]. (2018-07-02) [2018-07-02]https://china.xilinx.com/support/[8] 范秋香.FPGA高级开发技术的研究[D].北京:北京理工大学, 2015." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015029776.nh&amp;v=MjA1MzdJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5bm5WTDdKVkYyNkc3TzZGOWJMcVpFYlA=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         Xilinx.ds187-XC7Z010-XC7Z020-Data-Sheet[EB/OL]. (2018-07-02) [2018-07-02]https://china.xilinx.com/support/[8] 范秋香.FPGA高级开发技术的研究[D].北京:北京理工大学, 2015.
                                    </a>
                                </li>
                                <li id="77">


                                    <a id="bibliography_4" title=" Xilinx.UG902-vivado-high-level-synthesis[EB/OL].https://china.xilinx.com/support/documentation/sw_manuals/xilinx2015_4/ug902-vivado-high-level-synthesis.pdf." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=UG902-vivado-high-level-synthesis">
                                        <b>[4]</b>
                                         Xilinx.UG902-vivado-high-level-synthesis[EB/OL].https://china.xilinx.com/support/documentation/sw_manuals/xilinx2015_4/ug902-vivado-high-level-synthesis.pdf.
                                    </a>
                                </li>
                                <li id="79">


                                    <a id="bibliography_5" title=" 余子健, 马德, 严晓浪, 等.基于FPGA的卷积神经网络加速器[J].计算机工程, 2017, 43 (1) :109-114." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201701019&amp;v=MjE1NDhIOWJNcm85RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5bm5WTDdKTHo3QmJiRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         余子健, 马德, 严晓浪, 等.基于FPGA的卷积神经网络加速器[J].计算机工程, 2017, 43 (1) :109-114.
                                    </a>
                                </li>
                                <li id="81">


                                    <a id="bibliography_6" title=" 陈岩, 李洋洋, 余乐, 等.基于卷积神经网络的手写体数字识别系统[J].微电子学与计算机, 2018, 35 (2) :71-74." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201802015&amp;v=MDY0ODNTWkxHNEg5bk1yWTlFWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnlublZMN0pNalg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         陈岩, 李洋洋, 余乐, 等.基于卷积神经网络的手写体数字识别系统[J].微电子学与计算机, 2018, 35 (2) :71-74.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(08),63-67             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于高层次综合的卷积神经网络设计与优化方法研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BD%AD%E9%91%AB%E7%A3%8A&amp;code=39922708&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">彭鑫磊</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E4%BD%99%E4%B9%90&amp;code=36542307&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">余乐</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8C%97%E4%BA%AC%E5%B7%A5%E5%95%86%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E4%BF%A1%E6%81%AF%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0163176&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">北京工商大学计算机与信息工程学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E9%A3%9F%E5%93%81%E5%AE%89%E5%85%A8%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E5%8C%97%E4%BA%AC%E5%B8%82%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">食品安全大数据技术北京市重点实验室</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>本文基于FPGA高层次综合的设计方法学, 在ZYNQ-7020上实现了一个卷积神经网络加速器.采用循环展开和并行流水的设计方法对卷积核运算进行优化, 均衡了所占用逻辑资源及运算效率, 从而实现加速器的最优性能.通过MINST数据集在100MHz的工作频率下对加速器进行性能测试, 结果表明:对单张图片, 该加速器相对于通用平台ARM A9可实现3.77倍加速, 而对1000张图片的流式处理可实现高达6.14倍加速.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">卷积神经网络;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%B5%8C%E5%85%A5%E5%BC%8F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">嵌入式;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ZYNQ-7020&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ZYNQ-7020;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8A%A0%E9%80%9F%E5%99%A8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">加速器;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    彭鑫磊, 男, (1993-) , 硕士研究生.研究方向为数字集成电路设计、嵌入式开发.;
                                </span>
                                <span>
                                    *余乐, (通讯作者) , 男, (1983-) , 博士, 讲师.研究方向为计算视觉与类脑芯片.E-mail:ladd_u@163.com;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-10-16</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金 (61704173);</span>
                                <span>北京市自然科学基金 (4174086);</span>
                    </p>
            </div>
                    <h1><b>HLS-based design and optimization methodology for convolutional neural network</b></h1>
                    <h2>
                    <span>PENG Xin-Lei</span>
                    <span>YU Le</span>
            </h2>
                    <h2>
                    <span>School of Computer and Information Engineering, Beijing Technology and Business University</span>
                    <span>Beijing Key Laboratory of Big Data Technology for Food Safety</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Based on High Level Synthesis (HLS) design methodology of FPGA, this paper implements a convolutional neural network accelerator on ZYNQ-7020. The design method of cyclic unroll and pipelinling is used to optimize the convolution kernel operation, and the occupied logic resources and operation efficiency are balanced to achieve the optimal performance of the accelerator. The performance of the accelerator is tested by the MINST dataset at 100 MHz working frequency. The results show that: the accelerator can achieve 3.77 times acceleration compared to the general platform ARM A9 for a single picture, and the streaming processing of thousands of pictures can achieve up to 6.14 times acceleration.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=convolutional%20neural%20networks&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">convolutional neural networks;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=embedded&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">embedded;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ZYNQ-7020&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ZYNQ-7020;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=accelerator&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">accelerator;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-10-16</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="15" name="15" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="16">卷积神经网络由于自身网络结构的特点<citation id="83" type="reference"><link href="71" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>, 运算过程需要大量的计算资源.ARM处理器计算资源有限无法满足实时性要求, 专用处理器GPU、ASIC和FPGA为CNN提供了高效可行的加速平台, 其中, GPU能耗大的问题一直难以解决, ASIC流片成本昂贵而且不可重配置使得它难以大规模应用, FPGA具有高性能、低功耗、可重配置的特点, 已有的基于FPGA的CNN加速方案<citation id="84" type="reference"><link href="73" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>表明, FPGA比CPU和GPU不仅具有更好的加速效果, 而且能耗方面也远远低于GPU.但由于FPGA灵活性差而且Verilog HDL开发门槛较高, 开发周期长, 一定程度上影响了FPGA在人工智能领域应用的普及.</p>
                </div>
                <div class="p1">
                    <p id="17">本文研究基于高层次综合的卷积神经网络设计与优化方法, 在ZYNQ-7020上实现了一个卷积神经网络加速器.采用循环展开和并行流水的设计方法对卷积核运算进行优化.</p>
                </div>
                <h3 id="18" name="18" class="anchor-tag">2 ZYNQ<b>和卷积神经网络</b></h3>
                <div class="p1">
                    <p id="19">Xilinx推出的ZYNQ芯片采用“ARM+FPGA”体系架构<citation id="85" type="reference"><link href="75" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, 其中ARM部分也称处理系统 (Processing System, PS) , FPGA部分称做可编程逻辑 (Programmable Logic, PL) .PS部分包含双核Cortex-A9处理器, PL部分包含了传统的FPGA逻辑单元.ZYNQ-7000平台将ARM的软件可编程能力和FPGA的硬件可编程能力结合在一起, 使系统拥有灵活性、资源丰富和强大的计算能力的同时又具备低功耗和低成本的优点.这些优点使得ZYNQ成为卷积神经网理想的嵌入式运行平台.</p>
                </div>
                <div class="p1">
                    <p id="20">卷积神经网络是一种前馈神经网络, 它的人工神经元可以响应一部分覆盖范围内的周围单元, 是一种高效识别图像的方法, 对于图像处理有出色表现.它通常包括输入层、卷积层、下采样层和全连接层<citation id="86" type="reference"><link href="77" rel="bibliography" /><link href="79" rel="bibliography" /><link href="81" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">5</a>,<a class="sup">6</a>]</sup></citation>构成.</p>
                </div>
                <div class="p1">
                    <p id="21">本文采用CNN LeNet5模型对系统进行测试, 模型结构如图1所示, 一个输入层, 两个卷积层, 两个降采样层, 一个输出层.采用MINST数据集对模型进行训练, 每张图片的大小为28×28像素, 共70 000张图片, 其中60 000张做训练集, 10 000张做测试集.</p>
                </div>
                <div class="area_img" id="22">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_022.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 CNN LeNet5模型结构" src="Detail/GetImg?filename=images/WXYJ201908014_022.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 CNN LeNet5<b>模型结构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_022.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="23">上述模型中, 各层卷积核、特征图以及偏置量需要变量个数如表1所示, 整个网络共需要9236个变量, 除了池化层的卷积核权重不需要占用存储空间外, 其余9 188个变量都需要消耗存储资源, 若采用double (4个byte) 存储这些变量, 将需要大约72KB存储资源, 本文采用的ZYNQ-7020有足够的存储空间用于存放这些变量.</p>
                </div>
                <div class="area_img" id="24">
                    <p class="img_tit"><b>表</b>1 <b>各层卷积核、特征图、偏置量个数和所需变量个数</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="24" border="1"><tr><td>层</td><td>权重</td><td>权重</td><td>特征图</td><td>特征图</td><td>特征图</td><td>偏置量</td><td>偏置量</td><td>层变</td></tr><tr><td><br /></td><td>个数</td><td>变量</td><td>大小</td><td>个数</td><td>变量</td><td>个数</td><td>变量</td><td>量数</td></tr><tr><td><br />C1</td><td>5×5×6</td><td>150</td><td>24×24</td><td>6</td><td>3 456</td><td>6</td><td>6</td><td>3 612</td></tr><tr><td><br />S1</td><td>2×2×6</td><td>24</td><td>12×12</td><td>6</td><td>864</td><td>0</td><td>0</td><td>888</td></tr><tr><td><br />C2</td><td>5×5×12×6</td><td>1 800</td><td>8×8</td><td>12</td><td>768</td><td>12</td><td>12</td><td>2 580</td></tr><tr><td><br />S2</td><td>2×2×6</td><td>24</td><td>4×4</td><td>12</td><td>192</td><td>0</td><td>0</td><td>216</td></tr><tr><td><br />O</td><td>16×10×12</td><td>1 920</td><td>1×1</td><td>10</td><td>10</td><td>10</td><td>10</td><td>1 940</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="25" name="25" class="anchor-tag">3 <b>系统设计与实现</b></h3>
                <div class="p1">
                    <p id="26">本文设计并实现基于ZYNQ的CNN加速器, 采用ZYNQ的PS部分做逻辑控制, PL部分的CNN IP核执行卷积神经网络运算, DMA作为PS和CNN IP核的数据传输通道, 采用AXI Stream作为数据传输方式, 采用Counter记录程序运行所经历的时钟周期数.系统硬件原理图如图2所示, PS Reset在PS的命令下复位各个模块, PS通过AXI Interconnet_1对DMA进行配置和与Counter进行通信, 通过AXIInterconnet_2与CNN IP核进行数据传输, PS将手写体图片的像素通过DMA送入CNN IP核中进行计算.CNN IP核再将计算的结果通过DMA返回给PS, 从而完成单张图片的CNN计算过程.</p>
                </div>
                <div class="area_img" id="27">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_027.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 系统硬件原理图" src="Detail/GetImg?filename=images/WXYJ201908014_027.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>2 <b>系统硬件原理图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_027.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="28" name="28">3.1 CNN LeNet5<b>模型训练</b></h4>
                <div class="p1">
                    <p id="29">本文在Matlab中搭建CNN LeNet5网络模型的并进行训练, 训练过程如图3所示, 其中X轴代表训练次数, Y轴表示每次训练的误差.设置学习速率为1, 训练12000次, 随着训练次数的不断增加, 误差越来越小, 最终的模型错误率为2.57%.</p>
                </div>
                <div class="area_img" id="30">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_030.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 CNN LeNet5误差与训练次数的关系" src="Detail/GetImg?filename=images/WXYJ201908014_030.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>3 CNN LeNet5<b>误差与训练次数的关系</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_030.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="31" name="31">3.2 CNN IP<b>核设计与实现</b></h4>
                <div class="p1">
                    <p id="32">Xilinx推出高层次综合 (High Level Synthesis, HLS) 工具 (Vivado HLS) 可以把行为描述转换成电路结构描述, 反映在设计语言上可以表述为把C、C++、System C等高级语言转化成硬件描述语言<sup><a class="sup">[8]</a></sup>, 大大提高了FPGA的开发效率.</p>
                </div>
                <div class="p1">
                    <p id="33">本文采用C++重新搭建已经训练好的CNN的前向过程, 通过HLS的方式综合生成CNNIP核, 系统采用AXI Stream通信方式实现外部与CNN IP核的数据传输, IP核的输入是图片的像素 (28×28) , 输出是图片像素所代表的数字, 图4是CNN IP原理图.</p>
                </div>
                <div class="area_img" id="34">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_034.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 CNN IP原理图" src="Detail/GetImg?filename=images/WXYJ201908014_034.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>4 CNN IP<b>原理图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_034.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="35" name="35">3.3 CNN IP<b>核优化</b></h4>
                <div class="p1">
                    <p id="36">CNN的卷积运算由多层for循环嵌套组成, 以输入层到卷积层C1的卷积运算为例, C1层卷积代码如图5所示, 本文设定最内层为第一层, 依次往外层数递增, 说明不同的循环处理方式与所生成IP核性能的关系, 下面将详细介绍优化的具体过程.</p>
                </div>
                <div class="area_img" id="37">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_037.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 C1层卷积代码" src="Detail/GetImg?filename=images/WXYJ201908014_037.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>5 C1<b>层卷积代码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_037.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="38">在FPGA开发中, 通常采用流水线 (Pipelinling) 或者展开 (Unroll) 的方法来提高循环的执行速度.</p>
                </div>
                <div class="p1">
                    <p id="39">相对于默认执行方式, Pipelinling可以在增加少量逻辑资源的情况下, 降低Interval增强处理能力, Unroll是把循环完全展开, 意味着多个单元同时并行计算, 所以资源消耗比Pipelinling更大, 当然处理能力也更强.</p>
                </div>
                <div class="p1">
                    <p id="40">平衡CNN IP核资源消耗和计算性能最优的方案是对最内层循环做流水线处理, 当嵌套循环的某层被流水线操作时, HLS对这层循环下的子循环都将执行展开操作.只对最内层循环做流水线处理, 将会产生最小的资源消耗, 可以为大多数应用程序提供一般可接受的吞吐量.流水线处理越外层的循环, 将会消耗越多的计算和存储资源, 但这样也会在吞吐量和延时上带来越高的性能设计<citation id="87" type="reference"><link href="77" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="41">本文将卷积循环从最内层向最外层依次展开, 通过HLS生成的综合报告获取当前处理方式下的CNN IP各方面性能, 不同展开方式综合后对应的计算速度与资源消耗如表2所示, 本文采用ZYNQ-7020处理器, 其中DSP48E表示PL的数字信号处理逻辑单元, 共220个, LUT代表PL中的一种用于实现组合逻辑和时序逻辑的存储资源, 共53 200个.由表2可得, 当流水线处理第三层循环时, 综合的IP具有最低的计算延时时间 (约4 ms) , 同时LUT几乎被完全消耗.</p>
                </div>
                <div class="area_img" id="42">
                    <p class="img_tit"><b>表</b>2 <b>不同</b>Pipelinling<b>生成的</b>CNN IP<b>核计算速度与资源消耗</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="42" border="1"><tr><td><br />Pipelinling</td><td>Latency</td><td>DSP48E</td><td>LUT</td></tr><tr><td><br />默认</td><td>3 288 021</td><td>149 (67%) </td><td>36 279 (68%) </td></tr><tr><td><br />第一层</td><td>1 537 170</td><td>150 (68%) </td><td>37 114 (69%) </td></tr><tr><td><br />第二层</td><td>1 201 467</td><td>164 (70%) </td><td>39 693 (74%) </td></tr><tr><td><br />第三层</td><td>415 330</td><td>204 (92%) </td><td>53 207 (100%) </td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="43">
                    <p class="img_tit"><b>表</b>3 <b>不同方式计算图片所需要的时间 (周期</b>:10ns)  <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="43" border="1"><tr><td><br />运行方式</td><td>优化情况</td><td>消耗的时<br />钟周期数</td><td>实际消耗<br />时间 (ms) </td></tr><tr><td><br />PS</td><td>默认</td><td>3 314 942</td><td>33</td></tr><tr><td><br />CNN IP</td><td>默认</td><td>3 073 518</td><td>30</td></tr><tr><td><br />CNN IP</td><td>流水线第一层</td><td>1 597 955</td><td>16</td></tr><tr><td><br />CNN IP</td><td>流水线第二层</td><td>1 262 038</td><td>13</td></tr><tr><td><br />CNN IP</td><td>流水线第三层</td><td>911 366</td><td>9</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="44" name="44" class="anchor-tag">4 <b>实验与结果</b></h3>
                <h4 class="anchor-tag" id="45" name="45">4.1 <b>实验测试平台</b></h4>
                <div class="p1">
                    <p id="46">针对嵌入式处理器ARM计算性能和基于软件的算法执行方式难以满足卷积神经网络计算需求的缺点, 本文第二章提出采用可编程逻辑器件设计出CNN IP并优化, 旨在提高平台运算卷积神经网络的效率.</p>
                </div>
                <div class="p1">
                    <p id="47">实验平台采用Zedboard开发板 (主芯片是XCZ7020) , 其PS部分代表基于ARM的通用处理器, 时钟频率为667 MHz, PL部分的时钟频率为100 MHz, 分别进行单张和多张并且记录计算时间来测试加速效果.</p>
                </div>
                <h4 class="anchor-tag" id="48" name="48">4.2 <b>单张图片测试</b></h4>
                <div class="p1">
                    <p id="49">本实验采用PS和CNN IP核分别对同一张手写体数字图片 (28×28) 进行CNN运算, 并记录各自识别图片所需要的时间.实验中ZYNQ-7020的PS部分的时钟频率为667 MHz, CNNIP核的时钟频率为100 MHz, 采用Counter (每个周期自动加一) 来记录时间, 实验得到两种方式所需的计算时间如表3所示.</p>
                </div>
                <div class="p1">
                    <p id="50">由表3可得, 与时钟频率为667 MHz的PS执行CNN运算相比, 时钟频率为100 MHz的CNN IP计算速度比其快3 ms;结合表2, 当对各个卷积层、池化层的最内层循环做流水线处理的时, DSP48和LUT的消耗量仅需要增加1%, 就可将CNN运算速度提高将近1倍;在ZYNQ-7020中, 当CNN IP对PL部分资源充分利用时, 可将CNN的运算速度提高3倍以上.</p>
                </div>
                <h4 class="anchor-tag" id="51" name="51">4.3 <b>图片流测试</b></h4>
                <div class="p1">
                    <p id="52">在上述实验的基础上, 设计将MINIST数据集中多张图片按照图片流形式进行测试, 即从数据集中直接读取多张图片分为10组, 第一组100张, 后继每组依次累加100张, 将每组图片分别放在Linux应用层和硬件层的CNN IP (流水线第三层) 中做CNN运算, 并且记录各自的计算时间, 从而测试CNN IP对图片流的加速效果.实验结果如图6所示.</p>
                </div>
                <div class="area_img" id="53">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201908014_053.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 图片流测试结果" src="Detail/GetImg?filename=images/WXYJ201908014_053.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 <b>图片流测试结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201908014_053.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="54">两种平台运算的图片数量与消耗的时间均成线性关系 (R<sup>2</sup>=0.999 7) , 表明每张图片的运算时间保持不变, 其中CNN IP处理单张图片的平均时间约为4.7 ms.当运算相同数量图片时, 相较于PS, CNN IP可将运算速度提高6.4倍左右, 远大于单张图片的加速效果.当处理1 000张图片时, CNN IP比PS快了25s左右, 并且随着图片数量的继续增多, CNN IP的加速效果将更加显著.</p>
                </div>
                <h4 class="anchor-tag" id="55" name="55">4.4 <b>实验结果比较</b></h4>
                <div class="p1">
                    <p id="56">本文介绍了以高层次综合实现的CNN IP与采用FPGA实现LeNet5网络<citation id="88" type="reference"><link href="79" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>相比较, 比较结果显示在表4和表5中.</p>
                </div>
                <div class="area_img" id="57">
                    <p class="img_tit"><b>表</b>4 <b>文献</b><citation id="89" type="reference">[<a class="sup">5</a>]</citation><b>与本文实验平台对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="57" border="1"><tr><td><br /></td><td colspan="2">文献[5]</td><td colspan="2">本文</td></tr><tr><td><br />FPGA</td><td>-</td><td>virtex-5<br />XC5VLX110T</td><td>-</td><td>Zynq XC7Z020</td></tr><tr><td><br />通用CPU</td><td>Core i5 2500K</td><td>-</td><td>Cortex-A9</td><td>-</td></tr><tr><td><br />实现方式</td><td>-</td><td>Verilog HDL</td><td>-</td><td>高层次综合</td></tr><tr><td><br />时钟频率</td><td>3.3GHz</td><td>75MHz</td><td>667MHz</td><td>100MHz</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="58">
                    <p class="img_tit"><b>表</b>5 <b>文献</b><citation id="90" type="reference">[<a class="sup">5</a>]</citation><b>与本文在不同实验平台下对不同 张图像处理的运算速度比较</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="58" border="1"><tr><td><br />图像</td><td colspan="3">文献[5]</td><td colspan="3">本文</td></tr><tr><td><br />数量</td><td>CPU</td><td>FPGA</td><td></td><td>CPU</td><td>FPGA</td><td></td></tr><tr><td></td><td colspan="2">耗时</td><td>加速比</td><td colspan="2">耗时</td><td>加速比</td></tr><tr><td><br />1张</td><td>1.13ms</td><td>0.272ms</td><td>4.17</td><td>33.149ms</td><td>9ms</td><td>3.67</td></tr><tr><td><br />1 000张</td><td>-</td><td>-</td><td>-</td><td>30.225s</td><td>4.69s</td><td>6.44</td></tr><tr><td><br />10 000张</td><td>12.103s</td><td>3.522s</td><td>3.43</td><td>-</td><td>-</td><td>-</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="59">由表5可以看出, 文献<citation id="91" type="reference">[<a class="sup">5</a>]</citation>中提出的采用FPGA实现的卷积神经网络加速器与传统CPU相比有较大的加速效果, 处理单张图像的加速比为4.17, 处理10 000张图像的加速比为3.43.本文提出的采用基ZYNQ构造的CNN IP是ZynqXC7Z020, 采用高层次综合方式, 时钟频率为100 MHz, 在处理单张图像所耗时间为9 ms, 与通用CPU处理单张图像所耗时33.149 ms相比具有明显的加速效果, 加速比为3.67.当处理1 000张图像时, CNN IP耗时4.69 s, 通用CPU耗时30.225 s, 此时的加速比为6.44, 而且处理的图像越多, 加速效果越明显, 具有一定的意义.</p>
                </div>
                <h3 id="60" name="60" class="anchor-tag">5 <b>结束语</b></h3>
                <div class="p1">
                    <p id="61">本系统在ZYNQ-7020处理器上采用HLS的方式设计CNN IP用于执行卷积神经网络算, 并采用流水线、展开的技术对CNN IP核进行优化, 旨在提高嵌入式处理器计算CNN的速度.通过实验证明, 本方案对嵌入式处理器针对CNN的计算速度有显著的提升.在ZYNQ-7020中当对第三层循环进行流水线处理时, 就几乎消耗了全部PL的存储资源, 若采用资源更多ZYNQ-7030、ZYNQ-7040处理器可将更高层的循环进行流水线处理, 从而可以将CNN IP的计算速度进一步提升.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="71">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Optimizing FPGA-based acelerator dsign for deep convolutional neural networks">

                                <b>[1]</b> ZHANG C, LI P, SUN G, et al.Optimi-zing fpgabased accelerator design for deep convolutional neural networks[C]// Acm/sigda International Symposium on Field-programmable Gate Arrays.ACM, 2015.
                            </a>
                        </p>
                        <p id="73">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A high performance FPGA-based accelerator for large-scale convolutional neural networks">

                                <b>[2]</b> LI H, FAN X, JIAO L, et al.A high pe-rformance FPGA-based accelerator for large-scale convolutional neural netwo-rks[C]// 2016 26th International Conf-erence on Field Programmable Logic and Applications (FPL) .IEEE, 2016.
                            </a>
                        </p>
                        <p id="75">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015029776.nh&amp;v=Mjc1OTVuVkw3SlZGMjZHN082RjliTHFaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeW4=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> Xilinx.ds187-XC7Z010-XC7Z020-Data-Sheet[EB/OL]. (2018-07-02) [2018-07-02]https://china.xilinx.com/support/[8] 范秋香.FPGA高级开发技术的研究[D].北京:北京理工大学, 2015.
                            </a>
                        </p>
                        <p id="77">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=UG902-vivado-high-level-synthesis">

                                <b>[4]</b> Xilinx.UG902-vivado-high-level-synthesis[EB/OL].https://china.xilinx.com/support/documentation/sw_manuals/xilinx2015_4/ug902-vivado-high-level-synthesis.pdf.
                            </a>
                        </p>
                        <p id="79">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201701019&amp;v=MDQwNDFIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnlublZMN0pMejdCYmJHNEg5Yk1ybzlFYllRS0Q=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 余子健, 马德, 严晓浪, 等.基于FPGA的卷积神经网络加速器[J].计算机工程, 2017, 43 (1) :109-114.
                            </a>
                        </p>
                        <p id="81">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201802015&amp;v=MDM2MDJYU1pMRzRIOW5Nclk5RVlZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5bm5WTDdKTWo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 陈岩, 李洋洋, 余乐, 等.基于卷积神经网络的手写体数字识别系统[J].微电子学与计算机, 2018, 35 (2) :71-74.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201908014" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201908014&amp;v=Mjc2MjR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnlublZMN0pNalhTWkxHNEg5ak1wNDlFWUlRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEY4T2FiTmZaMW5CaDlzTGhwUT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
