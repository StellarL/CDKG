<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637134009433537500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dWXYJ201906004%26RESULT%3d1%26SIGN%3dPuMm%252fFr0DrMR7JR0R2otJZzezhs%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201906004&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=WXYJ201906004&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201906004&amp;v=MTg0ODhIOWpNcVk5RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5M2hWN3JNTWpYU1pMRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#15" data-title="1 &lt;b&gt;引言&lt;/b&gt; ">1 <b>引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#18" data-title="2 FPGA&lt;b&gt;软件动态测试环境需求分析&lt;/b&gt; ">2 FPGA<b>软件动态测试环境需求分析</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#26" data-title="3 FPGA&lt;b&gt;软件半实物仿真测试环境设计&lt;/b&gt; ">3 FPGA<b>软件半实物仿真测试环境设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#27" data-title="3.1 &lt;b&gt;半实物仿真测试环境工作原理&lt;/b&gt;">3.1 <b>半实物仿真测试环境工作原理</b></a></li>
                                                <li><a href="#32" data-title="3.2 &lt;b&gt;输入层&lt;/b&gt;">3.2 <b>输入层</b></a></li>
                                                <li><a href="#86" data-title="3.3 &lt;b&gt;配置层&lt;/b&gt;">3.3 <b>配置层</b></a></li>
                                                <li><a href="#97" data-title="3.4 &lt;b&gt;操作层&lt;/b&gt;">3.4 <b>操作层</b></a></li>
                                                <li><a href="#99" data-title="3.5 &lt;b&gt;执行层&lt;/b&gt;">3.5 <b>执行层</b></a></li>
                                                <li><a href="#102" data-title="3.6 &lt;b&gt;工作过程分析&lt;/b&gt;">3.6 <b>工作过程分析</b></a></li>
                                                <li><a href="#116" data-title="3.7 &lt;b&gt;物理结构部署&lt;/b&gt;">3.7 <b>物理结构部署</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#120" data-title="4 &lt;b&gt;实验验证&lt;/b&gt; ">4 <b>实验验证</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#124" data-title="5 &lt;b&gt;结束语&lt;/b&gt; ">5 <b>结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#29" data-title="&lt;b&gt;图&lt;/b&gt;1 &lt;b&gt;测试环境组成及工作原理&lt;/b&gt;"><b>图</b>1 <b>测试环境组成及工作原理</b></a></li>
                                                <li><a href="#131" data-title="图2 Testbench时刻控制点配置结构体类型">图2 Testbench时刻控制点配置结构体类型</a></li>
                                                <li><a href="#132" data-title="图3 Testbench激励引脚配置结构体类型">图3 Testbench激励引脚配置结构体类型</a></li>
                                                <li><a href="#133" data-title="图4 Testbench测试用例配置结构体类型">图4 Testbench测试用例配置结构体类型</a></li>
                                                <li><a href="#134" data-title="图5 Testbench测试用例集结构体类型">图5 Testbench测试用例集结构体类型</a></li>
                                                <li><a href="#93" data-title="&lt;b&gt;图&lt;/b&gt;6 &lt;b&gt;测试控制电路激励域原理&lt;/b&gt;"><b>图</b>6 <b>测试控制电路激励域原理</b></a></li>
                                                <li><a href="#101" data-title="&lt;b&gt;图&lt;/b&gt;7 &lt;b&gt;执行器&lt;/b&gt;FPGA&lt;b&gt;结构工作原理&lt;/b&gt;"><b>图</b>7 <b>执行器</b>FPGA<b>结构工作原理</b></a></li>
                                                <li><a href="#107" data-title="&lt;b&gt;图&lt;/b&gt;8 &lt;b&gt;测试准备顺序图&lt;/b&gt;"><b>图</b>8 <b>测试准备顺序图</b></a></li>
                                                <li><a href="#111" data-title="&lt;b&gt;图&lt;/b&gt;9 &lt;b&gt;测试初始化顺序图&lt;/b&gt;"><b>图</b>9 <b>测试初始化顺序图</b></a></li>
                                                <li><a href="#114" data-title="&lt;b&gt;图&lt;/b&gt;10 &lt;b&gt;测试执行顺序图&lt;/b&gt;"><b>图</b>10 <b>测试执行顺序图</b></a></li>
                                                <li><a href="#118" data-title="&lt;b&gt;图&lt;/b&gt;11 &lt;b&gt;系统组件与部署实施&lt;/b&gt;"><b>图</b>11 <b>系统组件与部署实施</b></a></li>
                                                <li><a href="#122" data-title="&lt;b&gt;表&lt;/b&gt;1 &lt;b&gt;某数据采集系统动态测试对比&lt;/b&gt;"><b>表</b>1 <b>某数据采集系统动态测试对比</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 高虎, 刘媛, 刘子宜.DO-254标准中的确认与验证过程分析[J].航空标准化与质量.2014 (2) :10-13." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKBZ201402004&amp;v=MzA0NjllVnVGeTNoVjdyTUxTYkpkTEc0SDlYTXJZOUZZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         高虎, 刘媛, 刘子宜.DO-254标准中的确认与验证过程分析[J].航空标准化与质量.2014 (2) :10-13.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 刘子宜, 刘畅, 郑军.基于软件测试技术的FPGA测试研究[J].电子技术应用.2011, 37 (5) :28-30." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201105019&amp;v=MjEzNDhaZVZ1RnkzaFY3ck1JVGZCZDdHNEg5RE1xbzlFYllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2U=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         刘子宜, 刘畅, 郑军.基于软件测试技术的FPGA测试研究[J].电子技术应用.2011, 37 (5) :28-30.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 高虎, 郑军, 田曾昊.FPGA板级自动化仿真测试环境框架设计[J].微电子学与计算机.2017, 34 (12) :94-98." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201712020&amp;v=MDMxNjllVnVGeTNoVjdyTU1qWFNaTEc0SDliTnJZOUhaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         高虎, 郑军, 田曾昊.FPGA板级自动化仿真测试环境框架设计[J].微电子学与计算机.2017, 34 (12) :94-98.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 孔璐, 张涛, 王金波, 等.基于硬件加速的实时仿真平台构建技术[J] .微电子学与计算机, 2016, 33 (1) :34-36." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201601008&amp;v=MDc2Mjk5Zk1ybzlGYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnkzaFY3ck1NalhTWkxHNEg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         孔璐, 张涛, 王金波, 等.基于硬件加速的实时仿真平台构建技术[J] .微电子学与计算机, 2016, 33 (1) :34-36.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 徐金娜, 付方发, 王进祥.基于FPGA的软硬件协同仿真平台的数据通路设计[J] .微电子学与计算机, 2014, 31 (3) :107-110." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201403026&amp;v=MDAwODM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5M2hWN3JNTWpYU1pMRzRIOVhNckk5SFlvUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         徐金娜, 付方发, 王进祥.基于FPGA的软硬件协同仿真平台的数据通路设计[J] .微电子学与计算机, 2014, 31 (3) :107-110.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 高虎, 封二强, 赵刚.基于Testbench的FPGA实物自动化测试环境设计[J].电子技术应用.2018, 44 (4) :48-51." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201804011&amp;v=Mjg4MjBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5M2hWN3JNSVRmQmQ3RzRIOW5NcTQ5RVpZUUs=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         高虎, 封二强, 赵刚.基于Testbench的FPGA实物自动化测试环境设计[J].电子技术应用.2018, 44 (4) :48-51.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=WXYJ" target="_blank">微电子学与计算机</a>
                2019,36(06),15-20             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>FPGA软件半实物仿真测试环境研究与框架设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%AB%98%E8%99%8E&amp;code=38158439&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">高虎</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%91%E5%86%9B&amp;code=25229534&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郑军</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%B0%81%E4%BA%8C%E5%BC%BA&amp;code=25229535&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">封二强</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E8%88%AA%E7%A9%BA%E7%BB%BC%E5%90%88%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E6%89%80%E8%B4%A8%E9%87%8F%E5%B7%A5%E7%A8%8B%E4%BA%A7%E5%93%81%E9%83%A8&amp;code=0108158&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国航空综合技术研究所质量工程产品部</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%9B%BD%E5%AE%B6%E8%B4%A8%E9%87%8F%E7%9B%91%E7%9D%A3%E6%A3%80%E9%AA%8C%E6%A3%80%E7%96%AB%E6%80%BB%E5%B1%80%E8%B4%A8%E9%87%8F%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=0108158&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">国家质量监督检验检疫总局质量基础设施效能研究重点实验室</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对当前FPGA软件测试工作中, 仿真测试和实物测试存在的效率低、覆盖率无法保障、充分性差等问题, 提出了一种新的测试环境框架用于FPGA软件测试, 采用真实的FPGA芯片运行被测FPGA软件, 同时构建执行器FPGA模拟被测FPGA的外部设备与接口环境, 构建被测FPGA软件的外设行为仿真模型, 将原来仅用于仿真测试的Testbench测试脚本解析为测试数据, 将仿真模型和测试数据移植到执行器FPGA中, 从而实现了FPGA软件的半实物仿真测试.最后基于该框架开发了原型验证系统, 并在测试项目中取得了较好的效果.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=FPGA%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">FPGA软件测试;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">测试环境;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8D%8A%E5%AE%9E%E7%89%A9%E6%B5%8B%E8%AF%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">半实物测试;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BB%BF%E7%9C%9F%E6%B5%8B%E8%AF%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">仿真测试;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%9E%E7%89%A9%E6%B5%8B%E8%AF%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">实物测试;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    高虎, 男, (1986-) , 硕士, 高级工程师.研究方向为FPGA软件测试、软件测试环境.E-mail:gaohu_2009@163.com.;
                                </span>
                                <span>
                                    郑军, 男, (1969-) , 硕士, 研究员.研究方向为软件工程、FPGA与软件测试.;
                                </span>
                                <span>
                                    封二强, 男, (1984-) , 硕士, 高级工程师.研究方向为FPGA测试、软件工程.;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-09-28</p>

                    <p>

                            <b>基金：</b>
                                                        <span>科工局科研项目 (Z052013B009);</span>
                                <span>军内科研项目 (KJ20172A04154);</span>
                    </p>
            </div>
                    <h1><b>Research on framework design of semi-physical simulation testing environment for FPGA software</b></h1>
                    <h2>
                    <span>GAO Hu</span>
                    <span>ZHENG Jun</span>
                    <span>FENG Er-qiang</span>
            </h2>
                    <h2>
                    <span>Dept.of Quality Engineering Technologies, China aero-polytechnology establishment</span>
                    <span>Key Laboratory of Quality Infrastructure Efficacy Research, AQSIQ</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>According to the shortcomings of low efficiency, insufficient coverage in current simulation testing and physical testing method of FPGA software testing, a design of FPGA semi-physical testing environment based on simulation testing case was proposed. The real FPGA chip was used for running the design under test, the testbench used in simulation testing were parsed and processed into FPGA transmission signals and testing data, and an executor FPGA was designed to simulate the behavior and interface of the external device. Then the testing data and simulation model were transplanted into the executor FPGA to connect the FPGA under test. The design framework was validated by a semi-physical testing environment verification platform, and good results had been achieved.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=FPGA%20software%20testing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">FPGA software testing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=testing%20environment&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">testing environment;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=semi-physical%20testing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">semi-physical testing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=simulation%20testing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">simulation testing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=physical%20testing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">physical testing;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-09-28</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="15" name="15" class="anchor-tag">1 <b>引言</b></h3>
                <div class="p1">
                    <p id="16">FPGA测试与常规软件测试不同, 不仅需要对系统外部交联设备进行数据收发过程的模拟, 还需要对系统内部的交联芯片进行信号传递过程的模拟.因此, 在当前开展FPGA软件测试时, 一般采用仿真测试方法, 通过Testbench模拟被测FPGA的外部交联设备, 进行交联芯片信号的传递的测试;然后通过实物测试方法, 将被测FPGA连同系统其他电路和设备统一开展系统测试, 进行交联设备数据的收发测试<citation id="126" type="reference"><link href="3" rel="bibliography" /><link href="5" rel="bibliography" /><link href="7" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>,<a class="sup">3</a>]</sup></citation>.但是仿真测试和实物测试方法在工程应用中存在许多弊端, 如测试充分性差、覆盖率不足、测试效率低等, 成为当前型号FPGA软件测试中影响测试质量的重要因素.</p>
                </div>
                <div class="p1">
                    <p id="17">为此, 本文提出了一种FPGA软件半实物仿真测试环境的框架设计方法, 通过构建执行器FPGA电路弥补仿真测试和实物测试所出现的不足, 为FPGA软件测试探索一种新的测试方法.</p>
                </div>
                <h3 id="18" name="18" class="anchor-tag">2 FPGA<b>软件动态测试环境需求分析</b></h3>
                <div class="p1">
                    <p id="19">为提高当前高可靠系统FPGA软件质量, 避免常规FPGA软件仿真测试及实物测试过程中的弊端, 对FPGA软件动态测试环境提出如下新的能力需求<citation id="127" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>:</p>
                </div>
                <div class="p1">
                    <p id="20"> (1) 运行芯片需求, 被测FPGA软件能够直接运行于目标FPGA芯片;</p>
                </div>
                <div class="p1">
                    <p id="21"> (2) 测试数据需求, 测试数据能够有效覆盖FPGA软件各个外设的正常和异常运行场景;</p>
                </div>
                <div class="p1">
                    <p id="22"> (3) 测试场景需求, 测试用例应能够模拟被测FPGA软件的不同工作场景;</p>
                </div>
                <div class="p1">
                    <p id="23"> (4) 接口实时性需求, 测试环境应具有高实时性的闭环反馈测试能力;</p>
                </div>
                <div class="p1">
                    <p id="24"> (5) 测试监控需求, 测试过程中的关键信号可进行观测回放;</p>
                </div>
                <div class="p1">
                    <p id="25"> (6) 通用性易用性需求, 测试环境应具有一定的通用性和易用性考虑.</p>
                </div>
                <h3 id="26" name="26" class="anchor-tag">3 FPGA<b>软件半实物仿真测试环境设计</b></h3>
                <h4 class="anchor-tag" id="27" name="27">3.1 <b>半实物仿真测试环境工作原理</b></h4>
                <div class="p1">
                    <p id="28">为满足FPGA软件动态测试对运行芯片、测试数据、测试场景、接口实时性、测试监控等方面的需求, 设计FPGA软件半实物仿真测试环境, 其工作原理如图1所示.</p>
                </div>
                <div class="area_img" id="29">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_029.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 测试环境组成及工作原理" src="Detail/GetImg?filename=images/WXYJ201906004_029.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>1 <b>测试环境组成及工作原理</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_029.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="30">FPGA软件半实物仿真测试环境由输入层、配置层、操作层、执行层组成.其主要工作原理为:将真实的被测FPGA芯片作为测试对象, 并设计与被测FPGA芯片进行接口交联的专用FPGA芯片, 定义为执行器FPGA, 即通过执行器FPGA来模拟实装环境中与被测FPGA相互交联的各类外围电路.在执行器FPGA中部署四类功能逻辑: (1) 与被测FPGA直接交联的IO接口逻辑; (2) 模拟被测FPGA外围设备的仿真电路逻辑; (3) 用于实施测试用例的测试控制电路逻辑; (4) 用于下发测试用例及收集测试结果的服务软件.</p>
                </div>
                <div class="p1">
                    <p id="31">测试过程由测试控制电路实施测试数据的收发控制, 由外设仿真电路计算模拟外设行为, 由IO接口电路实现与被测FPGA的交互<citation id="128" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>.测试用例来源于主控软件对Testbench的解析, 测试完成后的结果也由主控软件进行汇总报告.</p>
                </div>
                <h4 class="anchor-tag" id="32" name="32">3.2 <b>输入层</b></h4>
                <h4 class="anchor-tag" id="33" name="33">3.2.1 接口建模</h4>
                <div class="p1">
                    <p id="34">接口建模涉及外部接口建模和外设仿真建模的控制接口建模两部分工作内容.</p>
                </div>
                <h4 class="anchor-tag" id="35" name="35"> (1) 外部接口建模</h4>
                <div class="p1">
                    <p id="36">对被测FPGA软件的外部接口进行形式化描述, 使外部接口规范、清晰、完整、无二义.接口建模的输入是FPGA软件需求文档中的接口描述, 通过图形化的建模方式描述被测FPGA软件的所有外部输入输出接口的总线类型、数据宽度、数据周期、时序相位、数据类型、应用层协议等, 输出为XML格式的接口描述文件.</p>
                </div>
                <h4 class="anchor-tag" id="37" name="37"> (2) 外设仿真模型的控制接口建模</h4>
                <div class="p1">
                    <p id="38">该接口用于测试过程中对外设仿真模型进行启动、停止、实时激励等控制, 建模过程输入为外设仿真建模所创建的控制接口变量, 输出为形式化的外设仿真控制接口文件.</p>
                </div>
                <div class="p1">
                    <p id="39">接口建模过程应针对FPGA与外部交联设备及电路之间的各种常见接口类型 (例如UART、SPI、IIC、JTAG、GPIO、USB等) 的通讯格式与内容进行详细定义, 形成FPGA软件外部接口交联测试环境模型, 为后续的半实物仿真测试环境构建提供输入.</p>
                </div>
                <h4 class="anchor-tag" id="40" name="40">3.2.2 外设仿真建模</h4>
                <div class="p1">
                    <p id="41">为被测FPGA软件的交联外设创建仿真模型.仿真模型的创建需要明确三个前提因素:</p>
                </div>
                <div class="p1">
                    <p id="42"> (1) 外设与被测FPGA软件的接口关系, 通过接口建模可以获得该关系描述, 然后将其转化为外设模型的IO引脚;</p>
                </div>
                <div class="p1">
                    <p id="43"> (2) 外设自身的行为信息, 即能够通过数学模型描述外设的行为特点, 从而模拟外设的各种运行场景;</p>
                </div>
                <div class="p1">
                    <p id="44"> (3) 外设模型的控制方法, 通过在模型中植入部分控制代码, 实现对外设模型的启动、停止、实施激励的控制, 并形成对应的控制接口, 输出至接口建模, 形成统一的接口信息.</p>
                </div>
                <div class="p1">
                    <p id="45">最后, 完成上述基本建模信息的分析后, 通过成熟的Matlab/SystemGenerator或HLS/SystemC完成外设的仿真建模, 并直接生成对应的VHDL或Verilog代码, 供后续产生执行器FPGA提供外设模块.</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46">3.2.3 Testbench编辑与解析</h4>
                <div class="p1">
                    <p id="47">Testbench是用于模拟被测FPGA软件外部交联设备行为的一种测试脚本, 用VHDL、Verilog或SystemVerilog编写实现.设计半实物仿真测试环境时, Testbench的编辑过程与传统的Testbench编辑相比, 可通过导入外部接口模型减少一定的编辑工作量, 同时, 通过对外设仿真模型的调用与控制, 可直接将复杂的外设行为转换为简单的若干信号的读写控制.</p>
                </div>
                <div class="p1">
                    <p id="48">为了将原用于功能仿真测试的Testbench作为测试用例用在半实物测试中, 需像仿真工具一样完成对Testbench的解析.</p>
                </div>
                <div class="p1">
                    <p id="49">任何一个Testbench都是由信号发生时刻、信号引脚、信号值三个基本元素构成, 因此可将Testbench解析为系列基本元素的组合:将Testbench的激励施加过程解析为时刻、引脚、引脚值的集合, 命名该集合为激励域;将Testbench读取DUT输出并与预期值相比较的过程理解为在指定时刻起对DUT引脚采集值的操作集合, 该过程也同样解析为时刻、引脚、引脚值三个要素, 并命名该集合为结果域.与激励域不同的是, 结果域中的引脚值是用于存储预期结果数据的, 用于测试结果的自动判断, 对测试执行不产生影响;此外, 该引脚值可设为空, 表示由人工判定测试结果<citation id="129" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="50">为提高测试环境的时间控制精度并提高存储效率, 将一个时刻点下的激励域及结果域解析为时刻控制点配置结构AtickTableSet, 其定义形式如图2所示.</p>
                </div>
                <div class="p1">
                    <p id="51">其中, tickTimePoint表示激励信号触发的时刻点, writeOutPinNum用于存储该时刻点同时为多少个引脚赋值, writeOutCfgTable是指向具体引脚配置表的指针, 引脚配置表结构形式如图3所示.</p>
                </div>
                <div class="area_img" id="131">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_13100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 Testbench时刻控制点配置结构体类型" src="Detail/GetImg?filename=images/WXYJ201906004_13100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 Testbench时刻控制点配置结构体类型  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_13100.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="132">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_13200.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 Testbench激励引脚配置结构体类型" src="Detail/GetImg?filename=images/WXYJ201906004_13200.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 Testbench激励引脚配置结构体类型  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_13200.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="68">因此, 一个时刻点即为一个AtickTableSet结构, 其中包含了writeOutPinNum个激励引脚和readInPinNum个采集引脚, 每个引脚的地址和值也都包含在内.</p>
                </div>
                <div class="p1">
                    <p id="69">一个Testbench中包含了多个时刻点, 共同构成了一个测试用例, 因此一个测试用例可定义为case结构, 形式如图4所示.</p>
                </div>
                <div class="area_img" id="133">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_13300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 Testbench测试用例配置结构体类型" src="Detail/GetImg?filename=images/WXYJ201906004_13300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 Testbench测试用例配置结构体类型  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_13300.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="77">在case结构中包含了tickNum个AtickTableSet, 指针变量tickPoints表示具体的时刻控制点配置AtickTableSet集合.</p>
                </div>
                <div class="p1">
                    <p id="78">将所有生成的Testbench一次解析, 生成测试用例集Caseset, 实现测试用例集内用例的不间断执行.Caseset的定义形式如图5所示.</p>
                </div>
                <div class="area_img" id="134">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_13400.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 Testbench测试用例集结构体类型" src="Detail/GetImg?filename=images/WXYJ201906004_13400.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 Testbench测试用例集结构体类型  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_13400.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="85">设计Testbench解析软件, 按照上述约定协议形式将全部Testbench文件进行格式化后解析, 最终形成的测试用例集Caseset可下发至执行平台, 供执行器FPGA读取、配置.</p>
                </div>
                <h4 class="anchor-tag" id="86" name="86">3.3 <b>配置层</b></h4>
                <h4 class="anchor-tag" id="87" name="87">3.3.1 位机服务</h4>
                <div class="p1">
                    <p id="88">为了能够支撑自动化的执行FPGA软件测试, 需要建立一种能够控制测试过程、释放测试激励、采集测试结果的服务, 为测试人员控制测试的启动停止、施加测试用例、查看测试结果提供必要的支撑.该服务由执行器FPGA内置的PowerPC实现, 采用VxWorks实时操作系统, 分别建立测试用例解析模块、测试控制模块、实时数据收集模块、实时激励模块等应用层模块, 并通过测试任务调度模块对各个应用模块进行调度管理, 最后通过Xilinx FPGA提供的PowerPC软核、以太网接口软核等构件基本的Soc硬件环境, 通过测试控制接口和DPRAM驱动实现和执行器FPGA的信息交互.</p>
                </div>
                <h4 class="anchor-tag" id="89" name="89">3.3.2 IO接口电路及测试控制电路</h4>
                <div class="p1">
                    <p id="90">IO接口是连接半实物仿真测试环境与被测FPGA之间的物理接口, 通过地址映射的方式, 在时钟管理模块的驱动下, 不同类型的测试数据通过地址分配和协议匹配, 最终转换为IO接口上的电路信号.</p>
                </div>
                <div class="p1">
                    <p id="91">为了使外设仿真电路、IO接口等电路能够受控于下位机服务的调度, 在设计仿真电路和IO接口电路基础上增加测试控制电路, 用于实现下位机对执行器FPGA中各电路的启动停止控制、测试数据施加控制、测试结果采集控制等, 通过DPRAM、定时器、比较器、数据缓存等数字电路, 实现外设仿真电路、IO接口电路与PowerPC核的控制与数据信号的通信.执行器FPGA读取DPRAM中的Testbench激励数据消息, 解析出激励域和结果域.</p>
                </div>
                <div class="p1">
                    <p id="92">激励域解析模块读取DPRAM中激励数据所要施加的FPGA引脚地址、激励值, 然后经地址数据分配模块进行FPGA引脚索引和数据锁存, 当到达激励触发时刻时, 将激励数据通过指定的引脚输出至被测FPGA.结果域解析模块与激励域解析模块类似, 读取DPRAM中测试结果采集所需要的FPGA采集引脚地址、预期的采集结果值, 然后经地址数据分配模块进行FPGA采集引脚映射, 当采集时刻到达时, 地址数据分配模块再从采集缓存中读取对应的数据值, 并与DPRAM中的预期采集结果值进行比较, 二者一致则认为此时刻的测试通过, 并将该时刻的结论发送至DPRAM用于与实际测试结果一起上传至主控平台.在测试过程中如需使用外设仿真模型, 则通过激励域解析模块发出仿真激励使能信号, 激活外设仿真电路模块的仿真计算电路<citation id="130" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>.测试控制电路原理如图6所示.</p>
                </div>
                <div class="area_img" id="93">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_093.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 测试控制电路激励域原理" src="Detail/GetImg?filename=images/WXYJ201906004_093.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>6 <b>测试控制电路激励域原理</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_093.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="94">由定时器和信号延迟库组成的电路模块是执行器FPGA的控制中枢, 一方面, 通过读取DPRAM中的时刻描述, 将激励域和结果域的时刻值减去执行器FPGA中写入和读取的布线延迟, 即可获得触发器FPGA实际需触发输入输出的时刻, 通过计数器与触发时刻比较, 分别控制激励和采集的使能, 从而实现对FPGA信号的实时性传输控制.另一方面, 时刻控制模块通过读取DPRAM中存储的测试用例数量、测试激励域数量、结果域数量、各个域内不同时刻点的引脚信号的数量, 管理测试用例中的不同测试时刻的激励域与结果域数据的时刻、引脚的配置, 用于指导激励域解析模块和结果域解析模块实现引脚和数据分配.</p>
                </div>
                <h4 class="anchor-tag" id="95" name="95">3.3.3 执行器FPGA集成</h4>
                <div class="p1">
                    <p id="96">执行器FPGA实际是外设仿真模型、IO接口、测试控制电路、下位机服务四大模块的集成, 该过程利用成熟的FPGA集成开发环境ISE、Vivado等工具实现, 包括综合、布局布线等步骤, 最终下载至执行器FPGA中.</p>
                </div>
                <h4 class="anchor-tag" id="97" name="97">3.4 <b>操作层</b></h4>
                <div class="p1">
                    <p id="98">测试主控为测试人员提供直接的人机交互, 通过界面操作测试流程, 完成接口建模模块、Testbench编辑与解析模块、外设仿真建模等模块的集成和操作引导, 并完成与下位机服务的直接交互, 实现对下位机测试过程的控制、测试数据的下发、测试状态监控与测试结果的显示、测试报告的生成等功能.</p>
                </div>
                <h4 class="anchor-tag" id="99" name="99">3.5 <b>执行层</b></h4>
                <div class="p1">
                    <p id="100">作为FPGA软件半实物测试的核心, 执行器FPGA直接与被测FPGA相交联, 在测试过程中将Testbench数据、外设仿真数据均转换为实际的物理接口信号发送给被测FPGA, 并通过实际的物理接口接收被测FPGA的输出信号, 转换为数据信息通过PowerPC下位机服务上传至测试主控, 用于后续监控和报告生成.执行器FPGA内部构成及交联关系如图7所示.</p>
                </div>
                <div class="area_img" id="101">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_101.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 执行器FPGA结构工作原理" src="Detail/GetImg?filename=images/WXYJ201906004_101.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>7 <b>执行器</b>FPGA<b>结构工作原理</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_101.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="102" name="102">3.6 <b>工作过程分析</b></h4>
                <div class="p1">
                    <p id="103">在具体的测试项目实施中, 为提高半实物仿真测试环境的工作效率, 合理分配数据流资源, 将测试环境的工作过程划分为测试准备、测试初始化、测试执行三个阶段.</p>
                </div>
                <h4 class="anchor-tag" id="104" name="104">3.6.1 测试准备</h4>
                <div class="p1">
                    <p id="105">测试准备过程是使用半实物仿真测试环境开展FPGA测试的基础, 准备工作的准确性与充分性直接影响着后续测试工作的实施.测试准备工作主要包括如下内容: (1) FPGA软件外部接口建模; (2) 外设仿真建模及外设控制接口建模; (3) 编辑Testbench文件; (4) 执行器FPGA集成.</p>
                </div>
                <div class="p1">
                    <p id="106">测试准备工作的顺序图如图8所示.</p>
                </div>
                <div class="area_img" id="107">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 测试准备顺序图" src="Detail/GetImg?filename=images/WXYJ201906004_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>8 <b>测试准备顺序图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_107.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="108" name="108">3.6.2 测试初始化</h4>
                <div class="p1">
                    <p id="109">在完成一系列的测试准备工作后, 测试人员通过主控模块统一管理接口模型、外设模型、Testbench及监控变量信息等各项测试资源, 通过初始化命令将解析后的Testbench数据下发给执行器FPGA.执行器FPGA的软核PowerPC在接收到初始化信息后, 按照Testbench的要求, 对执行器FPGA的测试控制电路进行初始化, 上报初始化就绪状态, 等待测试执行命令的到来.</p>
                </div>
                <div class="p1">
                    <p id="110">测试初始化工作顺序图如图9所示.</p>
                </div>
                <div class="area_img" id="111">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_111.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 测试初始化顺序图" src="Detail/GetImg?filename=images/WXYJ201906004_111.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>9 <b>测试初始化顺序图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_111.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="112" name="112">3.6.3 测试执行</h4>
                <div class="p1">
                    <p id="113">测试执行工作的整体顺序图如图10所示.</p>
                </div>
                <div class="area_img" id="114">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 测试执行顺序图" src="Detail/GetImg?filename=images/WXYJ201906004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>10 <b>测试执行顺序图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="115">在测试开始时, 由测试主控下发Testbench测试数据和启动测试命令, 经下位机服务和测试控制电路转换为电路信号, 根据Testbench中对外设仿真的要求, 可以经过外设仿真电路的运算后由IO接口电路输出至被测FPGA, 也可直接由IO接口电路输出至被测FPGA.被测FPGA响应后的信号经执行器FPGA采集后, 根据测试控制电路指示可以传递至外设仿真模块运算, 也可以经测试控制电路和下位机服务缓存整理后上报至测试主控.传递至外设仿真电路的信息经运算后再次通过IO接口反馈给被测FPGA, 从而形成了闭环反馈测试过程.测试过程中的中间结果在测试控制电路的控制下, 可不间断的通过下位机服务整理上传至测试主控, 用于测试状态的监控.当所有测试结束后, 由测试主控完成对测试结果的收集、分析和测试报告的生成.</p>
                </div>
                <h4 class="anchor-tag" id="116" name="116">3.7 <b>物理结构部署</b></h4>
                <div class="p1">
                    <p id="117">根据FPGA软件半实物仿真测试环境的组成与工作原理分析, 为提高系统的体系结构质量, 对各组成进行功能划分与接口封装, 将测试环境设计为图形用户界面工作站节点、执行器FPGA节点两部分, 如图11所示.</p>
                </div>
                <div class="area_img" id="118">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/WXYJ201906004_118.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 系统组件与部署实施" src="Detail/GetImg?filename=images/WXYJ201906004_118.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图</b>11 <b>系统组件与部署实施</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/WXYJ201906004_118.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="119">图形用户界面工作站中各功能模块均对实时性无要求, 部署于桌面操作系统, 可通过文件系统进行数据交互;执行器FPGA由集成开发环境设计后通过JTAG固化下载, 在工作过程中通过以太网实现与测试主控工具的交互, 通过GPIO接口与被测FPGA交联.</p>
                </div>
                <h3 id="120" name="120" class="anchor-tag">4 <b>实验验证</b></h3>
                <div class="p1">
                    <p id="121">为验证FPGA软件半实物仿真测试环境框架设计的可行性, 按照FPGA软件半实物仿真测试环境工作原理设计半实物仿真测试环境原型机, 选择某数据采集系统作为被测对象, 分别采用常规的仿真测试环境、实物测试环境, 以及半实物仿真测试原型机对该数据采集系统FPGA软件开展测试.测试过程相关数据统计如表1所示.</p>
                </div>
                <div class="area_img" id="122">
                    <p class="img_tit"><b>表</b>1 <b>某数据采集系统动态测试对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="122" border="1"><tr><td><br />对比项</td><td>功能仿真测试</td><td>实物测试</td><td>半实物仿真测试</td></tr><tr><td><br />测试用例数量</td><td>48个</td><td>22个</td><td>84个</td></tr><tr><td><br />用例设计耗时</td><td>3小时</td><td>1小时</td><td>1小时</td></tr><tr><td><br />环境搭建耗时</td><td>4小时</td><td>2小时</td><td>2小时</td></tr><tr><td><br />测试执行耗时</td><td>10小时</td><td>1.5小时</td><td>0.2小时</td></tr><tr><td><br />发现软件问题</td><td>3个</td><td>1个</td><td>7个</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="123">应用FPGA软件半实物仿真测试环境开展FPGA软件测试, 测试充分性、覆盖率、执行效率、可信度等方面能够有效弥补常规仿真测试和实物测试的不足, 该测试环境框架设计方法可行.</p>
                </div>
                <h3 id="124" name="124" class="anchor-tag">5 <b>结束语</b></h3>
                <div class="p1">
                    <p id="125">本文探索性的提出了一种基于Testbench与外设仿真模型的半实物仿真测试环境的构建方法, 提出了该测试环境的工作原理, 分别设计了测试环境各主要模块的输入、输出及处理思路, 并设计了该测试环境的整体工作过程;最后通过原型机验证了测试环境框架设计的可行性.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKBZ201402004&amp;v=MDA5NjRkTEc0SDlYTXJZOUZZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeTNoVjdyTUxTYko=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 高虎, 刘媛, 刘子宜.DO-254标准中的确认与验证过程分析[J].航空标准化与质量.2014 (2) :10-13.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201105019&amp;v=MjM1NjFyQ1VSTE9lWmVWdUZ5M2hWN3JNSVRmQmQ3RzRIOURNcW85RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 刘子宜, 刘畅, 郑军.基于软件测试技术的FPGA测试研究[J].电子技术应用.2011, 37 (5) :28-30.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201712020&amp;v=MDkzODg2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeTNoVjdyTU1qWFNaTEc0SDliTnJZOUhaSVFLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 高虎, 郑军, 田曾昊.FPGA板级自动化仿真测试环境框架设计[J].微电子学与计算机.2017, 34 (12) :94-98.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201601008&amp;v=MDA0MTZWN3JNTWpYU1pMRzRIOWZNcm85RmJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5M2g=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 孔璐, 张涛, 王金波, 等.基于硬件加速的实时仿真平台构建技术[J] .微电子学与计算机, 2016, 33 (1) :34-36.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201403026&amp;v=MDExODFyQ1VSTE9lWmVWdUZ5M2hWN3JNTWpYU1pMRzRIOVhNckk5SFlvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 徐金娜, 付方发, 王进祥.基于FPGA的软硬件协同仿真平台的数据通路设计[J] .微电子学与计算机, 2014, 31 (3) :107-110.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201804011&amp;v=MTMwMDBGckNVUkxPZVplVnVGeTNoVjdyTUlUZkJkN0c0SDluTXE0OUVaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 高虎, 封二强, 赵刚.基于Testbench的FPGA实物自动化测试环境设计[J].电子技术应用.2018, 44 (4) :48-51.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="WXYJ201906004" />
        <input id="dpi" type="hidden" value="800" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201906004&amp;v=MTg0ODhIOWpNcVk5RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5M2hWN3JNTWpYU1pMRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUUo3bEZ1NGRMODlOanZuT1VLOEVOTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
