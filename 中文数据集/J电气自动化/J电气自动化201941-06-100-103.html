

<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>

</head>

<body>

    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637138393009533750%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dDQZD201906029%26RESULT%3d1%26SIGN%3dirfcvNMoWllirIqbnmBdZ3B9Ugo%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=DQZD201906029&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=DQZD201906029&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>


    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DQZD201906029&amp;v=MDAwNTBacUZ5L2dVN3JPSVR6UmFyRzRIOWpNcVk5SGJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnU=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#19" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#21" data-title="&lt;b&gt;1 传统&lt;/b&gt;nRF&lt;b&gt;24&lt;/b&gt;L&lt;b&gt;01方案简介&lt;/b&gt; "><b>1 传统</b>nRF<b>24</b>L<b>01方案简介</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#22" data-title="&lt;b&gt;1.1 nRF24L01芯片介绍&lt;/b&gt;"><b>1.1 nRF24L01芯片介绍</b></a></li>
                                                <li><a href="#24" data-title="&lt;b&gt;1.2 常用通信方案&lt;/b&gt;"><b>1.2 常用通信方案</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#28" data-title="&lt;b&gt;2 功能分址通信方案设计&lt;/b&gt; "><b>2 功能分址通信方案设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#29" data-title="&lt;b&gt;2.1 方案简述&lt;/b&gt;"><b>2.1 方案简述</b></a></li>
                                                <li><a href="#33" data-title="&lt;b&gt;2.2 主机通信流程设计&lt;/b&gt;"><b>2.2 主机通信流程设计</b></a></li>
                                                <li><a href="#39" data-title="&lt;b&gt;2.3 从机通信流程设计&lt;/b&gt;"><b>2.3 从机通信流程设计</b></a></li>
                                                <li><a href="#43" data-title="&lt;b&gt;2.4 协议性能指标&lt;/b&gt;"><b>2.4 协议性能指标</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#56" data-title="&lt;b&gt;3 试验设计验证&lt;/b&gt; "><b>3 试验设计验证</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#59" data-title="&lt;b&gt;3.1 硬件设计&lt;/b&gt;"><b>3.1 硬件设计</b></a></li>
                                                <li><a href="#63" data-title="&lt;b&gt;3.2 软件设计&lt;/b&gt;"><b>3.2 软件设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#66" data-title="&lt;b&gt;4 试验结果与分析&lt;/b&gt; "><b>4 试验结果与分析</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#75" data-title="&lt;b&gt;5 结束语&lt;/b&gt; "><b>5 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#27" data-title="&lt;b&gt;图1 数据碰撞丢失示意图&lt;/b&gt;"><b>图1 数据碰撞丢失示意图</b></a></li>
                                                <li><a href="#32" data-title="&lt;b&gt;表1 三通道通信功能表&lt;/b&gt;"><b>表1 三通道通信功能表</b></a></li>
                                                <li><a href="#38" data-title="&lt;b&gt;图2 主机通信流程图&lt;/b&gt;"><b>图2 主机通信流程图</b></a></li>
                                                <li><a href="#46" data-title="&lt;b&gt;图3 从机通信流程图&lt;/b&gt;"><b>图3 从机通信流程图</b></a></li>
                                                <li><a href="#58" data-title="&lt;b&gt;图4 试验系统总体框架&lt;/b&gt;"><b>图4 试验系统总体框架</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;图5 主机硬件结构连接图&lt;/b&gt;"><b>图5 主机硬件结构连接图</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;图6 试验硬件样机&lt;/b&gt;"><b>图6 试验硬件样机</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;图7 上位机接收数据图&lt;/b&gt;"><b>图7 上位机接收数据图</b></a></li>
                                                <li><a href="#74" data-title="&lt;b&gt;表2 试验测试结果&lt;/b&gt;"><b>表2 试验测试结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="87">


                                    <a id="bibliography_1" title=" 吴瑞睿,刘洁琳.无线传感器网络综述[J].科技创新与应用,2018,8(14):65-66." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CXYY201814027&amp;v=MTkyNTFxRnkvZ1U3ckJKalhTZDdHNEg5bk5xNDlIWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVo=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         吴瑞睿,刘洁琳.无线传感器网络综述[J].科技创新与应用,2018,8(14):65-66.
                                    </a>
                                </li>
                                <li id="89">


                                    <a id="bibliography_2" title=" 蒲泓全,贾军营,张小娇,等.ZigBee网络技术研究综述[J].计算机系统应用,2013,22(9):6-11." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYY201309002&amp;v=MTc4MjJuU2Q3RzRIOUxNcG85RlpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2dVN3JCUFQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         蒲泓全,贾军营,张小娇,等.ZigBee网络技术研究综述[J].计算机系统应用,2013,22(9):6-11.
                                    </a>
                                </li>
                                <li id="91">


                                    <a id="bibliography_3" title=" 李长才,肖金球,张少华.基于nRF24L01的无线多点温度监测报警系统设计[J].电子测量技术,2016,39(6):94-97." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201606023&amp;v=MTYzODc0SDlmTXFZOUhaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnFGeS9nVTdyQklUZklZckc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         李长才,肖金球,张少华.基于nRF24L01的无线多点温度监测报警系统设计[J].电子测量技术,2016,39(6):94-97.
                                    </a>
                                </li>
                                <li id="93">


                                    <a id="bibliography_4" title=" 杨旭,李德敏,张谦益.基于nRF24L01的一种无线通信协议设计[J].通信技术,2011,44(7):57-59." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXJS201107021&amp;v=MjQ1OTZVN3JCTVRYQmZiRzRIOURNcUk5SFpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2c=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         杨旭,李德敏,张谦益.基于nRF24L01的一种无线通信协议设计[J].通信技术,2011,44(7):57-59.
                                    </a>
                                </li>
                                <li id="95">


                                    <a id="bibliography_5" title=" 朱桂峰.基于nRF24L01的无线传感局域网络的研究与设计[D].河北:河北大学,2011." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011289933.nh&amp;v=MTE2NjY0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2dVN3JCVkYyNkg3R3dGOWpQckpFYlBJUUtESDg0dlI=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         朱桂峰.基于nRF24L01的无线传感局域网络的研究与设计[D].河北:河北大学,2011.
                                    </a>
                                </li>
                                <li id="97">


                                    <a id="bibliography_6" title=" 于跃,张峰,张士文.基于ZigBee技术的电力设备远程监控系统[J].电气自动化,2017,39(2):41-44." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DQZD201702013&amp;v=MjcwNjRhckc0SDliTXJZOUVaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnFGeS9nVTdyQklUelI=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         于跃,张峰,张士文.基于ZigBee技术的电力设备远程监控系统[J].电气自动化,2017,39(2):41-44.
                                    </a>
                                </li>
                                <li id="99">


                                    <a id="bibliography_7" title=" 资文彬,李民政,肜新伟.基于LoRa的无线抄表系统设计与实现[J].桂林电子科技大学学报,2018,38(2):106-111." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GLDZ201802005&amp;v=MzIzMzlCSWlIUGRMRzRIOW5Nclk5RllZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2dVN3I=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         资文彬,李民政,肜新伟.基于LoRa的无线抄表系统设计与实现[J].桂林电子科技大学学报,2018,38(2):106-111.
                                    </a>
                                </li>
                                <li id="101">


                                    <a id="bibliography_8" title=" 宋连庆,韩兴会,袁世博,等.ZigBee无线传感器网络平台设计与实现[J].计算机与数字工程,2018,46(3):508-511." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSSG201803019&amp;v=MDAxMzhRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpxRnkvZ1U3ckJMejdZYWJHNEg5bk1ySTlFYlk=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         宋连庆,韩兴会,袁世博,等.ZigBee无线传感器网络平台设计与实现[J].计算机与数字工程,2018,46(3):508-511.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=DQZD" target="_blank">电气自动化</a>
                2019,41(06),100-103 DOI:10.3969/j.issn.1000-3886.2019.06.029            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>一种基于功能分址的无线传感器网络设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%BF%81%E5%AE%87%E5%8D%8E&amp;code=43436794&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">翁宇华</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%B3%B0&amp;code=08577686&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张峰</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%A3%AB%E6%96%87&amp;code=08553542&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张士文</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%8A%E6%B5%B7%E4%BA%A4%E9%80%9A%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E4%BF%A1%E6%81%AF%E4%B8%8E%E7%94%B5%E6%B0%94%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0054402&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">上海交通大学电子信息与电气工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对无线传感器网络终端设备数量不断增加和数据传输实时性的需求,提出一种基于nRF24L01的功能分址通信网络方案。方案将无线网络建立,命令传输和数据传输按三个不同地址的数据通道区分,同时加入载波监听和随机延时机制,从而有效防止数据传输的碰撞和丢失。依靠在数据帧中添加逻辑地址来识别从机,大大增加了网络所能连接的从机数量。经试验验证,无线传感器网络设计方案切实可行,网络连接稳定,能够连接较多数量从机,数据传输速率高,有很好的应用前景。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=nRF24L01&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">nRF24L01;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%9A%E4%BB%8E%E6%9C%BA&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">多从机;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%A0%E7%BA%BF%E4%BC%A0%E6%84%9F%E5%99%A8%E7%BD%91%E7%BB%9C&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">无线传感器网络;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%9A%E5%9D%80&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">多址;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%95%B0%E6%8D%AE%E5%90%9E%E5%90%90%E7%8E%87&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">数据吞吐率;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    翁宇华(1994-),男,福建福清人,硕士生,研究方向为电工理论与新技术,嵌入式技术应用等。;
                                </span>
                                <span>
                                    张峰(1968-),男,江苏潥阳人,博士,教授,博士生导师,主要研究方向为电工理论与新技术,现代轨道交通试验方法和理论分析、智能检测分析和应用技术等。;
                                </span>
                                <span>
                                    张士文(1976-),男,黑龙江人,硕士,高级实验师,主要研究方向为电工理论与新技术、智能检测技术等。;
                                </span>
                    </p>
                
            </div>
                    <h1><b>Design of a Wireless Sensor Network Based on Functional Address Division</b></h1>
                    <h2>
                    <span>Weng Yuhua</span>
                    <span>Zhang Feng</span>
                    <span>Zhang Shiwen</span>
            </h2>
                    <h2>
                    <span>College of Electronic Information and Electrical Engineering, Shanghai Jiao Tong University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>In view of an ever-increasing number of terminal devices used in the wireless sensor network as well as the demand on real-time data transmission, a functional address division communication network scheme was proposed based on nRF24 L01. According to the proposed scheme, wireless network establishment, command transmission and data transmission were differentiated as three data channels with different addresses. In the meantime, carrier monitoring and random delay mechanism were added for effective prevention of collision and loss of data transmission. Slaves were identified through logical addresses added to the data frame, so that the number of slaves which could be connected to the network increased to a great extent. Test results verified that the proposed design scheme for the wireless sensor network was feasible, and the network with stable connection could link a large number of slaves and provide a high data transmission rate. Thus, it had a good application prospect.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=nRF24L01&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">nRF24L01;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=multi-slave&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">multi-slave;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=wireless%20sensor%20network&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">wireless sensor network;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=multiple%20address&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">multiple address;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=data%20throughput%20rate&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">data throughput rate;</a>
                </p>
            </div>
        

        <!--brief start-->
                        <h3 id="19" name="19" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="20">随着现代电子技术的不断发展,电子终端设备的数量不断增加,电子终端设备的无线传感器网络对通信协议的实时性能提出了更高的要求<citation id="103" type="reference"><link href="87" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。ZigBee技术因低速率、低功耗而日益普及,但是在动态组网和动态路由方面的优势消耗了较多系统资源,使得通信速率较低,无法提供大量数据的实时传输<citation id="104" type="reference"><link href="89" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。nRF24L01是一款得到了市场广泛认可和应用的无线芯片,具有低成本、低功耗和高速率的优点,能够满足一定的数据传输量和终端数量的要求<citation id="105" type="reference"><link href="91" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>,但是对于需要传输大量数据(如实时监测系统,需不断传输最新的监测状态)和大量终端的情况下,现有的通信协议无法同时满足。本文针对现有无线传感器网络无法同时满足从机数量和高数据吞吐量的缺陷,提出一种基于nRF24L01的多从机通信协议方案,能够同时满足传输大量实时数据和连接较多数量从机的需求,并以电子仪表为终端设备进行试验,验证了该通信方案的可行性。</p>
                </div>
                <h3 id="21" name="21" class="anchor-tag"><b>1 传统</b>nRF<b>24</b>L<b>01方案简介</b></h3>
                <h4 class="anchor-tag" id="22" name="22"><b>1.1 nRF24L01芯片介绍</b></h4>
                <div class="p1">
                    <p id="23">nRF24L01是一款工作在2.4～2.5 GHz全球开放ISM频段的无线收发器芯片。无线数据空中速率最高可达2 Mbps。nRF24L01在其增强型ShockBurst工作模式下,内嵌了自动应答(ACK)和自动重发功能,同时能够进行载波检测,能够自动处理字头和CRC校验码,减少了控制芯片的工作量,便于软硬件的开发<citation id="106" type="reference"><link href="93" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。nRF24L01配置为接收模式时可以接收6路不同数据通道的数据,每路数据通道拥有不同的地址,但工作在同一个频率。</p>
                </div>
                <h4 class="anchor-tag" id="24" name="24"><b>1.2 常用通信方案</b></h4>
                <div class="p1">
                    <p id="25">如果仅使用nRF24L01自带的6个数据通道进行通信,最多只能实现一个主机带6个从机的星型无线传感网络。为了突破自带通道数量限制,从而能够携带较多数量的从机,一种方案是采用多层路由方案进行组网的方式,但是随着从机数量的不断上升,组网越来越复杂,路由层数不断增加,数据发送将产生较大延时<citation id="107" type="reference"><link href="95" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>,因此多层路由方案并不能满足大量数据实时传输的需要。考虑到多层路由网络的数据实时性能不佳,另一种可行的多从机通信协议方案是单通道逻辑多址方案,主机和从机仅使用一个nRF24L01数据通道,主机和从机的数据通道地址均相同,工作在增强型Shockburst模式,在每一帧数据包的数据字段中开销第一个字节作为主机和从机的逻辑地址,主机的逻辑地址设为0x00,从机的逻辑地址从0x01至0xFE,地址0xFF作为广播地址,这样能够携带的从机数量就大大提高。</p>
                </div>
                <div class="p1">
                    <p id="26">然而该方案存在很严重的通信干扰和碰撞问题,原因是:在增强型ShockBurst模式下,如果关闭自动应答,接收方是否收到数据无法得知;在开启自动应答情况下,接收方收到数据会发送一帧ACK给发送方,由于主机和从机使用的是一个数据通道,所有终端都会收到该ACK,当从机1请求连接帧和从机2数据帧同时发送时,主机可能收到其中一个从机(假定从机2)的数据,然后回复ACK,另一个从机(从机1)也会收到ACK,则认为数据发送成功(实际主机并没有收到该从机数据),这使得自动重发机制失去作用,数据碰撞过程如图1所示。</p>
                </div>
                <div class="area_img" id="27">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 数据碰撞丢失示意图" src="Detail/GetImg?filename=images/DQZD201906029_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 数据碰撞丢失示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="28" name="28" class="anchor-tag"><b>2 功能分址通信方案设计</b></h3>
                <h4 class="anchor-tag" id="29" name="29"><b>2.1 方案简述</b></h4>
                <div class="p1">
                    <p id="30">由1.2节所述,nRF24L01的传统路由通信方案和单通道逻辑多址方案,存在数据传输延时和从机数量的限制问题。因此本文在单通道多址方案的基础上,提出功能分址通信方案。根据传输数据的不同功能,将数据分为三个类别:网络建立,命令传输和数据传输。三种类别的数据使用三个不同的数据通道地址进行传输。</p>
                </div>
                <div class="p1">
                    <p id="31">增加的网络建立通道和命令传输通道作为辅助,将ACK应答按照通道地址区分开来,这样能有效解决数据丢失碰撞问题。使用通道0、通道1和通道2共三个数据通道,三个通道的功能如表1所示。</p>
                </div>
                <div class="area_img" id="32">
                    <p class="img_tit"><b>表1 三通道通信功能表</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="32" border="1"><tr><td><br />通道</td><td>主机</td><td>从机</td></tr><tr><td><br />通道0</td><td>发送指令数据</td><td>接收指令数据</td></tr><tr><td><br />通道1</td><td>接收连接申请</td><td>发送连接申请</td></tr><tr><td><br />通道2</td><td>接收数据</td><td>发送数据</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="33" name="33"><b>2.2 主机通信流程设计</b></h4>
                <div class="p1">
                    <p id="34">网络初始化时,主机通信流程如下:</p>
                </div>
                <div class="p1">
                    <p id="35">(1)主机开启三个通道的接收模式,当通道1收到从机的连接请求时,检查该请求帧的标识码是否与地址列表中已有的标识码相匹配,标识码是从机随机生成的3 Bytes数,能够保证每个从机拥有不同的标识码。如果地址列表中已有该标识码,则将该标识码关联的逻辑地址重新分配给该从机,出现这种情况的可能原因是从机在通信一段时间后复位,重新申请连接。如果地址列表中没有该标识码,说明是新的从机申请连接,寻找一个尚未分配的逻辑地址(0x01～0xFE)给该从机,将该从机的逻辑地址加入地址列表,并在地址列表中将该从机的标识码与逻辑地址关联。由通道0向该从机发送包含其逻辑地址的确认连接指令。</p>
                </div>
                <div class="p1">
                    <p id="36">(2)当地址列表不为空的时候,由通道0按照地址列表发送轮询指令给各从机。设定一个发送间隔阈值<i>T</i><sub>1</sub>(毫秒级),防止当从机数量较少时过度问询,随着从机数量的不断增加,该间隔阈值<i>T</i><sub>1</sub>可以适当降低,以提升系统传输数据效率。</p>
                </div>
                <div class="p1">
                    <p id="37">(3)通道2收到从机发送的数据后,将数据上传至上位机或进行存储,并且在地址列表中更新该从机的数据接收标识,定时检测每个从机的数据接收标识,若某一从机的数据长时间未更新,则认定该从机掉线,将该从机从地址列表中删除,并上报该从机掉线信息。主机的通信流程如图2所示。</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 主机通信流程图" src="Detail/GetImg?filename=images/DQZD201906029_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 主机通信流程图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="39" name="39"><b>2.3 从机通信流程设计</b></h4>
                <div class="p1">
                    <p id="40">为了防止大量从机一起上线造成通信碰撞,从机进行随机延时,并随机生成3 Bytes数作为唯一标识码。从机通信流程如下:</p>
                </div>
                <div class="p1">
                    <p id="41">(1)从机可能进行多次请求连接,因此设定一个发送请求间隔阈值<i>T</i><sub>2</sub>,防止从机过度请求。在判定请求间隔大于阈值后,进行随机等待延时后检测信道载波情况,在信道空闲时由通道1发送连接请求给主机,从机将不断尝试请求连接直到在通道0收到主机包含分配给该从机的逻辑地址的确认连接指令,更新该逻辑地址,之后等待主机问询指令。</p>
                </div>
                <div class="p1">
                    <p id="42">(2)当通道0收到主机问询指令时,各从机检查指令的逻辑地址,逻辑地址匹配的从机由通道2向主机发送被问询数据。定时检测是否长时间未收到主机的问询命令,若长时间未收到主机命令,判定主机掉线或连接断开,尝试重新申请连接。从机的通信流程如图3所示。</p>
                </div>
                <h4 class="anchor-tag" id="43" name="43"><b>2.4 协议性能指标</b></h4>
                <div class="p1">
                    <p id="44">在功能分址通信方案中,每次的无线收发通信。由nRF24L01链路层提供的自动重发和自动应答保证每次通信质量的可靠性。无线网络建立、命令传输和数据传输分别依靠三个不同地址的数据通道有效区别,避免了无线碰撞和数据丢失。同时主机和从机均包含了定时掉线检测和重连功能,保证了网络的稳定性。</p>
                </div>
                <div class="p1">
                    <p id="45">根据分配的逻辑地址(0x01～0xFE),从机携带的数量理论上可以达到254个,远远超过一般单层无线传感器网络的从机数量,也远远超出了nRF24L01芯片本身6通道的数量限制。</p>
                </div>
                <div class="area_img" id="46">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 从机通信流程图" src="Detail/GetImg?filename=images/DQZD201906029_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 从机通信流程图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_046.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="47">在网络性能方面,数据传输效率受限于主机轮询的时间间隔<i>T</i><sub>1</sub>,该值取决于一次收发所必要的处理延时和传输延时,点对点的一次收发必要的处理延时为280 μs,传输延时为164 μs,在功能分址方案网络下,取<i>T</i><sub>1</sub>=10 ms已足够完成一次收发。按此计算,1 s内能够更新100个从机共3 100 Bytes数据,在满足大量从机数量需求的同时,数据更新速度也能够很好地达到大量数据传输的需要。</p>
                </div>
                <div class="p1">
                    <p id="48">鉴于自动重发机制,丢包率并不能完全反映网络通信质量情况,使用数据包投递率(packet delivery ratio,PDR)来查看网络通信质量,<i>i</i>时刻的数据包的投递率为:</p>
                </div>
                <div class="area_img" id="49">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/DQZD201906029_04900.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="51">式中:<i>i</i>为系统某一时刻;<i>r</i><sub><i>pd</i></sub>(<i>i</i>)为<i>i</i>时刻数据包投递率;<i>k</i>为该数据包发送次数;ARC为最大自动重传次数。</p>
                </div>
                <div class="p1">
                    <p id="52">系统<i>t</i>时刻总投递率<i>R</i><sub><i>P</i></sub>(<i>t</i>)为<i>T</i><sub><i>R</i></sub>时间内的各个数据包投递率均值,其计算如下:</p>
                </div>
                <div class="p1">
                    <p id="53"><mathml id="77"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>R</mi><msub><mrow></mrow><mrow><mi>p</mi><mi>d</mi></mrow></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>Τ</mi><msub><mrow></mrow><mi>R</mi></msub></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>t</mi><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mi>R</mi></msub></mrow><mi>t</mi></munderover><mi>r</mi></mstyle><msub><mrow></mrow><mrow><mi>p</mi><mi>d</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></math></mathml>      (2)</p>
                </div>
                <div class="p1">
                    <p id="54">式中:<i>t</i>为系统某一时刻;<i>R</i><sub><i>pd</i></sub>(<i>t</i>)为<i>t</i>时刻总投递率;<i>T</i><sub><i>R</i></sub>为计算均值时间窗长度;<i>r</i><sub><i>pd</i></sub>(<i>i</i>)为<i>i</i>时刻数据包投递率。</p>
                </div>
                <div class="p1">
                    <p id="55">当信道干扰较大时,可能发生较多数据包重传,此时投递率会有所下降,因此总投递率能够反映网络的通信质量情况。</p>
                </div>
                <h3 id="56" name="56" class="anchor-tag"><b>3 试验设计验证</b></h3>
                <div class="p1">
                    <p id="57">为了对通信协议方案进行验证,设计了如图4所示的无线传感网络试验方案:网络由PC上位机、主机设备、从机设备和电子终端构成。其中电子终端设备采用PMAC625三相智能数显表,该仪表通过外部扩展RS485/MODBUS总线进行通信。</p>
                </div>
                <div class="area_img" id="58">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 试验系统总体框架" src="Detail/GetImg?filename=images/DQZD201906029_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 试验系统总体框架</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="59" name="59"><b>3.1 硬件设计</b></h4>
                <div class="p1">
                    <p id="60">主机采用STM32F103C8T6芯片搭配nRF24L01芯片,通过WIZnet公司的W5500高性能网络接口芯片,将数据上传至PC或云端,符合物联网的无线传感器网络接入方式,主机结构连接如图5所示。</p>
                </div>
                <div class="area_img" id="61">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 主机硬件结构连接图" src="Detail/GetImg?filename=images/DQZD201906029_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 主机硬件结构连接图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_061.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="62">从机采用nRF24LE1芯片作为主控,该芯片为nRF24L01外加高性能51内核,根据终端设备PMAC625的通信特点,设计RS485/TTL电平转换电路<citation id="108" type="reference"><link href="97" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation><sup>42</sup>,从机模块和电表终端经电平转换电路相连,由串口进行通信。</p>
                </div>
                <h4 class="anchor-tag" id="63" name="63"><b>3.2 软件设计</b></h4>
                <div class="p1">
                    <p id="64">主机和从机通信部分程序按照2.2节所述的三通道通信方案进行程序编写。其中,主机将问询到的电表数据立即通过网口上传至上位机,在上位机观察接收到的数据情况。</p>
                </div>
                <div class="p1">
                    <p id="65">由于PMAC625电表的数据问询串口波特率最高为9 600 bps,故传输1个Byte的数据需要1 ms左右。当问询数据量较大时,数据返回时间将严重影响从机回复主机速度,因此选择当主机问询从机时,从机立即向主机返回上一次查询电表数据,之后立即向电表进行数据问询,这样能够保证查询的电表数据为主机的一次问询周期内数据,并且可以大大提高系统通信效率。对于数据处理反应较慢的其他电子终端设备,也可以采用该方法加快系统问询数据效率。</p>
                </div>
                <h3 id="66" name="66" class="anchor-tag"><b>4 试验结果与分析</b></h3>
                <div class="p1">
                    <p id="67">图6所示为本次试验的硬件样机,左边为主机,右边两个为从机(正反面)。</p>
                </div>
                <div class="area_img" id="68">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 试验硬件样机" src="Detail/GetImg?filename=images/DQZD201906029_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图6 试验硬件样机</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="69">本次试验使用了1个主机,20个从机,对单通道逻辑多址通信方案和功能分址通信方案进行了对比试验,试验模拟最坏情况下所有从机同时上电,在上电后相继申请与主机连接。</p>
                </div>
                <div class="p1">
                    <p id="70">在功能分址通信方案中,20 s内20个从机均连接成功,获得各自逻辑地址。主机按照用户设定好的问询命令轮询各从机,在0.6 s内20个从机能够轮询一遍,速率大大超过文献<citation id="109" type="reference">[<a class="sup">6</a>]</citation> 44中的1.5 s轮询10个从机,并将全部数据完整上传到上位机,上位机接收数据如图7所示。</p>
                </div>
                <div class="area_img" id="71">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DQZD201906029_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 上位机接收数据图" src="Detail/GetImg?filename=images/DQZD201906029_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图7 上位机接收数据图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DQZD201906029_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="72">在试验测试的2 h中,数据极少出现丢失情况,同时统计数据包重传次数,总投递率达到99%以上,数据吞吐量达到了21.87 kbps,吞吐量远远大于文献<citation id="110" type="reference">[<a class="sup">7</a>]</citation>中的0.3 kbps,高于一般低成本无线传感器网络<citation id="111" type="reference"><link href="101" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="73">单通道逻辑多址方案和功能分址通信方案的试验测试结果如表2所示。</p>
                </div>
                <div class="area_img" id="74">
                    <p class="img_tit"><b>表2 试验测试结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="74" border="1"><tr><td><br />指标</td><td>单通道逻辑多址</td><td>功能分址</td></tr><tr><td><br />主机数量/台</td><td>1</td><td>1</td></tr><tr><td><br />从机数量/台</td><td>20</td><td>20</td></tr><tr><td><br />网络建立时间/s</td><td>180</td><td>20</td></tr><tr><td><br />数据更新周期/s</td><td>3.0</td><td>0.6</td></tr><tr><td><br />数据吞吐量/kbps</td><td>3.50</td><td>21.87</td></tr><tr><td><br />丢包率/%</td><td>&gt;20.0</td><td>&lt;0.1</td></tr><tr><td><br />总投递率<i>R</i><sub>pd</sub>/%</td><td>&lt;25</td><td>&gt;99</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="75" name="75" class="anchor-tag"><b>5 结束语</b></h3>
                <div class="p1">
                    <p id="76">本文针对现在无线传感器网络终端设备数量不断增加的应用需求,以nRF24L01芯片为基础提出了一种功能分址通信网络方案,实现了同时具备较多从机数量和高数据吞吐量的低成本无线传感器网络。经试验验证,该网络方案完全可行,网络连接稳定,能够支持较多数量的从机,同时数据传输速率高,能够满足绝大部分的无线传感器网络需求。与传统方案相比,该方案在网络稳定性、丢帧率和数据传输速率方面都有了显著的提高,具有较好的应用推广前景。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="87">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CXYY201814027&amp;v=MTAyOTlHRnJDVVI3cWZadVpxRnkvZ1U3ckJKalhTZDdHNEg5bk5xNDlIWTRRS0RIODR2UjRUNmo1NE8zenFxQnQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 吴瑞睿,刘洁琳.无线传感器网络综述[J].科技创新与应用,2018,8(14):65-66.
                            </a>
                        </p>
                        <p id="89">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYY201309002&amp;v=MDY4NzJPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2dVN3JCUFRuU2Q3RzRIOUxNcG85RlpvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 蒲泓全,贾军营,张小娇,等.ZigBee网络技术研究综述[J].计算机系统应用,2013,22(9):6-11.
                            </a>
                        </p>
                        <p id="91">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201606023&amp;v=MjY1OTNZOUhaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnFGeS9nVTdyQklUZklZckc0SDlmTXE=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 李长才,肖金球,张少华.基于nRF24L01的无线多点温度监测报警系统设计[J].电子测量技术,2016,39(6):94-97.
                            </a>
                        </p>
                        <p id="93">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXJS201107021&amp;v=MTEzNDhIOURNcUk5SFpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacUZ5L2dVN3JCTVRYQmZiRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 杨旭,李德敏,张谦益.基于nRF24L01的一种无线通信协议设计[J].通信技术,2011,44(7):57-59.
                            </a>
                        </p>
                        <p id="95">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011289933.nh&amp;v=MTk5MDdmWnVacUZ5L2dVN3JCVkYyNkg3R3dGOWpQckpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 朱桂峰.基于nRF24L01的无线传感局域网络的研究与设计[D].河北:河北大学,2011.
                            </a>
                        </p>
                        <p id="97">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DQZD201702013&amp;v=MDIyNTdCdEdGckNVUjdxZlp1WnFGeS9nVTdyQklUelJhckc0SDliTXJZOUVaNFFLREg4NHZSNFQ2ajU0TzN6cXE=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 于跃,张峰,张士文.基于ZigBee技术的电力设备远程监控系统[J].电气自动化,2017,39(2):41-44.
                            </a>
                        </p>
                        <p id="99">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GLDZ201802005&amp;v=MzAzNDNVUjdxZlp1WnFGeS9nVTdyQklpSFBkTEc0SDluTXJZOUZZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 资文彬,李民政,肜新伟.基于LoRa的无线抄表系统设计与实现[J].桂林电子科技大学学报,2018,38(2):106-111.
                            </a>
                        </p>
                        <p id="101">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSSG201803019&amp;v=MDY2NDRSN3FmWnVacUZ5L2dVN3JCTHo3WWFiRzRIOW5Nckk5RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 宋连庆,韩兴会,袁世博,等.ZigBee无线传感器网络平台设计与实现[J].计算机与数字工程,2018,46(3):508-511.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="DQZD201906029" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DQZD201906029&amp;v=MDAwNTBacUZ5L2dVN3JPSVR6UmFyRzRIOWpNcVk5SGJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnU=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDMwT2dHRXdIOG9tYjAvZ2pUVkRaVT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="0" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>


    <link href="/kxreader/Content/css/LeftDetail?v=NLcKG8I1SJUaVFrQ0iGpF2klAT0OsmHRaVSZ1rKb5xg1" rel="stylesheet"/>

</body>
</html>

