<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=NOOK-mvTMnxl11s6oPYV0boPXN3iP4N7Rc-A56nk4KI1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2fKXReader%2fDetail%3fTIMESTAMP%3d637140733502787500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJDGC201903009%26RESULT%3d1%26SIGN%3djoKe4MEBDVsFOp%252ffjNfYsfuo21M%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JDGC201903009&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JDGC201903009&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JDGC201903009&amp;v=MjYyMDBGckNVUjdxZlp1Wm5GaURnVUx6T0x5bk1iYkc0SDlqTXJJOUZiWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#23" data-title="0 引 言 ">0 引 言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#27" data-title="1 整体结构 ">1 整体结构</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#30" data-title="2 硬件组成 ">2 硬件组成</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#31" data-title=" (1) 行走机构。"> (1) 行走机构。</a></li>
                                                <li><a href="#33" data-title=" (2) 图像采集模块。"> (2) 图像采集模块。</a></li>
                                                <li><a href="#35" data-title=" (3) 拧紧装置。"> (3) 拧紧装置。</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#37" data-title="3 检测算法 ">3 检测算法</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#40" data-title="3.1 模板匹配">3.1 模板匹配</a></li>
                                                <li><a href="#65" data-title="3.2 旋转校正">3.2 旋转校正</a></li>
                                                <li><a href="#67" data-title="3.3 指针定位">3.3 指针定位</a></li>
                                                <li><a href="#72" data-title="3.4 极坐标展开">3.4 极坐标展开</a></li>
                                                <li><a href="#79" data-title="3.5 指针读数判别">3.5 指针读数判别</a></li>
                                                <li><a href="#90" data-title="3.6 二维码识别">3.6 二维码识别</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#92" data-title="4 实验结果与分析 ">4 实验结果与分析</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#99" data-title="5 结束语 ">5 结束语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#29" data-title="图1 整机图">图1 整机图</a></li>
                                                <li><a href="#39" data-title="图2 算法流程图">图2 算法流程图</a></li>
                                                <li><a href="#51" data-title="图3 模板">图3 模板</a></li>
                                                <li><a href="#71" data-title="图4 气泡的处理">图4 气泡的处理</a></li>
                                                <li><a href="#78" data-title="图5 极坐标展开图">图5 极坐标展开图</a></li>
                                                <li><a href="#89" data-title="图6 读数修正图">图6 读数修正图</a></li>
                                                <li><a href="#94" data-title="图7 系统主界面">图7 系统主界面</a></li>
                                                <li><a href="#97" data-title="&lt;b&gt;表1 两种方法的读数对比&lt;/b&gt;"><b>表1 两种方法的读数对比</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 骆兆松.基于高速摄像的全自动水表检定装置及管理信息系统的设计与实现[D].山东:山东大学软件学院, 2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1018004433.nh&amp;v=MjY2MjBGckNVUjdxZlp1Wm5GaURnVUx6QlZGMjZGck80R3RYUHJKRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         骆兆松.基于高速摄像的全自动水表检定装置及管理信息系统的设计与实现[D].山东:山东大学软件学院, 2017.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 陈硕, 刘丰, 唐旭晟, 骆腾斌.基于机器视觉技术的水表在线检定系统研究[J].计量学报, 2017, 38 (4) :473-476." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JLXB201704020&amp;v=MDA5MjR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRmlEZ1VMekJMeUhUYkxHNEg5Yk1xNDlIWklRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         陈硕, 刘丰, 唐旭晟, 骆腾斌.基于机器视觉技术的水表在线检定系统研究[J].计量学报, 2017, 38 (4) :473-476.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 吕露.基于自动识别技术的水表检定系统研究[D].北京:北京工业大学电子信息与控制工程学院, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016785596.nh&amp;v=MTcxNTh6QlZGMjZHTFN3RzlURnFaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GaURnVUw=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         吕露.基于自动识别技术的水表检定系统研究[D].北京:北京工业大学电子信息与控制工程学院, 2016.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 李静, 张宁, 张岩, 等.Hough变换的改进及其在指针式水表识别过程中的应用[J].北京石油化工学院学报, 2015, 23 (1) :58-64." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BJSY201501012&amp;v=MTI4MjRSN3FmWnVabkZpRGdVTHpCSnlmWWQ3RzRIOVRNcm85RVpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         李静, 张宁, 张岩, 等.Hough变换的改进及其在指针式水表识别过程中的应用[J].北京石油化工学院学报, 2015, 23 (1) :58-64.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 李静.基于图像处理的指针式水表检定系统的研究与设计[D].北京:北京化工大学石油化工学院, 2015." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015725328.nh&amp;v=Mjg3NzVxcUJ0R0ZyQ1VSN3FmWnVabkZpRGdVTHpCVkYyNkc3UzZHOUxPcDVFYlBJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         李静.基于图像处理的指针式水表检定系统的研究与设计[D].北京:北京化工大学石油化工学院, 2015.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" PANG L S L, W. CHAN W L.Computer vision application in automatic meter calibration[J]. Conference Record-ias Meeting, 2005 (3) : 1731-1735." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Computer vision application in automatic meter calibration">
                                        <b>[6]</b>
                                         PANG L S L, W. CHAN W L.Computer vision application in automatic meter calibration[J]. Conference Record-ias Meeting, 2005 (3) : 1731-1735.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" YANG Zhi-juan, NIU Wen-han, PENG Xiao-jiang, et al. An image-based intelligent system for pointer instrument reading[C]. 2014 4th IEEE International Conference on Information Science and Technology, Shenzhen: IEEE, 2014." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An image-based intelligent system for pointer instrument reading">
                                        <b>[7]</b>
                                         YANG Zhi-juan, NIU Wen-han, PENG Xiao-jiang, et al. An image-based intelligent system for pointer instrument reading[C]. 2014 4th IEEE International Conference on Information Science and Technology, Shenzhen: IEEE, 2014.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 汤思孟, 赵杰煜, 陆晓峰.基于机器视觉技术的水表新型检定方法[J].计量学报, 2015, 36 (1) :54-57." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JLXB201501012&amp;v=MDYyOTVnVUx6Qkx5SFRiTEc0SDlUTXJvOUVab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GaUQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         汤思孟, 赵杰煜, 陆晓峰.基于机器视觉技术的水表新型检定方法[J].计量学报, 2015, 36 (1) :54-57.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 骆腾斌, 陈硕, 赵紫阳, 等.基于机器视觉算法的轴承套端面缺陷检测研究[J].机电工程, 2018, 35 (2) :148-152." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JDGC201802008&amp;v=MDk2Mjg2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GaURnVUx6Qkx5bk1iYkc0SDluTXJZOUZiSVFLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         骆腾斌, 陈硕, 赵紫阳, 等.基于机器视觉算法的轴承套端面缺陷检测研究[J].机电工程, 2018, 35 (2) :148-152.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 尹红敏, 葛广英, 肖海俊, 等.基于Halcon的指针式仪表的读数[J].现代电子技术, 2016, 39 (17) :16-19." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201617005&amp;v=MDg0NTFuRmlEZ1VMekJQU25QWkxHNEg5Zk5xSTlGWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVo=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         尹红敏, 葛广英, 肖海俊, 等.基于Halcon的指针式仪表的读数[J].现代电子技术, 2016, 39 (17) :16-19.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">

    <div class="head-tag">   
            <p>
               <b> 网络首发时间: 2019-03-21 16:37</b>
            </p>     
    </div>


        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JDGC" target="_blank">机电工程</a>
                2019,36(03),271-274 DOI:10.3969/j.issn.1001-4551.2019.03.008            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于机器视觉的水表检定方法研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%91%E6%96%87%E5%AD%A6&amp;code=41308977&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郑文学</a>
                                <a href="javascript:;">岳智珉</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%94%90%E6%97%AD%E6%99%9F&amp;code=06682088&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">唐旭晟</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%99%88%E4%B8%B9&amp;code=06685229&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">陈丹</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E7%A6%8F%E5%B7%9E%E5%A4%A7%E5%AD%A6%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E5%8F%8A%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AD%A6%E9%99%A2&amp;code=0094575&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">福州大学机械工程及自动化学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E9%83%91%E5%B7%9E%E6%A5%B7%E6%BA%90%E4%BB%AA%E8%A1%A8%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郑州楷源仪表有限公司</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对现有水表检定装置检定效率低、信息管理功能不足等问题, 对水表指针识别、消除气泡影响、检定台自动化改造等方面进行了研究, 提出了一种基于机器视觉的水表在线检测系统。采用距离法读取水表指针读数, 通过模板匹配, 旋转校正水表图像, 利用极坐标变换, 将子表盘展开成矩形, 并集成二维码识别模块, 实现了对水表的检定与数据保存;设计了上行走机构带动相机移动拍照, 使用单个相机完成了5个工位水表图像的采集。研究结果表明:与人工肉眼读表和手工记录读数方法相比, 该检测方法能确保水表的检定精度, 同时提高了检定效率, 并且检定数据可溯源。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%B7%9D%E7%A6%BB%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">距离法;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B0%B4%E8%A1%A8%E6%A3%80%E5%AE%9A&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">水表检定;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%9C%BA%E5%99%A8%E8%A7%86%E8%A7%89&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">机器视觉;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    郑文学 (1993-) , 男, 福建泉州人, 硕士研究生, 主要从事机器视觉方面的研究。E-mail:728095725@qq.com;
                                </span>
                                <span>
                                    *唐旭晟, 男, 博士, 副研究员。E-mail:tribology@163.com;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-09-25</p>

                    <p>

                            <b>基金：</b>
                                                        <span>福建省自然科学基金资助项目 (2018J01534);</span>
                    </p>
            </div>
                    <h1><b>Calibration method of water meter based on machine vision</b></h1>
                    <h2>
                    <span>ZHENG Wen-xue</span>
                    <span>YUE Zhi-min</span>
                    <span>TANG Xu-sheng</span>
                    <span>CHEN Dan</span>
            </h2>
                    <h2>
                    <span>College of Mechanical Engineering and Automation, Fuzhou University</span>
                    <span>Zhengzhou KaiYuan Instrument Company Limited</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Aiming at the problems of low calibration efficiency and insufficient information management function of existing water meter calibration devices, the identification of water meter pointer, eliminating the influence of bubbles, and the automatic transformation of calibration platform were studied. A kind of on-line water meter detection system based on machine vision was proposed, distance method was used to read water meter pointer reading and passed through template matching, the water meter image were rotated and corrected, polar coordinate transformation was used to expand the sub-dial into a rectangle, and two-dimensional code recognition module were integrated, the verification and data preservation of the water meter was realized. A walking mechanism was designed to drive the camera to take pictures, and a single camera was used to collect images of water meters at five stations.The results indicate that compared with manual reading and manual recording, this method can ensure the accuracy of water meter, improve the efficiency of verification, and make the calibration data traceable.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=distance%20method&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">distance method;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=water%20meter&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">water meter;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=machine%20vision&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">machine vision;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-09-25</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="23" name="23" class="anchor-tag">0 引 言</h3>
                <div class="p1">
                    <p id="24">水表是居民用水的主要计量仪器。由于技术成熟<citation id="101" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>、制造成本低、计量准确的特点, 我国民用冷水水表仍以机械式水表为主。现有的水表检定装置采用人工操作、人工读数的检测方式, 效率低、劳动强度大。对水表自动化检测有直接检测梅花针和水表指针两种方式。检测梅花针主要采用CCD摄像法<citation id="102" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>, 对梅花针转过的齿数计数, 需要监控水表整个检定过程, 易出现信号丢失和相机失帧等问题, 造成计数不准, 鲁棒性不好。</p>
                </div>
                <div class="p1">
                    <p id="25">目前, 许多研究人员对指针识别展开了研究。吕露<citation id="103" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>提出了一种基于SVM分类器加HOG特征的指针式水表读数自动识别方案;李静等人<citation id="106" type="reference"><link href="9" rel="bibliography" /><link href="11" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">5</a>]</sup></citation>采用了hough变换法提取角度;PANG L S L等<citation id="104" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>利用最大灰度相减法的原理, 通过含有指针的表盘图像减去不含指针的表盘图像, 获取了指针并识别了读数;YANG Zhi-juan等人<citation id="105" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>提出了一种二进制描述器来获取指针的区域, 并基于圆基区域累加梯度的方法精确地定位指针位置。这些算法都存在运算量大、所需存储空间大等缺点。</p>
                </div>
                <div class="p1">
                    <p id="26">本文将依据某水表厂现有的人工检表装置, 开发一套基于机器视觉的水表在线检测系统。</p>
                </div>
                <h3 id="27" name="27" class="anchor-tag">1 整体结构</h3>
                <div class="p1">
                    <p id="28">经过笔者改造后的水表检定装置主要由水表原始容积法检定台、图像采集模块、拧紧装置、行走机构、工控机等组成, 如图1所示。</p>
                </div>
                <div class="area_img" id="29">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 整机图" src="Detail/GetImg?filename=images/JDGC201903009_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 整机图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="30" name="30" class="anchor-tag">2 硬件组成</h3>
                <h4 class="anchor-tag" id="31" name="31"> (1) 行走机构。</h4>
                <div class="p1">
                    <p id="32">检定台上有5个工位, 检定前需将每个工位上的水表表罩拧紧以及检定前后采集水表图像, 每个工位需要一套图像采集设备, 改造费用高, 设计上, 行走机构由小型伺服电机和导轨组成, 通过皮带轮带动拧紧装置和图像采集装置运动, 并在每个工位装上光电检测片, 用于定位水表和触发相机拍照, 同时设有行程开关对行走机构限位保护;</p>
                </div>
                <h4 class="anchor-tag" id="33" name="33"> (2) 图像采集模块。</h4>
                <div class="p1">
                    <p id="34">水表检定环境比较复杂, 各种因素都可能影响图像获取的准确性, 光照人影的变化会造成图像RGB值的剧烈变化, 极大影响水表图像的处理结果<citation id="107" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>, 本文采用韩国IMI CCD相机和8 mm定焦镜头作为图像采集设备, 选用碗状光源;</p>
                </div>
                <h4 class="anchor-tag" id="35" name="35"> (3) 拧紧装置。</h4>
                <div class="p1">
                    <p id="36">采用精密行星减速机驱动, 相对其他减速机, 精密行星减速机具有体积小、精度高、传动效率高、扭矩/体积比高等特点, 末端锁紧结构与减速机间用升降气缸连接, 当锁紧装置到达工位时, 升降气缸带动锁紧末端下降与水表配合, 减速机转动达到设定的扭矩, 变频器输出信号给PLC, 升降气缸带动锁紧末端上升。</p>
                </div>
                <h3 id="37" name="37" class="anchor-tag">3 检测算法</h3>
                <div class="p1">
                    <p id="38">针对水表指针读数, 本研究采用极坐标变换的方法将子表盘展成矩形, 根据指针中心列坐标和矩形列坐标的关系计算读数。同时, 还要对水表图像进行一系列处理, 包括基于模板匹配图像校正、利用颜色信息定位指针、形态学处理、极坐标变换、计算指针读数、读数校正等部分, 算法流程图如图2所示。</p>
                </div>
                <div class="area_img" id="39">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 算法流程图" src="Detail/GetImg?filename=images/JDGC201903009_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 算法流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_039.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="40" name="40">3.1 模板匹配</h4>
                <div class="p1">
                    <p id="41">由于装配误差, 采集的水表图像存在不同角度的偏转, 本研究采用基于HALCON的形状模板匹配技术校正图像。</p>
                </div>
                <h4 class="anchor-tag" id="42" name="42">3.1.1 创建模板</h4>
                <div class="p1">
                    <p id="43">选用Canny算子提取模板轮廓, Canny算法通常处理的图像为灰度图, 需要先将采集的水表图像进行灰度化处理, 即:</p>
                </div>
                <div class="p1">
                    <p id="44">Cray=0.299<i>R</i>+0.587<i>G</i>+0.114<i>B</i>      (1) </p>
                </div>
                <div class="p1">
                    <p id="45">针对图像中的边缘在方向上可能各不相同的现象, Canny边缘检测算法采用4个滤波器分别检测图像中的水平、垂直和对角线边缘。边缘差分算子 (如Roberts, Prewitt, Sobel) 计算水平方向分量<i>G</i><sub><i>x</i></sub>和竖直方向分量<i>G</i><sub><i>y</i></sub>, 由此边缘梯度和方向可确定, 即:</p>
                </div>
                <div class="p1">
                    <p id="46"><mathml id="47"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>G</mi><mo>=</mo><msqrt><mrow><mi>G</mi><msubsup><mrow></mrow><mi>x</mi><mn>2</mn></msubsup><mo>+</mo><mi>G</mi><msubsup><mrow></mrow><mi>y</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></math></mathml>      (2) </p>
                </div>
                <div class="p1">
                    <p id="48"><mathml id="49"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>θ</mi><mo>=</mo><mrow><mi>arctan</mi></mrow><mrow><mo> (</mo><mrow><mfrac><mrow><mi>G</mi><msub><mrow></mrow><mi>x</mi></msub></mrow><mrow><mi>G</mi><msub><mrow></mrow><mi>y</mi></msub></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></math></mathml>      (3) </p>
                </div>
                <div class="p1">
                    <p id="50">所有边缘的角度都在上述选定的4个方向 (0°, 45°, 90°, 135°) 。下一步通过滞后性门限跟踪图像的边缘线。与小的光强梯度相比, 数值较大的光强梯度更容易作为边缘线。在大多数图像中定义一个门限值来确定光强梯度取值多少适合作为边缘线通常是不可行的, 因此Canny算法使用滞后作用确定门限值。该方法使用两个门限分别定义高低边界。Canny算子的高低阈值比一般推荐在2∶1～3∶1之间<citation id="108" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。该研究算法选取20为低阀值, 40为高阀值, 提取的模板如图3所示。</p>
                </div>
                <div class="area_img" id="51">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 模板" src="Detail/GetImg?filename=images/JDGC201903009_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 模板  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="52" name="52">3.1.2 寻找模板</h4>
                <div class="p1">
                    <p id="53">将模板模型放在搜索图像上平移寻找对象, 模板模型是由一系列点P<sub>i</sub> (X<sub>i</sub>, Y<sub>i</sub>) 组成, 在X方向和Y方向上的梯度为G<sub>i</sub> (Gx<sub>i</sub>, Gy<sub>i</sub>) , 在搜索图像中寻找梯度G<sub>u, v</sub> (Gx<sub>u, v</sub>, Gy<sub>u, v</sub>) 。在模板匹配过程中, 模板使用相似性度量与所有位置的搜索图像进行比较, 即取模板图像的梯度向量的所有标准化点积之和, 并在模型数据集中的所有点上搜索图像, 返回搜索图像每个点处得分S<sub>u, v</sub>, 即:</p>
                </div>
                <div class="p1">
                    <p id="54"><mathml id="55"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>, </mo><mi>v</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mfrac><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><mrow><mi>C</mi><mo>*</mo><mi>D</mi></mrow></mfrac></mrow></mstyle></mrow></math></mathml>      (4) </p>
                </div>
                <div class="p1">
                    <p id="56">其中:</p>
                </div>
                <div class="p1">
                    <p id="57">A=Gx<sub>i</sub>*Gx<sub> (u+Xi, v+Yi) </sub>;B=Gy<sub>i</sub>*Gy (u+X<sub>i</sub>, v+Y<sub>i</sub>) ;<mathml id="59"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>C</mi><mo>=</mo><msqrt><mrow><mi>G</mi><mi>x</mi><msubsup><mrow></mrow><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mi>G</mi><mi>y</mi><msubsup><mrow></mrow><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></math></mathml>;<mathml id="60"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>D</mi><mo>=</mo><msqrt><mrow><mi>G</mi><mi>x</mi><msub><mrow></mrow><mrow><mo stretchy="false"> (</mo><mi>u</mi><mo>+</mo><mi>X</mi><mi>i</mi><mo>, </mo><mi>v</mi><mo>+</mo><mi>Y</mi><mi>i</mi><mo stretchy="false">) </mo></mrow></msub><msup><mrow></mrow><mn>2</mn></msup><mo>+</mo><mi>G</mi><mi>y</mi><msub><mrow></mrow><mrow><mo stretchy="false"> (</mo><mi>u</mi><mo>+</mo><mi>X</mi><mi>i</mi><mo>, </mo><mi>v</mi><mo>+</mo><mi>Y</mi><mi>i</mi><mo stretchy="false">) </mo></mrow></msub><msup><mrow></mrow><mn>2</mn></msup></mrow></msqrt></mrow></math></mathml>;i=1, 2, …, n;u=1, 2, …, n;v=1, 2, …, n。</p>
                </div>
                <div class="p1">
                    <p id="62">式中:i—模板数据集中的元素数量;u—搜索图像的行坐标;v—搜索图像上的列坐标。</p>
                </div>
                <div class="p1">
                    <p id="63">在模板和搜索图像之间存在完美匹配的情况下, 该函数将返回得分1, 得分对应于在搜索图像中可见的对象的部分;如果对象不存在于搜索图像中, 则得分为0。</p>
                </div>
                <div class="p1">
                    <p id="64">在<i>HALCON</i>中实现模板匹配的算子是<i>find</i>_<i>shape</i>_<i>model</i> () 。为了进一步加快搜索过程, 笔者使用金字塔方法, 以较小的图像尺寸以低分辨率开始搜索, 相当于金字塔的顶端。如果在此阶段搜索成功, 则在金字塔的下一级继续搜索, 这表示高分辨率的图像。以这种方式继续搜索, 并细化结果直到达到原始图像大小, 即金字塔底部。匹配结果返回一个点、角度以及匹配的分值。</p>
                </div>
                <h4 class="anchor-tag" id="65" name="65">3.2 旋转校正</h4>
                <div class="p1">
                    <p id="66">利用算子<i>vector</i>_<i>angle</i>_<i>to</i>_<i>rigid</i> () 从模板匹配返回的点和角度计算一个刚体仿射变换的2*3矩阵, <i>affine</i>_<i>trans</i>_<i>image</i> () 旋转校正图像。</p>
                </div>
                <h4 class="anchor-tag" id="67" name="67">3.3 指针定位</h4>
                <div class="p1">
                    <p id="68">根据水表指针红色的颜色信息特征, 采用LRCD的方法提取水表表盘中的红色指针, 并弱化干扰背景的其他颜色, 直接采取红色分量与黑色分量做差, 即:</p>
                </div>
                <div class="p1">
                    <p id="69">C=R-Y=0.3*R-0.11B      (5) </p>
                </div>
                <div class="p1">
                    <p id="70">通过寻找指针的最大内接圆精确定位子表盘圆心 (x<sub>i</sub>, y<sub>i</sub>) 。当表盘存在气泡时, 二值化后的水表指针存在断裂、空洞、分离等现象, 无法被完整提取, 需要先对原图中值滤波采用开操作、闭操作的图像形态学方法, 消除气泡的影响, 如图4所示。</p>
                </div>
                <div class="area_img" id="71">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 气泡的处理" src="Detail/GetImg?filename=images/JDGC201903009_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 气泡的处理  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="72" name="72">3.4 极坐标展开</h4>
                <div class="p1">
                    <p id="73">为了获取子表盘指针读数, 将子表盘通过极坐标展开成矩形, 直角坐标系与极坐标系之间的互换公式为:</p>
                </div>
                <div class="p1">
                    <p id="74" class="code-formula">
                        <mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mi>ρ</mi><msup><mrow></mrow><mn>2</mn></msup><mo>=</mo><mi>x</mi><msup><mrow></mrow><mn>2</mn></msup><mo>+</mo><mi>y</mi><msup><mrow></mrow><mn>2</mn></msup></mtd></mtr><mtr><mtd><mi>tan</mi><mi>θ</mi><mo>=</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mo>, </mo><mi>x</mi><mo>≠</mo><mn>0</mn></mtd></mtr></mtable></mrow></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="75"> (6) </p>
                </div>
                <div class="p1">
                    <p id="76">使用算子<i>polar</i>_<i>trans</i>_<i>image</i>_<i>ext</i> () 极坐标展开。为了保证子表盘从0刻度展开, 取起始角度Φ<sub>1</sub>=0.5 <i>π</i>, 终止角度Φ<sub>2</sub>=1.55<i>π</i>;起始半径R<sub>1</sub>=1.3R, 终止半径R<sub>2</sub>=0, R为子表盘圆环的半径。</p>
                </div>
                <div class="p1">
                    <p id="77">变换后的图形如图5所示。</p>
                </div>
                <div class="area_img" id="78">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 极坐标展开图" src="Detail/GetImg?filename=images/JDGC201903009_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 极坐标展开图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_078.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="79" name="79">3.5 指针读数判别</h4>
                <div class="p1">
                    <p id="80">文献<citation id="109" type="reference">[<a class="sup">10</a>]</citation>通过指针的区域中心和刻度区域中心的行坐标关系计算指针的刻度, 但在生产现场光照复杂的情况下, 完整地提取刻度尤为困难。本文依据子表盘展开的矩形大小是固定的, 经过之前模板匹配和旋转校正之后的图像, 保证矩形的左端是0刻度, 因此只需求出指针的行坐标<i>Column</i>i, 以及矩形左端的行坐标<i>Column</i> L, 指针读数S<sub>i</sub>的计算公式如下:</p>
                </div>
                <div class="p1">
                    <p id="81" class="code-formula">
                        <mathml id="81"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>S</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mtext>C</mtext><mtext>o</mtext><mtext>l</mtext><mtext>u</mtext><mtext>m</mtext><mtext>n</mtext><mi>i</mi><mo>-</mo><mtext>C</mtext><mtext>o</mtext><mtext>l</mtext><mtext>u</mtext><mtext>m</mtext><mtext>n</mtext><mi>L</mi></mrow><mi>L</mi></mfrac><mo>*</mo><mn>1</mn><mn>0</mn></mtd></mtr><mtr><mtd><mi>i</mi><mo>=</mo><mn>1</mn><mo>, </mo><mn>2</mn><mo>, </mo><mn>3</mn><mo>, </mo><mn>4</mn><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>7</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="82">式中:L—矩形的长度, 取420像素</p>
                </div>
                <div class="p1">
                    <p id="83">由于机械误差, 水表指针可能存在百位、十位、个位指针在0刻度左侧或者右侧的情况。采用末位读法, 以末尾读数为准, 对上一位的读数进行修正, 即:</p>
                </div>
                <div class="p1">
                    <p id="84" class="code-formula">
                        <mathml id="84"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mover accent="true"><mi>S</mi><mo>^</mo></mover><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mi>S</mi><msub><mrow></mrow><mi>i</mi></msub><mo>-</mo><mrow><mo>[</mo><mrow><mo stretchy="false"> (</mo><mi>S</mi><msub><mrow></mrow><mi>i</mi></msub><mo>-</mo><mtext>f</mtext><mtext>l</mtext><mtext>o</mtext><mtext>o</mtext><mtext>r</mtext><mo stretchy="false"> (</mo><mi>S</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">) </mo><mo stretchy="false">) </mo><mo>-</mo><mfrac><mrow><mi>S</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow><mrow><mn>1</mn><mn>0</mn></mrow></mfrac></mrow><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mi>i</mi><mo>=</mo><mn>1</mn><mo>, </mo><mn>2</mn><mo>, </mo><mn>3</mn><mo>, </mo><mn>4</mn><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>8</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="85">式中:<mathml id="86"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>S</mi><mo>^</mo></mover></math></mathml><sub>i</sub>—修正后指针读数;S<sub>i</sub>—修正前指针读数, <i>L</i>。</p>
                </div>
                <div class="p1">
                    <p id="87">i=4时代表百位指针, 以此类推。</p>
                </div>
                <div class="p1">
                    <p id="88">水表指针在个位和十位分别存在滞后和超前, 修正前后读数的对比如图6所示.</p>
                </div>
                <div class="area_img" id="89">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_089.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 读数修正图" src="Detail/GetImg?filename=images/JDGC201903009_089.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 读数修正图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_089.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="90" name="90">3.6 二维码识别</h4>
                <div class="p1">
                    <p id="91">每个水表表盘都有独立的二维码编号, 原始检定台需要人工使用扫码枪扫码。本文将二维码识别功能集成到视觉检测系统中, 直接获取水表编号。先使用算子create_data_code_2d_model () 创建一个二维码阅读器的模型, 接着调用算子find_data_code_2d () 检测和读取二维码中的图像, 返回译码数据串。</p>
                </div>
                <h3 id="92" name="92" class="anchor-tag">4 实验结果与分析</h3>
                <div class="p1">
                    <p id="93">在VS2010平台上, 利用MFC开发检测系统主界面, 如图7所示。</p>
                </div>
                <div class="area_img" id="94">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JDGC201903009_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 系统主界面" src="Detail/GetImg?filename=images/JDGC201903009_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 系统主界面  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JDGC201903009_094.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="95">该界面主要由参数设置、复位、生成报表、自动运行等部分组成。界面简洁直观, 在检测过程中数据实时显示, 包括水表读数、水表编号、误差值、标准水量、检测结果、检测数、合格率等数据, 在检定完成后, 还具有一键生成报表的功能。</p>
                </div>
                <div class="p1">
                    <p id="96">为了检验该检测方法的有效性, 笔者在生产现场共采集300幅水表检定时的图像作为测试样本, 将本方法的读数与现有的人工检定方法的读数进行比较, 数据如表1所示。</p>
                </div>
                <div class="area_img" id="97">
                    <p class="img_tit"><b>表1 两种方法的读数对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note">L</p>
                    <table id="97" border="1"><tr><td><br />水表编号</td><td>人工读数</td><td>本方法</td><td>误差</td></tr><tr><td><br />1</td><td>15.89</td><td>15.87</td><td>0.02</td></tr><tr><td><br />2</td><td>250.83</td><td>250.82</td><td>0.01</td></tr><tr><td><br />3</td><td>	256.10</td><td>256.09</td><td>0.01</td></tr><tr><td><br />4</td><td>159.30</td><td>159.31</td><td>-0.1</td></tr><tr><td><br />5</td><td>325.87</td><td>325.87</td><td>0</td></tr><tr><td><br />296</td><td>17.04</td><td>17.03</td><td>0.01</td></tr><tr><td><br />297</td><td>285.75</td><td>285.75</td><td>0</td></tr><tr><td><br />298</td><td>35.54</td><td>35.56</td><td>-0.02</td></tr><tr><td><br />299</td><td>393.42</td><td>393.44</td><td>-0.02</td></tr><tr><td><br />300</td><td>320.29</td><td>320.33</td><td>-0.04<br /></td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="98">实验结果表明:本方法与人工检定方法的读数误差在0.05 L以内, 按照检定标准用水量100 L计算, 极差值在0.1%以下, 满足二级精度检定要求。同时, 经过测算, 熟练工人读表并记录水表读数2 s, 完成检定前后水表误差计算, 单个水表至少需要5 s, 5个工位共需耗时25 s。采用该方法改造后时间缩短至12 s, 提高了检定效率。另外, 该系统可以将各个水表的检定数据保存至本地, 检定数据可溯源。</p>
                </div>
                <h3 id="99" name="99" class="anchor-tag">5 结束语</h3>
                <div class="p1">
                    <p id="100">本文利用机器视觉技术对现有的水表检定装置进行了自动化改造, 相比原有的人工检定方法, 在保证检定精度的同时极大减少了检定时间, 实现了水表自动化检定, 同时, 还具有保存检定数据、一键打印报表的功能。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1018004433.nh&amp;v=MjgxMjBGckNVUjdxZlp1Wm5GaURnVUx6QlZGMjZGck80R3RYUHJKRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 骆兆松.基于高速摄像的全自动水表检定装置及管理信息系统的设计与实现[D].山东:山东大学软件学院, 2017.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JLXB201704020&amp;v=MDU4NjRSN3FmWnVabkZpRGdVTHpCTHlIVGJMRzRIOWJNcTQ5SFpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 陈硕, 刘丰, 唐旭晟, 骆腾斌.基于机器视觉技术的水表在线检定系统研究[J].计量学报, 2017, 38 (4) :473-476.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016785596.nh&amp;v=MTgxNzZVTHpCVkYyNkdMU3dHOVRGcVpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZpRGc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 吕露.基于自动识别技术的水表检定系统研究[D].北京:北京工业大学电子信息与控制工程学院, 2016.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BJSY201501012&amp;v=MjYzODhadVpuRmlEZ1VMekJKeWZZZDdHNEg5VE1ybzlFWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 李静, 张宁, 张岩, 等.Hough变换的改进及其在指针式水表识别过程中的应用[J].北京石油化工学院学报, 2015, 23 (1) :58-64.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1015725328.nh&amp;v=MDc5ODhHOUxPcDVFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZpRGdVTHpCVkYyNkc3UzY=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 李静.基于图像处理的指针式水表检定系统的研究与设计[D].北京:北京化工大学石油化工学院, 2015.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Computer vision application in automatic meter calibration">

                                <b>[6]</b> PANG L S L, W. CHAN W L.Computer vision application in automatic meter calibration[J]. Conference Record-ias Meeting, 2005 (3) : 1731-1735.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An image-based intelligent system for pointer instrument reading">

                                <b>[7]</b> YANG Zhi-juan, NIU Wen-han, PENG Xiao-jiang, et al. An image-based intelligent system for pointer instrument reading[C]. 2014 4th IEEE International Conference on Information Science and Technology, Shenzhen: IEEE, 2014.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JLXB201501012&amp;v=MjkwMzVnVUx6Qkx5SFRiTEc0SDlUTXJvOUVab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GaUQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 汤思孟, 赵杰煜, 陆晓峰.基于机器视觉技术的水表新型检定方法[J].计量学报, 2015, 36 (1) :54-57.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JDGC201802008&amp;v=MzI3NDl1Wm5GaURnVUx6Qkx5bk1iYkc0SDluTXJZOUZiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 骆腾斌, 陈硕, 赵紫阳, 等.基于机器视觉算法的轴承套端面缺陷检测研究[J].机电工程, 2018, 35 (2) :148-152.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201617005&amp;v=MDk3NjU3cWZadVpuRmlEZ1VMekJQU25QWkxHNEg5Zk5xSTlGWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 尹红敏, 葛广英, 肖海俊, 等.基于Halcon的指针式仪表的读数[J].现代电子技术, 2016, 39 (17) :16-19.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JDGC201903009" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JDGC201903009&amp;v=MjYyMDBGckNVUjdxZlp1Wm5GaURnVUx6T0x5bk1iYkc0SDlqTXJJOUZiWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V1I1M3JjbjUxV3Mxa3FjaFBuRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=842_VlRz_g1CMCLi-M0twVw-4EOFG_noWyi_OsMnrAg1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
