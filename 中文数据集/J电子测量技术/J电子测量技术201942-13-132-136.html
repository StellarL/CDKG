

<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>

</head>

<body>

    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135678245412500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dDZCL201913024%26RESULT%3d1%26SIGN%3dKVhQ5yt9zWoRWIzAVWR46hM2%252fR0%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=DZCL201913024&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=DZCL201913024&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>


    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201913024&amp;v=MTA4NTg3T0lUZklZckc0SDlqTnJJOUhZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#33" data-title="&lt;b&gt;0 引  言&lt;/b&gt; "><b>0 引  言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#38" data-title="&lt;b&gt;1 升级方案设计&lt;/b&gt; "><b>1 升级方案设计</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#54" data-title="&lt;b&gt;2 升级方法研究&lt;/b&gt; "><b>2 升级方法研究</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#55" data-title="&lt;b&gt;2.1 Ymodem串口升级方案&lt;/b&gt;"><b>2.1 Ymodem串口升级方案</b></a></li>
                                                <li><a href="#66" data-title="&lt;b&gt;2.2 FTP远程升级方案&lt;/b&gt;"><b>2.2 FTP远程升级方案</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#77" data-title="&lt;b&gt;3 升级结果分析&lt;/b&gt; "><b>3 升级结果分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#78" data-title="&lt;b&gt;3.1 升级耗时分析&lt;/b&gt;"><b>3.1 升级耗时分析</b></a></li>
                                                <li><a href="#92" data-title="&lt;b&gt;3.2 升级故障处理分析&lt;/b&gt;"><b>3.2 升级故障处理分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#98" data-title="&lt;b&gt;4 结  论&lt;/b&gt; "><b>4 结  论</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#43" data-title="图1 固件升级硬件">图1 固件升级硬件</a></li>
                                                <li><a href="#45" data-title="图2 固件升级内部Flash分区">图2 固件升级内部Flash分区</a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;表1 Ymodem协议数据帧结构&lt;/b&gt;"><b>表1 Ymodem协议数据帧结构</b></a></li>
                                                <li><a href="#64" data-title="图3 固件串口升级流程">图3 固件串口升级流程</a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;表2 FTP协议数据帧结构&lt;/b&gt;"><b>表2 FTP协议数据帧结构</b></a></li>
                                                <li><a href="#74" data-title="图4 固件远程升级流程">图4 固件远程升级流程</a></li>
                                                <li><a href="#82" data-title="&lt;b&gt;表3 升级耗时对比&lt;/b&gt;"><b>表3 升级耗时对比</b></a></li>
                                                <li><a href="#85" data-title="&lt;b&gt;表4 串口升级执行过程耗时&lt;/b&gt;"><b>表4 串口升级执行过程耗时</b></a></li>
                                                <li><a href="#91" data-title="&lt;b&gt;表5 远程升级执行过程耗时&lt;/b&gt;"><b>表5 远程升级执行过程耗时</b></a></li>
                                                <li><a href="#97" data-title="&lt;b&gt;表6 升级故障分析与处理&lt;/b&gt;"><b>表6 升级故障分析与处理</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 李彩霞, 潘峰.数据传输中的XMODEM YMODEM[J].武警工程学院学报, 1998, 14 (2) :36-40." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WJGX199802016&amp;v=MTEwNzdCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qk1pZk1kckt4RjluTXJZOUVZb1FLREg4NHZSNFQ2ajU0TzN6cXE=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         李彩霞, 潘峰.数据传输中的XMODEM YMODEM[J].武警工程学院学报, 1998, 14 (2) :36-40.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 吴兆芝.ARM平台多进程微内核嵌入式操作系统Ymodem下载功能设计与实现[J].南京晓庄学院学报, 2013 (3) :79-83, 89." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SFZK201303021&amp;v=MzE2MzJySTlIWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JOaXZSWmJHNEg5TE0=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         吴兆芝.ARM平台多进程微内核嵌入式操作系统Ymodem下载功能设计与实现[J].南京晓庄学院学报, 2013 (3) :79-83, 89.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 吴小艨, 李正宇, 周进松.通过RS232串口实现DSP并行FLASH程序升级[J].通信技术, 2012, 45 (1) :141-143." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXJS201201048&amp;v=MDEyMjVSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qk1UWEJmYkc0SDlQTXJvOUJiSVFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         吴小艨, 李正宇, 周进松.通过RS232串口实现DSP并行FLASH程序升级[J].通信技术, 2012, 45 (1) :141-143.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 汪晶晶, 苏建徽, 孙佩石.基于串口通信的DSP应用程序在线升级方法[J].微型机与应用, 2013, 32 (14) :15-17, 24." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXJY201314008&amp;v=MjUyODM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCTWpYQmQ3RzRIOUxOcTQ5RmJJUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         汪晶晶, 苏建徽, 孙佩石.基于串口通信的DSP应用程序在线升级方法[J].微型机与应用, 2013, 32 (14) :15-17, 24.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 马跃.STM32F103系列微控制器在应用编程技术研究[J].单片机与嵌入式系统应用, 2013, 13 (8) :35-37, 40." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DPJY201308015&amp;v=MjU2MjNCZDdHNEg5TE1wNDlFWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JJVDM=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         马跃.STM32F103系列微控制器在应用编程技术研究[J].单片机与嵌入式系统应用, 2013, 13 (8) :35-37, 40.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 卫延, 敖振浪, 周钦强.基于STM32的在应用编程 (IAP) 开发[J].电子测量技术, 2015, 38 (5) :62-66." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201505016&amp;v=MTM3NjI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3QklUZklZckc0SDlUTXFvOUVZb1FLREg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         卫延, 敖振浪, 周钦强.基于STM32的在应用编程 (IAP) 开发[J].电子测量技术, 2015, 38 (5) :62-66.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 王亚刚.嵌入式Bootloader机制的分析与移植[J].计算机工程, 2010, 36 (6) :267-269." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201006093&amp;v=MDI0MzA1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JMejdCYmJHNEg5SE1xWTlNWjRRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         王亚刚.嵌入式Bootloader机制的分析与移植[J].计算机工程, 2010, 36 (6) :267-269.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 黄世权.FTP协议分析和安全研究[J].微计算机信息, 2008, 24 (6) :93-94." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WJSJ200806039&amp;v=MDU4OTQ5R2JZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCTWlmWVpMRzRIdG5NcVk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         黄世权.FTP协议分析和安全研究[J].微计算机信息, 2008, 24 (6) :93-94.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 王占军, 王伟, 赵志刚.基于FTP协议的文件传输组件设计与实现[J].沈阳师范大学学报 (自然科学版) , 2012, 30 (3) :375-377." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SYSX201203014&amp;v=Mjc0OThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JOalRZZHJHNEg5UE1ySTlFWUk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         王占军, 王伟, 赵志刚.基于FTP协议的文件传输组件设计与实现[J].沈阳师范大学学报 (自然科学版) , 2012, 30 (3) :375-377.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 欧勇, 吴言荪, 刘殿素.FTP数据传输在远程无线抄表及监控系统的设计与实现[J].电子测量技术, 2007, 30 (8) :181-186." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL200708054&amp;v=MjkxMTQ5QVlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCSVRmSVlyRzRIdGJNcDQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         欧勇, 吴言荪, 刘殿素.FTP数据传输在远程无线抄表及监控系统的设计与实现[J].电子测量技术, 2007, 30 (8) :181-186.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" 顾煜炯, 林庆乙, 贺徙.基于UDP与FTP协议的远程振动监测与故障诊断系统网络通信方法[J].仪器仪表学报, 2006, 27 (Z1) , 413-415." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB2006S1159&amp;v=MDk0NzVsVmI3QlBEelRiTEc0SHRldnJvNUFiWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                         顾煜炯, 林庆乙, 贺徙.基于UDP与FTP协议的远程振动监测与故障诊断系统网络通信方法[J].仪器仪表学报, 2006, 27 (Z1) , 413-415.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" 陈金阳, 蒋建中, 张良胜.FTP协议分析及其客户端程序实现[J].计算机工程与应用, 2005, 41 (32) :130-132." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG200532041&amp;v=MDE2MzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qkx6N01hYkc0SHRUUHJZOUJaWVE=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         陈金阳, 蒋建中, 张良胜.FTP协议分析及其客户端程序实现[J].计算机工程与应用, 2005, 41 (32) :130-132.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_13" title=" 吴静, 叶桦, 孙晓洁.车载终端远程升级系统的设计与实现[J].工业控制计算机, 2014, 27 (1) :99-101." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GYKJ201401043&amp;v=MTgwOTJPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCSWpUQVpMRzRIOVhNcm85Qlo0UUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                         吴静, 叶桦, 孙晓洁.车载终端远程升级系统的设计与实现[J].工业控制计算机, 2014, 27 (1) :99-101.
                                    </a>
                                </li>
                                <li id="29">


                                    <a id="bibliography_14" title=" 孙韩林, 金跃辉, 高雪松, 等.FTP协议的测试及分析[J].计算机工程, 2008, 34 (23) :133-135." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC200823050&amp;v=MDU2MjdmWnVadEZ5cmxWYjdCTHo3QmJiRzRIdG5Pckk5QVpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                         孙韩林, 金跃辉, 高雪松, 等.FTP协议的测试及分析[J].计算机工程, 2008, 34 (23) :133-135.
                                    </a>
                                </li>
                                <li id="31">


                                    <a id="bibliography_15" title=" 金波.基于ARM和GPRS的嵌入式无线通信方案实现[J].大众科技, 2010 (5) :27-28, 45." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJI201005011&amp;v=MzI2MTMzenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JJVGZCWjdHNEg5SE1xbzlFWllRS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         金波.基于ARM和GPRS的嵌入式无线通信方案实现[J].大众科技, 2010 (5) :27-28, 45.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=DZCL" target="_blank">电子测量技术</a>
                2019,42(13),132-136 DOI:10.19651/j.cnki.emt.1902640            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于串口Ymodem和远程FTP固件升级方法研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E8%8B%91&amp;code=40992098&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李苑</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%91%E4%B8%80%E9%BA%9F&amp;code=38984677&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郑一麟</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%94%B0%E9%9B%A8&amp;code=32229251&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">田雨</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%BB%BA%E5%A5%87&amp;code=10904676&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张建奇</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%A5%BF%E5%AE%89%E8%88%AA%E5%A4%A9%E8%87%AA%E5%8A%A8%E5%8C%96%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&amp;code=0235526&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">西安航天自动化股份有限公司</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E9%99%95%E8%A5%BF%E7%9C%81%E7%89%A9%E8%81%94%E7%BD%91%E4%B8%8E%E6%99%BA%E8%83%BD%E6%8E%A7%E5%88%B6%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E4%B8%AD%E5%BF%83&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">陕西省物联网与智能控制工程技术研究中心</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对嵌入式设备的固件更新困难, 提出了基于STM32设备的串口纠错协议 (Ymodem) 和远程文件传输协议 (FTP) 的升级方法。首先, 设计引导程序实现内存Flash区域划分、固件升级命令响应、升级数据处理。然后, 利用单帧CRC校验、文件代码和校验机制, 保证串口、远程模式升级的可靠性。在外部环境导致升级失败时, 程序可恢复原运行状态, 具备一定容错能力。最后, 通过实验分析不同模式的应用场合、耗时、故障处理, 证明该方法可快速、稳定地升级。为嵌入式设备升级, 如远程数据采集检测终端、物联网节点等固件升级, 提供了一种稳定、可靠的固件升级方法。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">固件升级;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%B8%B2%E5%8F%A3Ymodem&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">串口Ymodem;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%BF%9C%E7%A8%8BFTP&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">远程FTP;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8D%87%E7%BA%A7%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E4%B8%8E%E5%AF%B9%E6%AF%94&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">升级性能分析与对比;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    李苑, 硕士, 工程师, 主要研究方向为物联网底层设备、嵌入式设备软件开发、机器学习算法等。E-mail:1197603340@qq.com;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-01</p>

            </div>
                    <h1><b>Research on Ymodem serial and FTP terminal method for firmware upgrade for STM32 embedded device</b></h1>
                    <h2>
                    <span>Li Yuan</span>
                    <span>Zheng Yilin</span>
                    <span>Tian Yu</span>
                    <span>Zhang Jianqi</span>
            </h2>
                    <h2>
                    <span>X.i′an Aerospace Automation Corporation</span>
                    <span>Shaanxi Engineering Research Center of Internet of Things and Intelligent Control</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>For the firmware update problem on embedded device, the refresh methods based on Ymodem serial and the remote File Transfer Protocol are proposed. Firstly, the efficient boot loader can process the update requests and firmware data, using the partition mechanism for internal flash zone. Secondly, when firmware updates through serial, the CRC checker for each frame can provide great reliability. File sum checksum ensures the stability for remote update. Lastly, the quality of firmware upgrade (i.e., application scenarios, time assumption, update efficiency) is analyzed. Quantitative experiments prove that the update method has rapid speed and high reliability. The scheme with high-performance provides a stable and efficient protocol for embedded device′s firmware upgrade.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=firmware%20update&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">firmware update;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Ymodem%20serial&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Ymodem serial;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=remote%20file%20transfer%20protocol&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">remote file transfer protocol;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=performance%20comparison&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">performance comparison;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-01</p>
                            </div>


        <!--brief start-->
                        <h3 id="33" name="33" class="anchor-tag"><b>0 引  言</b></h3>
                <div class="p1">
                    <p id="34">随着物联网、智慧农业、智慧水务的发展, 对嵌入式终端设备的维护、固件提出新的要求, 例如, 水利、农业行业应用的远程无线数据采集终端设备大多安装位置偏远、拆卸困难, 使得终端设备软件升级困难, 因此, 亟需一种便捷的升级方案。而现有设备更新大多需要人员现场升级且操作复杂, 并且现有的远程网络升级方法的通用性不强。</p>
                </div>
                <div class="p1">
                    <p id="35">因此, 本文提出了兼容串口纠错协议 (Ymodem) <citation id="102" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>和远程文件传输协议 (FTP) 的固件升级方法, 保证升级的可靠性、稳定性, 通用性强, 且在网络信号差的条件下, 可使用串口模式便捷、可靠、安全地实现固件升级。远程升级模式, 只要求系统具备网络模块、网络状态良好, 即可通过建立FTP连接采用此方法进行快速升级。</p>
                </div>
                <div class="p1">
                    <p id="36">Ymodem串口升级可满足在设备现场通过RS232串口对设备进行固件刷新;对于不便在现场升级的环境, 提出了基于FTP协议的远程升级方法, 支持4G、3G、GPRS网络模式, 可方便地对嵌入式设备进行固件刷新<citation id="103" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="37">根据串口和远程2种方式的升级方法, 本文设计了通用工作区切换、升级启动命令、升级结束响应, 并设定一定的故障处理机制, 配合使用上位机固件更新软件实现升级固件选取、升级启动, 可实时地对设备升级状态进行显示。从而, 用户可根据实际需求, 通过发布设备固件的新版本, 方便地对嵌入式设备进行固件升级。</p>
                </div>
                <h3 id="38" name="38" class="anchor-tag"><b>1 升级方案设计</b></h3>
                <div class="p1">
                    <p id="39">本文提出了串口升级、远程升级2种嵌入式设备固件更新方式, 升级方法具有升级效果稳定、升级速度快的特点, 设计关键在于:1) 将升级命令集成于交互信息中, 启动命令后, 程序重启进入引导程度 (BootLoader) 阶段, 在引导程序中实现对固件的接收和刷新;</p>
                </div>
                <div class="p1">
                    <p id="40">2) 将2种方法集成于一个系统, 可根据实际情况选定升级模式, 无论串口、远程都具有良好地通用性、适用范围广。</p>
                </div>
                <div class="p1">
                    <p id="41">该方法具备错误处理机制, 可一定程度上应对升级过程中发生的错误。在升级区域对固件备份存储, 可方便后期查看固件状态。另外, 在实际应用中, 对升级方法调整, 在保证稳定性、可靠性的同时, 简化设计思路, 对大多数嵌入式设备的固件更新, 可参考本方法方便地实现升级。</p>
                </div>
                <div class="p1">
                    <p id="42">该升级方法在远程、本地2种方式下进行, 通过上位机下发串口或远程升级启动命令, 在串口模式, 通过RS323串口连接上位机与设备<citation id="104" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, 设定波特率进行通讯, 实现命令交互和固件数据传输;在远程模式, 启动后, 设备上的网络模块通过发送FTP请求, 连接FTP服务器, 进行固件的FTP远程下载。根据不同升级方式, 设计了相应的故障处理机制, 可良好应对外界异常状况, 即使在升级失败后设备仍能恢复上一状态。软件开发平台为ARM STM32F407的设备, 硬件具备RS232通讯串口、4G网络模块 (含SIM7600通讯模块) 。固件升级硬件状态如图1所示。</p>
                </div>
                <div class="area_img" id="43">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DZCL201913024_043.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 固件升级硬件" src="Detail/GetImg?filename=images/DZCL201913024_043.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 固件升级硬件  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DZCL201913024_043.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="44">将STM32芯片对应的内部Flash分为引导区、用户区、固件更新区, 具体分配如图2所示。</p>
                </div>
                <div class="area_img" id="45">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DZCL201913024_045.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 固件升级内部Flash分区" src="Detail/GetImg?filename=images/DZCL201913024_045.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 固件升级内部Flash分区  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DZCL201913024_045.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="46">固件升级流程如下:</p>
                </div>
                <div class="p1">
                    <p id="47">1) 根据需要选定升级方式, 运行程序收到工作区切换命令后, 重启进入BootLoader;</p>
                </div>
                <div class="p1">
                    <p id="48">2) 在引导程序中检测串口、远程模式的命令;</p>
                </div>
                <div class="p1">
                    <p id="49">3) 响应工作区切换成功, 上位机下发升级启动命令, 设备响应升级启动成功, 进行数据接收, 数据存储在固件更新区<citation id="105" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>;若为串口模式, 每帧数据带CRC校验;若为远程模式, FTP接收完成后将数据内容进行累加和校验;</p>
                </div>
                <div class="p1">
                    <p id="50">4) 数据接收完成, 固件内容校验成功后, 将更新固件程序从固件更新区拷贝至用户区;</p>
                </div>
                <div class="p1">
                    <p id="51">5) 程序跳转至最新的固件, 固件升级成功。</p>
                </div>
                <div class="p1">
                    <p id="52">程序升级具备良好的容错机制, 当前运行程序接收到升级指令后, 完成向引导程序BootLoader的跳转, 在BootLoader中实现对固件的接收和写入内部Flash中的更新区<citation id="106" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>, 当接收完成后计算代码和。若接收文件的代码和理论代码和一致, 则将用户区程序擦除, 将固件区程序拷贝至运行区, 继而实现程序的跳转切换, 运行更新的程序。若升级过程中, 出现异常, 导致升级失败, 程序仍会跳转至原用户区, 不影响正常工作<citation id="107" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="53">另外, 若升级了错误的固件, 可在设备上电5 s之内发送升级指令, 通过串口模式完成升级。该故障处理机制可保证在人为选错固件升级文件时, 仍能通过串口升级方式进行固件的本地升级。</p>
                </div>
                <h3 id="54" name="54" class="anchor-tag"><b>2 升级方法研究</b></h3>
                <h4 class="anchor-tag" id="55" name="55"><b>2.1 Ymodem串口升级方案</b></h4>
                <div class="p1">
                    <p id="56">Ymodem协议由XModem协议演变而来, 是一种发送并等待的协议, 即发送方发送一个数据包, 都要等待接收方的确认。Ymodem协议规定, 每个传输帧由帧头、数据段、帧尾组成。每帧有CRC校验码, 以保证数据传输的质量。</p>
                </div>
                <h4 class="anchor-tag" id="57" name="57">1) Ymodem协议工作原理</h4>
                <div class="p1">
                    <p id="58">Ymodem串口升级传输请求由接收方发起, 首先设备收到升级启动指令后, 会向上位机 (发送方) 发送升级开始“C”字符 (ASCII码) 。然后, 固件传输, 首帧包含文件的名称、大小, 收到正常响应后, 数据帧开始传输, 将数据加上帧头、帧号、帧号的补码、末尾加上CRC校验字段, 打包成帧格式传送, 每帧数据子帧包含1 024 Byte。具体的传输协议如表1所示。其中, 数据帧第1 Byte为数据类型信息, 第2、3 Byte为数据帧序号信息, 最后为2 Byte的CRC校验码。</p>
                </div>
                <h4 class="anchor-tag" id="59" name="59">2) Ymodem升级过程</h4>
                <div class="p1">
                    <p id="60">上位机选定串口升级模式, 设定与设备RS232一致的通讯波特率后, 选定升级文件的路径, 发送工作区切换指令, 设备收到工作区切换后, 重启进入BootLoader<citation id="108" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>, 并响应给上位机切换成功;然后, 上位机发送升级启动, 设备向回复升级启动成功后 (即Ymodem升级启动) , 上位机开始发送升级固件的数据内容, 设备收到数据写入更新区, 每帧数据位1 K。在收到升级数据之后, 设备会对每帧数据进行CRC校验, 校验通过后写入内部Flash更新区。</p>
                </div>
                <div class="area_img" id="61">
                    <p class="img_tit"><b>表1 Ymodem协议数据帧结构</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="61" border="1"><tr><td><br />帧号</td><td>上位机升级命令<br />及数据</td><td>STM32设备<br />正常响应</td></tr><tr><td><br />1</td><td></td><td>C (启动) </td></tr><tr><td><br />2</td><td>SOH 00 FF fielName.bin<br />NULL…CRCH CRCL</td><td>ACK<br />C</td></tr><tr><td><br />3</td><td>STX 01 FE Data[1024]CRCH CRCL</td><td>ACK</td></tr><tr><td><br /></td><td>……</td><td>ACK</td></tr><tr><td><br />N</td><td>SOH xx xx Data[n] 0x1A 0x1A…<br />0x1A[128/124] CRCH CRCL</td><td>ACK</td></tr><tr><td><br />N+1</td><td>EOT</td><td>ACK</td></tr><tr><td><br />N+2</td><td>SOH 00 FF NULL[128] <br />CRCH CRCL</td><td>C<br />ACK</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="63">固件数据写入更新区结束后, 会将运行区程序擦除, 并将更新区的最新版本固件拷贝至运行区, 从而运行状态跳转至更新后的设备固件。串口模式下, 固件升级流程如图3所示。</p>
                </div>
                <div class="area_img" id="64">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DZCL201913024_064.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 固件串口升级流程" src="Detail/GetImg?filename=images/DZCL201913024_064.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 固件串口升级流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DZCL201913024_064.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="65">若在升级过程中出现故障, 上位机会及时提示, 设备设置一定的超时重传机制, 若升级无法正常, 设备会跳转至原来的运行状态, 可对串口升级硬件环境进行检测后, 重新升级。</p>
                </div>
                <h4 class="anchor-tag" id="66" name="66"><b>2.2 FTP远程升级方案</b></h4>
                <div class="p1">
                    <p id="67">基于FTP协议<citation id="109" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>的远程数据传输, 具有速度快、传输距离远、传输通道安全等特点, 在网络模块启用FTP传输模式, 按FTP协议进行固件传输<citation id="110" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>, 可快速方便地实现固件升级。</p>
                </div>
                <div class="p1">
                    <p id="68">通过上位机配置FTP、待升级文件信息, 设备网络模块发送FTP请求, 获取相应的固件<citation id="111" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>。然后按1 K为单位, 将有效数据帧存入设备内部的更新区域, 与理论固件校验和比对一致后, 才将其拷贝至运行程序的区域, 跳转后完成升级。</p>
                </div>
                <h4 class="anchor-tag" id="69" name="69">1) FTP协议工作原理</h4>
                <div class="p1">
                    <p id="70">远程升级启动, 通过上位机与设备建立连接, 然后对FTP信息配置, 主要包含:FTP服务器地址、用户名、密码和固件名称<citation id="112" type="reference"><link href="23" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。设备根据接收的信息, 访问FTP服务器获取升级固件<citation id="113" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>。FTP协议数据帧结构如表2所示。</p>
                </div>
                <div class="area_img" id="71">
                    <p class="img_tit"><b>表2 FTP协议数据帧结构</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="71" border="1"><tr><td><br />数据内容</td><td>正常响应</td></tr><tr><td><br />固件数据, 1 024 Byte/帧</td><td>OK</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="72" name="72">2) FTP升级过程</h4>
                <div class="p1">
                    <p id="73">远程模式下, FTP升级过程如图4所示。</p>
                </div>
                <div class="area_img" id="74">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/DZCL201913024_074.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 固件远程升级流程" src="Detail/GetImg?filename=images/DZCL201913024_074.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 固件远程升级流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/DZCL201913024_074.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="75">为了保证固件升级的安全性、可靠性, 增加固件校验功能, 即将完整的升级固件求解实际的代码和与理论比对 (启动命令中包含待升级固件的理论代码和) , 以保证远程升级的可靠性<citation id="114" type="reference"><link href="27" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="76">若网络信号弱、目标文件错误等问题导致升级过程异常, 升级程序具有超时机制, 以保证错误发生后, 程序仍会跳转至原运行状态, 使得设备具备一定的容错能力。</p>
                </div>
                <h3 id="77" name="77" class="anchor-tag"><b>3 升级结果分析</b></h3>
                <h4 class="anchor-tag" id="78" name="78"><b>3.1 升级耗时分析</b></h4>
                <div class="p1">
                    <p id="79">首先, 从耗时方面对2种方式实现嵌入式设备固件升级进行对比。</p>
                </div>
                <div class="p1">
                    <p id="80">为了研究升级过程的耗时情况, 以固定大小 (94 K) 的文件进行实验, 分别统计串口、远程升级交互过程中的时间消耗分布。远程模式下, 通过串口检测BusHound工具进行实时观察, 通过实测, 可明显看出远程FTP升级在网络稳定的情况下具有足够的优势。</p>
                </div>
                <div class="p1">
                    <p id="81">分别选定串口模式、远程模式下, 对固件进行50次实验, 统计实际升级过程中各环节处理耗时, 对结果分析对比如表3所示。</p>
                </div>
                <div class="area_img" id="82">
                    <p class="img_tit"><b>表3 升级耗时对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="82" border="1"><tr><td><br />序号</td><td>执行过程</td><td>耗时/ms</td><td>备注</td></tr><tr><td>1</td><td>接收上位机工作区切换并响应</td><td>7 000</td><td>切换至BootLoader</td></tr><tr><td><br />2</td><td>远程升级启动并响应</td><td>1 000</td><td>启动FTP升级, 请求文件数据</td></tr><tr><td><br />3</td><td>接收数据, 写入内部Flash, 返回响应帧</td><td>600～640</td><td>升级主要耗时, 以1 K数据处理时间进行统计</td></tr><tr><td><br />4</td><td>结束帧</td><td>100</td><td>返回结束响应帧</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="83" name="83">1) 串口升级耗时分析</h4>
                <div class="p1">
                    <p id="84">串口升级首先需保证设备RS232串口与上位机波特率设定一致。串口升级耗时分析在其他参数设置相同的条件下, 仅更改串口波特率。串口升级具体耗时情况如表4所示。在固件升级过程, 上位机 (发送方) 下发数据的波特率对耗时影响明显。</p>
                </div>
                <div class="area_img" id="85">
                    <p class="img_tit"><b>表4 串口升级执行过程耗时</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="85" border="1"><tr><td rowspan="2"><br />序号</td><td rowspan="2">执行过程</td><td colspan="3"><br />波特率 (bps) /耗时时 (ms) </td><td rowspan="2">备注</td></tr><tr><td><br />9600</td><td>38400</td><td>115200</td></tr><tr><td><br />1</td><td>接收升级指令</td><td>1 300～3 300</td><td>2 500～3 500</td><td>1 300～3 500</td><td>切换至BootLoader</td></tr><tr><td><br />2</td><td>串口动, 首帧数据接收</td><td>2 600～3 000</td><td>2 500～3 000</td><td>2 500～3 200</td><td>启动Ymodem, 首帧文件信息</td></tr><tr><td><br />3</td><td>上位机建立数据包下发</td><td>900～950</td><td>240～250</td><td>80～100</td><td></td></tr><tr><td><br />4</td><td>接收数据, 写入内部Flash, <br />返回响应帧</td><td>750～800<br /> (平均780) </td><td>510～680<br /> (平均650) </td><td>450～600<br /> (平均500) </td><td>升级主要耗时, 以1 K数据处理<br />时间进行统计</td></tr><tr><td><br />5</td><td>结束帧处理</td><td>1 300～2 000</td><td>1 000～2 000</td><td>1 000～2 000</td><td>结束帧数据</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="86" name="86">2) FTP远程升级耗时分析</h4>
                <div class="p1">
                    <p id="87">FTP远程升级过程, 命令交互速度除了在连接建立之初有一定的耗时, 数据传输和响应速度较快, 实际升级与网络状态有较大的关联<citation id="115" type="reference"><link href="29" rel="bibliography" /><sup>[<a class="sup">14</a>]</sup></citation>。但网络模块直接访问服务器进行固件内容获取, 具有较快的速率和较高的可靠性。远程升级具体耗时情况如表5所示。</p>
                </div>
                <div class="p1">
                    <p id="88">通过对数据进行分析, 在串口模式下, 波特率的变化主要对上位机向软件发送数据耗时有明显的影响。其他部分差异较小。一般工程中多采用38 400 bps的波特率进行升级操作。</p>
                </div>
                <div class="p1">
                    <p id="89">远程FTP模式, 在网络正常情况下, 升级交互速度稳定, 中间响应过程耗时较少, 且相比于串口升级有一定的优势。</p>
                </div>
                <div class="p1">
                    <p id="90">从升级速度、性能对实验结果进行分析, 分析表明本升级方法具有普适性, 可作为嵌入式设备固件升级的有效参考方法。</p>
                </div>
                <div class="area_img" id="91">
                    <p class="img_tit"><b>表5 远程升级执行过程耗时</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="91" border="1"><tr><td><br />序号</td><td>执行过程</td><td>耗时/ms</td><td>备注</td></tr><tr><td><br />1</td><td>接收上位机工作区切换并响应</td><td>3 000</td><td>切换至BootLoader</td></tr><tr><td><br />2</td><td>远程升级启动并响应</td><td>1 000</td><td>启动FTP升级, 请求文件数据</td></tr><tr><td><br />3</td><td>接收数据, 写入内部Flash, 返回响应帧</td><td>600～640</td><td>升级主要耗时, 以1 K数据处理时间进行统计</td></tr><tr><td><br />4</td><td>结束帧</td><td>100</td><td>返回结束响应帧</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="92" name="92"><b>3.2 升级故障处理分析</b></h4>
                <div class="p1">
                    <p id="93">升级故障分为过程中硬件网络故障和人为操作故障。</p>
                </div>
                <div class="p1">
                    <p id="94">硬件网络主要涉及:串口升级过程中串口断开、波特率不匹配等;远程升级过程中FTP服务器故障、网络断开。这类故障发生, 程序超时检测故障后, 会跳转至一版本状态, 可重新检查状态后升级。</p>
                </div>
                <div class="p1">
                    <p id="95">人为操作故障常发生在用户选用了错误的固件并且刷新成功, 即用户将错误的固件刷新导致设备死机, 可通过在设备上电的前几秒之内通过串口发送升级命令进行升级。由于设备上电之初, 程序工作在BootLoader启动部分<citation id="116" type="reference"><link href="31" rel="bibliography" /><sup>[<a class="sup">15</a>]</sup></citation>, 可通过检测串口命令来实现对故障的处理, 在此上电的前5 s启动升级, 即可完成固件的刷新。</p>
                </div>
                <div class="p1">
                    <p id="96">对串口、远程过程中可能出现的故障类型进行分析, 并对处理机制进行描述, 如表6所示。</p>
                </div>
                <div class="area_img" id="97">
                    <p class="img_tit"><b>表6 升级故障分析与处理</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="97" border="1"><tr><td><br />序号</td><td>异常描述</td><td>处理机制</td></tr><tr><td><br />1</td><td>串口断开</td><td>超时, 重新升级</td></tr><tr><td><br />2</td><td>FTP服务器访问出错</td><td>超时, 重新升级</td></tr><tr><td><br />3</td><td>网络断开</td><td>超时, 重新升级</td></tr><tr><td><br />4</td><td>人为升级错误固件</td><td>在上电前5 s启动串口升级</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="98" name="98" class="anchor-tag"><b>4 结  论</b></h3>
                <div class="p1">
                    <p id="99">本文研究了嵌入式设备固件升级方法, 提出了基于Ymodem串口和FTP远程升级2种方式, 解决了固件升级困难、方法单一、复杂的缺点。</p>
                </div>
                <div class="p1">
                    <p id="100">首先, 对引导程序BootLoader设计, 实现更新区与程序区隔离, 可良好地保证固件升级的可靠性。其次, 针对升级的可靠性, 提出了相应的校验方法, 基于Ymodem的串口升级对每帧数据进行CRC校验, FTP远程升级对整个固件的代码和校验, 校验一致才进行固件刷新。另外, 升级方法具有良好的故障处理机制, 若升级过程中失败, 程序会跳转至未升级前的版本;若人为选取了错误的固件, 可通过在设备上电后的前5 s, 发送串口升级指令, 以串口方式进行升级, 实验证明方法准确、可靠。最后, 针对100 K的固件程序反复实验并对结果分析, 若串口升级速率与波特率设定有明显的关系, 常用的升级方式一般选取波特率为38 400 bps;FTP远程升级速率稳定, 升级交互主要因网络因素波动, 在网络稳定的条件下, 远程升级在升级速度方面具有优势, 若网络状态差或不稳定可择串口模式升级。</p>
                </div>
                <div class="p1">
                    <p id="101">因此, 该方法可用于具有串口、网络模块的嵌入式设备固件升级, 应用范围广, 升级方法可靠、安全且易于实现。后期, 可将该固件升级方法推广、应用至更多的嵌入式开发平台。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WJGX199802016&amp;v=MjYxMzVxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCTWlmTWRyS3hGOW5Nclk5RVlvUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 李彩霞, 潘峰.数据传输中的XMODEM YMODEM[J].武警工程学院学报, 1998, 14 (2) :36-40.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SFZK201303021&amp;v=MDM2ODM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCTml2UlpiRzRIOUxNckk5SFpZUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 吴兆芝.ARM平台多进程微内核嵌入式操作系统Ymodem下载功能设计与实现[J].南京晓庄学院学报, 2013 (3) :79-83, 89.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXJS201201048&amp;v=Mjg4NzNvOUJiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qk1UWEJmYkc0SDlQTXI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 吴小艨, 李正宇, 周进松.通过RS232串口实现DSP并行FLASH程序升级[J].通信技术, 2012, 45 (1) :141-143.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXJY201314008&amp;v=MDk4MjhadVp0RnlybFZiN0JNalhCZDdHNEg5TE5xNDlGYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 汪晶晶, 苏建徽, 孙佩石.基于串口通信的DSP应用程序在线升级方法[J].微型机与应用, 2013, 32 (14) :15-17, 24.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DPJY201308015&amp;v=MjUzNzZWYjdCSVQzQmQ3RzRIOUxNcDQ5RVlZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmw=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 马跃.STM32F103系列微控制器在应用编程技术研究[J].单片机与嵌入式系统应用, 2013, 13 (8) :35-37, 40.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201505016&amp;v=MzA4NDJmSVlyRzRIOVRNcW85RVlvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCSVQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 卫延, 敖振浪, 周钦强.基于STM32的在应用编程 (IAP) 开发[J].电子测量技术, 2015, 38 (5) :62-66.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201006093&amp;v=MjY5Mjl1WnRGeXJsVmI3Qkx6N0JiYkc0SDlITXFZOU1aNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 王亚刚.嵌入式Bootloader机制的分析与移植[J].计算机工程, 2010, 36 (6) :267-269.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WJSJ200806039&amp;v=MDI2NjdUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JNaWZZWkxHNEh0bk1xWTlHYllRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 黄世权.FTP协议分析和安全研究[J].微计算机信息, 2008, 24 (6) :93-94.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SYSX201203014&amp;v=MzE2MzJySTlFWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JOalRZZHJHNEg5UE0=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 王占军, 王伟, 赵志刚.基于FTP协议的文件传输组件设计与实现[J].沈阳师范大学学报 (自然科学版) , 2012, 30 (3) :375-377.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL200708054&amp;v=MjM3NjhIdGJNcDQ5QVlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5cmxWYjdCSVRmSVlyRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 欧勇, 吴言荪, 刘殿素.FTP数据传输在远程无线抄表及监控系统的设计与实现[J].电子测量技术, 2007, 30 (8) :181-186.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB2006S1159&amp;v=MTY3MTMzenFxQnRHRnJDVVI3cWZadVp0RnlybFZiN0JQRHpUYkxHNEh0ZXZybzVBYllRS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b> 顾煜炯, 林庆乙, 贺徙.基于UDP与FTP协议的远程振动监测与故障诊断系统网络通信方法[J].仪器仪表学报, 2006, 27 (Z1) , 413-415.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG200532041&amp;v=MTgzNzNZOUJaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qkx6N01hYkc0SHRUUHI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 陈金阳, 蒋建中, 张良胜.FTP协议分析及其客户端程序实现[J].计算机工程与应用, 2005, 41 (32) :130-132.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GYKJ201401043&amp;v=Mjk0MDFqVEFaTEc0SDlYTXJvOUJaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI3Qkk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b> 吴静, 叶桦, 孙晓洁.车载终端远程升级系统的设计与实现[J].工业控制计算机, 2014, 27 (1) :99-101.
                            </a>
                        </p>
                        <p id="29">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC200823050&amp;v=MjY2ODBGckNVUjdxZlp1WnRGeXJsVmI3Qkx6N0JiYkc0SHRuT3JJOUFaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b> 孙韩林, 金跃辉, 高雪松, 等.FTP协议的测试及分析[J].计算机工程, 2008, 34 (23) :133-135.
                            </a>
                        </p>
                        <p id="31">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJI201005011&amp;v=MTk4OTdCdEdGckNVUjdxZlp1WnRGeXJsVmI3QklUZkJaN0c0SDlITXFvOUVaWVFLREg4NHZSNFQ2ajU0TzN6cXE=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 金波.基于ARM和GPRS的嵌入式无线通信方案实现[J].大众科技, 2010 (5) :27-28, 45.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="DZCL201913024" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZCL201913024&amp;v=MTA4NTg3T0lUZklZckc0SDlqTnJJOUhZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXJsVmI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09pSnNveUxRekd3QkxsbWVobFYrZnFaTmhSdz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>


    <link href="/kxreader/Content/css/LeftDetail?v=NLcKG8I1SJUaVFrQ0iGpF2klAT0OsmHRaVSZ1rKb5xg1" rel="stylesheet"/>

</body>
</html>

