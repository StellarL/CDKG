

<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>

</head>

<body>

    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637130385480275000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dGUAN201910059%26RESULT%3d1%26SIGN%3dXcPYMHSsiCm0afsiC8zzUjj4TV4%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=GUAN201910059&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=GUAN201910059&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>


    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GUAN201910059&amp;v=MjczNzBqTnI0OUFiWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeW5sVjdyT0lqaktZTEc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#23" data-title="引 言 ">引 言</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#32" data-title="1 方 法 ">1 方 法</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#33" data-title="&lt;b&gt;1.1 线指数&lt;/b&gt;"><b>1.1 线指数</b></a></li>
                                                <li><a href="#38" data-title="&lt;b&gt;1.2 XGBoost算法&lt;/b&gt;"><b>1.2 XGBoost算法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#53" data-title="2 数据处理实验 ">2 数据处理实验</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#54" data-title="&lt;b&gt;2.1 数据准备&lt;/b&gt;"><b>2.1 数据准备</b></a></li>
                                                <li><a href="#58" data-title="&lt;b&gt;2.2 实验步骤&lt;/b&gt;"><b>2.2 实验步骤</b></a></li>
                                                <li><a href="#62" data-title="&lt;b&gt;2.3 结果与分析&lt;/b&gt;"><b>2.3 结果与分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#68" data-title="3 结 论 ">3 结 论</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#37" data-title="&lt;b&gt;表1 采用的线指数定义&lt;/b&gt;"><b>表1 采用的线指数定义</b></a></li>
                                                <li><a href="#57" data-title="&lt;b&gt;表2 各类恒星光谱数量&lt;/b&gt;"><b>表2 各类恒星光谱数量</b></a></li>
                                                <li><a href="#64" data-title="&lt;b&gt;表3 基于XGBoost分类误差矩阵&lt;/b&gt;"><b>表3 基于XGBoost分类误差矩阵</b></a></li>
                                                <li><a href="#66" data-title="&lt;b&gt;图1 XGBoost对特征的打分&lt;/b&gt;"><b>图1 XGBoost对特征的打分</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;图2 XGBoost所得到的线指数分布图&lt;/b&gt;"><b>图2 XGBoost所得到的线指数分布图</b></a></li>
                                                <li><a href="#73" data-title="&lt;b&gt;图3 A型星分类决策树&lt;/b&gt;"><b>图3 A型星分类决策树</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="5">


                                    <a id="bibliography_1" title=" Luo Ali,Zhao Yongheng,et al.Research in Astronomy and Astrophysics,2015,15(8):1095." target="_blank"
                                       href="">
                                        <b>[1]</b>
                                         Luo Ali,Zhao Yongheng,et al.Research in Astronomy and Astrophysics,2015,15(8):1095.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_2" title=" Schierscher F,Paunzen E.Astronomische Nachrichten,2011,332(6):597." target="_blank"
                                       href="">
                                        <b>[2]</b>
                                         Schierscher F,Paunzen E.Astronomische Nachrichten,2011,332(6):597.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_3" title=" Hampton E J,Medling A M,Groves B,et al.Monthly Notices of the Royal Astronomical Society,2017,470:3395." target="_blank"
                                       href="">
                                        <b>[3]</b>
                                         Hampton E J,Medling A M,Groves B,et al.Monthly Notices of the Royal Astronomical Society,2017,470:3395.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_4" title=" Liu Chao,Cui Wenyuan,et al.Research in Astronomy and Astrophysics,2015,15(8):1137." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Research in Astron">
                                        <b>[4]</b>
                                         Liu Chao,Cui Wenyuan,et al.Research in Astronomy and Astrophysics,2015,15(8):1137.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_5" title=" Du Changde,Luo A,Yang H.New Astronomy,2017,51:51." target="_blank"
                                       href="">
                                        <b>[5]</b>
                                         Du Changde,Luo A,Yang H.New Astronomy,2017,51:51.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_6" title=" Worthey G,Faber S M,Gonzalez J Jesus,et al.The Astrophysical Journal Supplement Series,94(2):687." target="_blank"
                                       href="">
                                        <b>[6]</b>
                                         Worthey G,Faber S M,Gonzalez J Jesus,et al.The Astrophysical Journal Supplement Series,94(2):687.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_7" title=" WANG Guang-pei,PAN Jing-chang,YI Zhen-ping,et al(王光沛,潘景昌,衣振萍,等).Spectroscopy and Spectral Analysis(光谱学与光谱分析),2016,36(8):2646." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GUAN201608059&amp;v=MDE3MzFvRnlubFY3ck9JampLWUxHNEg5Zk1wNDlBYllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVI=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         WANG Guang-pei,PAN Jing-chang,YI Zhen-ping,et al(王光沛,潘景昌,衣振萍,等).Spectroscopy and Spectral Analysis(光谱学与光谱分析),2016,36(8):2646.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_8" title=" Chen T,Guestrin C.XGBoost:A Scalable Tree Boosting System.ACM SIGKDD International Conference on Knowledge Discovery and Data Mining.ACM,2016.785." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=XGBoost:A Scalable Tree Boosting System">
                                        <b>[8]</b>
                                         Chen T,Guestrin C.XGBoost:A Scalable Tree Boosting System.ACM SIGKDD International Conference on Knowledge Discovery and Data Mining.ACM,2016.785.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_9" title=" Gray R O,Corbally C J.Stellar Spectral Classification.Princeton University Press,2009.160." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Stellar Spectral Classification">
                                        <b>[9]</b>
                                         Gray R O,Corbally C J.Stellar Spectral Classification.Princeton University Press,2009.160.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=GUAN" target="_blank">光谱学与光谱分析</a>
                2019,39(10),3292-3296 DOI:10.3964/j.issn.1000-0593(2019)10-3292-05            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于XGBOOST的恒星光谱分类特征数值化</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E6%9E%AD&amp;code=42957158&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张枭</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%BD%97%E9%98%BF%E7%90%86&amp;code=10928705&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">罗阿理</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%9B%BD%E5%AE%B6%E5%A4%A9%E6%96%87%E5%8F%B0%E5%85%89%E5%AD%A6%E5%A4%A9%E6%96%87%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=0038322&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院国家天文台光学天文重点实验室</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E5%A4%A7%E5%AD%A6&amp;code=1698842&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院大学</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>恒星光谱分类是研究恒星的基础性工作之一,常用的光谱分类是基于20世纪70年代Morgan和Keenan建立起来的并逐步完善的MK分类系统。然而基于MK规则的交互式决策分类系统对处理海量天文光谱数据存在着一定的困难。目前光谱巡天一般采用的自动化分类则是模版匹配方法而忽略对谱线特征的测量。怎样自动、客观地提取海量光谱中的分类特征并应用这些特征进行分类可以对天体的物理化学性质的统计分析至关重要。针对此问题,通过机器学习和计算光谱的谱线指数结合的方法,提取光谱特征,并通过大数据分析定量地确定对光谱特征谱线的分类判据(数值化),确定每一类光谱具有物理意义的特征谱线的强度分布。首先对LAMOST DR4恒星光谱测量其谱线指数作为输入,光谱的分类标记采用官方发布的分类结果。使用XGBoost算法进行自动分类及特征排序,从而获得已知或未知的对于分类决策最为敏感的谱线。首先,选取高信噪比(<i>S</i>/<i>N</i>&gt;30)、被LAMOST标记为B, A, F和M的恒星光谱数据,总计约414万个。然后,对光谱数据计算谱线指数从而使其得到降维处理,过滤冗余信息。其次,将处理后的恒星光谱数据随机划分为训练集和测试集,通过适当调整算法参数,用训练集得到所需要的分类决策树模型,用测试集测试其稳定性和可用性,以防止出现过拟合,同时使用算法自带函数进行提取分类特征。最后,输出并整理实验中算法所得的决策树模型,并挑选其概率比较大的分支作为最终的决策树模型。通过实验,可以发现在固定参数下, XGBoost所得的模型有一定的自适应性,较少受数据集影响,总体准确率可达88.5%;同时其所输出的分类决策树与已知的特征较为吻合,而且可以获得基于大数据的、数值化的特征谱线对应分类的范围,为完善基于特征的分类提供定量的规则。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%85%89%E8%B0%B1%E5%88%86%E7%B1%BB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">光谱分类;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BA%BF%E6%8C%87%E6%95%B0&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">线指数;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=XGBoost&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">XGBoost;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%86%B3%E7%AD%96%E6%A0%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">决策树;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=LAMOST&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">LAMOST;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    张枭,1990年生,中国科学院大学国家天文台硕士研究生e-mail:cyscum@outlook.com;
                                </span>
                                <span>
                                    *罗阿理,e-mail:lal@nao.cas.cn;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-09-07</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金项目(11390371)资助;</span>
                    </p>
            </div>
                    <h1><b>XGBOOST Based Stellar Spectral Classification and Quantized Feature</b></h1>
                    <h2>
                    <span>ZHANG Xiao</span>
                    <span>LUO A-li</span>
            </h2>
                    <h2>
                    <span>Key Laboratory of Optical Astronomy, National Astronomical Observatories, Chinese Academy of Sciences</span>
                    <span>University of Chinese Academy of Sciences</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Star spectral classification is a foundational work of stellar research. The Morgan-Keenan(MK) classification system which was developed in 1970 s is the most widely used classical classification system. However, MK based interactive decision classification system has some difficulties when dealing with massive quantity of astronomical spectral data. Nowadays the most widely used method of automatically classification is template match which neglects measuring the spectral line. As a result, one of the most popular topics is how to extract features from massive data objectively and precisely and to apply the features for making classification decisions. In this paper, we processed the spectral data of LAMOST DR4 stars to obtain the line index as input data and used the official released labels of the spectrum as outcome. The XGBoost algorithm was applied to automatically classify the stellar spectra and rank the features. In this way, the identified and potential line indices which are sensitive to classification were revealed. Firstly, we labeled and selected the spectral data of stars with B, A, F and M by LAMOST high signal-to-noise ratio(<i>S</i>/<i>N</i>&gt;30) with the sample size amounting to around 41. 4 million. Then, the line indices of spectral data was calculated to reduce the dimension and to filter out the redundant information. Secondly, the processed star spectral data were randomly divided to a training set and a test set. By modifying the parameters, the required classification decision tree model was fitted by training set using XGBoost algorithm and the stability and availability of the model were validated by test set to avoid over-fitting. In the meantime, the classification features were extracted by the algorithm's own function. Finally, the branch with the highest probabilities was selected as the final decision tree model. Through experiments, it is shown that the XGBoost model has a better performance in self-adaptability under fixed parameters with less affection in data sets and the overall accuracy rate as high as 88.5%. Moreover, the output classification decision tree is more consistent with identified features and the numerical characteristics of spectrum and its corresponding range are obtainable through the model. This would shed light on providing quantitative rules for evaluating classification decision trees with numerical spectral features.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Spectral%20classification&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Spectral classification;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Line%20index&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Line index;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=XGBoost&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">XGBoost;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Decision%20tree&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Decision tree;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=LAMOST&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">LAMOST;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-09-07</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="23" name="23" class="anchor-tag">引 言</h3>
                <div class="p1">
                    <p id="24">LAMOST, 全称是“大天区面积多目标光线光谱望远镜”, 是一架自适应光学的施密特反射式望远镜, 位于北京兴隆观测站。 因纪念元代天文学家郭守敬而冠名为郭守敬望远镜<citation id="75" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="25">LAMOST产生的约一千万条恒星的光谱是目前世界上最大的恒星光谱库。 对这些光谱分类对研究银河系的各种规律是十分必要的。 LAMOST光谱数据处理的官方软件流程是采用模板匹配的方法<citation id="76" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>, 但存在缺陷: (1) 数据质量存在限制, 连续谱的质量直接影响了分类结果; (2) 本质上是高维数据的距离, 意味着数据里包含一些重复、 可约简的信息。</p>
                </div>
                <div class="p1">
                    <p id="26">在过去的数十年中, 很多自动分类方法已经应用于恒星光谱分类。 人工神经网络(ANN)算法在天文领域应用广泛。 2011年, Schierscher和Paunzen使用ANN算法对SDSS DR7数据的部分恒星光谱进行分类<citation id="77" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>; 在2017年Hampton等通过ANN对积分场光谱型的发射线进行分类<citation id="78" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="27">支持向量机(SVM)算法在天文也有广泛应用。 近些年来, <citation id="81" type="reference"><link href="11" rel="bibliography" />Liu等在2015</citation>年对LAMOST数据使用线指数和SVM算法进行MK分类<citation id="79" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>;  2016年Du等使用Baysian SVM和PCA方法对SDSS DR10进行M型星子型M0, M1, M2, M3, M4的分类<citation id="80" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="28">PCA是一种常用的特征提取方法, 但是PCA提取的是数学特征, 不具有物理意义。</p>
                </div>
                <div class="p1">
                    <p id="29">采用谱线指数进行光谱自动分类除了前述Liu等的工作外<citation id="82" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>, 王光沛等也对lick线指数进行了聚类<citation id="83" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>。 这些工作都揭示了谱线指数与物理特征之间的某种联系。 但这种多特征与恒星类型之间的联系并非简单关系, 而是一种需要通过树来表达的复杂关系。</p>
                </div>
                <div class="p1">
                    <p id="30">基于树的机器学习算法是一类有监督的机器学习算法, 具有模型结构相对简单、 运算量相对较小, 同时准确率相对较高等优点。 其中, Chen等<citation id="84" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>提出的XGBoost算法, 是一种迭代型树类算法, 有着更容易实现的并行处理、 更快的运算处理速度、 比起传统决策树更高的准确性等备受瞩目, 成为一种流行的机器学习算法, 应用于诸多领域。 此外, XGBoost克服了ANN算法复杂的、 难以解读的隐藏层问题; 相对SVM等算法, 有更高的准确率。 而对于光谱分类最为重要的特点是其能够容易、 直观地提取分类特征, 对这些分类特征的物理解释可以帮助我们理解唯像光谱分类背后的物理本质。</p>
                </div>
                <div class="p1">
                    <p id="31">通过所获得的分类的数值特征, 我们就可以将基于MK原则的分类决策树中某些定性的决策规则定量化, 使得分类决策更加简单并容易解释。</p>
                </div>
                <h3 id="32" name="32" class="anchor-tag">1 方 法</h3>
                <h4 class="anchor-tag" id="33" name="33"><b>1.1 线指数</b></h4>
                <div class="p1">
                    <p id="34">采用线指数是等值宽度定义, 即</p>
                </div>
                <div class="p1">
                    <p id="35" class="code-formula">
                        <mathml id="35"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>E</mi><mi>W</mi><mo>=</mo><mstyle displaystyle="true"><mo>∑</mo><mrow><mrow><mo>[</mo><mrow><mn>1</mn><mo>-</mo><mfrac><mrow><mi>f</mi><msub><mrow></mrow><mrow><mtext>l</mtext><mtext>i</mtext><mtext>n</mtext><mtext>e</mtext></mrow></msub><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><mrow><mi>f</mi><msub><mrow></mrow><mrow><mtext>c</mtext><mtext>o</mtext><mtext>u</mtext><mtext>n</mtext><mtext>t</mtext></mrow></msub><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><mo>]</mo></mrow></mrow></mstyle><mtext>d</mtext><mi>λ</mi></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="36">其中<i>f</i><sub>line</sub>(<i>λ</i>)和<i>f</i><sub>count</sub>(<i>λ</i>)是在伪连续谱上的流量, <i>f</i><sub>count</sub>是通过在伪连续谱插值而得到<citation id="85" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。 每个线指数定义见表1。</p>
                </div>
                <div class="area_img" id="37">
                    <p class="img_tit"><b>表1 采用的线指数定义</b><citation id="86" type="reference"><link href="11" rel="bibliography" /><link href="15" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">6</a>]</sup><sup><b>4, 6</b></sup><sup>]</sup></citation> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Line index definitions</b><citation id="87" type="reference"><link href="11" rel="bibliography" /><link href="15" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">6</a>]</sup><sup><b>4, 6</b></sup><sup>]</sup></citation></p>
                    <p class="img_note"></p>
                    <table id="37" border="1"><tr><td><br />谱线名称</td><td>通带/Å</td><td>伪连续谱范围/Å</td></tr><tr><td><br />H_delta</td><td>4 083.500～4 122.250</td><td>4 041.600～4 079.750, 4 128.000～4 161.000</td></tr><tr><td><br />CN1</td><td>4 143.375～4 178.375</td><td>4 081.375～4 118.875, 4 245.375～4 285.375</td></tr><tr><td><br />CN2</td><td>4 142.125～4 177.125</td><td>4 083.875～4 096.375, 4 244.125～4 284.125</td></tr><tr><td><br />Ca4227</td><td>4 223.500～4 236.000</td><td>4 212.250～4 221.000, 4 242.250～4 252.250</td></tr><tr><td><br />G_band</td><td>4 282.625～4 317.625</td><td>4 267.625～4 283.875, 4 320.125～4 336.375</td></tr><tr><td><br />H_gamma</td><td>4 319.750～4 363.500</td><td>4 283.500～4 319.750, 4 367.250～4 419.750</td></tr><tr><td><br />Fe4383</td><td>4 370.375～4 421.625</td><td>4 360.375～4 371.625, 4 444.125～4 456.625</td></tr><tr><td><br />Ca4455</td><td>4 453.375～4 475.875</td><td>4 447.125～4 455.875, 4 478.375～4 493.375</td></tr><tr><td><br />Fe4531</td><td>4 515.500～4 565.500</td><td>4 505.500～4 515.500, 4 561.750～4 580.500</td></tr><tr><td><br />Fe4668</td><td>4 635.250～4 721.500</td><td>4 612.750～4 631.500, 4 744.000～4 757.750</td></tr><tr><td><br />H_beta</td><td>4 847.875～4 876.625</td><td>4 827.875～4 847.875, 4 876.625～4 891.625</td></tr><tr><td><br />Fe5015</td><td>4 977.750～5 054.000</td><td>4 946.500～4 977.750, 5 054.000～5 065.250</td></tr><tr><td><br />Mg1</td><td>5 069.125～5 134.125</td><td>4 895.125～4 957.125, 5 301.125～5 366.125</td></tr><tr><td><br />Mg2</td><td>5 154.125～5 196.625</td><td>4 895.125～4 957.625, 5 301.125～5 366.125</td></tr><tr><td><br />Mgb</td><td>5 160.125～5 192.625</td><td>5 142.625～5 161.375, 5 191.375～5 206.375</td></tr><tr><td><br />Fe5270</td><td>5 245.650～5 285.650</td><td>5 233.150～5 248.150, 5 285.650～5 318.150</td></tr><tr><td><br />Fe5335</td><td>5 312.125～5 352.125</td><td>5 304.625～5 315.875, 5 353.375～5 363.375</td></tr><tr><td><br />Fe5406</td><td>5 387.500～5 415.000</td><td>5 376.250～5 387.500, 5 415.000～5 425.000</td></tr><tr><td><br />Fe5709</td><td>5 698.375～5 722.125</td><td>5 674.625～5 698.375, 5 724.625～5 738.375</td></tr><tr><td><br />Fe5782</td><td>5 778.375～5 798.375</td><td>5 767.125～5 777.125, 5 799.625～5 813.375</td></tr><tr><td><br />NaD</td><td>5 878.625～5 911.125</td><td>5 862.375～5 877.375, 5 923.875～5 949.875</td></tr><tr><td><br />TiO1</td><td>5 938.375～5 995.875</td><td>5 818.375～5 850.875, 6 040.375～6 105.375</td></tr><tr><td><br />TiO2</td><td>6 191.375～6 273.875</td><td>6 068.375～6 143.375, 6 374.375～6 416.875</td></tr><tr><td><br />H_alpha</td><td>6 548.000～6 578.000</td><td>6 420.000～6 455.000, 6 600.000～6 640.000</td></tr><tr><td><br />CaK6</td><td>3 930.700～3 936.700</td><td>3 903.000～3 923.000, 4 000.000～4 020.000</td></tr><tr><td><br />CaK12</td><td>3 927.700～3 939.700</td><td>3 903.000～3 923.000, 4 000.000～4 020.000</td></tr><tr><td><br />CaK18</td><td>3 924.700～3 942.700</td><td>3 903.000～3 923.000, 4 000.000～4 020.000</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="38" name="38"><b>1.2 XGBoost算法</b></h4>
                <div class="p1">
                    <p id="39">提升树决策树算法(GBDT)采用决策树为基函数, GBDT是利用梯度下降法的近似方法; XGBoost是梯度提升算法的改进版本, 相比梯度提升算法, 对损失函数进行二阶泰勒展开, 可以进行凸优化。 同时可以进行分布式计算来提高速度。 算法步骤如下:</p>
                </div>
                <div class="p1">
                    <p id="40">目标函数</p>
                </div>
                <div class="p1">
                    <p id="41" class="code-formula">
                        <mathml id="41"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>Φ</mi><mo stretchy="false">)</mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>l</mi></mstyle><mo stretchy="false">(</mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mover accent="true"><mi>y</mi><mo>^</mo></mover><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mstyle displaystyle="true"><munder><mo>∑</mo><mi>k</mi></munder><mi>Ω</mi></mstyle><mo stretchy="false">(</mo><mi>f</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="42">其中</p>
                </div>
                <div class="p1">
                    <p id="43" class="code-formula">
                        <mathml id="43"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ω</mi><mo stretchy="false">(</mo><mi>f</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>γ</mi><mi>Τ</mi><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>γ</mi><mo stretchy="false">∥</mo><mi>w</mi><mo stretchy="false">∥</mo><msup><mrow></mrow><mn>2</mn></msup></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="44">对每步训练目标函数二阶泰勒展开</p>
                </div>
                <div class="p1">
                    <p id="45" class="code-formula">
                        <mathml id="45"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mtext>Ο</mtext><mtext>b</mtext><mtext>j</mtext><msup><mrow></mrow><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>l</mi></mstyle><mo stretchy="false">(</mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mi>f</mi><msub><mrow></mrow><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>Ω</mi><mo stretchy="false">(</mo><mi>f</mi><msub><mrow></mrow><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="46">记</p>
                </div>
                <div class="p1">
                    <p id="47" class="code-formula">
                        <mathml id="47"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>g</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mo>∂</mo><msub><mrow></mrow><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></msub><mi>l</mi><mo stretchy="false">(</mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mspace width="0.25em" /><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo><mo>,</mo><mspace width="0.25em" /><mi>h</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mo>∂</mo><msubsup><mrow></mrow><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><mn>2</mn></msubsup><mi>l</mi><mo stretchy="false">(</mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mspace width="0.25em" /><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="48">得到</p>
                </div>
                <div class="p1">
                    <p id="49" class="code-formula">
                        <mathml id="49"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>L</mi><msup><mrow></mrow><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup><mo>≈</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">[</mo></mstyle><mi>l</mi><mo stretchy="false">(</mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mover accent="true"><mi>y</mi><mo>^</mo></mover><msubsup><mrow></mrow><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>g</mi><msub><mrow></mrow><mi>i</mi></msub><mi>f</mi><msub><mrow></mrow><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>h</mi><msub><mrow></mrow><mi>i</mi></msub><mi>f</mi><msubsup><mrow></mrow><mi>t</mi><mn>2</mn></msubsup><mo stretchy="false">(</mo><mi>x</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>+</mo><mi>Ω</mi><mo stretchy="false">(</mo><mi>f</mi><msub><mrow></mrow><mi>t</mi></msub><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="50">求出目标函数最优解</p>
                </div>
                <div class="p1">
                    <p id="51" class="code-formula">
                        <mathml id="51"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mi>L</mi><mo>^</mo></mover><msup><mrow></mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>Τ</mi></munderover><mrow><mfrac><mrow><mrow><mo>(</mo><mrow><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><mi>Ι</mi><msub><mrow></mrow><mi>j</mi></msub></mrow></munder><mi>g</mi></mstyle><msub><mrow></mrow><mi>i</mi></msub></mrow><mo>)</mo></mrow><msup><mrow></mrow><mn>2</mn></msup></mrow><mrow><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><mi>Ι</mi><msub><mrow></mrow><mi>j</mi></msub></mrow></munder><mi>h</mi></mstyle><msub><mrow></mrow><mi>i</mi></msub><mo>+</mo><mi>λ</mi></mrow></mfrac></mrow></mstyle><mo>+</mo><mi>γ</mi><mi>Τ</mi></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="52">而上式即可作为对应树子叶的分数; 分数越大, 该树结构越好<citation id="88" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。 而算法的其中一点就是搜索给定参数中最大的所得的值; 一旦再分裂后所得结果小于原结果, 算法随即停止继续增长子叶深度<citation id="89" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。</p>
                </div>
                <h3 id="53" name="53" class="anchor-tag">2 数据处理实验</h3>
                <h4 class="anchor-tag" id="54" name="54"><b>2.1 数据准备</b></h4>
                <div class="p1">
                    <p id="55">我们数据取自LAMOST DR4, 考虑到以生成模型、 统计分析为主要目的, 所以尽可能多选取样本; 为了得到较为准确的结果, 同时选取高信噪比(<i>S</i>/<i>N</i>&gt;30)恒星光谱数据。</p>
                </div>
                <div class="p1">
                    <p id="56">同时对光谱数据进行线指数计算, 使得原本的伪连续谱简化为27维数据的矩阵, 大大降低原数据量。</p>
                </div>
                <div class="area_img" id="57">
                    <p class="img_tit"><b>表2 各类恒星光谱数量</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 2 The quantity of stellar spectra</b></p>
                    <p class="img_note"></p>
                    <table id="57" border="1"><tr><td><br />类别</td><td>数量</td></tr><tr><td><br />B</td><td>4 466</td></tr><tr><td><br />A</td><td>221 024</td></tr><tr><td><br />F</td><td>1 120 500</td></tr><tr><td><br />G</td><td>2 009 758</td></tr><tr><td><br />K</td><td>477 003</td></tr><tr><td><br />M</td><td>229 192</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="58" name="58"><b>2.2 实验步骤</b></h4>
                <div class="p1">
                    <p id="59">将414万条光谱线指数数据随机分为训练集和测试集, 两者数据比约为3∶1。</p>
                </div>
                <div class="p1">
                    <p id="60">调整XGBoost的参数为: 采用决策树, booster为gbtree, 因为多分类并希望得到属于每一类的概率, objective为multi∶softpro, 学习率eta=0.7, 为了提高模型准确率, 设置最大可能树深度为12; 为了模型更加稳定, 设置正则项lambda为4, 也使得算法保守。</p>
                </div>
                <div class="p1">
                    <p id="61">为了得到模型, 迭代次数只设为1次, 这样因为没有对残差进行拟合, 牺牲一定的准确率, 但是可以较容易的得到所需要的决策树模型。 其他大多采取默认。</p>
                </div>
                <h4 class="anchor-tag" id="62" name="62"><b>2.3 结果与分析</b></h4>
                <div class="p1">
                    <p id="63">实验得到XGBoot分类正确率如表3。 从中可以看出, 实验分类结果和LAMOST所标定的结果大体一致, 虽然舍弃了对残差的拟合, 总体正确率仍较高, 在88.5%左右。 和<citation id="90" type="reference"><link href="11" rel="bibliography" />Liu等2015</citation>年使用SVM所做的恒星线指数分类结果类似, 相比其他类型, B型星分类正确率偏低。 考虑到B型特征线指数仅为He线, 而本次分类实验未包括He线; 同时, 相比其他类型, B型数量明显偏少, 这对实验结果同样有明显影响。</p>
                </div>
                <div class="area_img" id="64">
                    <p class="img_tit"><b>表3 基于XGBoost分类误差矩阵</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 3 The confusion matrix in terms of percentage of the XGBoost-based MK classification</b></p>
                    <p class="img_note"></p>
                    <table id="64" border="1"><tr><td><br /></td><td>B</td><td>A</td><td>F</td><td>G</td><td>K</td><td>M</td></tr><tr><td><br />B</td><td>74.90%</td><td>0.74%</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td><br />A</td><td>24.72%</td><td>94.38%</td><td>2.81%</td><td>0.01%</td><td>0</td><td>0</td></tr><tr><td><br />F</td><td>0.09%</td><td>4.82%</td><td>89.88%</td><td>8.27%</td><td>0.02%</td><td>0.01%</td></tr><tr><td><br />G</td><td>0.09%</td><td>0.03%</td><td>7.25%</td><td>85.37%</td><td>6.00%</td><td>0.07%</td></tr><tr><td><br />K</td><td>0</td><td>0.01%</td><td>0.05%</td><td>6.32%</td><td>92.34%</td><td>5.76%</td></tr><tr><td><br />M</td><td>0.19%</td><td>0.02%</td><td>0.01%</td><td>0.02%</td><td>1.64%</td><td>94.16%</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="65">通过XGBoost自带函数, 我们可以得到每类线指数所占权重的打分, 这里只保留权重最大的7个特征, 如图1。</p>
                </div>
                <div class="area_img" id="66">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/GUAN201910059_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 XGBoost对特征的打分" src="Detail/GetImg?filename=images/GUAN201910059_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 XGBoost对特征的打分</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/GUAN201910059_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><b>Fig.1 The scores given by XGBoost</b></p>

                </div>
                <div class="p1">
                    <p id="67">这个评分会随着参数不同而发生变化, 但总体差异不会很大。 没有选取H_alpha, 是因为某些数据H_alpha存在缺失情况。 下面分别以这些特征作为横纵坐标, 每一类取1 000个最高信噪比的光谱数据绘制散点图和边缘分布图如图2。</p>
                </div>
                <h3 id="68" name="68" class="anchor-tag">3 结 论</h3>
                <div class="p1">
                    <p id="69">对411万光谱进行了基于XGBoost的MK分类, 和LAMOST结果相比, 达到了较高的正确率。 除了约四分之一的B型分类错误, 其他正确率均在85%以上。</p>
                </div>
                <div class="p1">
                    <p id="70">同时得到了A, F, G, K, M的分类决策树, 这里我们以A型星为例, 挑选了每一类相对应的可能性最大的7个分支。 图3即为A型星的分类决策树图。 其中左向箭头为YES, 右向箭头为NO, 菱形方框内的参数即为表1中所述的线指数及其取值范围, 长方形为输出的可能性较大的结果, 圆形为停止, 即该分支可能性相对较小而被舍去。 图3中的“P”为程序认为该分支为概率最大的一个分支。</p>
                </div>
                <div class="area_img" id="71">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/GUAN201910059_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 XGBoost所得到的线指数分布图" src="Detail/GetImg?filename=images/GUAN201910059_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 XGBoost所得到的线指数分布图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/GUAN201910059_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig.2 The distribution of the MK classes of the test data resulting from an XGBoost applied to the parameter space defined by line indices</p>

                </div>
                <div class="area_img" id="73">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/GUAN201910059_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 A型星分类决策树" src="Detail/GetImg?filename=images/GUAN201910059_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 A型星分类决策树</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/GUAN201910059_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><b>Fig.3 The decision tree of A type star</b></p>

                </div>
                <div class="p1">
                    <p id="74">可以看出, 判别决策树基本符合已知结论, A型星的特征谱线是很强的巴尔末线, 特别是H_beta和H_gamma。 例如, 绝大多数A型星的特征谱线之一的H_beta&gt;6.889 78; 而对于巴尔末线和Fe4531线均较弱情况下, 即H_beta&lt;6.889 78并且H_gamma&lt;5.697 45, 算法以CaK6在2.075 94的分界线, 取小于此数值的部分, 作为与F0等类型的分界面。 同样, 对于带有金属Fe线且Fe4531&lt;1.689 93, 位于B和A之间, 以H_delta&gt;4.372 01作为分界线; 对于Fe4383&gt;0.117 699, 以TiO1&lt;0.961 714区分含有Fe线丛B9, M和A0。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="5">
                            <a id="bibliography_1" target="_blank" href="">

                                <b>[1]</b> Luo Ali,Zhao Yongheng,et al.Research in Astronomy and Astrophysics,2015,15(8):1095.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_2" target="_blank" href="">

                                <b>[2]</b> Schierscher F,Paunzen E.Astronomische Nachrichten,2011,332(6):597.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_3" target="_blank" href="">

                                <b>[3]</b> Hampton E J,Medling A M,Groves B,et al.Monthly Notices of the Royal Astronomical Society,2017,470:3395.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Research in Astron">

                                <b>[4]</b> Liu Chao,Cui Wenyuan,et al.Research in Astronomy and Astrophysics,2015,15(8):1137.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_5" target="_blank" href="">

                                <b>[5]</b> Du Changde,Luo A,Yang H.New Astronomy,2017,51:51.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_6" target="_blank" href="">

                                <b>[6]</b> Worthey G,Faber S M,Gonzalez J Jesus,et al.The Astrophysical Journal Supplement Series,94(2):687.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GUAN201608059&amp;v=MTI2MjFIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnlubFY3ck9JampLWUxHNEg5Zk1wNDlBYllRS0Q=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> WANG Guang-pei,PAN Jing-chang,YI Zhen-ping,et al(王光沛,潘景昌,衣振萍,等).Spectroscopy and Spectral Analysis(光谱学与光谱分析),2016,36(8):2646.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=XGBoost:A Scalable Tree Boosting System">

                                <b>[8]</b> Chen T,Guestrin C.XGBoost:A Scalable Tree Boosting System.ACM SIGKDD International Conference on Knowledge Discovery and Data Mining.ACM,2016.785.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Stellar Spectral Classification">

                                <b>[9]</b> Gray R O,Corbally C J.Stellar Spectral Classification.Princeton University Press,2009.160.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="GUAN201910059" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GUAN201910059&amp;v=MjczNzBqTnI0OUFiWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeW5sVjdyT0lqaktZTEc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhcEE0QVN2K0VNZmxOQkpMbUpTZVpjNFhEaHI4WT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>


    <link href="/kxreader/Content/css/LeftDetail?v=NLcKG8I1SJUaVFrQ0iGpF2klAT0OsmHRaVSZ1rKb5xg1" rel="stylesheet"/>

</body>
</html>

