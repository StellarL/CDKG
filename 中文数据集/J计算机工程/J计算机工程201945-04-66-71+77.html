<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637130595919650000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJC201904012%26RESULT%3d1%26SIGN%3dB7vhkG3YstQweDnMMr%252f%252ffEWvYQc%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201904012&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201904012&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201904012&amp;v=MDQwNTh0R0ZyQ1VSTE9lWmVSb0Z5L2tWTHpPTHo3QmJiRzRIOWpNcTQ5RVpvUUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#33" data-title="0 概述 ">0 概述</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#37" data-title="1 基于改进WKNN算法的WiFi定位 ">1 基于改进WKNN算法的WiFi定位</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#39" data-title="1.1 基于RSSI的WiFi位置指纹定位原理">1.1 基于RSSI的WiFi位置指纹定位原理</a></li>
                                                <li><a href="#46" data-title="1.2 改进的&lt;i&gt;WKNN&lt;/i&gt;在线匹配定位算法">1.2 改进的<i>WKNN</i>在线匹配定位算法</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#73" data-title="2 在线修正及多重步态检测的&lt;i&gt;PDR&lt;/i&gt;定位 ">2 在线修正及多重步态检测的<i>PDR</i>定位</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#79" data-title="2.1 基于三重约束条件的步频检测">2.1 基于三重约束条件的步频检测</a></li>
                                                <li><a href="#90" data-title="2.2 步长估计">2.2 步长估计</a></li>
                                                <li><a href="#103" data-title="2.3 方向角估计">2.3 方向角估计</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#105" data-title="3 基于EKF的室内WiFi-PDR融合定位 ">3 基于EKF的室内WiFi-PDR融合定位</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#107" data-title="3.1 EKF算法原理">3.1 EKF算法原理</a></li>
                                                <li><a href="#112" data-title="3.2 基于EKF的融合定位流程">3.2 基于EKF的融合定位流程</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#135" data-title="4 定位实验及结果分析 ">4 定位实验及结果分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#138" data-title="4.1 基于改进WKNN算法的WiFi定位实验">4.1 基于改进WKNN算法的WiFi定位实验</a></li>
                                                <li><a href="#142" data-title="4.2 PDR定位实验">4.2 PDR定位实验</a></li>
                                                <li><a href="#146" data-title="4.3 基于EKF的WiFi-PDR融合定位实验">4.3 基于EKF的WiFi-PDR融合定位实验</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#152" data-title="5 结束语 ">5 结束语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#116" data-title="&lt;b&gt;图1 室内WiFi-PDR融合定位算法结构&lt;/b&gt;"><b>图1 室内WiFi-PDR融合定位算法结构</b></a></li>
                                                <li><a href="#117" data-title="&lt;b&gt;图2 Android手机数据采集界面&lt;/b&gt;"><b>图2 Android手机数据采集界面</b></a></li>
                                                <li><a href="#137" data-title="&lt;b&gt;图3 室内定位实验环境&lt;/b&gt;"><b>图3 室内定位实验环境</b></a></li>
                                                <li><a href="#140" data-title="&lt;b&gt;图4 3种定位算法均方根误差对比&lt;/b&gt;"><b>图4 3种定位算法均方根误差对比</b></a></li>
                                                <li><a href="#144" data-title="&lt;b&gt;图5 2种PDR定位打点结果&lt;/b&gt;"><b>图5 2种PDR定位打点结果</b></a></li>
                                                <li><a href="#145" data-title="&lt;b&gt;图6 2种PDR定位误差结果&lt;/b&gt;"><b>图6 2种PDR定位误差结果</b></a></li>
                                                <li><a href="#148" data-title="&lt;b&gt;图7 3种算法定位打点结果&lt;/b&gt;"><b>图7 3种算法定位打点结果</b></a></li>
                                                <li><a href="#149" data-title="&lt;b&gt;图8 3种算法定位误差结果&lt;/b&gt;"><b>图8 3种算法定位误差结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" CHEN X, PANG J.Measuring query privacy in location-based services[J].Geoinformatica, 2014, 18 (1) :95-133." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD14030300025138&amp;v=MTY1NzJaZVp1SHlqbVVMbklKMThUYVJzPU5qN0Jhcks4SHRMTXJJOUZaT2tLRFg4eG9CTVQ2VDRQUUgvaXJSZEdlcnFRVE1udw==&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         CHEN X, PANG J.Measuring query privacy in location-based services[J].Geoinformatica, 2014, 18 (1) :95-133.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" DENG Z A, HU Y, YU J, et al.Extended Kalman filter for real time indoor localization by fusing WiFi and smartphone inertial sensors[J].Micromachines, 2015, 6 (4) :523-543." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Extended kalnan filter for real time indoor localization by fusing Wi Fi and smart phone inertial sensors">
                                        <b>[2]</b>
                                         DENG Z A, HU Y, YU J, et al.Extended Kalman filter for real time indoor localization by fusing WiFi and smartphone inertial sensors[J].Micromachines, 2015, 6 (4) :523-543.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 周瑞, 袁兴中, 黄一鸣.基于卡尔曼滤波的WiFi-PDR融合室内定位[J].电子科技大学学报, 2016, 45 (3) :399-404." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DKDX201603015&amp;v=MjQ1NDBJU2JQZHJHNEg5Zk1ySTlFWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1ZMekI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         周瑞, 袁兴中, 黄一鸣.基于卡尔曼滤波的WiFi-PDR融合室内定位[J].电子科技大学学报, 2016, 45 (3) :399-404.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 姚团结, 魏东岩, 袁洪, 等.基于反馈校正的WLAN与PDR融合定位方法研究[J].仪器仪表学报, 2016, 37 (2) :446-453." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB201602027&amp;v=MDIwMDVSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6QlBEelRiTEc0SDlmTXJZOUhZNFFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         姚团结, 魏东岩, 袁洪, 等.基于反馈校正的WLAN与PDR融合定位方法研究[J].仪器仪表学报, 2016, 37 (2) :446-453.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 李楠, 陈家斌, 袁燕.基于WiFi/PDR的室内行人组合定位算法[J].中国惯性技术学报, 2017, 25 (4) :483-487." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZGXJ201704011&amp;v=Mjg2MTdMekJQeXJUWkxHNEg5Yk1xNDlFWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1Y=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         李楠, 陈家斌, 袁燕.基于WiFi/PDR的室内行人组合定位算法[J].中国惯性技术学报, 2017, 25 (4) :483-487.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 胡安冬, 王坚, 汪云甲, 等.利用渐消自适应EKF算法进行PDR-WiFi融合定位[J].武汉大学学报 (信息科学版) , 2016, 41 (11) :1556-1562." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WHCH201611022&amp;v=MDIxNzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6Qk1pWElackc0SDlmTnJvOUhab1E=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         胡安冬, 王坚, 汪云甲, 等.利用渐消自适应EKF算法进行PDR-WiFi融合定位[J].武汉大学学报 (信息科学版) , 2016, 41 (11) :1556-1562.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 汪伦杰, 廖兴宇, 潘伟杰, 等.基于信号均值滤波+k-means+WKNN的Wifi指纹定位算法研究[J].微电子学与计算机, 2017, 34 (3) :30-34." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201703007&amp;v=MTUzNjRaTEc0SDliTXJJOUZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6Qk1qWFM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         汪伦杰, 廖兴宇, 潘伟杰, 等.基于信号均值滤波+k-means+WKNN的Wifi指纹定位算法研究[J].微电子学与计算机, 2017, 34 (3) :30-34.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" NIU J, WANG B, SHU L, et al.ZIL:an energy-efficient indoor localization system using ZigBee radio to detect Wifi fingerprints[J].IEEE Journal on Selected Areas in Communications, 2015, 33 (7) :1431-1442." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=ZIL:An energy-efficient indoor localization system using Zig Bee radio to detect Wi Fi fingerprints">
                                        <b>[8]</b>
                                         NIU J, WANG B, SHU L, et al.ZIL:an energy-efficient indoor localization system using ZigBee radio to detect Wifi fingerprints[J].IEEE Journal on Selected Areas in Communications, 2015, 33 (7) :1431-1442.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" MA R, GUO Q, HU C, et al.An improved WiFi indoor positioning algorithm by weighted fusion[J].Sensors, 2015, 15 (9) :21824-21843." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An improved WiFi indoor positioning algorithm by weighted fusion">
                                        <b>[9]</b>
                                         MA R, GUO Q, HU C, et al.An improved WiFi indoor positioning algorithm by weighted fusion[J].Sensors, 2015, 15 (9) :21824-21843.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 徐潇潇, 谢林柏, 彭力.基于WiFi信号强度特征的室内定位系统设计[J].计算机工程, 2015, 41 (4) :87-91." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201504017&amp;v=MDY2ODdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1ZMekJMejdCYmJHNEg5VE1xNDlFWTRRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         徐潇潇, 谢林柏, 彭力.基于WiFi信号强度特征的室内定位系统设计[J].计算机工程, 2015, 41 (4) :87-91.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" LI H, CHEN X, JING G, et al.An indoor continuous positioning algorithm on the move by fusing sensors and Wi-Fi on smartphones[J].Sensors, 2015, 15 (12) :31244-31267." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An indoor continuous positioning algorithm on the move by fusing sensors and WIFI on smartphones">
                                        <b>[11]</b>
                                         LI H, CHEN X, JING G, et al.An indoor continuous positioning algorithm on the move by fusing sensors and Wi-Fi on smartphones[J].Sensors, 2015, 15 (12) :31244-31267.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" LI F, ZHAO C, DING G, et al.A reliable and accurate indoor localization method using phone inertial sensors[C]//Proceedings of 2012 ACM Conference on Ubiquitous Computing.New York, USA:ACM Press, 2012:421-430." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Reliable and Accurate Indoor Localization Method Using Phone Inertial Sensors">
                                        <b>[12]</b>
                                         LI F, ZHAO C, DING G, et al.A reliable and accurate indoor localization method using phone inertial sensors[C]//Proceedings of 2012 ACM Conference on Ubiquitous Computing.New York, USA:ACM Press, 2012:421-430.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_13" title=" LI X, WANG J, LIU C.A Bluetooth/PDR integration algorithm for an indoor positioning system[J].Sensors, 2015, 15 (10) :24862-24885." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Bluetooth/PDR Integration Algorithm for an Indoor Positioning System">
                                        <b>[13]</b>
                                         LI X, WANG J, LIU C.A Bluetooth/PDR integration algorithm for an indoor positioning system[J].Sensors, 2015, 15 (10) :24862-24885.
                                    </a>
                                </li>
                                <li id="29">


                                    <a id="bibliography_14" title=" 陈国良, 张言哲, 汪云甲, 等.WiFi-PDR室内组合定位的无迹卡尔曼滤波算法[J].测绘学报, 2015, 44 (12) :1314-1321." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHXB201512004&amp;v=MDAyMzBSb0Z5L2tWTHpCSmlYVGJMRzRIOVROclk5RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmU=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                         陈国良, 张言哲, 汪云甲, 等.WiFi-PDR室内组合定位的无迹卡尔曼滤波算法[J].测绘学报, 2015, 44 (12) :1314-1321.
                                    </a>
                                </li>
                                <li id="31">


                                    <a id="bibliography_15" title=" 吕国宏, 秦品乐, 苗启广, 等.基于多新息理论的EKF算法研究[J].小型微型计算机系统, 2016, 37 (3) :576-580." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXWX201603036&amp;v=MTg1NTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6QlBUWGNkckc0SDlmTXJJOUdZb1E=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         吕国宏, 秦品乐, 苗启广, 等.基于多新息理论的EKF算法研究[J].小型微型计算机系统, 2016, 37 (3) :576-580.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJC" target="_blank">计算机工程</a>
                2019,45(04),66-71+77 DOI:10.19678/j.issn.1000-3428.0048728            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于扩展Kalman滤波的室内WiFi-PDR融合定位算法</b></span>
 <span class="shoufa"></span>                                     </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%88%98%E5%BA%86&amp;code=38854962&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">刘庆</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%85%B3%E7%BB%B4%E5%9B%BD&amp;code=11030298&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">关维国</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E9%A1%BA%E5%BA%B7&amp;code=38854963&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李顺康</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E8%8A%B3&amp;code=32157418&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王芳</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%BE%BD%E5%AE%81%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E4%B8%8E%E4%BF%A1%E6%81%AF%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0240802&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">辽宁工业大学电子与信息工程学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%9B%BD%E7%BD%91%E8%BE%BD%E5%AE%81%E7%9C%81%E7%94%B5%E5%8A%9B%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E9%94%A6%E5%B7%9E%E4%BE%9B%E7%94%B5%E5%85%AC%E5%8F%B8&amp;code=0809146&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">国网辽宁省电力有限公司锦州供电公司</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>为解决室内WiFi定位精度较低及行人航位推算 (PDR) 定位存在累积误差的问题, 提出一种基于扩展Kalman滤波 (EKF) 的WiFi-PDR融合定位算法。WiFi通过改进的WKNN算法实现匹配定位, 根据定位点与K近邻点的接收信号强度指示相对偏差进行权值修正, PDR定位采用多重约束条件的步态检测和在线步长估计方法。在此基础上, 将EKF作为WiFi和PDR定位的融合滤波器, 以降低WiFi定位回跳和PDR累计误差, 从而提高定位精度。实验结果表明, 在多次行迹转弯条件下, 该融合定位算法的定位精度可达1.8 m。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">室内定位;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=WiFi%E5%AE%9A%E4%BD%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">WiFi定位;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%A1%8C%E4%BA%BA%E8%88%AA%E4%BD%8D%E6%8E%A8%E7%AE%97&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">行人航位推算;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%89%A9%E5%B1%95Kalman%E6%BB%A4%E6%B3%A2&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">扩展Kalman滤波;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%9E%8D%E5%90%88%E5%AE%9A%E4%BD%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">融合定位;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    刘庆 (1988—) , 男, 硕士研究生, 主研方向为移动通信、无线技术, E-mail:eric_liuqing1@163.com;;
                                </span>
                                <span>
                                    *关维国 (通信作者) , 教授、博士;;
                                </span>
                                <span>
                                    李顺康, 硕士研究生;;
                                </span>
                                <span>
                                    王芳, 高级工程师。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2017-09-19</p>

                    <p>

                            <b>基金：</b>
                                                        <span>辽宁省自然科学基金“基于北斗与泛在无线网络的室内外协同定位技术研究” (20170540437);</span>
                                <span>辽宁省教育厅重大科技平台科技项目 (JP2016015);</span>
                    </p>
            </div>
                    <h1><b>Indoor WiFi-PDR Fusion Location Algorithm Based on Extended Kalman Filter</b></h1>
                    <h2>
                    <span>LIU Qing</span>
                    <span>GUAN Weiguo</span>
                    <span>LI Shunkang</span>
                    <span>WANG Fang</span>
            </h2>
                    <h2>
                    <span>College of Electronic and Information Engineering, Liaoning University of Technology</span>
                    <span>State Grid Liaoning Electric Power Limited Company Jinzhou Power Supply Company</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Indoor WiFi location accuracy is low, and Pedestrian Dead Reckoning (PDR) location has the problem of cumulative error.Therefore, a WiFi-PDR fusion location algorithm based on Extended Kalman Filter (EKF) is proposed.WiFi achieves matching location by improved WKNN algorithm, and the relative deviation of the Received Signal Strength Indication (RSSI) between the location point and the K-nearest neighbor point is used for weight correction.PDR location adopts gait detection with multiple constraints and online step size estimation.On this basis, EKF is used as the fusion filter of WiFi and PDR location to reduce the WiFi location bounce and the cumulative error of PDR to improve the location accuracy.Experimental results show that the location accuracy of the fusion algorithm can reach 1.8 m under the condition of multiple traveling turns.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=indoor%20location&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">indoor location;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=WiFi%20location&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">WiFi location;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Pedestrian%20Dead%20Reckoning%20(PDR)%20&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Pedestrian Dead Reckoning (PDR) ;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Extended%20Kalman%20Filter%20(EKF)%20&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Extended Kalman Filter (EKF) ;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=fusion%20location&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">fusion location;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2017-09-19</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="33" name="33" class="anchor-tag">0 概述</h3>
                <div class="p1">
                    <p id="34">随着人们对位置服务需求的提高, 室内定位技术成为一个研究热点<citation id="154" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。典型的室内定位技术包括WiFi、蓝牙、无线传感器网络、射频识别、超宽带技术等。WiFi定位的网络覆盖广, 可满足多数室内定位需求, 但其信号易受环境遮挡, 导致定位随机性较大。行人航位推算 (Pedestrian Dead Reckoning, PDR) 定位方法利用惯性传感器实现航迹推算定位, 其终端支持度高, 但存在较大的惯性累积误差。</p>
                </div>
                <div class="p1">
                    <p id="35">为解决上述单一定位系统适用性较差且定位精度较低的问题<citation id="155" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>, 研究人员对有关WiFi-PDR的融合定位进行了探究与分析。文献[3]使用联邦Kalman滤波融合WiFi和PDR数据, 其中, WiFi定位采用支持向量机与回归分析相结合的方法。文献<citation id="169" type="reference">[<a class="sup">4</a>]</citation>提出一种基于反馈校正的WiFi-PDR融合定位算法, 其WiFi定位采用加权K近邻 (Weighted K-Nearest Neighbor, WKNN) 算法, PDR定位采用自适应线性反馈。文献[5]中PDR定位采用波峰波谷法进行步态检测, 其改进离线步长估计并提出一种基于自适应粒子滤波的室内行人WiFi-PDR组合定位算法。文献<citation id="168" type="reference">[<a class="sup">6</a>]</citation>引入渐消式因子, 采用渐消自适应EKF算法实现PDR-WiFi融合定位, 该方法虽然提高了稳定性, 但在多次行迹转弯处定位精度较低。</p>
                </div>
                <div class="p1">
                    <p id="36">上述研究通过融合方法改善了单一系统的定位性能, 但仍存在如下问题:WiFi定位在线匹配权值设置不合理, 造成单点误差偏大;PDR定位步态检测判据单一、离线步长估计未考虑行人差异性, 致使累积误差增加。为此, 本文提出一种基于扩展Kalman滤波 (Extended Kalman Filter, EKF) 的室内WiFi-PDR融合定位算法。WiFi定位采用改进的WKNN算法, 以参考点与指纹库的接收信号强度指示 (Received Signal Strength Indication, RSSI) 相对差值对匹配权重进行修正, 以提高定位精度。对PDR定位算法进行改进, 以三重步态约束准确判定步数并采用在线步长估计模型提高步长估计的准确性。在改进WiFi和PDR算法的基础上, 采用EKF将WiFi与PDR的定位信息进行融合, 用其特有的位置轨迹约束性避免定位结果发散, 以在多次行人转弯后获得精确和稳定的融合定位结果。</p>
                </div>
                <h3 id="37" name="37" class="anchor-tag">1 基于改进WKNN算法的WiFi定位</h3>
                <div class="p1">
                    <p id="38">在基于EKF的室内WiFi-PDR融合定位中, 由于WiFi单点定位没有累计误差, 常在融合定位中作为观测方程。WiFi定位的核心是按照一定的位置间隔建立离线指纹库并采用在线匹配算法进行位置估计。</p>
                </div>
                <h4 class="anchor-tag" id="39" name="39">1.1 基于RSSI的WiFi位置指纹定位原理</h4>
                <div class="p1">
                    <p id="40">基于RSSI的WiFi位置指纹定位<citation id="160" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>包括离线采集指纹库和在线匹配定位阶段。离线阶段, 在定位区域按照一定的位置间隔共产生<i>m</i>个位置指纹, 记作{<i>F</i><sub>1</sub>, <i>F</i><sub>2</sub>, …, <i>F</i><sub><i>i</i></sub>, …, <i>F</i><sub><i>m</i></sub>}, 每个位置指纹样例与一组位置{<i>L</i><sub>1</sub>, <i>L</i><sub>2</sub>, …, <i>L</i><sub><i>i</i></sub>, …, <i>L</i><sub><i>m</i></sub>}一一对应。每个位置指纹<i>F</i><sub><i>i</i></sub>记录该指纹点的MAC地址和接收到的RSSI向量集{<i>P</i><mathml id="41"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mn>1</mn></msubsup></mrow></math></mathml>, <i>P</i><mathml id="42"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mn>2</mn></msubsup></mrow></math></mathml>, …, <i>P</i><mathml id="43"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mi>j</mi></msubsup></mrow></math></mathml>, …, <i>P</i><mathml id="44"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mi>n</mi></msubsup></mrow></math></mathml>}。其中, <i>P</i><mathml id="45"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mi>j</mi></msubsup></mrow></math></mathml> (1≤j≤n) 表示在L<sub>i</sub>位置点接收到来自第j个<i>WiFi</i>信号无线接入点 (<i>Access Point</i>, <i>AP</i>) 信标点的<i>RSSI</i>。建立<i>WiFi</i>位置指纹数据库后, 在线匹配定位阶段首先将一个待测<i>RSSI</i>位置指纹点i指纹样例记作R, 其包括来自n个接入点的信号接收强度, 即R={r<sub>1</sub>, r<sub>2</sub>, …, r<sub>n</sub>}。在线定位阶段误差较小的是<i>KNN</i>和<i>WKNN</i>算法<citation id="162" type="reference"><link href="17" rel="bibliography" /><link href="19" rel="bibliography" /><sup>[<a class="sup">8</a>,<a class="sup">9</a>]</sup></citation>。<i>KNN</i>算法首先计算R与各个位置指纹库的<i>RSSI</i>欧式距离<citation id="161" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>, 按从小到大选取k个指纹坐标点, 加权平均k个坐标点作为最终位置估计。更进一步, <i>WKNN</i>算法采用欧氏距离倒数作为加权系数, 对所用指纹参考点的位置坐标进行加权位置估计。</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46">1.2 改进的<i>WKNN</i>在线匹配定位算法</h4>
                <div class="p1">
                    <p id="47">由于在WKNN中, <i>W</i><sub><i>i</i></sub>仅采用欧式距离倒数, 不能准确反映权重系数, 因此本文在线匹配阶段采用改进的WKNN算法进行定位估计。改进的WKNN算法不仅考虑欧式距离的加权系数<i>W</i><sub><i>i</i></sub>, 而且考虑K近邻与参考点相对差值的影响, 通过定位点与K近邻点的RSSI相对偏差确定权重修正系数<i>b</i><sub><i>i</i></sub>, 并对基于欧式距离的权重系数<i>W</i><sub><i>i</i></sub>进行修正。本文改进的位置估计如式 (1) 所示。</p>
                </div>
                <div class="p1">
                    <p id="48" class="code-formula">
                        <mathml id="48"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>L</mi><mo>=</mo><mo stretchy="false"> (</mo><mover><mstyle mathsize="140%" displaystyle="true"><mi>x</mi></mstyle><mrow><mspace width="0.25em" /><mo>∼</mo></mrow></mover><mo>, </mo><mover><mstyle mathsize="140%" displaystyle="true"><mi>y</mi></mstyle><mrow><mspace width="0.25em" /><mo>∼</mo></mrow></mover><mo stretchy="false">) </mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mo stretchy="false"> (</mo></mstyle><mi>W</mi><msub><mrow></mrow><mi>i</mi></msub><mo>+</mo><mi>b</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">) </mo><mo>×</mo><mo stretchy="false"> (</mo><mi>x</mi><msub><mrow></mrow><mi>i</mi></msub><mo>, </mo><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">) </mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="49">其中, <mathml id="50"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo stretchy="false"> (</mo><mover><mstyle mathsize="140%" displaystyle="true"><mi>x</mi></mstyle><mrow><mspace width="0.25em" /><mo>∼</mo></mrow></mover><mo>, </mo><mover><mstyle mathsize="140%" displaystyle="true"><mi>y</mi></mstyle><mrow><mspace width="0.25em" /><mo>∼</mo></mrow></mover><mo stretchy="false">) </mo></mrow></math></mathml>为定位结果坐标, (x<sub>i</sub>, y<sub>i</sub>) 为第i个近邻参考节点的位置坐标。</p>
                </div>
                <div class="p1">
                    <p id="51">为求出定位结果坐标, 首先需要确定W<sub>i</sub>和b<sub>i</sub>的数值。W<sub>i</sub>可利用欧氏距离通过式 (2) 确定。</p>
                </div>
                <div class="p1">
                    <p id="52" class="code-formula">
                        <mathml id="52"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>W</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mfrac><mn>1</mn><mrow><mi>d</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></mfrac></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><mfrac><mn>1</mn><mrow><mi>d</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></mfrac></mrow></mstyle></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="53">其中, d<sub>i</sub>为待测点与第i个近邻点指纹库数据之间的欧式距离。</p>
                </div>
                <div class="p1">
                    <p id="54">第i个近邻位置点的权重修正参数b<sub>i</sub>可通过归一化<i>RSSI</i>信号强度相对差值的倒数来进一步确定, 其值以式 (3) 为约束条件。</p>
                </div>
                <div class="p1">
                    <p id="55" class="code-formula">
                        <mathml id="55"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mi>b</mi></mstyle><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mn>0</mn><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>3</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="56">设待定位点第i个近邻点位置指纹的<i>RSSI</i>为F<sub>i</sub>, 则改进<i>WKNN</i>算法的权重系数为W<sub>i</sub>+b<sub>i</sub>。记e<sub>i</sub>=R-F<sub>i</sub>为R的绝对差值, e<sub>r<sub>i</sub></sub>=e<sub>i</sub>/F<sub>i</sub>为R的相对偏差。指纹点与定位点的欧氏距离越近, 其相对偏差绝对值<mathml id="57"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></math></mathml>越小, 对<i>WKNN</i>算法的整体权重系数影响越大。将1/|e<sub>r<sub>i</sub></sub>|的归一化结果进行拟合, 可求解b<sub>i</sub>。具体步骤如下:</p>
                </div>
                <div class="p1">
                    <p id="58">1) 为减小1/|e<sub>r<sub>i</sub></sub>|的随机波动性对权重修正系数b<sub>i</sub>的影响, 首先对<mathml id="59"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></math></mathml>的多次测量结果采用3阶多项式拟合后求平均值, 并作为近邻点i的相对偏差绝对值<mathml id="60"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></math></mathml>, 进而确定1/|<i>e</i><sub><i>r</i><sub><i>i</i></sub></sub>|的数值。将1/|<i>e</i><sub><i>r</i><sub><i>i</i></sub></sub>|归一化为:</p>
                </div>
                <div class="p1">
                    <p id="61" class="code-formula">
                        <mathml id="61"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub><mo>=</mo><mfrac><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow></mstyle></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="62">2) 拟合<i>b</i><sub><i>i</i></sub>和归一化<mathml id="63"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的函数关系, 确定修正系数b<sub>i</sub>。b<sub>i</sub>和<mathml id="64"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的函数关系可用式 (5) 所示的多项式表示。</p>
                </div>
                <div class="p1">
                    <p id="65" class="code-formula">
                        <mathml id="65"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>b</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></munderover><mi>α</mi></mstyle><msub><mrow></mrow><mi>k</mi></msub><mo>×</mo><mi>S</mi><msubsup><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow><mi>k</mi></msubsup><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>5</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="66">基于b<sub>i</sub>和<mathml id="67"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的实验样本数据, 对式 (5) 函数进行多项式拟合。根据拟合误差最小准则确定b<sub>i</sub>与<mathml id="68"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的函数关系为2阶多项式, 通过2阶多项式拟合确定系数α<sub>0</sub>、α<sub>1</sub>、α<sub>2</sub>, 可得b<sub>i</sub>与<mathml id="69"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的关系为:</p>
                </div>
                <div class="p1">
                    <p id="70" class="code-formula">
                        <mathml id="70"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>b</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mn>3</mn><mo>.</mo><mn>3</mn><mn>8</mn><mn>7</mn><mo>×</mo><mi>S</mi><msubsup><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow><mn>2</mn></msubsup><mo>-</mo><mn>0</mn><mo>.</mo><mn>8</mn><mn>4</mn><mn>2</mn><mo>×</mo><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub><mo>-</mo><mn>0</mn><mo>.</mo><mn>0</mn><mn>2</mn><mn>7</mn><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>6</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="71">综上, 首先求解式 (2) 中的W<sub>i</sub>, 然后利用b<sub>i</sub>和式 (4) 归一化后的<mathml id="72"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mrow><mrow><mo> (</mo><mrow><mfrac><mn>1</mn><mrow><mrow><mo>|</mo><mrow><mi>e</mi><msub><mrow></mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub></mrow></msub></mrow><mo>|</mo></mrow></mrow></mfrac></mrow><mo>) </mo></mrow></mrow></msub></mrow></math></mathml>的关系, 通过式 (5) 、式 (6) 最终确定<i>WKNN</i>中权重修正系数b<sub>i</sub>的数值。以W<sub>i</sub>+b<sub>i</sub>作为改进<i>WKNN</i>的权重系数, 通过式 (1) 进行定位解算。在该过程中, 不仅考虑到<i>K</i>近邻参数的相对偏差影响, 且进一步修正了定位估计结果。</p>
                </div>
                <h3 id="73" name="73" class="anchor-tag">2 在线修正及多重步态检测的<i>PDR</i>定位</h3>
                <div class="p1">
                    <p id="74">PDR定位算法利用行人的初始位置和状态, 根据行走方向和位置的变化, 实时确定行人的位置、速度、方向参数<citation id="163" type="reference"><link href="23" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。PDR定位算法的关键是步频、步长和方向角的计算。</p>
                </div>
                <div class="p1">
                    <p id="75">PDR定位原理为:在二维平面内, 行人的运动轨迹可由步长和方向角计算得到, 若已知<i>t</i><sub><i>k</i></sub><sub>-1</sub>时刻的位置坐标为 (<i>E</i> (<i>t</i><sub><i>k</i>-1</sub>) , <i>N</i> (<i>t</i><sub><i>k</i>-1</sub>) ) , 则<i>t</i><sub><i>k</i></sub>时刻位置坐标为:</p>
                </div>
                <div class="p1">
                    <p id="76"><i>E</i> (<i>t</i><sub><i>k</i></sub>) =<i>E</i> (<i>t</i><sub><i>k</i>-1</sub>) +<i>S</i>×cos (<i>θ</i><sub><i>k</i>-1</sub>)      (7) </p>
                </div>
                <div class="p1">
                    <p id="77"><i>N</i> (<i>t</i><sub><i>k</i></sub>) =<i>N</i> (<i>t</i><sub><i>k</i>-1</sub>) +<i>S</i>×sin (<i>θ</i><sub><i>k</i>-1</sub>)      (8) </p>
                </div>
                <div class="p1">
                    <p id="78">其中, <i>E</i> (<i>t</i><sub><i>k</i></sub>) 和<i>N</i> (<i>t</i><sub><i>k</i></sub>) 分别表示<i>t</i><sub><i>k</i></sub>时刻东向和北向的坐标值, <i>S</i>表示<i>t</i><sub><i>k</i></sub><sub>-1</sub>时刻的步长, <i>θ</i><sub><i>k</i>-1</sub>表示<i>t</i><sub><i>k</i></sub><sub>-1</sub>时刻的方向角。通过式 (7) 、式 (8) 可推算出以后每一步的状态信息。</p>
                </div>
                <h4 class="anchor-tag" id="79" name="79">2.1 基于三重约束条件的步频检测</h4>
                <div class="p1">
                    <p id="80">步频检测的准确性不仅由采样频率决定, 且与基于波峰波谷的检测方法有关。传统PDR步态检测<citation id="164" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>方法采用峰值检测法约束固定时间窗的加速度极值, 忽略了相邻峰值对行人加速度的约束。本文采用改进的简单门限+时间+波峰波谷法, 不仅通过门限对加速度进行约束以提高步频准确度, 且可避免过多参数的训练学习, 易在智能手机终端实现。算法具体步骤为:</p>
                </div>
                <div class="p1">
                    <p id="81">1) 用Android手机获取三轴加速度数据。</p>
                </div>
                <div class="p1">
                    <p id="82">2) 用线性加速度数据和当地重力加速度经拟合后获取准确的重力加速度。</p>
                </div>
                <div class="p1">
                    <p id="83">3) 记一组约束条件 (<i>p</i>, <i>v</i>, Δ<i>t</i><sub><i>p</i></sub>, Δ<i>t</i><sub><i>v</i></sub>, |Δ<i>p</i>|, |Δ<i>v</i>|) , 分别判别波峰、波谷、相邻波峰时间差、相邻波谷时间差、相邻波峰幅值差的绝对值和相邻波谷幅值差的绝对值。</p>
                </div>
                <div class="p1">
                    <p id="84">满足三重步频检测方法的波峰、波谷的判别条件分别如式 (9) 、式 (10) 所示。</p>
                </div>
                <div class="p1">
                    <p id="85" class="code-formula">
                        <mathml id="85"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>p</mi><mi>e</mi><mi>a</mi><mi>k</mi><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>1</mn><mo>, </mo><mi>p</mi><mo>&gt;</mo><mi>δ</mi><msub><mrow></mrow><mi>p</mi></msub><mo>&gt;</mo><mn>0</mn><mtext>且</mtext><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>-</mo></mrow></msub><mo>&lt;</mo><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>+</mo></mrow></msub><mtext>且</mtext><mn>0</mn><mo>&lt;</mo><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>p</mi><mo stretchy="false">|</mo><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>p</mi><mo stretchy="false">|</mo></mrow></msub></mtd></mtr><mtr><mtd><mn>0</mn><mo>, </mo><mi>p</mi><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mi>p</mi></msub><mtext>或</mtext><mn>0</mn><mo>&lt;</mo><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>-</mo></mrow></msub><mtext>或</mtext><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>&gt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>p</mi></msub><mo>+</mo></mrow></msub><mtext>或</mtext><mi>δ</mi><msub><mrow></mrow><mrow><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>p</mi><mo stretchy="false">|</mo></mrow></msub><mo>&lt;</mo><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>p</mi><mo stretchy="false">|</mo></mtd></mtr></mtable></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>9</mn><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mi>v</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>y</mi><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>1</mn><mo>, </mo><mi>v</mi><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mi>v</mi></msub><mo>&lt;</mo><mn>0</mn><mtext>且</mtext><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>v</mi></msub><mo>-</mo></mrow></msub><mo>&lt;</mo><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>v</mi></msub><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mrow><mi>v</mi><mo>+</mo></mrow></msub></mrow></msub><mtext>且</mtext><mn>0</mn><mrow><mo>&lt;</mo><mo>|</mo></mrow><mtext>Δ</mtext><mi>v</mi><mrow><mo>|</mo><mo>&lt;</mo></mrow><mi>δ</mi><msub><mrow></mrow><mrow><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>v</mi><mo stretchy="false">|</mo></mrow></msub></mtd></mtr><mtr><mtd><mn>0</mn><mo>, </mo><mi>v</mi><mo>&gt;</mo><mi>δ</mi><msub><mrow></mrow><mi>v</mi></msub><mtext>或</mtext><mn>0</mn><mo>&lt;</mo><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>v</mi></msub><mo>&lt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>v</mi></msub><mo>-</mo></mrow></msub><mtext>或</mtext><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mi>v</mi></msub><mo>&gt;</mo><mi>δ</mi><msub><mrow></mrow><mrow><mtext>Δ</mtext><mi>t</mi><msub><mrow></mrow><mrow><mi>v</mi><mo>+</mo></mrow></msub></mrow></msub><mtext>或</mtext><mi>δ</mi><msub><mrow></mrow><mrow><mo stretchy="false">|</mo><mtext>Δ</mtext><mi>v</mi><mo stretchy="false">|</mo></mrow></msub><mrow><mo>&lt;</mo><mo>|</mo></mrow><mtext>Δ</mtext><mi>v</mi><mo stretchy="false">|</mo></mtd></mtr></mtable></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>0</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="86">本文方法首先利用条件组 (<i>p</i>, Δ<i>t</i><sub><i>p</i></sub>, |Δ<i>p</i>|) 对式 (9) 进行真实波峰检测。在式 (9) 中, <i>peak</i>=1表示该加速度数据是波峰, <i>peak</i>=0表示非波峰, (<i>δ</i><sub><i>p</i></sub>, <i>δ</i><sub>Δ<i>t</i><sub><i>p</i></sub>-</sub>, <i>δ</i><sub>Δ<i>t</i><sub><i>p</i></sub>+</sub>, <i>δ</i><sub>|Δ<i>p</i>|</sub>) 是波峰检测的阈值组, 均通过经验数据取得。若条件组 (<i>p</i>, Δ<i>t</i><sub><i>p</i></sub>, |Δ<i>p</i>|) 都满足式 (9) 中的<i>peak</i>=1, 则判定为真波峰, 否则为伪波峰。统计符合<i>peak</i>=1的波峰总个数<i>count</i><sub>1</sub>。</p>
                </div>
                <div class="p1">
                    <p id="87">然后利用条件组 (<i>v</i>, Δ<i>t</i><sub><i>v</i></sub>, |Δ<i>v</i>|) 对式 (10) 进行真实波谷检测。在式 (10) 中, (<i>δ</i><sub><i>v</i></sub>, <i>δ</i><sub>Δ<i>t</i><sub><i>v</i></sub>-</sub>, <i>δ</i><sub>Δ<i>t</i><sub><i>v</i><sup>+</sup></sub></sub>, <i>δ</i><sub>|Δ<i>v</i>|</sub>) 是波谷检测的阈值组, 同样通过经验数据取得。同理, 通过检测统计波谷的总个数<i>count</i><sub>2</sub>。</p>
                </div>
                <div class="p1">
                    <p id="88">最后, 由于初始条件中未知是先经过真波峰还是真波谷, 以及最后判定结果是真波峰还是真波谷, 故取<i>count</i><sub>1</sub>和<i>count</i><sub>2</sub>的最大值为最终步数。</p>
                </div>
                <div class="p1">
                    <p id="89">综上, 基于三重约束条件的步频检测考虑了相邻峰值对行人加速度的约束, 可避免传统PDR步态检测方法的误判问题, 从而实现步数的准确判定。</p>
                </div>
                <h4 class="anchor-tag" id="90" name="90">2.2 步长估计</h4>
                <div class="p1">
                    <p id="91">传统步长方法常基于线性模型得出结果, 其中, 典型的离线步长三参数线性模型<citation id="165" type="reference"><link href="27" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup></citation>如式 (11) 所示。</p>
                </div>
                <div class="p1">
                    <p id="92"><i>SL</i>=<i>A</i>+<i>B</i>×<i>P</i>+<i>C</i>×<i>S</i><sub>max</sub>      (11) </p>
                </div>
                <div class="p1">
                    <p id="93">其中, <i>P</i>表示每步的步态周期, <i>S</i><sub>max</sub>表示平滑处理后的加速度波峰值。在传统线性模型中, <i>A</i>、<i>B</i>、<i>C</i>为回归系数, 需通过离线学习训练获得, 但训练样本时需考虑实际中不同行人运动间的差异性, 因此, 该方法普适性不强。针对该问题, 本文采用在线步长估计方法, 选取至少包含10个步长的时间内的加速度数据, 通过二次积分求得该段时间的平均步长, 利用滑动窗口进行在线步长估计。该过程如式 (12) 、式 (13) 所示。</p>
                </div>
                <div class="p1">
                    <p id="94"><i>V</i><sub><i>k</i></sub>=<i>V</i><sub><i>k</i><sub>0</sub></sub>+∫<mathml id="95"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo></mrow></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>+</mo></mrow></msub></mrow></msubsup></mrow></math></mathml><i>a</i><sub><i>k</i></sub>d<i>t</i>      (12) </p>
                </div>
                <div class="p1">
                    <p id="96"><i>S</i><sub><i>k</i></sub>=∫<mathml id="97"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>t</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo></mrow></msub></mrow><mrow><mi>t</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>+</mo></mrow></msub></mrow></msubsup></mrow></math></mathml> (<i>V</i><sub><i>k</i></sub>+Δ<i>V</i>) d<i>t</i>+<i>δ</i><sub><i>k</i></sub>      (13) </p>
                </div>
                <div class="p1">
                    <p id="98">其中, <i>V</i><sub><i>k</i></sub>、<i>S</i><sub><i>k</i></sub>分别表示行人在第<i>k</i>步的速率和步长, <i>V</i><sub><i>k</i><sub>0</sub></sub>表示其在第<i>k</i>步的初始速率, <i>t</i><sub><i>k</i>-</sub>、<i>t</i><sub><i>k</i>+</sub>分别表示第<i>k</i>-1步和第<i>k</i>+1步的时间, <i>a</i><sub><i>k</i></sub>表示第<i>k</i>步的加速度。由于存在模型误差, Δ<i>V</i>表示第<i>k</i>步的速度误差, <i>δ</i><sub><i>k</i></sub>表示第<i>k</i>步的速度观测误差, 观测误差包含行人抖动误差和传感器误差等。为使该方法更具普适性, 不同行人的速度观测误差根据其在线学习训练获取。</p>
                </div>
                <div class="p1">
                    <p id="99">为消除步长的累计误差, 采用滑动窗口法, 如式 (14) 所示。</p>
                </div>
                <div class="p1">
                    <p id="100" class="code-formula">
                        <mathml id="100"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>S</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mi>i</mi><mo>-</mo><mi>Ν</mi></mrow><mrow><mi>i</mi><mo>+</mo><mi>Ν</mi></mrow></munderover><mi>S</mi></mstyle><msub><mrow></mrow><mi>k</mi></msub></mrow><mrow><mn>2</mn><mi>Ν</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>4</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="101">其中, 2<i>N</i>+1为滑动窗口的长度。</p>
                </div>
                <div class="p1">
                    <p id="102">取在线步长估计结果<i>S</i><sub><i>i</i></sub>作为第<i>i</i>次滑动的步长。通过滑动窗口法不仅可以减少估计误差, 而且其动态性地自适应当前步长。本文采用在线步长估算可削弱不同行人个体间的差异, 通过滑动窗口法可进一步提高PDR定位的精度。</p>
                </div>
                <h4 class="anchor-tag" id="103" name="103">2.3 方向角估计</h4>
                <div class="p1">
                    <p id="104">PDR定位的关键之一是方向角的确定。传统每步方向角的估计通常取每步的波峰 (谷) 时刻作为当前步的方向角。为保证方向角的可靠性并削弱随机性, 本文改进PDR定位中每步方向角的选取方法为:首先在采样频率为50 Hz的条件下, 通过多重约束条件的步态检测出第<i>k</i>步, 其中, 第<i>k</i>步包含<i>n</i>个不同时刻的方向角, 记为<i>θ</i><sub><i>k</i></sub>={<i>θ</i><sub>1</sub>, <i>θ</i><sub>2</sub>, …, <i>θ</i><sub><i>i</i></sub>, …, <i>θ</i><sub><i>n</i></sub>}, 然后对{<i>θ</i><sub>3</sub>, <i>θ</i><sub>4</sub>, …, <i>θ</i><sub><i>i</i></sub>, …, <i>θ</i><sub><i>n</i>-3</sub>, <i>θ</i><sub><i>n</i>-2</sub>}求均值作为第<i>k</i>步的方向角, 以削弱来自波峰 (谷) 时刻的波动性现象。</p>
                </div>
                <h3 id="105" name="105" class="anchor-tag">3 基于EKF的室内WiFi-PDR融合定位</h3>
                <div class="p1">
                    <p id="106">WiFi信号波动性大, 定位结果存在回跳现象, 但其无累计误差;PDR定位在短时间内精度较高, 但存在累计误差。WiFi和PDR的融合定位以WiFi初始定位结果作为PDR定位初始位置, 以PDR定位约束WiFi定位结果, 利用PDR短时间内定位精度高的优势缓解WiFi定位的回跳现象。因此, 本文采用便于线性化函数实现递推滤波的EKF<citation id="166" type="reference"><link href="29" rel="bibliography" /><sup>[<a class="sup">14</a>]</sup></citation>进行WiFi-PDR融合定位, 以提高系统的定位精度和稳定性。</p>
                </div>
                <h4 class="anchor-tag" id="107" name="107">3.1 EKF算法原理</h4>
                <div class="p1">
                    <p id="108">EKF应用线性系统Kalman滤波公式<citation id="167" type="reference"><link href="31" rel="bibliography" /><sup>[<a class="sup">15</a>]</sup></citation>对非线性模型进行一阶泰勒展开。在满足高斯噪声条件下, 且状态方程和观测方程接近满足线性连续时, EKF性能最佳。WiFi定位和PDR定位满足EKF的条件, 常取PDR定位信息作为EKF算法的状态方程信息, WiFi定位信息和PDR方向信息作为观测方程的参数。</p>
                </div>
                <div class="p1">
                    <p id="109">系统状态方程和观测方程如式 (15) 所示。</p>
                </div>
                <div class="p1">
                    <p id="110" class="code-formula">
                        <mathml id="110"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mtable><mtr><mtd columnalign="left"><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mi>k</mi></msub><mo>=</mo><mi mathvariant="bold-italic">φ</mi><msub><mrow></mrow><mi>k</mi></msub><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mi mathvariant="bold-italic">τ</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mi mathvariant="bold-italic">w</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd columnalign="left"><mi mathvariant="bold-italic">Ζ</mi><msub><mrow></mrow><mi>k</mi></msub><mo>=</mo><mi mathvariant="bold-italic">Η</mi><msub><mrow></mrow><mi>k</mi></msub><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mi>k</mi></msub><mo>+</mo><mi mathvariant="bold-italic">V</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr></mtable></mrow></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>5</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="111">其中, <i>φ</i><sub><i>k</i></sub>为<i>t</i><sub><i>k</i></sub><sub>-1</sub>至<i>t</i><sub><i>k</i></sub>的一步转移矩阵, <i>τ</i><sub><i>k</i>-1</sub>为系统噪声驱动矩阵, <b><i>H</i></b><sub><i>k</i></sub>为量测矩阵, <b><i>w</i></b><sub><i>k</i></sub>为系统激励噪声序列, <b><i>V</i></b><sub><i>k</i></sub>为量测噪声序列, 且<b><i>w</i></b><sub><i>k</i></sub>和<b><i>V</i></b><sub><i>k</i></sub>为不相关的白噪声序列, <b><i>w</i></b><sub><i>k</i></sub>～<i>N</i> (0, <b><i>Q</i></b><sub><i>k</i></sub>) , <b><i>V</i></b><sub><i>k</i></sub>～<i>N</i> (0, <b><i>R</i></b><sub><i>k</i></sub>) , <b><i>Q</i></b><sub><i>k</i></sub>和<b><i>R</i></b><sub><i>k</i></sub>分别是<b><i>w</i></b><sub><i>k</i></sub>和<b><i>V</i></b><sub><i>k</i></sub>的协方差矩阵。</p>
                </div>
                <h4 class="anchor-tag" id="112" name="112">3.2 基于EKF的融合定位流程</h4>
                <div class="p1">
                    <p id="113">本文基于<i>EKF</i>的室内<i>WiFi</i>-<i>PDR</i>融合定位算法结构如图1所示。算法步骤为:</p>
                </div>
                <div class="p1">
                    <p id="114">1) 利用<i>Android</i>手机的线性加速度传感器及三轴加速度传感器对<i>PDR</i>采集数据进行预处理, 加速度、方向传感器数据采集界面如图2所示。</p>
                </div>
                <div class="p1">
                    <p id="115">2) 用本文三重步态检测判定行人状态信息并用方向传感器获取实时方向数据, 当检测到行走步数时, 启动<i>WiFi</i>定位模块及<i>EKF</i>融合模块, 其中, 为削弱定位结果的波动性, <i>WiFi</i>定位采用改进的<i>WKNN</i>算法对在线匹配权值进行修正以获取精确的定位信息。<i>PDR</i>初始定位值取<i>WiFi</i>定位均值, 将<i>PDR</i>中改进的步长估计、方向角作为<i>EKF</i>状态信息输入, 将<i>WiFi</i>定位模块的定位坐标、<i>PDR</i>定位航向角及其增量信息作为<i>EKF</i>的测量信息输入量。</p>
                </div>
                <div class="area_img" id="116">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_116.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 室内WiFi-PDR融合定位算法结构" src="Detail/GetImg?filename=images/JSJC201904012_116.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 室内WiFi-PDR融合定位算法结构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_116.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="117">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_117.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 Android手机数据采集界面" src="Detail/GetImg?filename=images/JSJC201904012_117.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 Android手机数据采集界面</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_117.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="118">根据行人的行走信息进行系统建模, 如式 (16) 所示。</p>
                </div>
                <div class="p1">
                    <p id="119" class="code-formula">
                        <mathml id="119"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mi>k</mi></msub><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>y</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>s</mi><mo>×</mo><mi>cos</mi><mspace width="0.25em" /><mo stretchy="false"> (</mo><mi>θ</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mi>y</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>s</mi><mo>×</mo><mi>sin</mi><mspace width="0.25em" /><mo stretchy="false"> (</mo><mi>θ</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>+</mo><mi mathvariant="bold-italic">W</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>6</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="120">其中, (<i>x</i><sub><i>k</i></sub>, <i>y</i><sub><i>k</i></sub>) 为行人在<i>k</i>时刻的位置, 第一步坐标取WiFi定位坐标, <i>θ</i><sub><i>k</i></sub>为行人在<i>k</i>时刻的方向角, <b><i>W</i></b><sub><i>k</i></sub><sub>-1</sub>为系统过程噪声, <i>s</i>为<i>k</i>时刻的步长。</p>
                </div>
                <div class="p1">
                    <p id="121">由图1的融合定位算法结构可知, 采用PDR每步坐标和方向作为状态输入参数进行EKF主滤波器状态更新。当检测出PDR每步的时刻, 同一时间戳取WiFi的定位坐标和PDR定位的方向角及每步的方向增量作为观测方程。采用WiFi定位结果和PDR定位中的方向角及其变化量作为EKF测量方程的输入参数, 测量方程如式 (17) 所示。</p>
                </div>
                <div class="p1">
                    <p id="122" class="code-formula">
                        <mathml id="122"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">Ζ</mi><msub><mrow></mrow><mi>k</mi></msub><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>y</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mtext>Δ</mtext><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>y</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mtext>Δ</mtext><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub></mtd></mtr><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mi>k</mi></msub><mo>-</mo><mi>θ</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>+</mo><mi mathvariant="bold-italic">V</mi><msub><mrow></mrow><mi>k</mi></msub><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>7</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="123">其中, (<i>x</i><sub><i>k</i></sub>, <i>y</i><sub><i>k</i></sub>) 为<i>k</i>时刻的WiFi定位坐标, Δ<i>θ</i><sub><i>k</i></sub>为行人在<i>k</i>时刻的方向角的变化量, <i>θ</i><sub><i>k</i></sub>、<i>θ</i><sub><i>k</i>-1</sub>分别为行人在<i>k</i>时刻和<i>k</i>-1时刻的方向角, <b><i>V</i></b><sub><i>k</i></sub>为系统观测噪声。</p>
                </div>
                <div class="p1">
                    <p id="124">基于EKF的WiFi-PDR融合定位具体过程为:</p>
                </div>
                <div class="p1">
                    <p id="125">1) 初始化<b><i>X</i></b><sub><i>k</i></sub>、<b><i>Z</i></b><sub><i>k</i></sub>和<b><i>X</i></b><sub><i>k</i></sub>的初始协方差矩阵<b><i>P</i></b><sub><i>k</i></sub>。</p>
                </div>
                <div class="p1">
                    <p id="126">2) 利用式 (16) 的PDR状态信息, 通过式 (15) 计算状态向量的预测值<b><i>X</i></b><sub><i>k</i>/<i>k</i>-1</sub>=<i>φ</i><sub><i>k</i></sub><b><i>X</i></b><sub><i>k</i>-1</sub>。其中, 预测值<b><i>X</i></b><sub><i>k</i>/<i>k</i>-1</sub>初始坐标分量取WiFi定位坐标。</p>
                </div>
                <div class="p1">
                    <p id="127">3) 根据前一步骤数据, 通过式 (15) 、式 (17) 计算当前步数的WiFi坐标、PDR方向角及其增量信息。观测向量的预测值<b><i>Z</i></b><sub><i>k</i>/<i>k</i>-1</sub>=<b><i>H</i></b><sub><i>k</i></sub><b><i>X</i></b><sub><i>k</i>/<i>k</i>-1</sub>。</p>
                </div>
                <div class="p1">
                    <p id="128">4) 通过一阶线性化状态方程求解状态转移矩阵<mathml id="129"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">φ</mi><msub><mrow></mrow><mi>k</mi></msub><mo>≈</mo><mfrac><mrow><mo>∂</mo><mo stretchy="false"> (</mo><mi mathvariant="bold-italic">φ</mi><msub><mrow></mrow><mi>k</mi></msub><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub><mo stretchy="false">) </mo></mrow><mrow><mo>∂</mo><mi mathvariant="bold-italic">X</mi></mrow></mfrac><mo stretchy="false">|</mo><msub><mrow></mrow><mrow><mi mathvariant="bold-italic">X</mi><mo>=</mo><mi mathvariant="bold-italic">X</mi><msub><mrow></mrow><mrow><mi>k</mi><mo>/</mo><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></msub></mrow></math></mathml>。</p>
                </div>
                <div class="p1">
                    <p id="130">5) 通过式 (15) 及前一步骤计算<i>PDR</i>定位信息状态向量, 以预测方差阵<b><i>p</i></b><sub><i>k</i>/<i>k</i>-1</sub>=<i>φ</i><sub><i>k</i></sub><b><i>p</i></b><sub><i>k</i>-1</sub><i>φ</i><sub><i>k</i></sub>+<i>τ</i><sub><i>k</i>-1</sub>·<b><i>Q</i></b><sub><i>k</i></sub><i>τ</i><sup>T</sup><sub><i>k</i>-1</sub>。其中, <b><i>p</i></b><sub><i>k</i>-1</sub>表示初始估计协方差矩阵, 其已知。</p>
                </div>
                <div class="p1">
                    <p id="131">6) 计算增益<b><i>K</i></b><sub><i>k</i></sub>=<b><i>p</i></b><sub><i>k</i>/<i>k</i>-1</sub><b><i>H</i></b><sup>T</sup><sub><i>k</i></sub> (<b><i>H</i></b><sub><i>k</i></sub><b><i>p</i></b><sub><i>k</i>/<i>k</i>-1</sub><b><i>H</i></b><sup>T</sup><sub><i>k</i></sub>+<b><i>R</i></b><sub><i>k</i></sub>) <sup>-1</sup>。</p>
                </div>
                <div class="p1">
                    <p id="132">7) 计算PDR定位状态的估计值<b><i>X</i></b><sub><i>k</i></sub>=<b><i>X</i></b><sub><i>k</i>/<i>k</i>-1</sub>+<b><i>K</i></b><sub><i>k</i></sub> (<b><i>Z</i></b><sub><i>k</i></sub>-<b><i>Z</i></b><sub><i>k</i>/<i>k</i>-1</sub>) 。</p>
                </div>
                <div class="p1">
                    <p id="133">8) 通过前一步骤估计方差阵预测当前状态向量估计方差阵<b><i>P</i></b><sub><i>k</i></sub>= (<b><i>I</i></b>-<b><i>K</i></b><sub><i>k</i></sub><b><i>H</i></b><sub><i>k</i></sub>) <b><i>P</i></b><sub><i>k</i>/<i>k</i>-1</sub>。其中, <b><i>P</i></b><sub><i>k</i>/<i>k</i>-1</sub>和<b><i>P</i></b><sub><i>k</i></sub>是第<i>k</i>时刻预测和估计协方差矩阵。如此循环状态更新和测量更新, 直至输出<b><i>X</i></b><sub><i>k</i></sub>的定位坐标。</p>
                </div>
                <div class="p1">
                    <p id="134">综上所述, 采用改进步态检测方法准确判定步数并启动EKF融合定位, 调用WiFi在线参数采集进行基于改进WKNN算法的WiFi定位。以PDR定位信息作为EKF状态信息的输入, 以WiFi定位信息及PDR定位中方向信息作为EKF的测量信息输入, 利用EKF主滤波器不断更新WiFi和PDR的定位信息, 从而准确地输出定位坐标。</p>
                </div>
                <h3 id="135" name="135" class="anchor-tag">4 定位实验及结果分析</h3>
                <div class="p1">
                    <p id="136">本文选取某校3号教学楼中的2层楼作为实验环境, 场地走廊面积为64 <i>m</i>×3 <i>m</i>, 中间休息厅为8 <i>m</i>×8 <i>m</i>, 如图3所示。在实际环境中选取4个<i>WiFi</i>无线<i>AP</i>作为定位信标, 采用华为荣耀6<i>X</i>手机作为<i>PDR</i>和<i>WiFi</i>数据的采集工具, 分别采用<i>WiFi</i>定位算法、<i>PDR</i>定位算法和<i>WiFi</i>-<i>PDR</i>融合定位算法进行定位实验与分析。</p>
                </div>
                <div class="area_img" id="137">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_137.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 室内定位实验环境" src="Detail/GetImg?filename=images/JSJC201904012_137.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 室内定位实验环境</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_137.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="138" name="138">4.1 基于改进WKNN算法的WiFi定位实验</h4>
                <div class="p1">
                    <p id="139">为验证改进WKNN算法的性能, 选取WiFi指纹库单元网格为4×4 m<sup>2</sup>, 分别在标准差为1 dBm～6 dBm的高斯噪声条件下对KNN算法、WKNN算法和改进的WKNN算法进行定位对比, 每次实验采集300个随机坐标点。图4所示为3种算法的均方根误差对比结果。</p>
                </div>
                <div class="area_img" id="140">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 3种定位算法均方根误差对比" src="Detail/GetImg?filename=images/JSJC201904012_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 3种定位算法均方根误差对比</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="141">从图4可以看出, 在噪声标准差为1 dBm～6 dBm条件下, 本文改进WKNN算法均方根误差均小于KNN算法和WKNN算法。在标准差为3 dBm的噪声下, 改进WKNN算法的定位均方根误差小于2.68 m, 平均定位精度比WKNN算法提高5%, 比KNN算法提高9%。在6 dBm噪声下, 其平均定位精度比WKNN算法提高5.2%, 比KNN算法提高6.8%。</p>
                </div>
                <h4 class="anchor-tag" id="142" name="142">4.2 PDR定位实验</h4>
                <div class="p1">
                    <p id="143">为验证PDR定位的性能, 基于手机实测数据进行PDR单独定位, 其中, 数据更新频率为50 Hz。以<i>A</i>点作为定位初始位置, 在图3所示的实验环境中, 行人从<i>A</i>经过4个直角拐弯<i>BCDE</i>后以匀速走到终点<i>F</i>, 行程为78 m, 实际行走121步。经多次实测实验, 采用多重约束条件的步频检测步数为120, 步数检测准确度达99.2%。实验中对本文改进的多重步态检测及步长修正PDR方法和传统的离线步长估计方法进行对比, 2种方法的PDR定位打点结果如图5所示, 定位误差如图6所示。从图5可以看出, 与传统PDR定位相比, 改进的PDR定位结果更接近实际行走路线, 实际均方根误差仅为1.8 m, 而传统PDR定位方法为3.3 m。从图6可以看出, 由于方向及离线步长估计存在较大的误差, 传统PDR定位最大累积误差达到5.8 m, 在行走过程中无论直行还是在多次拐弯中都有明显的偏移, 拐弯处最大偏差为3.5 m。而改进的PDR定位方法最大累积误差仅为3.1 m, 拐角处最大偏差为2.2 m。可以看出, 改进的PDR定位方法能够显著降低PDR的定位累计误差。</p>
                </div>
                <div class="area_img" id="144">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_144.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 2种PDR定位打点结果" src="Detail/GetImg?filename=images/JSJC201904012_144.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 2种PDR定位打点结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_144.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="145">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 2种PDR定位误差结果" src="Detail/GetImg?filename=images/JSJC201904012_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图6 2种PDR定位误差结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="146" name="146">4.3 基于EKF的WiFi-PDR融合定位实验</h4>
                <div class="p1">
                    <p id="147">对本文WiFi定位算法、PDR定位算法和基于EKF的WiFi-PDR融合定位算法进行定位实验与对比。取WiFi高斯噪声标准差为3 dBm, PDR初始位置为WiFi的定位结果, 在融合定位中, 噪声<b><i>W</i></b><sub><i>k</i></sub><sub>-1</sub>的PDR横坐标协方差为0.134 7, 纵坐标协方差为0.707 5, 方向角协方差为0.050 0。3种算法定位打点结果如图7所示, 定位误差结果如图8所示。</p>
                </div>
                <div class="area_img" id="148">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_148.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 3种算法定位打点结果" src="Detail/GetImg?filename=images/JSJC201904012_148.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图7 3种算法定位打点结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_148.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="149">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201904012_149.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 3种算法定位误差结果" src="Detail/GetImg?filename=images/JSJC201904012_149.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图8 3种算法定位误差结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201904012_149.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="150">从图7可以看出, WiFi定位结果与实际行走轨迹的偏差较大, 其定位随机性较大且精度较低。PDR单独定位误差最大, 原因是PDR以WiFi初始定位结果为初始位置, 存在初始误差和PDR累积误差, 尤其在多次拐弯处偏差较大。与单独WiFi定位或单独PDR定位相比, 基于EKF的WiFi-PDR融合定位结果更加接近实际行走路线, 其定位均方根误差仅为1.7 m, 明显优于WiFi定位 (2.5 m) 和PDR定位 (4.7 m) 。</p>
                </div>
                <div class="p1">
                    <p id="151">从图8可以看出, 在行走第1步～第20步和第95步～第120步的区间内, WiFi定位的稳定性较差, 最大定位误差为4.87 m, 误差波动达到4.42 m。PDR定位由于以WiFi定位为起始定位点而存在初始误差, 加上传感器自身的累计误差, 导致最大误差达到6.1 m, 在拐弯处的误差为5.1 m。基于EKF的WiFi-PDR融合定位误差最小, 平均定位误差为1.52 m, 且在拐弯处定位误差较小, 表明该算法具有较好的鲁棒性和稳定性, 可以改善定位性能。</p>
                </div>
                <h3 id="152" name="152" class="anchor-tag">5 结束语</h3>
                <div class="p1">
                    <p id="153">WiFi定位的精度及稳定性较低, PDR定位存在累积误差, 本文提出一种基于EKF的室内WiFi-PDR融合定位算法。WiFi定位基于改进的WKNN算法, 以解决高斯噪声下的定位回跳问题。PDR定位基于Android手机采集数据, 采用多重约束条件的步态检测和在线步长估计方法, 从而提高步数和步长计算的准确性。采用EKF实现WiFi和PDR的融合定位估计, 进一步提高定位精度。实验结果表明, 与WiFi和PDR单独定位相比, 该融合定位算法精度较高, 可以降低连续定位的累计误差, 具有较好的鲁棒性。下一步将在基于802.11协议的不同WiFi室内环境及噪声时变条件下, 对该融合定位算法进行研究。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD14030300025138&amp;v=MTY0NzVLRFg4eG9CTVQ2VDRQUUgvaXJSZEdlcnFRVE1ud1plWnVIeWptVUxuSUoxOFRhUnM9Tmo3QmFySzhIdExNckk5RlpPaw==&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> CHEN X, PANG J.Measuring query privacy in location-based services[J].Geoinformatica, 2014, 18 (1) :95-133.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Extended kalnan filter for real time indoor localization by fusing Wi Fi and smart phone inertial sensors">

                                <b>[2]</b> DENG Z A, HU Y, YU J, et al.Extended Kalman filter for real time indoor localization by fusing WiFi and smartphone inertial sensors[J].Micromachines, 2015, 6 (4) :523-543.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DKDX201603015&amp;v=MjU5ODc0SDlmTXJJOUVZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6QklTYlBkckc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 周瑞, 袁兴中, 黄一鸣.基于卡尔曼滤波的WiFi-PDR融合室内定位[J].电子科技大学学报, 2016, 45 (3) :399-404.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YQXB201602027&amp;v=MDk2NjhIOWZNclk5SFk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5L2tWTHpCUER6VGJMRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 姚团结, 魏东岩, 袁洪, 等.基于反馈校正的WLAN与PDR融合定位方法研究[J].仪器仪表学报, 2016, 37 (2) :446-453.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZGXJ201704011&amp;v=MDUxMjM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5L2tWTHpCUHlyVFpMRzRIOWJNcTQ5RVpZUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 李楠, 陈家斌, 袁燕.基于WiFi/PDR的室内行人组合定位算法[J].中国惯性技术学报, 2017, 25 (4) :483-487.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WHCH201611022&amp;v=MTY4MTVIWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1ZMekJNaVhJWnJHNEg5Zk5ybzk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 胡安冬, 王坚, 汪云甲, 等.利用渐消自适应EKF算法进行PDR-WiFi融合定位[J].武汉大学学报 (信息科学版) , 2016, 41 (11) :1556-1562.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201703007&amp;v=MzI1NDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1ZMekJNalhTWkxHNEg5Yk1ySTlGWTRRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 汪伦杰, 廖兴宇, 潘伟杰, 等.基于信号均值滤波+k-means+WKNN的Wifi指纹定位算法研究[J].微电子学与计算机, 2017, 34 (3) :30-34.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=ZIL:An energy-efficient indoor localization system using Zig Bee radio to detect Wi Fi fingerprints">

                                <b>[8]</b> NIU J, WANG B, SHU L, et al.ZIL:an energy-efficient indoor localization system using ZigBee radio to detect Wifi fingerprints[J].IEEE Journal on Selected Areas in Communications, 2015, 33 (7) :1431-1442.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An improved WiFi indoor positioning algorithm by weighted fusion">

                                <b>[9]</b> MA R, GUO Q, HU C, et al.An improved WiFi indoor positioning algorithm by weighted fusion[J].Sensors, 2015, 15 (9) :21824-21843.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201504017&amp;v=MDkyOTdMekJMejdCYmJHNEg5VE1xNDlFWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnkva1Y=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 徐潇潇, 谢林柏, 彭力.基于WiFi信号强度特征的室内定位系统设计[J].计算机工程, 2015, 41 (4) :87-91.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An indoor continuous positioning algorithm on the move by fusing sensors and WIFI on smartphones">

                                <b>[11]</b> LI H, CHEN X, JING G, et al.An indoor continuous positioning algorithm on the move by fusing sensors and Wi-Fi on smartphones[J].Sensors, 2015, 15 (12) :31244-31267.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Reliable and Accurate Indoor Localization Method Using Phone Inertial Sensors">

                                <b>[12]</b> LI F, ZHAO C, DING G, et al.A reliable and accurate indoor localization method using phone inertial sensors[C]//Proceedings of 2012 ACM Conference on Ubiquitous Computing.New York, USA:ACM Press, 2012:421-430.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Bluetooth/PDR Integration Algorithm for an Indoor Positioning System">

                                <b>[13]</b> LI X, WANG J, LIU C.A Bluetooth/PDR integration algorithm for an indoor positioning system[J].Sensors, 2015, 15 (10) :24862-24885.
                            </a>
                        </p>
                        <p id="29">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHXB201512004&amp;v=MTg3Nzh6QkppWFRiTEc0SDlUTnJZOUZZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkw=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b> 陈国良, 张言哲, 汪云甲, 等.WiFi-PDR室内组合定位的无迹卡尔曼滤波算法[J].测绘学报, 2015, 44 (12) :1314-1321.
                            </a>
                        </p>
                        <p id="31">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXWX201603036&amp;v=MjE3NDg2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeS9rVkx6QlBUWGNkckc0SDlmTXJJOUdZb1FLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 吕国宏, 秦品乐, 苗启广, 等.基于多新息理论的EKF算法研究[J].小型微型计算机系统, 2016, 37 (3) :576-580.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJC201904012" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201904012&amp;v=MDQwNTh0R0ZyQ1VSTE9lWmVSb0Z5L2tWTHpPTHo3QmJiRzRIOWpNcTQ5RVpvUUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdWa2FjcW9vRlJTQ2JLUmN2amRwVFpsWThsTT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
