<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637130632365431250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJC201903024%26RESULT%3d1%26SIGN%3d63fxRXgKnZAa695ZuluHpDXK9aE%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201903024&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201903024&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201903024&amp;v=MzEyMDhIOWpNckk5SFlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MTHo3QmJiRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#35" data-title="0 概述 ">0 概述</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#39" data-title="1 理论基础 ">1 理论基础</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#40" data-title="1.1 TTE协议">1.1 TTE协议</a></li>
                                                <li><a href="#44" data-title="1.2 1588协议">1.2 1588协议</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#50" data-title="2 频率漂移估计与偏差估计模型 ">2 频率漂移估计与偏差估计模型</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#67" data-title="3 误差分析 ">3 误差分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#69" data-title="3.1 TTE同步误差的理论分析">3.1 TTE同步误差的理论分析</a></li>
                                                <li><a href="#89" data-title="3.2 1588同步误差的理论分析">3.2 1588同步误差的理论分析</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#104" data-title="4 测试结果与分析 ">4 测试结果与分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#106" data-title="4.1 仿真环境">4.1 仿真环境</a></li>
                                                <li><a href="#108" data-title="4.2 结果分析">4.2 结果分析</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#112" data-title="5 结束语 ">5 结束语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#46" data-title="&lt;b&gt;图1 1588协议时间同步原理&lt;/b&gt;"><b>图1 1588协议时间同步原理</b></a></li>
                                                <li><a href="#52" data-title="&lt;b&gt;图2 TTE多跳网络主从节点时间戳信息包交换过程&lt;/b&gt;"><b>图2 TTE多跳网络主从节点时间戳信息包交换过程</b></a></li>
                                                <li><a href="#88" data-title="&lt;b&gt;图3 TTE协议时间同步理论修正值示意图&lt;/b&gt;"><b>图3 TTE协议时间同步理论修正值示意图</b></a></li>
                                                <li><a href="#103" data-title="&lt;b&gt;图4 1588协议时间同步理论修正值示意图&lt;/b&gt;"><b>图4 1588协议时间同步理论修正值示意图</b></a></li>
                                                <li><a href="#110" data-title="&lt;b&gt;图5 2种时间同步算法的均值与标准差结果&lt;/b&gt;"><b>图5 2种时间同步算法的均值与标准差结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" HEFFERNAN D, DOYLE P.Time-triggered Ethernet based on IEEE 1588 clock synchronisation[J].Assembly Automation, 2004, 24 (3) :264-269." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJEM&amp;filename=SJEM00000020368&amp;v=MTQ4NzVoNGo5OVNYcVJyeG94Y01IN1I3cWVidWR0RkM3bFZiN09JRjA9TmlmT1k3TzRIdEhNcjQxRlorMEhZM2s1ekJk&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         HEFFERNAN D, DOYLE P.Time-triggered Ethernet based on IEEE 1588 clock synchronisation[J].Assembly Automation, 2004, 24 (3) :264-269.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" ADEMAJ A.Time-triggered Ethernet and IEEE 1588 clock synchronization[C]//Proceedings of IEEE International Symposium on Precision Clock Synchronization for Measurement.Washington D.C., USA:IEEE Press, 2007:152-156." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time-triggered Ethernet and IEEE 1588 clock synchronization">
                                        <b>[2]</b>
                                         ADEMAJ A.Time-triggered Ethernet and IEEE 1588 clock synchronization[C]//Proceedings of IEEE International Symposium on Precision Clock Synchronization for Measurement.Washington D.C., USA:IEEE Press, 2007:152-156.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 周思捷.基于IEEE 1588无线网络时间同步技术研究[D].上海:上海交通大学, 2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013021976.nh&amp;v=MDI1NjFyQ1VSTE9lWmVSb0Z5N2tWYi9MVkYyNkhiTzZIOWpMcVpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         周思捷.基于IEEE 1588无线网络时间同步技术研究[D].上海:上海交通大学, 2013.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" MAHMOOD A, EXEL R, SAUTER T.Delay and jitter characterization for software-based clock synchronization over WLAN using PTP[J].IEEE Transactions on Industrial Informatics, 2014, 10 (2) :1198-1206." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Delay and jitter characterization for software-based clock synchronization over WLAN using PTP">
                                        <b>[4]</b>
                                         MAHMOOD A, EXEL R, SAUTER T.Delay and jitter characterization for software-based clock synchronization over WLAN using PTP[J].IEEE Transactions on Industrial Informatics, 2014, 10 (2) :1198-1206.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 赵琪, 赵怀林.一种TTE终端系统内部时间同步系统及方法:CN107147467A[P].2017-09-08." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SCPD&amp;filename=CN107147467A&amp;v=MDQwOTRnMEMrNFBEMzFMeHhZVDZ6b09TM2ZtcFdGYWU3S1ZUTHVkWmVGdUVTbmpVN3c9SmlPNkhyUzVHdGJJcVk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         赵琪, 赵怀林.一种TTE终端系统内部时间同步系统及方法:CN107147467A[P].2017-09-08.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 刘晚春, 李峭, 何锋, 等.时间触发以太网同步及调度机制的研究[J].航空计算技术, 2011, 41 (4) :122-127." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201104034&amp;v=MjY0NzQ5R1lJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MTFNiQlpMRzRIOURNcTQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         刘晚春, 李峭, 何锋, 等.时间触发以太网同步及调度机制的研究[J].航空计算技术, 2011, 41 (4) :122-127.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" KOPETZ H, ADEMAJ A, GRILLINGER P, et al.The Time-triggered Ethernet (TTE) design[C]//Proceedings of the 8th IEEE International Symposium on Object-oriented Real-time Distributed Computing.Washington D.C., USA:IEEE Computer Society, 2005:22-33." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The Time-Triggered Ethernet (TTE) Design">
                                        <b>[7]</b>
                                         KOPETZ H, ADEMAJ A, GRILLINGER P, et al.The Time-triggered Ethernet (TTE) design[C]//Proceedings of the 8th IEEE International Symposium on Object-oriented Real-time Distributed Computing.Washington D.C., USA:IEEE Computer Society, 2005:22-33.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" AS6802.Time-triggered Ethernet[S].Warrendale, USA:SAE Aerospace, 2011." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Time-triggered ethernet">
                                        <b>[8]</b>
                                         AS6802.Time-triggered Ethernet[S].Warrendale, USA:SAE Aerospace, 2011.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 陈金凤, 华宇, 孙中尉.IEEE 1588 v2透明时钟研究与实现[J].宇航计测技术, 2013, 33 (3) :11-16." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YHJJ201303005&amp;v=MDE0NjBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MUENYQlpMRzRIOUxNckk5RllZUUs=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         陈金凤, 华宇, 孙中尉.IEEE 1588 v2透明时钟研究与实现[J].宇航计测技术, 2013, 33 (3) :11-16.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 王照伟.基于IEEE 1588协议的多跳无线网络时间同步方法[J].中国科学:信息科学, 2016, 46 (6) :777-788." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=PZKX201606007&amp;v=MjMzMjBGckNVUkxPZVplUm9GeTdrVmIvTE5UZkFkckc0SDlmTXFZOUZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         王照伟.基于IEEE 1588协议的多跳无线网络时间同步方法[J].中国科学:信息科学, 2016, 46 (6) :777-788.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" HAN J, JEONG D K.Practical considerations in the design and implementation of time synchronization systems using IEEE 1588[J].IEEE Communications Magazine, 2009, 47 (11) :165-170." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Practical considerations in the design and implementation of time synchronization systems using IEEE 1588">
                                        <b>[11]</b>
                                         HAN J, JEONG D K.Practical considerations in the design and implementation of time synchronization systems using IEEE 1588[J].IEEE Communications Magazine, 2009, 47 (11) :165-170.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" 陈旿, 孙建华, 于振兴, 等.基于IEEE 1588的无线传感器网络时钟同步方法[J].系统工程与电子技术, 2014, 36 (3) :564-574." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYD201403025&amp;v=MTIzNzBYTXJJOUhZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeTdrVmIvTFBUblNhckc0SDk=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         陈旿, 孙建华, 于振兴, 等.基于IEEE 1588的无线传感器网络时钟同步方法[J].系统工程与电子技术, 2014, 36 (3) :564-574.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_13" title=" 常夏勤.IEEE 1588时间同步协议分析与实现[D].南京:南京大学, 2011." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011126037.nh&amp;v=MTU4NDZLNkdOSFBxSkViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnk3a1ZiL0xWRjI2SDc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                         常夏勤.IEEE 1588时间同步协议分析与实现[D].南京:南京大学, 2011.
                                    </a>
                                </li>
                                <li id="29">


                                    <a id="bibliography_14" title=" GIORGI G, NARDUZZI C.Performance analysis of Kalman-filter-based clock synchronization in IEEE 1588 networks[J].IEEE Transactions on Instrumentation and Measurement, 2011, 60 (8) :2902-2909." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Performance Analysis of Kalman-Filter-Based Clock Synchronization in IEEE 1588 Networks">
                                        <b>[14]</b>
                                         GIORGI G, NARDUZZI C.Performance analysis of Kalman-filter-based clock synchronization in IEEE 1588 networks[J].IEEE Transactions on Instrumentation and Measurement, 2011, 60 (8) :2902-2909.
                                    </a>
                                </li>
                                <li id="31">


                                    <a id="bibliography_15" title=" MAHMOOD A, EXEL R.Servo design for improved performance in software timestamping-assisted WLAN synchronization using IEEE 1588[C]//Proceedings of Emerging Technologies and Factory Automation.Washington D.C., USA:IEEE Press, 2013:1-8." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Servo design for improved performance in software timestamping-assisted WLAN synchronization using IEEE 1588">
                                        <b>[15]</b>
                                         MAHMOOD A, EXEL R.Servo design for improved performance in software timestamping-assisted WLAN synchronization using IEEE 1588[C]//Proceedings of Emerging Technologies and Factory Automation.Washington D.C., USA:IEEE Press, 2013:1-8.
                                    </a>
                                </li>
                                <li id="33">


                                    <a id="bibliography_16" title=" 王梦迪, 王彤, 何锋, 等.时间触发以太网时钟同步的仿真与性能验证[J].电光与控制, 2014, 21 (12) :13-26." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DGKQ201412014&amp;v=MDEzMDBGckNVUkxPZVplUm9GeTdrVmIvTElTckFmN0c0SDlYTnJZOUVZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[16]</b>
                                         王梦迪, 王彤, 何锋, 等.时间触发以太网时钟同步的仿真与性能验证[J].电光与控制, 2014, 21 (12) :13-26.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJC" target="_blank">计算机工程</a>
                2019,45(03),138-141+147 DOI:10.19678/j.issn.1000-3428.0049809            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于IEEE 1588协议的时间触发以太网同步算法</b></span>
 <span class="shoufa"></span>                                     </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%B5%B5%E7%90%AA&amp;code=38590521&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">赵琪</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%B5%B5%E6%80%80%E6%9E%97&amp;code=35333618&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">赵怀林</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%A5%9D%E6%B3%A2&amp;code=38590522&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">祝波</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%8A%E6%B5%B7%E5%BA%94%E7%94%A8%E6%8A%80%E6%9C%AF%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E4%B8%8E%E7%94%B5%E6%B0%94%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=1699582&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">上海应用技术大学电子与电气工程学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E7%B3%BB&amp;code=0187103&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">清华大学计算机科学与技术系</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>基于IEEE 1588时间同步的时间触发以太网 (TTE) 解决数据传输延迟的不确定性问题时, 未考虑时间戳精度对IEEE 1588协议同步精度的影响。为此, 建立一种频率漂移估计与偏差估计模型, 计算时间戳精度对IEEE 1588协议同步精度的影响大小, 并在理论上推导TTE协议时间同步与IEEE 1588协议时间同步的误差。实验结果表明, 当时间戳精度达到0.1μs或更高时, 相对标准TTE时间同步算法, 基于IEEE 1588协议的TTE网络具有更高的时间同步精度。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=IEEE%201588%E5%8D%8F%E8%AE%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">IEEE 1588协议;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时间同步;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E9%97%B4%E8%A7%A6%E5%8F%91%E4%BB%A5%E5%A4%AA%E7%BD%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时间触发以太网;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%90%8C%E6%AD%A5%E8%AF%AF%E5%B7%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">同步误差;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E9%97%B4%E6%88%B3%E7%B2%BE%E5%BA%A6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时间戳精度;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    赵琪 (1991—) , 女, 硕士, 主研方向为网络通信协议;;
                                </span>
                                <span>
                                    赵怀林, 教授;;
                                </span>
                                <span>
                                    祝波, 硕士。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2017-12-22</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金 (61603210);</span>
                    </p>
            </div>
                    <h1><b>Time-triggered Ethernet Synchronization Algorithm Based on IEEE 1588 Protocol</b></h1>
                    <h2>
                    <span>ZHAO Qi</span>
                    <span>ZHAO Huailin</span>
                    <span>ZHU Bo</span>
            </h2>
                    <h2>
                    <span>School of Electrical and Electronic Engineering, Shanghai Institute of Technology</span>
                    <span>Department of Computer Science and Technology, Tsinghua University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Time-triggered Ethernet (TTE) based on time synchronization of IEEE 1588 solves the uncertainty problem of data transmission delay without considering the effect of timestamp accuracy on the synchronization accuracy of the IEEE 1588 protocol.To solve this problem, a frequency drift estimation and bias estimation model is established to calculate the impact of time stamp accuracy on the synchronization accuracy of the IEEE 1588 protocol, and the error of time synchronization between TTE protocol and the IEEE 1588 protocol is deduced theoretically.Experimental results show that the TTE network based on IEEE 1588 protocol has higher time synchronization accuracy than the standard TTE time synchronization algorithm when the timestamp accuracy reaches 0.1 μs or higher.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=IEEE%201588%20protocol&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">IEEE 1588 protocol;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=time%20synchronization&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">time synchronization;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Time-triggered%20Ethernet%20(TTE)%20&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Time-triggered Ethernet (TTE) ;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=synchronization%20error&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">synchronization error;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=timestamp%20accuracy&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">timestamp accuracy;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2017-12-22</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="35" name="35" class="anchor-tag">0 概述</h3>
                <div class="p1">
                    <p id="36">在实时工业以太网没有设定正式标准时, 文献<citation id="114" type="reference">[<a class="sup">1</a>]</citation>提出通过IEEE 1588 (以下简称1588) 时钟同步标准控制实时传感网络集群的时间同步, 从而实现时间触发以太网 (Time-triggered Ethernet, TTE) 。当时, TTE网络中的节点按照时隙发送消息, 采用相互排斥的总线片段分配不同的信息, 以避免相互冲突。</p>
                </div>
                <div class="p1">
                    <p id="37">随着工业技术的发展, 通信系统中传输延迟的不确定性问题成为人们广泛关注的热点。为解决该问题, 文献<citation id="115" type="reference">[<a class="sup">2</a>]</citation>提出将1588协议应用到TTE中, 并列举具体的应用和实施场景, 如TTE网络中有外接时钟源、网络中含有除TTE控制器以外的控制器, 以及由总线控制TTE交换机输入输出的网络等使系统中含有不确定通信延迟的情形。这些将1588协议与TTE相结合的研究成果为后人的进一步探究提供了理论和实践基础。</p>
                </div>
                <div class="p1">
                    <p id="38">1588时间同步的精度与时间戳的精度密切相关<citation id="118" type="reference"><link href="7" rel="bibliography" /><link href="9" rel="bibliography" /><sup>[<a class="sup">3</a>,<a class="sup">4</a>]</sup></citation>, 本文以此为出发点, 设计一种模型计算该影响大小。其中, 网络节点在物理结构上采用文献<citation id="116" type="reference">[<a class="sup">1</a>]</citation>中第2种实现结构:配置FPGA TTE控制器, 使之带有能实施1588同步协议的通信网络接口 (Communication Network Interface, CNI) , 可以根据需要设置不同精度的时钟源调节时间戳精度。带有1588协议的TTE节点实现过程参考文献<citation id="117" type="reference">[<a class="sup">5</a>]</citation>, 在TTE网络中相应的节点根据时钟同步的功能担任同步主节点 (SM) 、同步客户端 (SC) 或压缩主节点 (CM) 的角色, 这些角色既可以由交换机充当, 也可以由端系统充当<citation id="119" type="reference"><link href="13" rel="bibliography" /><link href="15" rel="bibliography" /><sup>[<a class="sup">6</a>,<a class="sup">7</a>]</sup></citation>。</p>
                </div>
                <h3 id="39" name="39" class="anchor-tag">1 理论基础</h3>
                <h4 class="anchor-tag" id="40" name="40">1.1 TTE协议</h4>
                <div class="p1">
                    <p id="41">目前, TTE时间同步方法主要按照文献<citation id="120" type="reference">[<a class="sup">8</a>]</citation>所描述的过程进行时间同步:</p>
                </div>
                <div class="p1">
                    <p id="42">1) 同步主节点在需同步的时刻向压缩主节点发送PCF帧。压缩主节点收到PCF帧后, 运行时序保持算法以还原成节点发送的顺序, 即读取PCF中的透明时钟。然后等待一定的时长, 使所有节点的通信时延达到相同的值, 该值称为最大通信时延。</p>
                </div>
                <div class="p1">
                    <p id="43">2) 压缩主节点计算出一个折中的时钟, 这里采用的折中方法是取第<i>k</i>个最大值和第<i>k</i>个最小值进行平均, 在计算得到的时刻发出PCF帧, 再发送给其他同步节点, 同步节点收到该PCF帧后, 按照校正值更新自身的本地时钟。</p>
                </div>
                <h4 class="anchor-tag" id="44" name="44">1.2 1588协议</h4>
                <div class="p1">
                    <p id="45">1588协议主要通过主时钟与从时钟之间交换同步报文, 以传递报文的发送与接收精确时戳, 从而与主时钟达到同步。在1588 V2中定义了2个机制:偏移测量机制和延迟测量机制 (点对点延迟机制) , 在不同的组网情况下, 2种机制独立或组合实现时钟同步<citation id="121" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。偏移测量机制修正主时钟与从时钟之间的相位偏差, 该过程称为偏移测量。延迟测量机制计算主从时钟之间报文传递的链路延迟, 该过程称为延迟测量。1588协议通过图1所示的原理计算偏差与延迟, 以进行时间同步。</p>
                </div>
                <div class="area_img" id="46">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201903024_046.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 1588协议时间同步原理" src="Detail/GetImg?filename=images/JSJC201903024_046.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 1588协议时间同步原理</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201903024_046.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="47">1588协议具体的同步过程参考文献<citation id="122" type="reference">[<a class="sup">10</a>,<a class="sup">11</a>]</citation>。由1588协议时间同步原理可知, 从时钟相对于主时钟的偏差<i>T</i><sub>delay</sub>和时延<i>T</i><sub>offset</sub>计算公式分别为:</p>
                </div>
                <div class="p1">
                    <p id="48" class="code-formula">
                        <mathml id="48"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>{</mo><mrow><mtable><mtr><mtd columnalign="left"><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>d</mtext><mtext>e</mtext><mtext>l</mtext><mtext>a</mtext><mtext>y</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>s</mi><mn>1</mn></mrow></msub><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>m</mi><mn>1</mn></mrow></msub><mo stretchy="false">) </mo><mo>+</mo><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>m</mi><mn>2</mn></mrow></msub><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>s</mi><mn>2</mn></mrow></msub><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac></mtd></mtr><mtr><mtd columnalign="left"><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>o</mtext><mtext>f</mtext><mtext>f</mtext><mtext>s</mtext><mtext>e</mtext><mtext>t</mtext></mrow></msub><mo>=</mo><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>s</mi><mn>1</mn></mrow></msub><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mi>m</mi><mn>1</mn></mrow></msub><mo stretchy="false">) </mo><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>d</mtext><mtext>e</mtext><mtext>l</mtext><mtext>a</mtext><mtext>y</mtext></mrow></msub></mtd></mtr></mtable></mrow></mrow><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="49">对于不对称网络, 已有研究并未考虑因网络的不对称性造成的时间偏差, 本文将对该问题提出解决方案。</p>
                </div>
                <h3 id="50" name="50" class="anchor-tag">2 频率漂移估计与偏差估计模型</h3>
                <div class="p1">
                    <p id="51">本文采用卡尔曼滤波算法对从时钟频率漂移和时间偏差进行估计, TTE多跳网络如图2所示。按照1588 V2 PTP透明时钟的同步方式, 假设node1为主节点, 其向所有其他节点发送同步信息。以node1与node8同步过程为例, node1在<i>T</i><sub><i>m</i></sub> (1) 时刻向node8发送sync信息, 该信息经过多台TTE交换机的转发, 到达node8, 记数据帧进入第<i>n</i>个交换机的时间为<i>TS</i>′<sub>2</sub>, 输出时间为<i>TS</i><sub>2<i>n</i></sub>, 到达目的节点node8时, 时间为<i>T</i><sub><i>s</i></sub> (1) 。node8在<i>T</i><sub><i>s</i></sub> (1) 时刻产生一个delay_req帧, 发送给源节点, 途径的交换机依次记录其进出时间<i>TS</i>′<sub>1</sub>、<i>TS</i>′<sub>2</sub>等。node1在<i>T</i><sub><i>m</i></sub> (2) 时刻接收到delay_req帧, 并产生一个包含node1实际接收delay_req时刻的delay_resp帧。</p>
                </div>
                <div class="area_img" id="52">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201903024_052.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 TTE多跳网络主从节点时间戳信息包交换过程" src="Detail/GetImg?filename=images/JSJC201903024_052.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 TTE多跳网络主从节点时间戳信息包交换过程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201903024_052.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="53">由图2可知, 参考节点node1向节点node8发送同步信息sync时, 经过多级交换机, 透明时钟总的驻留时间为:</p>
                </div>
                <div class="p1">
                    <p id="54"><i>CF</i>=<i>TS</i><sub>2</sub>-<i>TS</i><sub>1</sub>+<i>TS</i><sub>4</sub>-<i>TS</i><sub>3</sub>+…+<i>TS</i><sub>2<i>n</i></sub>-<i>TS</i><sub>2<i>n</i>-1</sub>      (2) </p>
                </div>
                <div class="p1">
                    <p id="55"><i>CF</i>′=<i>TS</i>′<sub>2</sub>-<i>TS</i>′<sub>1</sub>+<i>TS</i>′<sub>4</sub>-<i>TS</i>′<sub>3</sub>+…+<i>TS</i>′<sub>2<i>n</i></sub>-<i>TS</i>′<sub>2<i>n</i>-1</sub>      (3) </p>
                </div>
                <div class="p1">
                    <p id="56">考虑到参考节点的时钟漂移, 根据1588协议进行第<i>n</i>次时间同步后, 主从时钟时间偏差与时钟漂移分别为:</p>
                </div>
                <div class="p1">
                    <p id="57" class="code-formula">
                        <mathml id="57"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>θ</mi><msub><mrow></mrow><mi>Μ</mi></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo></mtd></mtr><mtr><mtd><mfrac><mrow><mo stretchy="false">[</mo><mi>Τ</mi><msub><mrow></mrow><mi>m</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo stretchy="false">) </mo><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mi>s</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo stretchy="false">) </mo><mo>-</mo><mi>C</mi><mi>F</mi><mo stretchy="false">]</mo><mo>-</mo><mo stretchy="false">[</mo><mi>Τ</mi><msub><mrow></mrow><mi>s</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mi>m</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo>-</mo><mi>C</mi><msup><mi>F</mi><mo>′</mo></msup><mo stretchy="false">]</mo></mrow><mn>2</mn></mfrac><mo>=</mo></mtd></mtr><mtr><mtd><mfrac><mrow><mo stretchy="false">[</mo><mi>Τ</mi><msub><mrow></mrow><mi>m</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo stretchy="false">) </mo><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mi>s</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo stretchy="false">) </mo><mo stretchy="false">]</mo><mo>-</mo><mo stretchy="false">[</mo><mi>Τ</mi><msub><mrow></mrow><mi>s</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo>-</mo><mi>Τ</mi><msub><mrow></mrow><mi>m</mi></msub><mo stretchy="false"> (</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo stretchy="false">]</mo></mrow><mn>2</mn></mfrac><mo>+</mo><mtext>Δ</mtext><mi>o</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mi>s</mi><msub><mrow></mrow><mi>Μ</mi></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo><mfrac><mrow><mi>θ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>-</mo><mi>θ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo>-</mo><mn>1</mn><mo stretchy="false">) </mo></mrow><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>y</mtext><mtext>n</mtext><mtext>c</mtext></mrow></msub></mrow></mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>5</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="58">其中, Δ<i>o</i>= (<i>CF</i>′-<i>CF</i>) /2, 表示由信息在网络设备中来回传输的驻留时间不同所引起的时间偏差。</p>
                </div>
                <div class="p1">
                    <p id="59">上述理论充分考虑从时钟的计时不确定性以及网络链路的非对称性传播时延对同步效果的影响。但是, 从时钟获得的时间信息具有较大的不确定性, 直接通过观测值对从时钟的时间偏差和时钟漂移进行修正时将存在较大误差<citation id="124" type="reference"><link href="25" rel="bibliography" /><link href="27" rel="bibliography" /><sup>[<a class="sup">12</a>,<a class="sup">13</a>]</sup></citation>。因此, 本文通过卡尔曼滤波对观测值进行处理, 以获得高精度的时间估计<citation id="123" type="reference"><link href="29" rel="bibliography" /><sup>[<a class="sup">14</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="60">以1588协议的输出作为卡尔曼滤波器的输入, 滤波器的输出为精确的时间偏差与时钟漂移修正值。从时钟的时间偏差和时钟漂移分别为:</p>
                </div>
                <div class="p1">
                    <p id="61"><i>θ</i> (<i>k</i>+1) =<i>θ</i> (<i>k</i>) +<i>s</i> (<i>k</i>) ·<i>T</i><sub>sync</sub> (<i>k</i>) +<i>w</i> (<i>k</i>)      (6) </p>
                </div>
                <div class="p1">
                    <p id="62"><i>s</i> (<i>k</i>+1) =<i>s</i> (<i>k</i>) +<i>w</i><sub><i>s</i></sub> (<i>k</i>)      (7) </p>
                </div>
                <div class="p1">
                    <p id="63">假设节点在第<i>k</i>次同步后, 其时间偏差和时钟漂移的修正值为<i>u</i><sub><i>θ</i></sub> (<i>k</i>) 、<i>u</i><sub><i>s</i></sub> (<i>k</i>) , 则有:</p>
                </div>
                <div class="p1">
                    <p id="64"><i>θ</i> (<i>k</i>+1) =<i>θ</i> (<i>k</i>) -<i>u</i><sub><i>θ</i></sub> (<i>k</i>) + (<i>s</i> (<i>k</i>) -<i>u</i><sub><i>s</i></sub> (<i>k</i>) ) ·<i>T</i><sub>sync</sub> (<i>k</i>) +<i>w</i><sub><i>θ</i></sub> (<i>k</i>) </p>
                </div>
                <div class="p1">
                    <p id="66"><i>s</i> (<i>k</i>+1) =<i>s</i> (<i>k</i>) -<i>u</i><sub><i>s</i></sub> (<i>k</i>) +<i>w</i><sub><i>s</i></sub> (<i>k</i>) </p>
                </div>
                <h3 id="67" name="67" class="anchor-tag">3 误差分析</h3>
                <div class="p1">
                    <p id="68">针对基于1588协议的TTE同步系统, 本文采用数学归纳法对1588协议和TTE协议的同步误差进行分析。</p>
                </div>
                <h4 class="anchor-tag" id="69" name="69">3.1 TTE同步误差的理论分析</h4>
                <div class="p1">
                    <p id="70">对于TTE网络, 假设其中有<i>n</i>个SM节点, 网络的余度为<i>k</i>, 选择一个TTE交换机作为CM, 其余为SC节点, 网络最大传输延迟设为<i>C</i>, 同步周期为<i>T</i><sub>sync</sub>, SM<sub><i>i</i></sub>节点时钟漂移设为<i>α</i><sub><i>i</i></sub>。假设时钟漂移在一个同步周期内恒定, CM所接收的PCF帧中, 记第<i>k</i>个最大值和第<i>k</i>个最小值分别为<i>τ</i><sub>SM1</sub>和<i>τ</i><sub>SM2</sub>。同步过程如下:</p>
                </div>
                <div class="p1">
                    <p id="71">SM1、SM2在时钟为0时向CM发送PCF帧, 在时钟值为<i>C</i>时接收到CM发送的新PCF帧, 并在完全收到PCF帧的时刻更新自身的本地时钟。进行第2次时间同步时, SM1、SM2在本地时钟为<i>T</i><sub>sync</sub>时向CM发送PCF帧, 在<i>T</i><sub>sync</sub>+<i>C</i>时刻接收到新的PCF帧, 并修正自身的本地时钟。以此类推, 该过程转化成数学表达式如下:</p>
                </div>
                <div class="p1">
                    <p id="72">第1次时间同步, CM计算出同步时钟值为:</p>
                </div>
                <div class="p1">
                    <p id="73" class="code-formula">
                        <mathml id="73"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mi>Ζ</mi><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo><mo>=</mo></mrow><mfrac><mrow><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>1</mn></mrow></msub><mo>+</mo><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>2</mn></mrow></msub></mrow><mn>2</mn></mfrac></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="74">第2次时间同步, SM1的时钟偏差为:</p>
                </div>
                <div class="p1">
                    <p id="75"><i>τ</i><sub>SM1</sub>=<i>Z</i> (1) +<i>α</i><sub>1</sub> (<i>T</i><sub>sync</sub>-<i>C</i>) </p>
                </div>
                <div class="p1">
                    <p id="76"><i>C</i>=2·<i>max</i>_<i>transmission</i>_<i>delay</i>+<i>CM</i>_<i>dwell</i>_<i>time</i></p>
                </div>
                <div class="p1">
                    <p id="77">其中, <i>max</i>_<i>transmission</i>_<i>delay</i>为网络中的最大传输延迟, 该参数为离线估计所得, <i>CM</i>_<i>dwell</i>_<i>time</i>为PCF帧在CM中驻留的总时间。</p>
                </div>
                <div class="p1">
                    <p id="78">SM2的时钟偏差为<i>τ</i><sub>SM2</sub>=<i>Z</i> (1) +<i>α</i><sub>2</sub> (<i>T</i><sub>sync</sub>-<i>C</i>) , 则第2次时钟同步值为:</p>
                </div>
                <div class="p1">
                    <p id="79" class="code-formula">
                        <mathml id="79"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ζ</mi><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo><mo>=</mo><mfrac><mrow><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>1</mn></mrow></msub><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo><mo>+</mo><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>2</mn></mrow></msub><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac><mo>=</mo><mi>Ζ</mi><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo><mo>+</mo><mfrac><mrow><mi>α</mi><msub><mrow></mrow><mn>1</mn></msub><mo>+</mo><mi>α</mi><msub><mrow></mrow><mn>2</mn></msub></mrow><mn>2</mn></mfrac><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>y</mtext><mtext>n</mtext><mtext>c</mtext></mrow></msub><mo>-</mo><mi>C</mi><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="80">则第<i>k</i>次时钟同步值为:</p>
                </div>
                <div class="p1">
                    <p id="81" class="code-formula">
                        <mathml id="81"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>Ζ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo><mfrac><mrow><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>1</mn></mrow></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>+</mo><mi>τ</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Μ</mtext><mn>2</mn></mrow></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac><mo>=</mo><mi>Ζ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo>-</mo><mn>1</mn><mo stretchy="false">) </mo><mo>+</mo></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><mtext> </mtext></mrow><mfrac><mrow><mi>α</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>+</mo><mi>α</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>y</mtext><mtext>n</mtext><mtext>c</mtext></mrow></msub><mo>-</mo><mi>C</mi><mo stretchy="false">) </mo><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>8</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="82">当SM<sub><i>i</i></sub>为标准时钟时, 其时钟漂移为<i>α</i><sub><i>i</i></sub>=0。</p>
                </div>
                <div class="p1">
                    <p id="83">由误差公式的递推方程式 (8) 移位求和可知:</p>
                </div>
                <div class="p1">
                    <p id="84" class="code-formula">
                        <mathml id="84"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ζ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>y</mtext><mtext>n</mtext><mtext>c</mtext></mrow></msub><mo>-</mo><mi>C</mi><mo stretchy="false">) </mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><mfrac><mrow><mi>α</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false"> (</mo><mi>i</mi><mo stretchy="false">) </mo><mo>+</mo><mi>α</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false"> (</mo><mi>i</mi><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac></mrow></mstyle><mo>+</mo><mfrac><mrow><mi>α</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo><mo>+</mo><mi>α</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow><mn>2</mn></mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>9</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="85">当主节点时钟为理想时钟时, <mathml id="86"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><munder><mstyle mathsize="140%" displaystyle="true"><mrow><mi>lim</mi></mrow></mstyle><mrow><mi>k</mi><mo>→</mo><mi>∞</mi></mrow></munder><mi>Ζ</mi><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo><mn>0</mn></mrow></math></mathml>。在实际应用中, 节点的偏差与<i>SM</i>节点的α<sub>i</sub>有关。</p>
                </div>
                <div class="p1">
                    <p id="87"><i>TTE</i>同步协议误差的理论分析结果如图3所示, 其中, 设定同步周期为100 <i>μs</i>。</p>
                </div>
                <div class="area_img" id="88">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201903024_088.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 TTE协议时间同步理论修正值示意图" src="Detail/GetImg?filename=images/JSJC201903024_088.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 TTE协议时间同步理论修正值示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201903024_088.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="89" name="89">3.2 1588同步误差的理论分析</h4>
                <div class="p1">
                    <p id="90">在1588协议中, 时间用0～<i>C</i>1表示。在执行协议的过程中, 从时钟在<i>C</i>1处进行时钟修正。从<i>C</i>1到第2次同步周期开始期间, 从时钟按照时钟修正后的频率运行。特别地, 在<i>C</i> (<i>n</i>) 处图形会产生间断点, 这是由于时钟在<i>C</i> (<i>n</i>) 处更新, 偏差的修正具有跳变性, 对不连续的点求对数, 即会产生间断点, 但该过程并不影响同步误差的求解。</p>
                </div>
                <div class="p1">
                    <p id="91">由1588协议及卡尔曼滤波算法可以计算出从时钟与主时钟之间的频率偏移量和时间偏移量, 由式 (5) 可以得出<i>s</i> (<i>k</i>) 。记<i>C</i> (<i>k</i>) 为第<i>k</i>次时间同步时的从时钟更新的时间点, 则进行第1次时间同步时, 时间偏差为:</p>
                </div>
                <div class="p1">
                    <p id="92"><i>error</i> (1) =<i>α</i> (1) ·<i>C</i> (1) -<i>θ</i> (1) </p>
                </div>
                <div class="p1">
                    <p id="93">第2次时间同步后的误差为:</p>
                </div>
                <div class="p1">
                    <p id="94"><i>error</i> (2) =<i>error</i> (1) +[<i>α</i> (2) -<i>s</i> (1) ]·[<i>C</i> (2) -<i>C</i> (1) ]-<i>θ</i> (2) </p>
                </div>
                <div class="p1">
                    <p id="96">则第<i>k</i>次时间同步后的误差为:</p>
                </div>
                <div class="p1">
                    <p id="97"><i>error</i> (<i>k</i>) =<i>error</i> (<i>k</i>-1) +[<i>α</i> (2) -<i>s</i> (1) ]·[<i>C</i> (<i>k</i>) -<i>C</i> (<i>k</i>-1) ]-<i>θ</i> (<i>k</i>)      (10) </p>
                </div>
                <div class="p1">
                    <p id="99">在式 (10) 中, 表达式<i>C</i> (<i>k</i>) -<i>C</i> (<i>k</i>-1) 表示在相邻2次时间同步中, 从节点时钟后一次更新本地时钟的时间点与前一次之间的差值, 该值约为一个同步周期<i>T</i><sub>sync</sub>的值。</p>
                </div>
                <div class="p1">
                    <p id="100">由误差公式的递推方程式 (10) 移项求和可知:</p>
                </div>
                <div class="p1">
                    <p id="101" class="code-formula">
                        <mathml id="101"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mo stretchy="false"> (</mo><mi>k</mi><mo stretchy="false">) </mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mo stretchy="false">[</mo></mstyle><mi>α</mi><mo stretchy="false"> (</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo>-</mo><mi>s</mi><mo stretchy="false"> (</mo><mi>i</mi><mo stretchy="false">) </mo><mo stretchy="false">]</mo><mo>⋅</mo></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mi>C</mi><mo stretchy="false"> (</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">) </mo><mo>-</mo><mi>C</mi><mo stretchy="false"> (</mo><mi>i</mi><mo stretchy="false">) </mo><mo stretchy="false">]</mo><mo>-</mo></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><mtext> </mtext></mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mo stretchy="false">[</mo></mstyle><mi>θ</mi><mo stretchy="false"> (</mo><mi>i</mi><mo stretchy="false">) </mo><mo>+</mo><mi>α</mi><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo><mi>C</mi><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo><mo stretchy="false">]</mo><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>1</mn><mo stretchy="false">) </mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="102">从式 (11) 可以看出, 1588协议的同步误差主要与估计的时钟漂移和时钟偏差的优劣有关, 对时钟漂移与时钟偏差的估计越准确, 同步误差越小。1588协议同步误差理论分析结果如图4所示。</p>
                </div>
                <div class="area_img" id="103">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201903024_103.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 1588协议时间同步理论修正值示意图" src="Detail/GetImg?filename=images/JSJC201903024_103.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 1588协议时间同步理论修正值示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201903024_103.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="104" name="104" class="anchor-tag">4 测试结果与分析</h3>
                <div class="p1">
                    <p id="105">时间同步的精度通常通过同步误差均值来体现, 其抖动性由相应误差的标准差来反映<citation id="125" type="reference"><link href="31" rel="bibliography" /><sup>[<a class="sup">15</a>]</sup></citation>。因此, 基于不同时间戳精度比较同步误差的均值与标准偏差, 可以分析基于1588同步协议的TTE时间同步与标准的TTE协议同步算法在同等网络条件下所表现出的性能差异。</p>
                </div>
                <h4 class="anchor-tag" id="106" name="106">4.1 仿真环境</h4>
                <div class="p1">
                    <p id="107">本文采用Matlab Simulink工具进行仿真。根据时钟模型 (式 (6) 、式 (7) 所示) 产生节点时钟, 仿真步长随着时间戳精度的高低而变化。基于1588同步协议的TTE时间同步与标准的TTE协议同步采用相同的同步周期, 均为<i>T</i><sub>sync</sub>=0.5 s。从节点初始时钟偏移<i>θ</i> (0) =0, 初始时钟漂移为2e<sup>-7</sup>, 主从时钟满足的频率漂移服从高斯分布。本次实验所采用的网络拓扑为图3所示的网络, 单跳环节的链路延迟服从高斯分布<i>N</i> (2e<sup>-6</sup>, 2e<sup>-8</sup>) , 中间节点的转发时延均服从高斯分布<i>N</i> (0, 2e<sup>-6</sup>) , 从节点计时不确定性为2e<sup>-8</sup>, 假定TTE网络的最大传输延迟为10 μs。本次仿真主要分析比较本文时间同步方法与标准的TTE时间同步算法<citation id="126" type="reference"><link href="33" rel="bibliography" /><sup>[<a class="sup">16</a>]</sup></citation>的同步精度和时钟稳定性。</p>
                </div>
                <h4 class="anchor-tag" id="108" name="108">4.2 结果分析</h4>
                <div class="p1">
                    <p id="109">本文考虑由于透明时钟本身的计时不确定性造成的误差对同步误差的影响, 并将这种不确定性表现在计时噪声方面。在此条件下, 研究随着时间戳精度的提高, 2种同步算法的同步误差、同步误差均值与标准偏差, 即比较式 (9) 和式 (11) 的大小。仿真中通过调节节点晶振的分频次数得到单位秒脉冲, 使时间戳精度以0.1的数量级等比例放大。2种时间同步方法在不同时间戳精度下的同步误差均值与标准差结果如图5所示。</p>
                </div>
                <div class="area_img" id="110">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201903024_110.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 2种时间同步算法的均值与标准差结果" src="Detail/GetImg?filename=images/JSJC201903024_110.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 2种时间同步算法的均值与标准差结果</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201903024_110.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="111">从图5可以看出, 随着时间戳精度的降低, 1588同步算法的同步误差均值与标准差逐步增大, 且从某时间戳精度开始, 1588的误差均值均小于TTE协议, 即达到该时间戳精度后, 本文同步算法的同步精度更高。对于标准差, TTE同步误差的标准差均低于本文同步算法, 即TTE算法拥有较高的稳定性。</p>
                </div>
                <h3 id="112" name="112" class="anchor-tag">5 结束语</h3>
                <div class="p1">
                    <p id="113">本文考虑时间戳精度对1588协议同步精度的影响, 从理论上推导1588协议同步与TTE时间同步的同步误差, 并考虑参考时钟的时钟漂移, 计算主从时钟的相对漂移, 然后利用卡尔曼滤波算法对从时钟的时钟漂移和时间偏差进行估计并修正, 以减少由于网络抖动等不确定性因素导致的同步精度降低。实验结果表明, 当时间戳精度达到0.1 μs或更高时, 基于1588协议的TTE网络具有较高的时间同步精度。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJEM&amp;filename=SJEM00000020368&amp;v=MjI3MTZJRjA9TmlmT1k3TzRIdEhNcjQxRlorMEhZM2s1ekJkaDRqOTlTWHFScnhveGNNSDdSN3FlYnVkdEZDN2xWYjdP&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> HEFFERNAN D, DOYLE P.Time-triggered Ethernet based on IEEE 1588 clock synchronisation[J].Assembly Automation, 2004, 24 (3) :264-269.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time-triggered Ethernet and IEEE 1588 clock synchronization">

                                <b>[2]</b> ADEMAJ A.Time-triggered Ethernet and IEEE 1588 clock synchronization[C]//Proceedings of IEEE International Symposium on Precision Clock Synchronization for Measurement.Washington D.C., USA:IEEE Press, 2007:152-156.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013021976.nh&amp;v=MTQxNzFMcVpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MVkYyNkhiTzZIOWo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 周思捷.基于IEEE 1588无线网络时间同步技术研究[D].上海:上海交通大学, 2013.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Delay and jitter characterization for software-based clock synchronization over WLAN using PTP">

                                <b>[4]</b> MAHMOOD A, EXEL R, SAUTER T.Delay and jitter characterization for software-based clock synchronization over WLAN using PTP[J].IEEE Transactions on Industrial Informatics, 2014, 10 (2) :1198-1206.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SCPD&amp;filename=CN107147467A&amp;v=MjAyNjllRnVFU25qVTd3PUppTzZIclM1R3RiSXFZZzBDKzRQRDMxTHh4WVQ2em9PUzNmbXBXRmFlN0tWVEx1ZFo=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 赵琪, 赵怀林.一种TTE终端系统内部时间同步系统及方法:CN107147467A[P].2017-09-08.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201104034&amp;v=Mjc0ODBMU2JCWkxHNEg5RE1xNDlHWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnk3a1ZiL0w=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 刘晚春, 李峭, 何锋, 等.时间触发以太网同步及调度机制的研究[J].航空计算技术, 2011, 41 (4) :122-127.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The Time-Triggered Ethernet (TTE) Design">

                                <b>[7]</b> KOPETZ H, ADEMAJ A, GRILLINGER P, et al.The Time-triggered Ethernet (TTE) design[C]//Proceedings of the 8th IEEE International Symposium on Object-oriented Real-time Distributed Computing.Washington D.C., USA:IEEE Computer Society, 2005:22-33.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Time-triggered ethernet">

                                <b>[8]</b> AS6802.Time-triggered Ethernet[S].Warrendale, USA:SAE Aerospace, 2011.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YHJJ201303005&amp;v=MTIyNjFIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJvRnk3a1ZiL0xQQ1hCWkxHNEg5TE1ySTlGWVlRS0Q=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 陈金凤, 华宇, 孙中尉.IEEE 1588 v2透明时钟研究与实现[J].宇航计测技术, 2013, 33 (3) :11-16.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=PZKX201606007&amp;v=MDI4ODFUZkFkckc0SDlmTXFZOUZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm9GeTdrVmIvTE4=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 王照伟.基于IEEE 1588协议的多跳无线网络时间同步方法[J].中国科学:信息科学, 2016, 46 (6) :777-788.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Practical considerations in the design and implementation of time synchronization systems using IEEE 1588">

                                <b>[11]</b> HAN J, JEONG D K.Practical considerations in the design and implementation of time synchronization systems using IEEE 1588[J].IEEE Communications Magazine, 2009, 47 (11) :165-170.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYD201403025&amp;v=MjQ5ODM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MUFRuU2FyRzRIOVhNckk5SFlZUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 陈旿, 孙建华, 于振兴, 等.基于IEEE 1588的无线传感器网络时钟同步方法[J].系统工程与电子技术, 2014, 36 (3) :564-574.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011126037.nh&amp;v=MTUxMTFvRnk3a1ZiL0xWRjI2SDdLNkdOSFBxSkViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVI=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b> 常夏勤.IEEE 1588时间同步协议分析与实现[D].南京:南京大学, 2011.
                            </a>
                        </p>
                        <p id="29">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Performance Analysis of Kalman-Filter-Based Clock Synchronization in IEEE 1588 Networks">

                                <b>[14]</b> GIORGI G, NARDUZZI C.Performance analysis of Kalman-filter-based clock synchronization in IEEE 1588 networks[J].IEEE Transactions on Instrumentation and Measurement, 2011, 60 (8) :2902-2909.
                            </a>
                        </p>
                        <p id="31">
                            <a id="bibliography_15" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Servo design for improved performance in software timestamping-assisted WLAN synchronization using IEEE 1588">

                                <b>[15]</b> MAHMOOD A, EXEL R.Servo design for improved performance in software timestamping-assisted WLAN synchronization using IEEE 1588[C]//Proceedings of Emerging Technologies and Factory Automation.Washington D.C., USA:IEEE Press, 2013:1-8.
                            </a>
                        </p>
                        <p id="33">
                            <a id="bibliography_16" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DGKQ201412014&amp;v=MDYyMjFyQ1VSTE9lWmVSb0Z5N2tWYi9MSVNyQWY3RzRIOVhOclk5RVlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[16]</b> 王梦迪, 王彤, 何锋, 等.时间触发以太网时钟同步的仿真与性能验证[J].电光与控制, 2014, 21 (12) :13-26.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJC201903024" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201903024&amp;v=MzEyMDhIOWpNckk5SFlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSb0Z5N2tWYi9MTHo3QmJiRzQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU45dm52MzRMT3pvcFZMMjlLRVVpST0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
