<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637126275697740000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJC201909003%26RESULT%3d1%26SIGN%3dOqlBfvyE3F7oxU7uysUiBgd%252brRk%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201909003&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJC201909003&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201909003&amp;v=MjA2NTQ5Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSdEZ5SGtVcnpMTHo3QmJiRzRIOWpNcG8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#33" data-title="0 概述 ">0 概述</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#36" data-title="1 相关工作 ">1 相关工作</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#40" data-title="2 数据副本丢失问题描述 ">2 数据副本丢失问题描述</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#41" data-title="2.1 场景描述与问题定义">2.1 场景描述与问题定义</a></li>
                                                <li><a href="#60" data-title="2.2 数据副本恢复问题分析">2.2 数据副本恢复问题分析</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#63" data-title="3 数据副本恢复算法 ">3 数据副本恢复算法</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#65" data-title="3.1 分阶段数据副本恢复算法">3.1 分阶段数据副本恢复算法</a></li>
                                                <li><a href="#152" data-title="3.2 稀有度感知的分阶段数据副本恢复算法">3.2 稀有度感知的分阶段数据副本恢复算法</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#173" data-title="4 实验与结果分析 ">4 实验与结果分析</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#174" data-title="4.1 实验设置">4.1 实验设置</a></li>
                                                <li><a href="#179" data-title="4.2 平均服务质量评估">4.2 平均服务质量评估</a></li>
                                                <li><a href="#182" data-title="4.3 恢复时间评估">4.3 恢复时间评估</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#185" data-title="5 结束语 ">5 结束语</a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#39" data-title="&lt;b&gt;图1 盘古分布式文件系统数据副本恢复过程&lt;/b&gt;"><b>图1 盘古分布式文件系统数据副本恢复过程</b></a></li>
                                                <li><a href="#44" data-title="&lt;b&gt;图2 云系统数据中心架构&lt;/b&gt;"><b>图2 云系统数据中心架构</b></a></li>
                                                <li><a href="#181" data-title="&lt;b&gt;图3 平均服务质量对比&lt;/b&gt;"><b>图3 平均服务质量对比</b></a></li>
                                                <li><a href="#184" data-title="&lt;b&gt;图4 数据副本恢复时间对比&lt;/b&gt;"><b>图4 数据副本恢复时间对比</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="201">


                                    <a id="bibliography_1" >
                                        <b>[1]</b>
                                     朱家稷,张海勇.大规模云计算平台的技术挑战[J].程序员,2012(2):8-10.</a>
                                </li>
                                <li id="203">


                                    <a id="bibliography_2" >
                                        <b>[2]</b>
                                     吴洋.阿里云飞天分布式存储系统实践[EB/OL].[2018-03-04].https://yq.aliyun.com/edu/lesson/play/392.</a>
                                </li>
                                <li id="205">


                                    <a id="bibliography_3" title=" 蔡斌,陈湘萍.Hadoop技术内幕[M].北京:机械工业出版社,2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787111417668000&amp;v=MTgxMTRxekdiSzVIOVhOcUlsRGJPc1BEQk04enhVU21EZDlTSDduM3hFOWZidm5LcmlmWnU5dUZDdm1VN2JKSVYwWFhG&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         蔡斌,陈湘萍.Hadoop技术内幕[M].北京:机械工业出版社,2013.
                                    </a>
                                </li>
                                <li id="207">


                                    <a id="bibliography_4" title=" VAVILAPALLI V K,MURTHY A C,DOUGLAS C,et al.Apache Hadoop YARN:yet another resource negotiator[C]//Proceedings of the 4th Annual Symposium on Cloud Computing.New York,USA:ACM Press,2013:5-10." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Apache hadoop yarn:Yet another resource negotiator">
                                        <b>[4]</b>
                                         VAVILAPALLI V K,MURTHY A C,DOUGLAS C,et al.Apache Hadoop YARN:yet another resource negotiator[C]//Proceedings of the 4th Annual Symposium on Cloud Computing.New York,USA:ACM Press,2013:5-10.
                                    </a>
                                </li>
                                <li id="209">


                                    <a id="bibliography_5" title=" DU Yao,XIONG Runqun,JIN Jiahui,et al.A cost-efficient data placement algorithm with high reliability in Hadoop[C]//Proceedings of the 5th International Conference on Advanced Cloud and Big Data.Washington D.C.,USA:IEEE Press,2017:100-105." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A cost-efficient data placement algorithm with high reliability in hadoop">
                                        <b>[5]</b>
                                         DU Yao,XIONG Runqun,JIN Jiahui,et al.A cost-efficient data placement algorithm with high reliability in Hadoop[C]//Proceedings of the 5th International Conference on Advanced Cloud and Big Data.Washington D.C.,USA:IEEE Press,2017:100-105.
                                    </a>
                                </li>
                                <li id="211">


                                    <a id="bibliography_6" title=" PREMKUMAR P,GANAJEYARAMAN R.A secure erasure code-based cloud storage system with secure data forwarding[J].IEEE Transactions on Parallel and Distributed Systems,2012,23(6):995-1003." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Secure Erasure Code-Based Cloud Storage System with Secure Data Forwarding">
                                        <b>[6]</b>
                                         PREMKUMAR P,GANAJEYARAMAN R.A secure erasure code-based cloud storage system with secure data forwarding[J].IEEE Transactions on Parallel and Distributed Systems,2012,23(6):995-1003.
                                    </a>
                                </li>
                                <li id="213">


                                    <a id="bibliography_7" title=" GREENAN K M,LI Xiaozhou,WYLIE J J.Flat XOR-based erasure codes in storage systems:constructions,efficient recovery,and tradeoffs[C]//Proceedings of the 26th Symposium on Mass Storage Systems and Technologies.Washington D.C.,USA:IEEE Press,2010:1-14." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Flat XOR-based erasurecodes in storage systems constructions,efficient recovery,and tradeoffs">
                                        <b>[7]</b>
                                         GREENAN K M,LI Xiaozhou,WYLIE J J.Flat XOR-based erasure codes in storage systems:constructions,efficient recovery,and tradeoffs[C]//Proceedings of the 26th Symposium on Mass Storage Systems and Technologies.Washington D.C.,USA:IEEE Press,2010:1-14.
                                    </a>
                                </li>
                                <li id="215">


                                    <a id="bibliography_8" title=" LUO Xianghong,SHU Jiwu.Load-balanced recovery schemes for single-disk failure in storage systems with any erasure code[C]//Proceedings of the 42nd International Conference on Parallel Processing.Washington D.C.,USA:IEEE Press,2013:552-561." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Load-Balanced Recovery Schemes for Single-Disk Failure in Storage Systems with Any Erasure Code">
                                        <b>[8]</b>
                                         LUO Xianghong,SHU Jiwu.Load-balanced recovery schemes for single-disk failure in storage systems with any erasure code[C]//Proceedings of the 42nd International Conference on Parallel Processing.Washington D.C.,USA:IEEE Press,2013:552-561.
                                    </a>
                                </li>
                                <li id="217">


                                    <a id="bibliography_9" title=" KHAN O,BURNS R C,PLANK J S,et al.Rethinking erasure codes for cloud file systems:minimizing I/O for recovery and degraded reads[C]//Proceedings of the 10th USENIX Conference on File and Storage Technologies.New York,USA:ACM Press,2012:20-28." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Rethinking erasure codes for cloud file systems:Minimizing I/O for recovery and degraded reads">
                                        <b>[9]</b>
                                         KHAN O,BURNS R C,PLANK J S,et al.Rethinking erasure codes for cloud file systems:minimizing I/O for recovery and degraded reads[C]//Proceedings of the 10th USENIX Conference on File and Storage Technologies.New York,USA:ACM Press,2012:20-28.
                                    </a>
                                </li>
                                <li id="219">


                                    <a id="bibliography_10" title=" FU Yingxun,SHU Jiwu,LUO Xianghong.A stack-based single disk failure recovery scheme for erasure coded storage systems[C]//Proceedings of the 33rd International Symposium on Reliable Distributed Systems.Washington D.C.,USA:IEEE Press,2014:136-145." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A stack-based single disk failure recovery scheme for erasure coded storage systems">
                                        <b>[10]</b>
                                         FU Yingxun,SHU Jiwu,LUO Xianghong.A stack-based single disk failure recovery scheme for erasure coded storage systems[C]//Proceedings of the 33rd International Symposium on Reliable Distributed Systems.Washington D.C.,USA:IEEE Press,2014:136-145.
                                    </a>
                                </li>
                                <li id="221">


                                    <a id="bibliography_11" title=" SHEN Zhirong,LEE P P C,SHU Jiwu,et al.Cross-rack-aware single failure recovery for clustered file systems[EB/OL].[2018-03-04].https://www.computer.org/csdl/journal/tq/5555/01/08113513/13rRUyuNsyx." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Cross-rack-aware single failure recovery for clustered file systems">
                                        <b>[11]</b>
                                         SHEN Zhirong,LEE P P C,SHU Jiwu,et al.Cross-rack-aware single failure recovery for clustered file systems[EB/OL].[2018-03-04].https://www.computer.org/csdl/journal/tq/5555/01/08113513/13rRUyuNsyx.
                                    </a>
                                </li>
                                <li id="223">


                                    <a id="bibliography_12" title=" 李成华,张新访,金海,等.MapReduce:新型的分布式并行计算编程模型[J].计算机工程与科学,2011,33(3):129-135." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201103026&amp;v=MDg0NDNVUkxPZVplUnRGeUhrVXJ6TEx6N0JaYkc0SDlETXJJOUhZb1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         李成华,张新访,金海,等.MapReduce:新型的分布式并行计算编程模型[J].计算机工程与科学,2011,33(3):129-135.
                                    </a>
                                </li>
                                <li id="225">


                                    <a id="bibliography_13" title=" 赵建光.云计算环境下数据库系统的分层排队网络模型[D].太原:太原理工大学,2012." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1012381484.nh&amp;v=MTc1NjZPZVplUnRGeUhrVXJ6TFZGMjZITEN3SDlYRXE1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkw=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                         赵建光.云计算环境下数据库系统的分层排队网络模型[D].太原:太原理工大学,2012.
                                    </a>
                                </li>
                                <li id="227">


                                    <a id="bibliography_14" title=" DataFlair team.HDFS erasure coding in big data Hadoop——an introduction[EB/OL].[2018-07-09].https://data-flair.training/blogs/hadoop-hdfs-erasure-coding/." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=HDFS erasure coding in big data Hadoop——an introduction">
                                        <b>[14]</b>
                                         DataFlair team.HDFS erasure coding in big data Hadoop——an introduction[EB/OL].[2018-07-09].https://data-flair.training/blogs/hadoop-hdfs-erasure-coding/.
                                    </a>
                                </li>
                                <li id="229">


                                    <a id="bibliography_15" >
                                        <b>[15]</b>
                                     吴均平.阿里云平台的优化实践[EB/OL].[2018-07-09].http://qiusuoge.com/13816.html.</a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJC" target="_blank">计算机工程</a>
                2019,45(09),17-22 DOI:10.19678/j.issn.1000-3428.0052483            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>服务质量感知的云系统数据副本恢复算法</b></span>
 <span class="shoufa"></span>                                     </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BE%90%E8%B6%85&amp;code=36600750&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">徐超</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%82%93%E5%90%9B%E5%8D%8E&amp;code=39200127&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">邓君华</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%A7%9C%E4%B8%BD%E4%B8%BD&amp;code=40480428&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">姜丽丽</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%90%89%E6%98%8E%E6%B6%9B&amp;code=40480429&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">吉明涛</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E9%91%AB&amp;code=10866317&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李鑫</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%9B%BD%E7%BD%91%E6%B1%9F%E8%8B%8F%E7%9C%81%E7%94%B5%E5%8A%9B%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E7%94%B5%E5%8A%9B%E7%A7%91%E5%AD%A6%E7%A0%94%E7%A9%B6%E9%99%A2&amp;code=0283961&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">国网江苏省电力有限公司电力科学研究院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%B1%9F%E8%8B%8F%E6%96%B9%E5%A4%A9%E7%94%B5%E5%8A%9B%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&amp;code=1548434&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">江苏方天电力技术有限公司</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E4%BB%B6%E6%96%B0%E6%8A%80%E6%9C%AF%E5%9B%BD%E5%AE%B6%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=0069758&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">南京大学计算机软件新技术国家重点实验室</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8D%97%E4%BA%AC%E8%88%AA%E7%A9%BA%E8%88%AA%E5%A4%A9%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=0014291&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">南京航空航天大学计算机科学与技术学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>针对云数据中心环境下的数据副本丢失问题,提出2种服务质量感知的数据副本恢复算法。基于数据副本的分布情况,在考虑数据副本安全规则的前提下,对数据安全等级进行划分,给出分阶段数据副本恢复算法。在此基础上,依据数据冷热程度,建立数据副本稀有度模型,设计稀有度感知的分阶段数据副本恢复算法。实验结果表明,与直接数据副本恢复算法相比,所提出的算法可有效提高云数据中心的应用服务质量及数据安全保障能力。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">数据中心;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">数据管理;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%9C%8D%E5%8A%A1%E8%B4%A8%E9%87%8F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">服务质量;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%89%AF%E6%9C%AC%E5%88%86%E5%B8%83&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">副本分布;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%89%AF%E6%9C%AC%E6%81%A2%E5%A4%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">副本恢复;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%89%E5%85%A8%E8%A7%84%E5%88%99&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">安全规则;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    徐超(1989—),男,工程师、硕士,主研方向为电力信息系统、云计算;;
                                </span>
                                <span>
                                    邓君华,高级工程师、硕士;;
                                </span>
                                <span>
                                    姜丽丽,工程师、硕士;;
                                </span>
                                <span>
                                    吉明涛,硕士研究生;;
                                </span>
                                <span>
                                    *李鑫(通信作者),副教授、博士。E-mail:lics@ nuaa. edu. cn;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-08-27</p>

                    <p>

                            <b>基金：</b>
                                                        <span>江苏省自然科学基金(BK20160813);</span>
                    </p>
            </div>
                    <h1><b>QoS-Aware Data Replica Recovery Algorithm for Cloud System</b></h1>
                    <h2>
                    <span>XU Chao</span>
                    <span>DENG Junhua</span>
                    <span>JIANG Lili</span>
                    <span>JI Mingtao</span>
                    <span>LI Xin</span>
            </h2>
                    <h2>
                    <span>Electric Power Research Institute,State Grid Jiangsu Electric Power Co.,Ltd.</span>
                    <span>Jiangsu Frontier Electric Technology Co.,Ltd.</span>
                    <span>State Key Laboratory for Novel Software Technology,Nanjing University</span>
                    <span>College of Computer Science and Technology,Nanjing University of Aeronautics and Astronautics</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>To address the problem of data replica loss in cloud data center environment,two kinds of Quality of Service(QoS) aware data replica recovery algorithms are proposed.Based on the distribution of data replicas,it divides the data security level on the premise of considering the data replica security rules,and a phased data replica recovery algorithm is given.On this basis,according to how often the data is accessed or transited,the data replica rarity model is established to realize the rarity-aware phased data replica recovery algorithm.Experimental results show that compared with the direct data replica recovery algorithm,the proposed algorithms can effectively improve the application service quality and data security guarantee ability of the cloud data center.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=data%20center&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">data center;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=data%20management&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">data management;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Quality%20of%20Service(QoS)&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Quality of Service(QoS);</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=replica%20distribution&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">replica distribution;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=replica%20recovery&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">replica recovery;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=security%20rule&amp;code=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">security rule;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-08-27</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="33" name="33" class="anchor-tag">0 概述</h3>
                <div class="p1">
                    <p id="34">随着互联网应用的迅速发展,大量应用通过与用户交互产生海量数据<citation id="231" type="reference"><link href="201" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>,同时基于这些数据的分析为战略决策、广告投放、个性化推荐、实时交互等应用服务提供了依据。因此,在大量互联网应用部署于云环境的背景下,可靠高效的数据管理是云系统的重要组成部分以及当前研究的热点。鉴于云数据中心的服务器规模,磁盘损坏、机架失效等故障是常态<citation id="232" type="reference"><link href="203" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>,数据副本丢失也时有发生。为保障数据安全、提升数据存取效率、保障服务供给,通常在云系统中部署多个数据副本<citation id="233" type="reference"><link href="205" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>,且分布在不同服务器或机架中。为解决数据副本丢失问题,直接数据副本恢复算法(Direct)在数据副本丢失后立即进行恢复,从源服务器将数据拷贝至目标服务器,该方法恢复数据用时较短,对于数据可靠性有较好的保障。Hadoop系统<citation id="234" type="reference"><link href="207" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>和阿里盘古系统<citation id="235" type="reference"><link href="209" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>也采用该方法。然而,磁盘损坏等故障会导致数据副本大批量丢失,该方法通常占用大量带宽资源,导致应用服务本身分配资源不足,进而导致服务响应时间过长,降低服务质量。因此,需研究更有效的数据副本恢复方法,保障数据安全的同时实现应用服务的正常响应。</p>
                </div>
                <div class="p1">
                    <p id="35">基于直接数据副本恢复算法的应用服务质量较差,其原因在于突发产生的大量数据恢复任务与应用服务竞争带宽资源,使得应用服务资源分配不足。本文针对云环境下的数据副本丢失问题,提出2种服务质量感知的数据副本恢复算法,通过分析现有数据副本的分布情况与利用情况,采取分阶段恢复方式有效缓解突发流量对数据中心的影响。</p>
                </div>
                <h3 id="36" name="36" class="anchor-tag">1 相关工作</h3>
                <div class="p1">
                    <p id="37">造成数据中心数据丢失的原因有多种,比如电源故障、软件原因、磁盘损坏等。此类故障均为小概率事件,但是随着数据中心的规模增长,小概率事件会变成常态,其中造成数据丢失80%的情况是磁盘损坏<citation id="236" type="reference"><link href="201" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="38">对于磁盘失效导致数据丢失的问题,已有一些相关研究。利用擦除码机制可以保障数据的安全性<citation id="241" type="reference"><link href="211" rel="bibliography" /><link href="213" rel="bibliography" /><sup>[<a class="sup">6</a>,<a class="sup">7</a>]</sup></citation>,但是大部分算法都是为特定擦除码设计,不具有通用性。例如,文献<citation id="237" type="reference">[<a class="sup">8</a>]</citation>提出2个磁盘失效恢复算法C-Algorithm和U-Algorithm。这2个算法对任意的擦除码均有效,是为了数据恢复时的负载均衡而设计,唯一的不同点在于后者考虑最小化读数据,2个算法相比Khan<citation id="238" type="reference"><link href="217" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>恢复策略有更好的性能表现。另一种解决方案是从堆栈级出发研究磁盘故障。文献<citation id="239" type="reference">[<a class="sup">10</a>]</citation>提出BP方案来解决该问题,数据恢复时间明显降低。文献<citation id="240" type="reference">[<a class="sup">11</a>]</citation>通过组合同一机架中的请求数据并使用可用链路,提出一种降低数据恢复时间的方法。该方法实现了负载均衡,但是未考虑社交网络的服务质量。在大数据分析下,服务质量是一项必须考虑的因素。HDFS是用于支撑Hadoop分布式运算的分布式文件系统<citation id="242" type="reference"><link href="223" rel="bibliography" /><link href="225" rel="bibliography" /><sup>[<a class="sup">12</a>,<a class="sup">13</a>]</sup></citation>,使用多副本联合擦除码的数据管理方式。当多副本存储的数据发生丢失时,将其放入恢复队列,当恢复周期到来时即开始数据迁移工作。对于擦除码存储的数据丢失后,按照校验计算解码的方式进行数据恢复<citation id="243" type="reference"><link href="227" rel="bibliography" /><link href="229" rel="bibliography" /><sup>[<a class="sup">14</a>,<a class="sup">15</a>]</sup></citation>。盘古分布式文件系统的数据恢复机制与HDFS类似,一旦发生数据副本丢失,主节点服务器会开启数据恢复机制,块节点服务器之间就会自动复制数据,使数据中心中所有块的副本数量为3,具体恢复过程如图1所示。</p>
                </div>
                <div class="area_img" id="39">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201909003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 盘古分布式文件系统数据副本恢复过程" src="Detail/GetImg?filename=images/JSJC201909003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 盘古分布式文件系统数据副本恢复过程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201909003_039.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="40" name="40" class="anchor-tag">2 数据副本丢失问题描述</h3>
                <h4 class="anchor-tag" id="41" name="41">2.1 场景描述与问题定义</h4>
                <h4 class="anchor-tag" id="42" name="42">2.1.1 数据中心架构</h4>
                <div class="p1">
                    <p id="43">给定云系统数据中心为3层树状架构,如图2所示,其中交换机1与交换机2连接一个机架内的物理服务器(物理机)。数据中心含<i>N</i><sub><i>p</i></sub>台物理机,物理机之间通过交换机连接。数据以数据副本的方式进行存储,每个数据初始副本数量为<i>N</i><sub>factor</sub>,副本被放置在多台物理机中,且不在同一机架内。可将数据中心架构描述为<i>G</i>=(<i>V</i>,<i>E</i>),其中,<i>V</i>={<i>swich</i><sub>0</sub>,<i>swich</i><sub>1</sub>,…,<i>swich</i><sub><i>N</i></sub><sub>swich</sub>-1,<i>P</i><sub>1</sub>,<i>P</i><sub>2</sub>,…,<i>P</i><sub><i>Np</i></sub>}。</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 云系统数据中心架构" src="Detail/GetImg?filename=images/JSJC201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 云系统数据中心架构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="45" name="45">2.1.2 数据中心服务和数据</h4>
                <div class="p1">
                    <p id="46">数据中心的应用依赖于对数据分析的结果,并且消耗一定的带宽资源以实现交互并提供服务。因此,可将服务简单描述为<i>F</i><sub><i>i</i></sub>:(<i>S</i><sub><i>j</i></sub>,<i>X</i><sub><i>i</i></sub>),其中,<i>S</i><sub><i>j</i></sub>代表第<i>j</i>个数据,<i>X</i><sub><i>i</i></sub>代表对于带宽资源的需求。由于数据以多副本形式存储,服务对于数据<i>S</i><sub><i>j</i></sub>的依赖,具体表现为对某一数据副本的分析。因此,用<i>C</i><sub><i>jk</i></sub>代表数据<i>S</i><sub><i>j</i></sub>的第<i>k</i>个副本。服务可进一步描述为<i>F</i><sub><i>i</i></sub>:(<i>C</i><sub><i>jk</i></sub>,<i>P</i><sub><i>k</i></sub>,<i>X</i><sub><i>i</i></sub>),其中<i>C</i><sub><i>jk</i></sub>代表数据<i>S</i><sub><i>j</i></sub>在物理机<i>P</i><sub><i>k</i></sub>上的数据副本。使用<i>C</i>(<i>F</i><sub><i>i</i></sub>)=<i>C</i><sub><i>jk</i></sub>表示服务<i>F</i><sub><i>i</i></sub>所需访问的数据副本。服务和数据副本的关系如式(1)所示。</p>
                </div>
                <div class="p1">
                    <p id="47" class="code-formula">
                        <mathml id="47"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mtext>Π</mtext><mo stretchy="false">(</mo><mi>F</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mi>C</mi><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mrow><mtable><mtr><mtd columnalign="left"><mn>1</mn><mo>,</mo><mtext>服</mtext><mtext>务</mtext><mi>F</mi><msub><mrow></mrow><mi>i</mi></msub><mtext>所</mtext><mtext>需</mtext><mtext>访</mtext><mtext>问</mtext><mtext>的</mtext><mtext>数</mtext><mtext>据</mtext><mtext>副</mtext><mtext>本</mtext><mi>C</mi><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub></mtd></mtr><mtr><mtd columnalign="left"><mn>0</mn><mo>,</mo><mtext>其</mtext><mtext>他</mtext></mtd></mtr></mtable></mrow></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="48">因此,服务由一个三元组构成:副本,物理机,带宽资源。每一个服务都需要一个相应数据副本提供支持。相对而言,一个数据副本可能对多个服务提供支持。为分析数据副本在系统中的重要性及其对服务的支撑程度,根据服务对带宽资源的需求,定义数据副本<i>C</i><sub><i>jk</i></sub>的负载为:</p>
                </div>
                <div class="p1">
                    <p id="49" class="code-formula">
                        <mathml id="49"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>L</mi><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>F</mtext></msub></mrow></munderover><mtext>Π</mtext></mstyle><mo stretchy="false">(</mo><mi>F</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mi>C</mi><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo stretchy="false">)</mo><mo>×</mo><mi>X</mi><msub><mrow></mrow><mi>i</mi></msub><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="50">其中,<i>N</i><sub>F</sub>代表数据中心服务数量。</p>
                </div>
                <h4 class="anchor-tag" id="51" name="51">2.1.3 数据副本分布约束</h4>
                <div class="p1">
                    <p id="52">为保障数据安全与服务质量,数据副本分布应遵循一定的安全规则,每个数据至少有2个副本部署在不同机架上,这样的副本分布可以容忍一次机架失效(包括磁盘失效),提供更好的服务性能保障。为进一步描述数据副本的分布情况,根据物理机对数据副本的承载关系以及物理机的位置关系做出以下定义:</p>
                </div>
                <div class="p1">
                    <p id="53" class="code-formula">
                        <mathml id="53"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mtext>Π</mtext><mo stretchy="false">(</mo><mi>S</mi><msub><mrow></mrow><mi>j</mi></msub><mo>,</mo><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mrow><mtable><mtr><mtd columnalign="left"><mn>1</mn><mo>,</mo><mtext>数</mtext><mtext>据</mtext><mi>S</mi><msub><mrow></mrow><mi>j</mi></msub><mtext>在</mtext><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mtext>中</mtext><mtext>有</mtext><mtext>副</mtext><mtext>本</mtext><mtext>存</mtext><mtext>在</mtext></mtd></mtr><mtr><mtd columnalign="left"><mn>0</mn><mo>,</mo><mtext>数</mtext><mtext>据</mtext><mi>S</mi><msub><mrow></mrow><mi>j</mi></msub><mtext>在</mtext><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mtext>中</mtext><mtext>无</mtext><mtext>副</mtext><mtext>本</mtext><mtext>存</mtext><mtext>在</mtext></mtd></mtr></mtable></mrow></mrow><mspace width="0.25em" /></mtd></mtr><mtr><mtd><mi>R</mi><mi>A</mi><mi>C</mi><mi>Κ</mi><mo stretchy="false">(</mo><mi>Ρ</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mi>Ρ</mi><msub><mrow></mrow><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mrow><mtable><mtr><mtd columnalign="left"><mn>1</mn><mo>,</mo><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>i</mi></msub><mtext>与</mtext><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>j</mi></msub><mtext>位</mtext><mtext>于</mtext><mtext>同</mtext><mtext>一</mtext><mtext>机</mtext><mtext>架</mtext></mtd></mtr><mtr><mtd columnalign="left"><mn>0</mn><mo>,</mo><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>i</mi></msub><mtext>与</mtext><mtext>物</mtext><mtext>理</mtext><mtext>机</mtext><mi>Ρ</mi><msub><mrow></mrow><mi>j</mi></msub><mtext>位</mtext><mtext>于</mtext><mtext>不</mtext><mtext>同</mtext><mtext>机</mtext><mtext>架</mtext></mtd></mtr></mtable></mrow></mrow></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="54">得出数据<i>S</i><sub><i>j</i></sub>在系统中的副本数量为:</p>
                </div>
                <div class="p1">
                    <p id="55" class="code-formula">
                        <mathml id="55"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mi>r</mi><mi>j</mi></mrow></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>Ν</mi></munderover><mtext>Π</mtext></mstyle><mo stretchy="false">(</mo><mi>S</mi><msub><mrow></mrow><mi>j</mi></msub><mo>,</mo><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <h4 class="anchor-tag" id="56" name="56">2.1.4 问题定义</h4>
                <div class="p1">
                    <p id="57">基于上述系统架构,一旦发生磁盘失效问题,若干数据副本丢失,则启动数据恢复过程,具体为从某个源物理机将相应的数据副本拷贝至某目标物理机。在此过程中,目的物理机上的服务将受到一定程度的影响。假设在没有数据拷贝的情况下,服务质量为最佳,设为1。在数据拷贝的过程中,无法满足应用所需的带宽资源,根据资源平均利用规则,资源分配量将变为1/(<i>k</i>+1),其中<i>k</i>为发生的数据拷贝任务数,并将该物理机上应用的服务质量定义为<i>Q</i>(<i>P</i><sub><i>i</i></sub>)=1/(<i>k</i>+1),整个系统的服务质量可表示为:</p>
                </div>
                <div class="p1">
                    <p id="58" class="code-formula">
                        <mathml id="58"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Q</mi><mi>o</mi><mi>S</mi><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>Ν</mi></munderover><mi>Q</mi></mstyle><mo stretchy="false">(</mo><mi>Ρ</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="59">数据恢复的目的在于使<i>QoS</i>最大化,据此数据副本恢复问题定义如下:给定数据中心架构、数据副本分布情况以及服务对副本的依赖关系,若某一物理机的磁盘失效,给出数据副本恢复机制,使得系统服务质量受损最低,即max(<i>QoS</i>),同时数据副本恢复机制应满足数据副本部署的安全规则。</p>
                </div>
                <h4 class="anchor-tag" id="60" name="60">2.2 数据副本恢复问题分析</h4>
                <div class="p1">
                    <p id="61">通过对服务质量的描述可知,当磁盘失效发生数据副本丢失时,在确定所需恢复的数据副本集合的情况下,应选择尽可能少的目的物理服务器。对于每个目的物理机<i>P</i><sub><i>j</i></sub>,根据安全规则仅可以接受部分数据副本的拷贝,并将其定义为<i>set</i>(<i>P</i><sub><i>j</i></sub>)。此外,根据式(4),拷贝过程中会产生一定的服务质量损耗,将其定义为<i>cost</i>(<i>P</i><sub><i>j</i></sub>)。根据问题描述,数据恢复机制主要为选择一些目的物理机能够恢复所有数据副本,并最小化总的服务质量损失。</p>
                </div>
                <div class="p1">
                    <p id="62">根据上述描述,本文研究的问题可以归约为集合覆盖问题。集合覆盖问题为从一个以集合为元素的集合中选择若干集合,使得选择的集合包含所有基本元素,同时被选中的集合均有一个选择成本,其目标在于使得选中的集合成本之和最低。数据副本恢复问题中的目的服务器可接受的副本集合<i>set</i>(<i>P</i><sub><i>j</i></sub>)等价于集合覆盖问题中的基本集合,而其成本<i>cost</i>(<i>P</i><sub><i>j</i></sub>)也与集合覆盖问题中的成本相对应。由于集合覆盖问题为典型的NP难问题,因此本文描述的数据副本恢复问题也为NP难问题。根据服务质量的定义,若要减少数据拷贝对服务质量的影响,可从时间和数量2个维度降低数据拷贝的任务数量。</p>
                </div>
                <h3 id="63" name="63" class="anchor-tag">3 数据副本恢复算法</h3>
                <div class="p1">
                    <p id="64">本节提出2种数据副本恢复算法。为提高服务质量,通过减少突发的链路负载,将副本恢复任务分为多个阶段,由此提出分阶段数据副本恢复算法。在云系统中大部分数据为不活跃数据,由于减少对不活跃数据的恢复有利于提高服务质量,因此引入稀有度的概念,提出分阶段数据恢复算法(Stage)。</p>
                </div>
                <h4 class="anchor-tag" id="65" name="65">3.1 分阶段数据副本恢复算法</h4>
                <div class="p1">
                    <p id="66">当发生数据副本丢失情况时,基本的数据副本恢复算法是直接进行数据恢复,即产生副本丢失直接进行数据副本恢复,但大量的数据副本迁移任务将对当前的链路产生较大的带宽资源开销,进而影响服务质量。因此,为满足数据副本的安全规则,对数据安全级别进行划分,提出分阶段数据副本恢复算法。</p>
                </div>
                <h4 class="anchor-tag" id="67" name="67">3.1.1 安全等级确定</h4>
                <div class="p1">
                    <p id="68">在数据存储时,系统默认每个数据块有多个副本。出于数据安全考虑,将多个副本存储在不同位置以满足安全规则。数据的安全性随着数据副本的减少呈降低状态。因此,本文用安全级别来表示数据副本的安全性。安全级别由高到低分别为安全级别<i>N</i><sub>factor</sub>,……,安全级别2,安全级别1,分别对应数据副本数量。数据安全等级不唯一,最高安全等级为当前云系统设置的副本因子<i>N</i><sub>factor</sub>。例如,对于图2所示的数据中心架构及其数据副本分布情况,数据1、2、3、5、7对应安全等级3、2、3、3、1。</p>
                </div>
                <h4 class="anchor-tag" id="69" name="69">3.1.2 算法描述</h4>
                <div class="p1">
                    <p id="70">分阶段数据副本恢复的核心在于根据数据副本的安全等级进行阶段化恢复,并优先恢复安全等级较低的副本。在算法1中,首先确定当前情况下的副本个数分布情况,并找到最大的副本个数(第2行～第6行),其次对每一个等级的待恢复数据初始化一个集合(第7行～第9行),并将每一个数据副本根据不同的安全等级放入各自的队列中(第10行～第13行),最后通过调用<i>recovery</i>(<i>Set</i><sub><i>i</i></sub>)函数,对每一个安全等级的数据副本进行恢复操作。</p>
                </div>
                <div class="p1">
                    <p id="71"><b>算法1</b> 分阶段数据副本恢复算法</p>
                </div>
                <div class="p1">
                    <p id="72"><b>输入</b><i>Set</i> 待恢复的数据副本集合</p>
                </div>
                <div class="p1">
                    <p id="73"><b>输出</b> 数据副本恢复结果</p>
                </div>
                <div class="p1">
                    <p id="74">1.max ← 0;</p>
                </div>
                <div class="p1">
                    <p id="75">2.for S<sub>j</sub> ∈ Set do</p>
                </div>
                <div class="p1">
                    <p id="76">3.if max &lt; N<sub>r</sub> ( S<sub>j </sub>) then</p>
                </div>
                <div class="p1">
                    <p id="77">4.max←N<sub>r</sub>( S<sub>j</sub> );</p>
                </div>
                <div class="p1">
                    <p id="78">5.endif</p>
                </div>
                <div class="p1">
                    <p id="79">6.endfor</p>
                </div>
                <div class="p1">
                    <p id="80">7.for i←1,i→max do</p>
                </div>
                <div class="p1">
                    <p id="81">8.Set<sub>i</sub>←Ф//初始化max个集合</p>
                </div>
                <div class="p1">
                    <p id="82">9.endfor</p>
                </div>
                <div class="p1">
                    <p id="83">10.for S<sub>j</sub> ∈ Set do</p>
                </div>
                <div class="p1">
                    <p id="84">11.n←N<sub>r</sub>(S<sub>j</sub>);</p>
                </div>
                <div class="p1">
                    <p id="85">12.Set<sub>n</sub> ←Set<sub>n</sub> ∪{ S<sub>j</sub> };</p>
                </div>
                <div class="p1">
                    <p id="86">13.endfor</p>
                </div>
                <div class="p1">
                    <p id="87">14.for i←1,i→max do</p>
                </div>
                <div class="p1">
                    <p id="88">15.recovery(Set<sub>i</sub>);</p>
                </div>
                <div class="p1">
                    <p id="89">16.endfor</p>
                </div>
                <h4 class="anchor-tag" id="90" name="90">3.1.3 恢复过程</h4>
                <div class="p1">
                    <p id="91">恢复过程即为数据副本选择新位置的过程。为数据副本选择新的位置需要考虑在何时执行恢复、如何选择源数据副本位置及目的数据副本位置。</p>
                </div>
                <div class="p1">
                    <p id="92">对于源副本位置的选择问题,当源数据副本剩余数量为1时,源副本的选择是唯一的。当存在多个源副本时应当选择总负载最小的物理机。物理机<i>P</i><sub><i>k</i></sub>的总负载为:</p>
                </div>
                <div class="p1">
                    <p id="93" class="code-formula">
                        <mathml id="93"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mo stretchy="false">(</mo><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></munderover><mtext>Π</mtext></mstyle><mo stretchy="false">(</mo><mi>S</mi><msub><mrow></mrow><mi>j</mi></msub><mo>,</mo><mi>Ρ</mi><msub><mrow></mrow><mi>k</mi></msub><mo stretchy="false">)</mo><mo>×</mo><mi>L</mi><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="94">其中,<i>L</i><sub><i>jk</i></sub>参照式(2),<i>N</i><sub>s</sub>代表数据总数。</p>
                </div>
                <div class="p1">
                    <p id="95">算法2描述了具体的源、目的副本位置选择过程。对于源数据副本对应的物理机确定问题,其基本思路为选择具有最小负载的物理机,在程序中用<i>src</i>标记。此过程为迭代过程,当最小负载的物理机不能满足要求时,选择次小负载的物理机。源副本物理机决策完成后(第3行～第8行),进行目的物理机的选择。</p>
                </div>
                <div class="p1">
                    <p id="96"><b>算法2</b> 数据恢复<i>recovery</i>(<i>Set</i><sub><i>i</i></sub>)算法</p>
                </div>
                <div class="p1">
                    <p id="97"><b>输入</b><i>Set</i>待恢复的数据副本集合</p>
                </div>
                <div class="p1">
                    <p id="98"><b>输出</b> 确定源副本和目的副本的位置</p>
                </div>
                <div class="p1">
                    <p id="99">1.for S<sub>j</sub>∈ Set do//为每个待恢复数据决策源、目的物理机</p>
                </div>
                <div class="p1">
                    <p id="100">2.src←0,dst←0,load←max,flag←0</p>
                </div>
                <div class="p1">
                    <p id="101">3.for k←1,k→N do //遍历N台物理机</p>
                </div>
                <div class="p1">
                    <p id="102">4.if (R<sub>jk</sub>≠Ф)&amp;&amp;(load(P<sub>k</sub>)&lt;load) then</p>
                </div>
                <div class="p1">
                    <p id="103">5.src←k;//找到最小负载源物理机,以src标记</p>
                </div>
                <div class="p1">
                    <p id="104">6.load←load(P<sub>k</sub>);</p>
                </div>
                <div class="p1">
                    <p id="105">7.endif</p>
                </div>
                <div class="p1">
                    <p id="106">8.endfor</p>
                </div>
                <div class="p1">
                    <p id="107">9.SamePMSet←Ф</p>
                </div>
                <div class="p1">
                    <p id="108">10.for k←1,k→N do</p>
                </div>
                <div class="p1">
                    <p id="109">11.if isRack(P<sub>i</sub>,P<sub>src</sub>) then</p>
                </div>
                <div class="p1">
                    <p id="110">12.SamePMSet←SamePMSet∪P<sub>i</sub>//找到与P<sub>src </sub>同一机架//的物理机放入SamePMSet</p>
                </div>
                <div class="p1">
                    <p id="111">13.endif</p>
                </div>
                <div class="p1">
                    <p id="112">14.endfor</p>
                </div>
                <div class="p1">
                    <p id="113">15.OrderedSamePMSet=sort(SamePMSet)</p>
                </div>
                <div class="p1">
                    <p id="114">16.for P<sub>k</sub> ∈ OrderedSamePMSet do</p>
                </div>
                <div class="p1">
                    <p id="115">17.if isHAR(S<sub>j</sub>,P<sub>k</sub>) do</p>
                </div>
                <div class="p1">
                    <p id="116">18.if place(S<sub>j</sub>,P<sub>k</sub>) then</p>
                </div>
                <div class="p1">
                    <p id="117">19.dst←k;</p>
                </div>
                <div class="p1">
                    <p id="118">20.flag←1;//以dst标记目的物理机,flag标记决策完成</p>
                </div>
                <div class="p1">
                    <p id="119">21.break;</p>
                </div>
                <div class="p1">
                    <p id="120">22.end if</p>
                </div>
                <div class="p1">
                    <p id="121">23.else</p>
                </div>
                <div class="p1">
                    <p id="122">24.break;</p>
                </div>
                <div class="p1">
                    <p id="123">25.endif</p>
                </div>
                <div class="p1">
                    <p id="124">26.endfor</p>
                </div>
                <div class="p1">
                    <p id="125">27.if flag==1 then //数据的源和目的物理机选择结束</p>
                </div>
                <div class="p1">
                    <p id="126">28.src(S<sub>j</sub>)←src,dst(S<sub>j</sub>) ←dst;</p>
                </div>
                <div class="p1">
                    <p id="127">29.continue;</p>
                </div>
                <div class="p1">
                    <p id="128">30.endif</p>
                </div>
                <div class="p1">
                    <p id="129">31.OrderedRackSet ← sort(racks);//本地机架不满足要//求,根据异地机架的负载情况,升序排序</p>
                </div>
                <div class="p1">
                    <p id="130">32.for rack ∈ OrderedRackSet do</p>
                </div>
                <div class="p1">
                    <p id="131">33.if isHAR(S<sub>j</sub>,rack) then //满足安全规则</p>
                </div>
                <div class="p1">
                    <p id="132">34.OrderedPMSet ← sort(rack)</p>
                </div>
                <div class="p1">
                    <p id="133">35.for P<sub>k</sub>∈OrderPMSet do</p>
                </div>
                <div class="p1">
                    <p id="134">36.if place(S<sub>j</sub>,P<sub>k</sub>) then</p>
                </div>
                <div class="p1">
                    <p id="135">37.flag ← 1;</p>
                </div>
                <div class="p1">
                    <p id="136">38.dst ← k;</p>
                </div>
                <div class="p1">
                    <p id="137">39.break;</p>
                </div>
                <div class="p1">
                    <p id="138">40.endif</p>
                </div>
                <div class="p1">
                    <p id="139">41.endfor</p>
                </div>
                <div class="p1">
                    <p id="140">42.endif</p>
                </div>
                <div class="p1">
                    <p id="141">43.if flag then</p>
                </div>
                <div class="p1">
                    <p id="142">44.break;</p>
                </div>
                <div class="p1">
                    <p id="143">45.endif</p>
                </div>
                <div class="p1">
                    <p id="144">46.endfor</p>
                </div>
                <div class="p1">
                    <p id="145">47.src(S<sub>j</sub>)←src,dst(S<sub>j</sub>) ←dst;</p>
                </div>
                <div class="p1">
                    <p id="146">48.endfor</p>
                </div>
                <div class="p1">
                    <p id="147">49.执行数据恢复过程;</p>
                </div>
                <div class="p1">
                    <p id="148">目的副本位置的选择涉及3个层面:机架的选择,物理机的选择,物理机内位置的确定。</p>
                </div>
                <div class="p1">
                    <p id="149">对于目的副本的物理机选择,在满足安全规则的前提下,优先选择本机架的物理机,因为在机架内部的数据迁移任务对云系统整体的服务影响较小且速度快。在算法2中,第10行～第14行是选择本机架内物理机的过程,采用<i>SamePMSet</i>进行记录,其中通过函数<i>isRack</i>(<i>P</i><sub><i>i</i></sub>,<i>P</i><sub>src</sub>)(第11行)判断每一个物理机<i>P</i><sub><i>i</i></sub>是否与选中的源物理机<i>P</i><sub>src</sub>位于同一机架。若返回True,则将该物理机<i>P</i><sub><i>i</i></sub>放入<i>SamePMSet</i>中。然后,对物理机按照负载升序排序(第15行),并依次判断能否成功放置(第17行～第22行)。若放置成功,则结束此次数据的源副本物理机和目的副本物理机选择(第27行～第30行);否则,继续进行目的物理机的选择。</p>
                </div>
                <div class="p1">
                    <p id="150">若本地机架不满足放置条件,则决策至其余机架。在算法2中的第31行,根据机架的负载情况对其按照升序排序并存至<i>OrderedRackSet</i>。在机架的选择过程中,每次均选择当前负载最小的机架。若当前机架满足安全规则(第33行,通过<i>isHAR</i>(<i>S</i><sub><i>j</i></sub>,<i>rack</i>)函数进行判断),则选择当前机架;否则继续判断次小负载的机架。在机架选定后,进行物理机的选择,其选择过程与上述本地机架的物理机决策过程相同。至此,完成源物理机和目的物理机的选择,从而提供执行数据副本恢复的各项要素。</p>
                </div>
                <div class="p1">
                    <p id="151"><i>place</i>函数(第36行)用于检测物理机是否有容量进行数据副本的放置,若有容量,则进行该数据副本的放置,放置成功会返回True。在放置的过程中,如果该物理机容量已满,则进行替换操作。在数据副本替换后需满足安全规则。当该物理机上的全部数据副本都不能被替换时,则该函数返回False。</p>
                </div>
                <h4 class="anchor-tag" id="152" name="152">3.2 稀有度感知的分阶段数据副本恢复算法</h4>
                <div class="p1">
                    <p id="153">分阶段数据副本恢复算法将集中地数据恢复分成多个数据恢复阶段,以此降低短时间内的链路资源开销,但是其仍是一种数据全部恢复的算法。由文献<citation id="244" type="reference">[<a class="sup">5</a>]</citation>分析可知,在云系统中存储的数据满足二八定律,即只有20%的数据有80%的使用率,因此在数据中心大部分数据为冷数据。对于该类数据没有必要恢复以占用链路带宽。本文提出稀有度模型描述数据的冷热程度。稀有度是根据数据负载和数据副本个数来确定。本文结合分阶段思想,提出稀有度感知的分阶段数据副本恢复算法(Rarity)。</p>
                </div>
                <div class="p1">
                    <p id="154">确定数据负载为该数据所有副本负载之和的公式具体如下:</p>
                </div>
                <div class="p1">
                    <p id="155" class="code-formula">
                        <mathml id="155"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Η</mi><msub><mrow></mrow><mi>j</mi></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mi>p</mi></msub></mrow></munderover><mi>L</mi></mstyle><msub><mrow></mrow><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="156">其中,<i>L</i><sub><i>jk</i></sub>已在式(2)中进行描述,<i>N</i><sub><i>p</i></sub>代表数据中心物理机数量。结合数据副本个数和数据负载情况,定义数据稀有度为:</p>
                </div>
                <div class="p1">
                    <p id="157"><i>RT</i><sub><i>j</i></sub>=<i>f</i>(<i>N</i><sub><i>rj</i></sub>,<i>H</i><sub><i>j</i></sub>)=<i>N</i><sub><i>r</i></sub>(<i>S</i><sub><i>j</i></sub>)+<i>β</i>×lg(<i>H</i><sub><i>j</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="158">其中,<i>N</i><sub><i>r</i></sub>函数如式(3)所示,<i>β</i>根据当前<i>H</i><sub><i>j</i></sub>的大小和其他变量的定义进行调节。当<i>RT</i><sub><i>j</i></sub>&lt;0时,表明该数据活跃度高,即稀有度低,需要进行恢复。当<i>RT</i><sub><i>j</i></sub>&gt;0时,表明该数据活跃度低,稀有度高,该数据为冷数据不需要恢复,对于无需恢复的数据,要保证其满足安全规则。</p>
                </div>
                <div class="p1">
                    <p id="159">本文结合稀有度分析以及分阶段思想,提出的稀有度感知的分阶段数据恢复算法的具体过程如下:首先,确定2个恢复集合<i>Set</i><sub><i>A</i></sub>和<i>Set</i><sub><i>B</i></sub>,其中,<i>Set</i><sub><i>A</i></sub>表示该集合中的数据元素不满足安全规则(第3行～第4行),必须对这些数据副本进行恢复,<i>Set</i><sub><i>B</i></sub>表示满足安全规则的数据副本集合,但是该数据副本负载高(第5行～第6行),因此要对这些数据副本进行恢复;然后,针对2个集合分别调用分阶段数据副本恢复算法(第9行～第10行),对集合<i>Set</i><sub><i>A</i></sub>和<i>Set</i><sub><i>B</i></sub>按照安全等级<i>Set</i><sub><i>A</i></sub>1,<i>Set</i><sub><i>A</i></sub>2,…,<i>Set</i><sub><i>A</i></sub>max,<i>Set</i><sub><i>B</i></sub>1,<i>Set</i><sub><i>B</i></sub>2,…,<i>Set</i><sub><i>B</i></sub>max进行数据副本恢复。在恢复过程中,源物理机和目的物理机的选择及数据副本恢复过程与3.1.3节的恢复过程相似。</p>
                </div>
                <div class="p1">
                    <p id="160"><b>算法3</b> 稀有度感知的分阶段数据副本恢复算法</p>
                </div>
                <div class="p1">
                    <p id="161"><b>输入</b><i>Set</i>待恢复的数据副本集合</p>
                </div>
                <div class="p1">
                    <p id="162"><b>输出</b> 数据副本恢复结果</p>
                </div>
                <div class="p1">
                    <p id="163">1.Set<sub>A</sub> ←Ф,Set<sub>B</sub> ← Ф;//初始化2个集合</p>
                </div>
                <div class="p1">
                    <p id="164">2.for S<sub>j</sub>∈ Set do</p>
                </div>
                <div class="p1">
                    <p id="165">3.if isHAR(S<sub>j</sub>) then //将不满足安全规则的数据放入Set<sub>A</sub></p>
                </div>
                <div class="p1">
                    <p id="166">4.Set<sub>A</sub> ←Set<sub>A</sub> ∪{ S<sub>j</sub> };</p>
                </div>
                <div class="p1">
                    <p id="167">5.else if RTj &lt; 0 then //将满足安全规则但数据负载//高的副本放入Set<sub>B</sub></p>
                </div>
                <div class="p1">
                    <p id="168">6.Set<sub>B</sub> ←Set<sub>B</sub> ∪{ S<sub>j</sub> };</p>
                </div>
                <div class="p1">
                    <p id="169">7.endif</p>
                </div>
                <div class="p1">
                    <p id="170">8.endfor</p>
                </div>
                <div class="p1">
                    <p id="171">9.stage(Set<sub>A</sub>);</p>
                </div>
                <div class="p1">
                    <p id="172">10.stage (Set<sub>B</sub>);</p>
                </div>
                <h3 id="173" name="173" class="anchor-tag">4 实验与结果分析</h3>
                <h4 class="anchor-tag" id="174" name="174">4.1 实验设置</h4>
                <div class="p1">
                    <p id="175">在实验中,对数据中心架构的设置如下:每一个机架内的物理机通过一个交换机连接,交换机和交换机之间通过路由器相连,链路带宽为1 000 Mb/s。物理机可用的数据存储空间为1 000,即可以容纳1 000个数据对象。对于每个数据对象,初始副本数量为2～5(符合正态分布),并满足副本分布的安全规则。在初始状态下,系统会产生一系列服务,每个服务与具体的数据副本关联,其中服务负载遵循50～200的正态分布。在实验中,基于普通的计算机典型配置(Intel i5处理器、8 GB内存),模拟某台物理机失效的过程,并分别通过Direct算法、Stage算法、Rarity算法执行数据恢复过程并观察各自的实验结果。</p>
                </div>
                <div class="p1">
                    <p id="176">为测试不同系统负载下的算法效率,通过服务的总带宽需求衡量系统负载<i>u</i>,具体如下:</p>
                </div>
                <div class="p1">
                    <p id="177" class="code-formula">
                        <mathml id="177"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mo>=</mo><mfrac><mrow><mtext>平</mtext><mtext>均</mtext><mtext>负</mtext><mtext>载</mtext></mrow><mrow><mtext>链</mtext><mtext>路</mtext><mtext>带</mtext><mtext>宽</mtext></mrow></mfrac></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="178">其中,平均负载为每台物理机上服务负载之和的平均值。在实验过程中,系统负载在40%～80%范围内变化。</p>
                </div>
                <h4 class="anchor-tag" id="179" name="179">4.2 平均服务质量评估</h4>
                <div class="p1">
                    <p id="180">基于上述实验设置,本文对磁盘失效时数据副本恢复过程中的平均服务质量进行评估,其结果如图3所示。根据结果可知,相比于Direct算法,Stage算法和Rarity算法有明显的服务质量提升,表明这2种算法在服务质量保障方面有较好的效果。此外,随着系统负载的提升,对同一种算法而言,服务质量没有特别明显的变化,主要原因在于数据拷贝任务本身会尽可能多地占用带宽资源,而原有服务的负载在不超过100%的情况下,其资源抢占能力变化不明显。</p>
                </div>
                <div class="area_img" id="181">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201909003_181.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 平均服务质量对比" src="Detail/GetImg?filename=images/JSJC201909003_181.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 平均服务质量对比</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201909003_181.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="182" name="182">4.3 恢复时间评估</h4>
                <div class="p1">
                    <p id="183">本文虽以保障服务质量为核心目标,但数据恢复时间仍是不可忽略的指标,数据恢复时间越长,意味着系统遭遇第2次磁盘失效或机架失效的概率越高。对于同样的实验设置,对数据恢复时间进行评估,结果如图4所示。系统负载情况体现了当前环境下服务自身的带宽需求,也直接影响数据恢复过程可用的带宽资源。由于Direct算法直接恢复所有的数据,同时启动了更多的数据拷贝任务,从而抢占更多的带宽资源,因此Direct算法的数据恢复时间最短。Stage算法和Rarity算法的恢复时间更长,但仍在可接受的范围之内。需要指出的是,Stage算法和Rarity算法首先会将不符合安全规则的数据副本进行恢复,其时间远小于总恢复时间。在该阶段后,系统具备了承受第2次磁盘失效或机架失效的能力,即每个数据都有分布在不同机架上的2个副本。此外,虽然Rarity算法减少了数据恢复总量,但其阶段更多,因此总恢复时间更长。</p>
                </div>
                <div class="area_img" id="184">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJC201909003_184.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 数据副本恢复时间对比" src="Detail/GetImg?filename=images/JSJC201909003_184.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 数据副本恢复时间对比</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJC201909003_184.jpg&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="185" name="185" class="anchor-tag">5 结束语</h3>
                <div class="p1">
                    <p id="186">为优化互联网应用服务质量,提出分阶段数据副本恢复算法和稀有度感知的分阶段数据副本恢复算法,并通过模拟实验验证了提出算法在云应用服务质量保障方面的效率。下一步可将分阶段数据恢复算法嵌入到Hadoop系统中,同时实现一个系统原型,并在真实环境下进行实验验证。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="201">
                            <a id="bibliography_1" >
                                    <b>[1]</b>
                                 朱家稷,张海勇.大规模云计算平台的技术挑战[J].程序员,2012(2):8-10.
                            </a>
                        </p>
                        <p id="203">
                            <a id="bibliography_2" >
                                    <b>[2]</b>
                                 吴洋.阿里云飞天分布式存储系统实践[EB/OL].[2018-03-04].https://yq.aliyun.com/edu/lesson/play/392.
                            </a>
                        </p>
                        <p id="205">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787111417668000&amp;v=MTkzODlWMFhYRnF6R2JLNUg5WE5xSWxEYk9zUERCTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZadTl1RkN2bVU3YkpJ&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 蔡斌,陈湘萍.Hadoop技术内幕[M].北京:机械工业出版社,2013.
                            </a>
                        </p>
                        <p id="207">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Apache hadoop yarn:Yet another resource negotiator">

                                <b>[4]</b> VAVILAPALLI V K,MURTHY A C,DOUGLAS C,et al.Apache Hadoop YARN:yet another resource negotiator[C]//Proceedings of the 4th Annual Symposium on Cloud Computing.New York,USA:ACM Press,2013:5-10.
                            </a>
                        </p>
                        <p id="209">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A cost-efficient data placement algorithm with high reliability in hadoop">

                                <b>[5]</b> DU Yao,XIONG Runqun,JIN Jiahui,et al.A cost-efficient data placement algorithm with high reliability in Hadoop[C]//Proceedings of the 5th International Conference on Advanced Cloud and Big Data.Washington D.C.,USA:IEEE Press,2017:100-105.
                            </a>
                        </p>
                        <p id="211">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Secure Erasure Code-Based Cloud Storage System with Secure Data Forwarding">

                                <b>[6]</b> PREMKUMAR P,GANAJEYARAMAN R.A secure erasure code-based cloud storage system with secure data forwarding[J].IEEE Transactions on Parallel and Distributed Systems,2012,23(6):995-1003.
                            </a>
                        </p>
                        <p id="213">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Flat XOR-based erasurecodes in storage systems constructions,efficient recovery,and tradeoffs">

                                <b>[7]</b> GREENAN K M,LI Xiaozhou,WYLIE J J.Flat XOR-based erasure codes in storage systems:constructions,efficient recovery,and tradeoffs[C]//Proceedings of the 26th Symposium on Mass Storage Systems and Technologies.Washington D.C.,USA:IEEE Press,2010:1-14.
                            </a>
                        </p>
                        <p id="215">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Load-Balanced Recovery Schemes for Single-Disk Failure in Storage Systems with Any Erasure Code">

                                <b>[8]</b> LUO Xianghong,SHU Jiwu.Load-balanced recovery schemes for single-disk failure in storage systems with any erasure code[C]//Proceedings of the 42nd International Conference on Parallel Processing.Washington D.C.,USA:IEEE Press,2013:552-561.
                            </a>
                        </p>
                        <p id="217">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Rethinking erasure codes for cloud file systems:Minimizing I/O for recovery and degraded reads">

                                <b>[9]</b> KHAN O,BURNS R C,PLANK J S,et al.Rethinking erasure codes for cloud file systems:minimizing I/O for recovery and degraded reads[C]//Proceedings of the 10th USENIX Conference on File and Storage Technologies.New York,USA:ACM Press,2012:20-28.
                            </a>
                        </p>
                        <p id="219">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A stack-based single disk failure recovery scheme for erasure coded storage systems">

                                <b>[10]</b> FU Yingxun,SHU Jiwu,LUO Xianghong.A stack-based single disk failure recovery scheme for erasure coded storage systems[C]//Proceedings of the 33rd International Symposium on Reliable Distributed Systems.Washington D.C.,USA:IEEE Press,2014:136-145.
                            </a>
                        </p>
                        <p id="221">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Cross-rack-aware single failure recovery for clustered file systems">

                                <b>[11]</b> SHEN Zhirong,LEE P P C,SHU Jiwu,et al.Cross-rack-aware single failure recovery for clustered file systems[EB/OL].[2018-03-04].https://www.computer.org/csdl/journal/tq/5555/01/08113513/13rRUyuNsyx.
                            </a>
                        </p>
                        <p id="223">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201103026&amp;v=MDE0MDI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUnRGeUhrVXJ6TEx6N0JaYkc0SDlETXJJOUhZb1FLREg=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 李成华,张新访,金海,等.MapReduce:新型的分布式并行计算编程模型[J].计算机工程与科学,2011,33(3):129-135.
                            </a>
                        </p>
                        <p id="225">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1012381484.nh&amp;v=MTUyMDdUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJ0RnlIa1VyekxWRjI2SExDd0g5WEVxNUViUElRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b> 赵建光.云计算环境下数据库系统的分层排队网络模型[D].太原:太原理工大学,2012.
                            </a>
                        </p>
                        <p id="227">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=HDFS erasure coding in big data Hadoop——an introduction">

                                <b>[14]</b> DataFlair team.HDFS erasure coding in big data Hadoop——an introduction[EB/OL].[2018-07-09].https://data-flair.training/blogs/hadoop-hdfs-erasure-coding/.
                            </a>
                        </p>
                        <p id="229">
                            <a id="bibliography_15" >
                                    <b>[15]</b>
                                 吴均平.阿里云平台的优化实践[EB/OL].[2018-07-09].http://qiusuoge.com/13816.html.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJC201909003" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201909003&amp;v=MjA2NTQ5Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSdEZ5SGtVcnpMTHo3QmJiRzRIOWpNcG8=&amp;uid=WEEvREcwSlJHSldRa1Fhb09jT0lPUU40eEVEZ0d2Qys0RlVkOHZmZ3ZpRT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
