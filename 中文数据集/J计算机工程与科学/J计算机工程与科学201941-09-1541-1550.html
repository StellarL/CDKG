<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637132356187373750%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJK201909003%26RESULT%3d1%26SIGN%3dJDIJSXdDBkS8NaZ5izLLVTYDXs4%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201909003&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201909003&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201909003&amp;v=MDEyMDBMejdCWmJHNEg5ak1wbzlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnk3a1VyL0E=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#42" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#47" data-title="&lt;b&gt;2 相关研究&lt;/b&gt; "><b>2 相关研究</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#51" data-title="&lt;b&gt;3 性能波动性测试工具&lt;/b&gt; "><b>3 性能波动性测试工具</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#52" data-title="&lt;b&gt;3.1 性能计数器PMR&lt;/b&gt;"><b>3.1 性能计数器PMR</b></a></li>
                                                <li><a href="#54" data-title="&lt;b&gt;3.2 Violin Plot&lt;/b&gt;"><b>3.2 Violin Plot</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#57" data-title="&lt;b&gt;4 性能波动性测试方法&lt;/b&gt; "><b>4 性能波动性测试方法</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#58" data-title="&lt;b&gt;4.1 Resource Stressing Benchmark&lt;/b&gt;"><b>4.1 Resource Stressing Benchmark</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;4.2 测试方法&lt;/b&gt;"><b>4.2 测试方法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#76" data-title="&lt;b&gt;5 性能波动性实验&lt;/b&gt; "><b>5 性能波动性实验</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#77" data-title="&lt;b&gt;5.1 实验设置&lt;/b&gt;"><b>5.1 实验设置</b></a></li>
                                                <li><a href="#89" data-title="&lt;b&gt;5.2 实验结果分析&lt;/b&gt;"><b>5.2 实验结果分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#122" data-title="&lt;b&gt;6 结束语&lt;/b&gt; "><b>6 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#44" data-title="图1 执行时间概率分布图和&lt;i&gt;WCET&lt;/i&gt;问题">图1 执行时间概率分布图和<i>WCET</i>问题</a></li>
                                                <li><a href="#56" data-title="图2 Violin Plot图形解读图">图2 Violin Plot图形解读图</a></li>
                                                <li><a href="#73" data-title="图3 基于PMR和RSB的硬件性能分析测试框架">图3 基于PMR和RSB的硬件性能分析测试框架</a></li>
                                                <li><a href="#75" data-title="图4 基于Python脚本的自动化测试流程">图4 基于Python脚本的自动化测试流程</a></li>
                                                <li><a href="#85" data-title="图5 在二级缓存关闭配置下,不同RSB的单核性能波动性">图5 在二级缓存关闭配置下,不同RSB的单核性能波动性</a></li>
                                                <li><a href="#87" data-title="&lt;b&gt;表1 RSB的不同参数设置&lt;/b&gt;"><b>表1 RSB的不同参数设置</b></a></li>
                                                <li><a href="#100" data-title="图6 在&lt;i&gt;Config&lt;/i&gt;1下2组实验结果">图6 在<i>Config</i>1下2组实验结果</a></li>
                                                <li><a href="#102" data-title="&lt;b&gt;表2 单核运行时,不同硬件配置下,不同RSB的&lt;/b&gt;&lt;i&gt;&lt;b&gt;WCET&lt;/b&gt;&lt;/i&gt;"><b>表2 单核运行时,不同硬件配置下,不同RSB的</b><i><b>WCET</b></i></a></li>
                                                <li><a href="#114" data-title="图7 &lt;i&gt;Config&lt;/i&gt;1和&lt;i&gt;Config&lt;/i&gt;3下2组实验结果">图7 <i>Config</i>1和<i>Config</i>3下2组实验结果</a></li>
                                                <li><a href="#119" data-title="&lt;b&gt;表3 双核运行时,不同硬件配置下,不同RSB的WCET&lt;/b&gt;"><b>表3 双核运行时,不同硬件配置下,不同RSB的WCET</b></a></li>
                                                <li><a href="#121" data-title="图8 双核运行时,在二级缓存共享配置下,
 &lt;i&gt;Core&lt;/i&gt;0的执行时间随&lt;i&gt;BIU&lt;/i&gt;_&lt;i&gt;MDR&lt;/i&gt;的变化曲线">图8 双核运行时,在二级缓存共享配置下,
 <i>Core</i>0的执行时间随<i>BIU</i>_<i>MDR</i>的变化曲线</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="150">


                                    <a id="bibliography_1" title=" Bailey E.Study report on anionics systems for the time frame 2007,2011 and 2020[R].[S.l]:European Organisation for the Safety of Air Navigation (EOSA),EUROCONTROL,2004." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Study report on anionics systems for the time frame 2007 2011 and 2020">
                                        <b>[1]</b>
                                         Bailey E.Study report on anionics systems for the time frame 2007,2011 and 2020[R].[S.l]:European Organisation for the Safety of Air Navigation (EOSA),EUROCONTROL,2004.
                                    </a>
                                </li>
                                <li id="152">


                                    <a id="bibliography_2" title=" Wilhelm R,Engblom J,Ermedahl A,et al.The worst case execution time problem-overview of methods and survey of tools[J].ACM Transactions on Embedded Computing System,2008,7(3):36-53." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000092643&amp;v=MTQ0Njl5am1VTGZJSmw4VmFobz1OaWZJWTdLN0h0ak5yNDlGWk9JTkNuZzZvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp1SA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         Wilhelm R,Engblom J,Ermedahl A,et al.The worst case execution time problem-overview of methods and survey of tools[J].ACM Transactions on Embedded Computing System,2008,7(3):36-53.
                                    </a>
                                </li>
                                <li id="154">


                                    <a id="bibliography_3" title=" Hintze J L,Nelson R D.Violin Plots:A box plot-density trace synergism[J].The American Statistician,1998,52(2):181-184." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=STJD&amp;filename=STJD504FDF00278C31F5E79769EC03DE65E3&amp;v=MjcwMjBhQnVIWWZPR1FsZkNwYlEzNU5CaHdybSt3S0E9TmpuQmFyYTRHcWU0Mlk5Rlp1d0hmMzg0dVJObTdUWjZUbmFYM3hJMkRjZVNRTStjQ09OdkZTaVdXcjdKSUZwbQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         Hintze J L,Nelson R D.Violin Plots:A box plot-density trace synergism[J].The American Statistician,1998,52(2):181-184.
                                    </a>
                                </li>
                                <li id="156">


                                    <a id="bibliography_4" title=" Schranzhofer A,Chen J J,Thiele L.Timing analysis for TDMA arbitration in resource sharing systems[C]//Proc of 2016 16th IEEE Real-Time and Embedded Technology and Applications Symposium,2010:215-224." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Timing Analysis for TDMA Arbitration in Resource Sharing Systems">
                                        <b>[4]</b>
                                         Schranzhofer A,Chen J J,Thiele L.Timing analysis for TDMA arbitration in resource sharing systems[C]//Proc of 2016 16th IEEE Real-Time and Embedded Technology and Applications Symposium,2010:215-224.
                                    </a>
                                </li>
                                <li id="158">


                                    <a id="bibliography_5" title=" Pellizzoni R,Schranzhofer A,Chen J-J,et al.Worst case delay analysis for memory interference in multicore systems[C]//Proc of Design,Automation Test in Europe Conference Exhibition (DATE),2010:741-746." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Worst case delay analysis for memory interference in multicore systems">
                                        <b>[5]</b>
                                         Pellizzoni R,Schranzhofer A,Chen J-J,et al.Worst case delay analysis for memory interference in multicore systems[C]//Proc of Design,Automation Test in Europe Conference Exhibition (DATE),2010:741-746.
                                    </a>
                                </li>
                                <li id="160">


                                    <a id="bibliography_6" title=" Wilhelm R,Grund D,Reineke J,et al.Memory hierarchies,pipelines,and buses for future architectures in time-critical embedded systems[J].IEEE Transactions on CAD of Integrated Circuits and Systems,2009,28(7):966-978." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Memory hierarchies, pipelines, and buses for future architectures in time-critical embedded systems">
                                        <b>[6]</b>
                                         Wilhelm R,Grund D,Reineke J,et al.Memory hierarchies,pipelines,and buses for future architectures in time-critical embedded systems[J].IEEE Transactions on CAD of Integrated Circuits and Systems,2009,28(7):966-978.
                                    </a>
                                </li>
                                <li id="162">


                                    <a id="bibliography_7" title=" Xu C,Chen X,Dick R-P,et al.Cache contention and application performance prediction for multi-core systems[C]//Proc of ISPASS,2010:76-86." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Cache contention and application performance prediction for multi-core systems">
                                        <b>[7]</b>
                                         Xu C,Chen X,Dick R-P,et al.Cache contention and application performance prediction for multi-core systems[C]//Proc of ISPASS,2010:76-86.
                                    </a>
                                </li>
                                <li id="164">


                                    <a id="bibliography_8" title=" Zhao L,Iyer R,Illikkal R,et al.Cachescouts:Fine-grain monitoring of shared caches in CMP platforms[C]//Proc of the 16th International Conference on Parallel Architecture and Compilation Techniques,2007:339." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=CacheScouts Fine-Grain Monitoring of Shared Caches in CMP Platforms">
                                        <b>[8]</b>
                                         Zhao L,Iyer R,Illikkal R,et al.Cachescouts:Fine-grain monitoring of shared caches in CMP platforms[C]//Proc of the 16th International Conference on Parallel Architecture and Compilation Techniques,2007:339.
                                    </a>
                                </li>
                                <li id="166">


                                    <a id="bibliography_9" title=" Guan N,Stigge M,Yi W,et al.Cache-aware scheduling and analysis for multicores[C]//Proc of EMSOFT,2009:245-254." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Cache-aware scheduling and analysis for multicores">
                                        <b>[9]</b>
                                         Guan N,Stigge M,Yi W,et al.Cache-aware scheduling and analysis for multicores[C]//Proc of EMSOFT,2009:245-254.
                                    </a>
                                </li>
                                <li id="168">


                                    <a id="bibliography_10" title=" Radojkovic P,Girbal S,Grasset A,et al.On the evaluation of the impact of shared resources in multithreaded COTS processors in time-critical environments[J].TACO,2012,8(4):1-25." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000004207&amp;v=MzE3MDE0OUZaT3NMRG53K29CTVQ2VDRQUUgvaXJSZEdlcnFRVE1ud1plWnVIeWptVUxmSUpsOFZhaG89TmlmSVk3SzdIdGpOcg==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         Radojkovic P,Girbal S,Grasset A,et al.On the evaluation of the impact of shared resources in multithreaded COTS processors in time-critical environments[J].TACO,2012,8(4):1-25.
                                    </a>
                                </li>
                                <li id="170">


                                    <a id="bibliography_11" title=" Nowotsch J,Paulitsch M.Leveraging multi-core computing architectures in avionics[C]//Proc of European Dependable Computing Conference,2012:42-52." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Leveraging multi-core computing architectures in avionics">
                                        <b>[11]</b>
                                         Nowotsch J,Paulitsch M.Leveraging multi-core computing architectures in avionics[C]//Proc of European Dependable Computing Conference,2012:42-52.
                                    </a>
                                </li>
                                <li id="172">


                                    <a id="bibliography_12" title=" Wang Le.Analysis of challenge of using multi-core processors in avionics[J].Aeronautical Computing Technique,2011,41(5):128-130.(in Chinese)" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201105031&amp;v=Mjk3MTBETXFvOUdaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm1GeTdrVXIvQUxTYkJaTEc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         Wang Le.Analysis of challenge of using multi-core processors in avionics[J].Aeronautical Computing Technique,2011,41(5):128-130.(in Chinese)
                                    </a>
                                </li>
                                <li id="174">


                                    <a id="bibliography_13" title=" Chen Fang-yuan,Zhang Dong-song,Wang Zhi-ying.Inter-thread interference analysis for real-time WCET estimations of multi-core architectures[J].Acta Electronica Sinica,2012,40(7):1372-1378.(in Chinese)" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZXU201207015&amp;v=MjQ3MjJmVGU3RzRIOVBNcUk5RVlZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSbUZ5N2tVci9BSVQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                         Chen Fang-yuan,Zhang Dong-song,Wang Zhi-ying.Inter-thread interference analysis for real-time WCET estimations of multi-core architectures[J].Acta Electronica Sinica,2012,40(7):1372-1378.(in Chinese)
                                    </a>
                                </li>
                                <li id="176">


                                    <a id="bibliography_14" >
                                        <b>[14]</b>
                                     Duan Yu-bo,Wang Le.Analysis and optimization of memory latency based on multi-core processor P2020[J].Aeronautical Computing Technique,2015,45(3):108-112.(in Chinese)</a>
                                </li>
                                <li id="178">


                                    <a id="bibliography_15" >
                                        <b>[15]</b>
                                     Duan Yu-bo.Analysis and optimization of computing performance based on multi-core processor P2020[J].Computer Knowledge and Technology,2017,13(11):202-205.(in Chinese)附中文参考文献:.</a>
                                </li>
                                <li id="180">


                                    <a id="bibliography_12" >
                                        <b>[12]</b>
                                     王乐.航空电子系统中应用多核处理器的挑战分析[J].航空计算技术,2011,41(5):128-130.</a>
                                </li>
                                <li id="182">


                                    <a id="bibliography_13" >
                                        <b>[13]</b>
                                     陈芳园,张冬松,王志英.多核实时线程间干扰分析及WCET估值[J].电子学报,2012,40(7):1372-1378.</a>
                                </li>
                                <li id="184">


                                    <a id="bibliography_14" title=" 段宇博,王乐.多核处理器P2020的访存实时性分析与优化[J].航空计算技术,2015,45(3):108-112." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201503027&amp;v=MTMzNTVxcUJ0R0ZyQ1VSTE9lWmVSbUZ5N2tVci9BTFNiQlpMRzRIOVRNckk5SFk0UUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                         段宇博,王乐.多核处理器P2020的访存实时性分析与优化[J].航空计算技术,2015,45(3):108-112.
                                    </a>
                                </li>
                                <li id="186">


                                    <a id="bibliography_15" title=" 段宇博.多核处理器P2020运算性能的测试与分析[J].电脑知识与技术,2017,13(11):202-205." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201711090&amp;v=MjU1NzJybzlNWklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnk3a1VyL0FJU1BSZmJHNEg5Yk4=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         段宇博.多核处理器P2020运算性能的测试与分析[J].电脑知识与技术,2017,13(11):202-205.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJK" target="_blank">计算机工程与科学</a>
                2019,41(09),1541-1550 DOI:10.3969/j.issn.1007-130X.2019.09.003            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>面向安全关键应用的多核处理器执行时间波动性分析</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="javascript:;">宾婧怡</a>
                                <a href="javascript:;">丁旭阳</a>
                                <a href="javascript:;">齐晓铭</a>
                                <a href="javascript:;">陈浩</a>
                </h2>
                    <h2>

                    <span>航空工业西安飞行自动控制研究所(618所)</span>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>在安全关键系统中,针对多核处理器共享硬件资源竞争带来的执行时间波动性问题,提出了基于性能计数器PMR和RSB的通用测试方法,通过捕捉执行时间波动性相关的硬件事件来分析硬件资源的共享性、执行时间的波动性和硬件平台的黑盒或灰盒行为。此方法可用于硬件平台的性能评估,也可用于应用任务的资源消耗评估,从而为<i>WCET</i>预测提供指导。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%9A%E6%A0%B8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">多核;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=WCET&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">WCET;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PMR&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PMR;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=RSB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">RSB;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AE%89%E5%85%A8%E5%85%B3%E9%94%AE%E7%B3%BB%E7%BB%9F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">安全关键系统;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    宾婧怡（1985-），女，湖南长沙人，博士，工程师，研究方向为嵌入式系统。E-mail:binjingyi@163.com,通信地址：710077陕西省西安市锦业路129号航空工业西安飞行自动控制研究所&lt;image id="143" type="formula" href="images/JSJK201909003_14300.jpg" display="inline" placement="inline"&gt;&lt;alt&gt;&lt;/alt&gt;&lt;/image&gt;;
                                </span>
                                <span>
                                    丁旭阳（1986-），男，江苏扬州人，硕士，工程师，研究方向为嵌入式系统。E-mail:dingxuy@126.com,通信地址：710077陕西省西安市锦业路129号航空工业西安飞行自动控制研究所&lt;image id="145" type="formula" href="images/JSJK201909003_14500.jpg" display="inline" placement="inline"&gt;&lt;alt&gt;&lt;/alt&gt;&lt;/image&gt;;
                                </span>
                                <span>
                                    齐晓铭（1988-），男，陕西宝鸡人，硕士，工程师，研究方向为嵌入式系统。E-mail:Lookingfor7@126.com,通信地址：710077陕西省西安市锦业路129号航空工业西安飞行自动控制研究所&lt;image id="147" type="formula" href="images/JSJK201909003_14700.jpg" display="inline" placement="inline"&gt;&lt;alt&gt;&lt;/alt&gt;&lt;/image&gt;;
                                </span>
                                <span>
                                    陈浩（1971-），男，四川旺苍人，硕士，研究员，研究方向为嵌入式系统。E-mail:applexjm@vip.sina.com,通信地址：710077陕西省西安市锦业路129号航空工业西安飞行自动控制研究所&lt;image id="149" type="formula" href="images/JSJK201909003_14900.jpg" display="inline" placement="inline"&gt;&lt;alt&gt;&lt;/alt&gt;&lt;/image&gt;;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-05</p>

            </div>
                    <h1><b>Analyzing runtime variability of multi-core processors for safety-critical systems</b></h1>
                    <h2>
                    <span>BIN Jing-yi</span>
                    <span>DING Xu-yang</span>
                    <span>QI Xiao-ming</span>
                    <span>CHEN Hao</span>
            </h2>
                    <h2>
                    <span>AVIC Xi&apos;an Flight Automatic Control Research Institute</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>In order to solve the runtime variability problem caused by the contentions of shared hardware resources in multi-core processors for safety-critical systems, we propose a generalized measurement method based on performance monitor register(PMR) and resource stressing benchmark(RSB). The method captures the hardware events related to the execution time variability to analyze the sharing of hardware resources, the variability of execution time, and the black box or gray box behavior of the hardware platform. The proposed method can not only estimate the performance of hardware platforms, but also the resource consumption of applications, which thus can provide guidance for the worst case execution time(WCET) prediction in a pre-determined co-running context.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=multi-core&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">multi-core;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=WCET&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">WCET;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PMR&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PMR;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=RSB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">RSB;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=safety-critical%20system&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">safety-critical system;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    BIN Jing-yi,born in 1985,PhD,engineer,her research interest includes embedded systems.Address:AVIC Xi’an Flight Automatic Control Research Institute,129Jinye Road,Xi’an 710077,Shaanxi,P.R.China;
                                </span>
                                <span>
                                    DING Xu-yang,born in 1986,MS,engineer,his research interest includes embedded systems.Address:AVIC Xi’an Flight Automatic Control Research Institute,129Jinye Road,Xi’an 710077,Shaanxi,P.R.China;
                                </span>
                                <span>
                                    QI Xiao-ming,born in 1988,MS,engineer,his research interest includes embedded systems.Address:AVIC Xi’an Flight Automatic Control Research Institute,129Jinye Road,Xi’an 710077,Shaanxi,P.R.China;
                                </span>
                                <span>
                                    CHEN Hao,born in 1971,MS,research fellow,his research interest includes embedded systems.Address:AVIC Xi’an Flight Automatic Control Research Institute,129Jinye Road,Xi’an 710077,Shaanxi,P.R.China;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2018-12-05</p>
                            </div>


        <!--brief start-->
                        <h3 id="42" name="42" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="43">在安全关键应用领域中,数据的处理和事件的响应都有严格的时间约束<citation id="188" type="reference"><link href="150" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>,往往要求在某个周期任务中完成,例如航空领域中导航解算和控制类任务都是周期执行的。安全关键应用中的周期任务一旦超时将带来不可估量的灾难性后果。因此,安全关键应用的第一考虑是周期任务执行时间的确定性,而非性能的提升。最坏执行时间<i>WCET</i>(Worst Case Execution Time)常常被用作评估任务是否能按时完成的指标。将同一个任务重复执行<i>n</i>次,记录每次的执行时间,绘制这<i>n</i>个执行时间的概率分布图,如图1所示。图1中measured <i>WCET</i>曲线代表测试得到的执行时间的概率分布,exact <i>WCET</i>曲线代表真实执行时间的概率分布。这2个概率分布曲线表征着执行时间的波动,<i>WCET</i>代表任务的最长执行时间。在多核处理器中,由于难以遍历所有的任务执行延时情况,因此往往难以通过测试得到真实的<i>WCET</i>。在安全关键应用中,为了保证任务周期不超时,在测试得到的<i>WCET</i>上加上安全余量(图1中的safety margin),得到预估的<i>WCET</i>(图1中的estimated <i>WCET</i>),作为任务周期是否超时的指标。</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 执行时间概率分布图和WCET问题" src="Detail/GetImg?filename=images/JSJK201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 执行时间概率分布图和<i>WCET</i>问题  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 1 Runtime probability distribution and <i>WCET</i> problem</p>

                </div>
                <div class="p1">
                    <p id="45">在现今的安全关键应用中(例如航空机载应用),为了满足数据处理能力方面的需求,处理器平台逐渐从单核过渡到多核。考虑到成本和开发周期等因素,大多数安全关键应用都选用商用处理器平台COTS(Commercial Off-The-Shelf)。相比于单核处理器,在多核处理器中,运行于不同核上的任务是真正意义上并行的。商用多核处理器为提高平台的平均性能,引入了总线互连和共享资源相关的硬件机制来满足软件的并行执行效率。而这些机制的引入给安全关键应用的实时性和确定性带来了巨大的挑战。系统的实时性和确定性要求所有任务都能保证其<i>WCET</i>小于其任务周期。但是,在多核处理器上并行执行的任务会因为共享资源,例如总线和共享缓存等,而产生访问竞争,使得其执行时间产生难以预测的波动,进而导致<i>WCET</i>难以估测。Wilhelm等人<citation id="189" type="reference"><link href="152" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>从理论上系统且详细地分析了执行时间波动产生的原因和<i>WCET</i>的测试方法。如何量化和评价多核处理器的共享硬件资源带来的执行时间波动性以及如何正确预估<i>WCET</i>是需要针对性研究的问题。</p>
                </div>
                <div class="p1">
                    <p id="46">本文提出了多核处理器的并行执行时间波动性的分析方法,以Freescale的QorIQ系列的P2020为例,利用性能计数器PMR(Performance Monitor Register)、RSB(Resource Stressing Benchmark)和Violin Plot<citation id="190" type="reference"><link href="154" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>来监控和表征不同硬件配置下的执行时间(即性能)波动性。此分析方法可以用来量化和评估不同硬件架构的并行执行时间波动性。</p>
                </div>
                <h3 id="47" name="47" class="anchor-tag"><b>2 相关研究</b></h3>
                <div class="p1">
                    <p id="48">国外在安全关键领域中,针对COTS多核处理器的性能波动性方面开展了不少研究。文献<citation id="191" type="reference">[<a class="sup">4</a>]</citation>将任务划分为一系列superblock,以时分多址TDMA(Time Division Multiple Access)策略进行任务调度,分析每个superblock的<i>WCET</i>来推算任务的<i>WCET</i>。文献<citation id="192" type="reference">[<a class="sup">5</a>]</citation>同样是基于superblock的概念提出内存冲突引起的任务延时模型。然而,文献<citation id="194" type="reference">[<a class="sup">4</a>,<a class="sup">5</a>]</citation>中的superblock分析方法要求任务的计算时间和访存时间都具有可分解性,即要求硬件架构支持时间的可分解性分析<citation id="193" type="reference"><link href="160" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>。然而,COTS多核处理器的资源共享机制一般都很复杂,甚至某些机制因商业原因并不公开,因此共享机制引起的延时难以分解分析。文献<citation id="195" type="reference">[<a class="sup">7</a>,<a class="sup">8</a>,<a class="sup">9</a>]</citation>通过监控缓存利用状态来制定高效的调度策略,以此公平有效地利用缓存来减缓性能波动。以上研究均是通过建模的方式来分析性能波动和预测<i>WCET</i>,但在建模过程中引入了诸多实际应用中难以实现的假设条件。相比于建模方式,文献<citation id="196" type="reference">[<a class="sup">10</a>,<a class="sup">11</a>]</citation>基于实验测试的方式,根据硬件架构设计测试用例和实验例程来分析性能波动的原因。</p>
                </div>
                <div class="p1">
                    <p id="49">国内在安全关键领域针对COTS多核处理器的性能波动性研究比国外起步晚。文献<citation id="197" type="reference">[<a class="sup">12</a>,<a class="sup">12</a>]</citation>阐述了多核处理器在航空电子系统应用中给实时性和安全性带来的挑战。文献<citation id="198" type="reference">[<a class="sup">13</a>,<a class="sup">13</a>]</citation>针对多线程任务竞争共享缓存和互连总线带来的执行延迟,提出了基于典型共享指令缓存和互连总线的访问时序模型来迭代估测<i>WCET</i>的方法。虽然此方法建立在一定的假设条件下,但给多核处理器<i>WCET</i>的预测提供了值得继续深入研究的方向。相比于基于模型的方法,文献<citation id="199" type="reference">[<a class="sup">14</a>,<a class="sup">15</a>,<a class="sup">14</a>,<a class="sup">15</a>]</citation>提出了基于实验测试的方法,研究了多核处理器访存实时性以及共享资源竞争对于运算性能的影响。</p>
                </div>
                <div class="p1">
                    <p id="50">本文参考文献<citation id="200" type="reference">[<a class="sup">10</a>,<a class="sup">11</a>,<a class="sup">14</a>,<a class="sup">15</a>,<a class="sup">14</a>,<a class="sup">15</a>]</citation>的思路,利用定制化的测试用例来分析多核处理器的并行执行时间波动性。</p>
                </div>
                <h3 id="51" name="51" class="anchor-tag"><b>3 性能波动性测试工具</b></h3>
                <h4 class="anchor-tag" id="52" name="52"><b>3.1 性能计数器PMR</b></h4>
                <div class="p1">
                    <p id="53">PMR是一组处理器内部用来监控和捕捉处理器某些特定硬件行为的特殊寄存器。PMR本质是一组计数器,用来记录用户配置的待监控事件的发生次数。不同的处理器平台根据自身的架构特点提供允许被监控的硬件事件,如一级数据缓存不命中次数和互连总线数据访问次数等。PMR可以帮助用户了解运行任务的特点,有针对性地进行任务优化;另一方面,PMR可以用来分析硬件架构中的某些黑盒特性,让用户更透彻地知晓各个硬件行为之间的关系。本文基于PMR使用流程编写了性能监控接口函数,用来对被监控任务的配置事件计数。</p>
                </div>
                <h4 class="anchor-tag" id="54" name="54"><b>3.2 Violin Plot</b></h4>
                <div class="p1">
                    <p id="55">本文利用Violin Plot来图形化表征执行时间波动性。Violin Plot图形的解读图如图2所示。图2中2个Violin Plot分别代表2个不同任务的执行时间波动性。Violin Plot的最高点(最高平台)代表最大执行时间,最低点(最低平台)代表最小执行时间,黑点代表中值执行时间。Violin Plot的某执行时间<i>r</i>对应的区域越宽代表落在这个执行时间<i>r</i>的点越多,即执行时间<i>r</i>出现的概率越大。左边图形中,最大值和最小值出现的概率最小,而右边图形中,最小值出现的概率最大。Violin Plot能够帮助用户直观形象地观察和对比执行时间的波动特点。</p>
                </div>
                <div class="area_img" id="56">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 Violin Plot图形解读图" src="Detail/GetImg?filename=images/JSJK201909003_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 Violin Plot图形解读图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 2 Diagram of the violin plot interpretation</p>

                </div>
                <h3 id="57" name="57" class="anchor-tag"><b>4 性能波动性测试方法</b></h3>
                <h4 class="anchor-tag" id="58" name="58"><b>4.1 Resource Stressing Benchmark</b></h4>
                <div class="p1">
                    <p id="59">为了分析和评估由共享硬件资源带来的性能波动性,本文采用文献<citation id="201" type="reference">[<a class="sup">10</a>,<a class="sup">11</a>]</citation>中的设计思路编写了一组RSB(Resource Stressing Benchmark)。RSB的目的是用来对某一个硬件资源进行高负荷访问,将硬件资源在高负荷下的行为反映到执行时间波动上。但是,在某些情况下,只对一个硬件资源产生高负载几乎是不可能实现的,比如对共享缓存施加高负载的同时必然对第1级私有缓存施加相应的负载,这是无法避免的。在多核处理器上并行执行某一个或某些特定资源的RSB,可以反映出这些硬件资源在冲突时的处理行为带来的性能衰减和波动。</p>
                </div>
                <div class="p1">
                    <p id="60">RSB直接用汇编语言编写,这样可以避免编译器给RSB带来的代码优化,从而使RSB能够完全按照用户的设计意图来实现,进而更准确地分析性能波动的原因。RSB分为2种不同类型:(1)私有资源相关的RSB,如流水线资源和一级私有缓存等;(2)共享资源相关的RSB,如共享缓存和总线互连等。在多核处理器中,引起大幅性能波动的共享硬件资源是二级缓存、内部互连总线和DDR访问路径,因此可以针对内存访问路径设计访问频率可调节的RSB。访存类RSB设计构架如下所示:</p>
                </div>
                <div class="p1">
                    <p id="61">LOOP (<i>i</i>=0;<i>i</i>&lt;<i>TABLESIZE</i>-1;<i>i</i>+=<i>STRIDE</i>*<i>UNROLLED</i>)</p>
                </div>
                <div class="p1">
                    <p id="62">{</p>
                </div>
                <div class="p1">
                    <p id="63"><i>ACCESS</i>_<i>TABLE</i>(<i>i</i>,<i>OPERATION</i>)</p>
                </div>
                <div class="p1">
                    <p id="64"><i>NOP</i></p>
                </div>
                <div class="p1">
                    <p id="65"><i>ACCESS</i>_<i>TABLE</i>(<i>i</i>+<i>STRIDE</i>,<i>OPERATION</i>)</p>
                </div>
                <div class="p1">
                    <p id="66">…</p>
                </div>
                <div class="p1">
                    <p id="67"><i>ACCESS</i>_<i>TABLE</i>(<i>i</i>+(<i>STRIDE</i>*(<i>UNROLLED</i>-1)),<i>OPERATION</i>)</p>
                </div>
                <div class="p1">
                    <p id="68"><i>NOP</i></p>
                </div>
                <div class="p1">
                    <p id="69">}</p>
                </div>
                <div class="p1">
                    <p id="70">上述的RSB设计构架中有5个可调节参数,用来从总体上调节内存路径的访问频率,帮助用户更详细地量化共享资源带来的性能波动性。(1)<i>TABLESIZE</i>:代表一个LOOP中访问的数组的大小。调节<i>TABLESIZE</i>可以调节内存访问路径中被RSB访问到的硬件资源。当<i>TABLESIZE</i>小于或等于一级缓存大小时,二级缓存、内部互连总线和DDR都不会被访问;当<i>TABLESIZE</i>小于或等于二级缓存大小时,只有二级缓存和内部互连总线被访问;当<i>TABLESIZE</i>大于二级缓存大小时,二级缓存、内部互连总线和DDR都被访问。(2)<i>STRIDE</i>:代表一个LOOP中连续2次访问的间隔步长,用来调节缓存使用效率。调节<i>STRIDE</i>可以改变同一缓存行的命中次数,从而调节访问互连总线和DDR的频率。(3)<i>OPERATION</i>:代表访问类型,分为读操作和写操作。不同的操作类型或操作类型的组合带来不同的访存延时。(4)<i>NOP</i>:代表空指令,在连续2次访问之间插入的一个空闲,用来调节访存频率。(5)<i>UNROLLED</i>:循环展开的次数。<i>UNROLLED</i>越大,LOOP循环中的分支判断次数越少,即访存频率更高。</p>
                </div>
                <h4 class="anchor-tag" id="71" name="71"><b>4.2 测试方法</b></h4>
                <div class="p1">
                    <p id="72">本文提出基于PMR和RSB的测试方法,将硬件平台作为黑盒来分析其行为特征。测试框架如图3所示。在多核处理器上,在不同内核中并行运行不同类型RSB(如图3中流水线层级、I/O接口层级和存储器层级的RSB)来制造待分析硬件资源的过度负载。利用PMR捕捉执行时间和待分析硬件资源相关的硬件行为事件,通过分析执行时间的变化以及各硬件事件和执行时间之间的关系来表征:(1)哪些硬件资源是共享的;(2)执行时间的波动性;(3)硬件平台的黑盒或灰盒行为,如执行时间的波动与哪些硬件事件相关,其相关性是怎样的,相同处理器的不同硬件配置之间的性能差别等。在多核处理器中,很难通过厂商资料来推算所有硬件机制带来的影响,如大部分硬件延时特性都需要通过实验给出。本文提出的基于RSB和PMR的测试方法适用于所有硬件平台,可以用来分析比较不同平台的执行时间波动特性。</p>
                </div>
                <div class="area_img" id="73">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 基于PMR和RSB的硬件性能分析测试框架" src="Detail/GetImg?filename=images/JSJK201909003_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 基于PMR和RSB的硬件性能分析测试框架  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 3 Measurement framework of hardware performance
 analysis based on PMR and RSB</p>

                </div>
                <div class="p1">
                    <p id="74">考虑到PMR能够监控的硬件事件的数量(～100),各种不同类型的RSB数量(～100),在多核处理器上并行运行不同RSB的可能组合模式(如:(<i>Core</i>0中运行RSB1,<i>Core</i>1中运行RSB2即为一种可能的组合模式),根据图3的测试方法设计和运行的实验例程数量将非常多,且每个实验例程需要重复运行多次(～100)来捕捉执行时间波动性。因此,本文使用Python脚本语言对实验进行了自动化生成、配置和测试,自动化设计流程如图4所示。自动化流程中最重要的一步是如何生成实验例程。本文给出了如图4中虚线所示的实验例程生成方式,每个例程按处理器内核来组织,每个内核的参数用来表征运行在这个内核上的RSB的信息,如是否有RSB并列出RSB的参数。例如,图4访存类RSB的参数为<i>TABLESIZE</i>、<i>STRIDE</i>、<i>OPERATION</i>和<i>NOP</i>。在配置环节,Python根据例程中的RSB参数修改内核相关工程中的源文件(如C Header或Source文件),调用编译器编译修改过的工程。在运行环节中,利用Python启动集成开发环境IDE(如待分析目标硬件平台为Freescale P2020的话,其调试开发环境为CodeWarrior IDE),调用IDE的shell命令来控制例程的执行和数据结果的保存。最后退出IDE,继续执行剩余的例程直至例程全部执行完毕。依靠自动化设计流程,用户可高效完成测试工作。</p>
                </div>
                <div class="area_img" id="75">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_075.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 基于Python脚本的自动化测试流程" src="Detail/GetImg?filename=images/JSJK201909003_075.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 基于Python脚本的自动化测试流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_075.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 4 Flow chart of automatic test using Python script</p>

                </div>
                <h3 id="76" name="76" class="anchor-tag"><b>5 性能波动性实验</b></h3>
                <h4 class="anchor-tag" id="77" name="77"><b>5.1 实验设置</b></h4>
                <h4 class="anchor-tag" id="78" name="78">5.1.1 硬件平台</h4>
                <div class="p1">
                    <p id="79">本文采用P2020作为实验平台,P2020是Freescale研发的基于PowerPC架构的QorIQ P2系列双核处理器,具有高能效比,适用于电信、军事和工业应用等领域。</p>
                </div>
                <div class="p1">
                    <p id="80">P2020采用2个主频1.2 GHz的E500V2内核,每个内核具有独立的32 KB指令和32 KB数据缓存。2个内核通过ECM(E500 Coherency Module)总线模块与512 KB二级共享缓存、DDR控制器和PCIE等外设进行通信。ECM基于灵活的交换式结构,负责总线访问仲裁、路由和缓存一致性维护。ECM、二级缓存和DDR作为内核运行时的共享硬件资源,影响着任务执行时间的长短和波动性。P2020平台和E500V2内核上各有一组PMR。E500V2内核允许PMR对91个硬件事件进行监控,包括流水线相关事件、一级缓存相关事件、内存管理单元MMU(Memory Management Unit)相关事件和总线接口单元BIU(Bus Interface Unit)相关事件等。P2020平台允许对200多个硬件事件进行监控,包括二级缓存相关事件、ECM相关事件和DDR相关事件等外设相关事件。</p>
                </div>
                <h4 class="anchor-tag" id="81" name="81">5.1.2 实验设置</h4>
                <div class="p1">
                    <p id="82">为了能够准确地捕捉和分析硬件行为带来的性能波动,实验在没有操作系统的裸板环境下进行,采用AMP(Asymmetric Multi-Processing)非对称架构,即在每个内核中单独运行一个任务。2个任务不共享任何地址空间,且不进行任何通信。本文将P2020的2个内核分别命名为<i>Core</i>0和<i>Core</i>1。实验分以下2个步骤展开:</p>
                </div>
                <div class="p1">
                    <p id="83">(1)实验设置1:捕捉单核的性能波动性。在内核<i>Core</i>0中重复运行500次RSB,使用PMR捕捉每次运行时的<i>CPU cycle</i>(处理器执行时间),而内核<i>Core</i>1处于闲置状态。</p>
                </div>
                <div class="p1">
                    <p id="84">(2)实验设置2:捕捉双核的性能波动性。在2个内核中同时分别运行相同或不同的RSB,每次运行都重复500次,使用PMR捕捉内核<i>Core</i>0每次运行时的<i>CPU cycle</i>,并将<i>CPU cycle</i>与单核运行时的<i>CPU cycle</i>中值相除得到性能衰减。</p>
                </div>
                <div class="area_img" id="85">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_085.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 在二级缓存关闭配置下,不同RSB的单核性能波动性" src="Detail/GetImg?filename=images/JSJK201909003_085.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 在二级缓存关闭配置下,不同RSB的单核性能波动性  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_085.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 5 Standalone runtime variability for different RSBs in L2 cache off configuration</p>

                </div>
                <div class="p1">
                    <p id="86">为了有覆盖性和有对比性地展示和分析硬件共享带来的性能波动性,本文选用了参数不同的RSB,参数的设置详见表1。P2020中一级数据缓存大小为32 KB,二级缓存大小为512 KB,缓存行均为32字节。RSB单次访问为4字节,因此,<i>TABLESIZE</i>遍历从16 KB到2 MB的6个值,<i>STRIDE</i>选取了缓存利用率最高的4字节和缓存利用率最低的32字节,访存类型分为写和读。为了最大化地捕捉性能波动,将<i>NOP</i>设置为0,<i>UNROLLED</i>设置为1。</p>
                </div>
                <div class="area_img" id="87">
                    <p class="img_tit"><b>表1 RSB的不同参数设置</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Parameters setting for RSB</b></p>
                    <p class="img_note"></p>
                    <table id="87" border="1"><tr><td><br />参数</td><td colspan="6">值</td></tr><tr><td><br /><i>TABLESIZE</i></td><td>16 KB</td><td>128 KB</td><td>256 KB</td><td>512 KB</td><td>1 MB</td><td>2 MB</td></tr><tr><td><br /><i>STRIDE</i></td><td colspan="6">4字节和32字节</td></tr><tr><td><br /><i>OPERATION</i></td><td colspan="6">Read和Write</td></tr><tr><td><br /><i>NOP</i></td><td colspan="6">0</td></tr><tr><td><br /><i>UNROLLED</i></td><td colspan="6">1</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="88">为了分析共享硬件资源带来的不同性能波动,本文将P2020的二级缓存配置成3种不同的使用模式:(1)<i>Config</i>1:双核共享二级缓存;(2)<i>Config</i>2:将二级缓存进行分区配置,2个内核分别独立使用二级缓存的一半空间,即<i>way</i>0～<i>way</i>3指定给<i>Core</i>0,<i>way</i>4～<i>way</i>7指定给<i>Core</i>1;(3)<i>Config</i>3:关闭二级缓存。</p>
                </div>
                <h4 class="anchor-tag" id="89" name="89"><b>5.2 实验结果分析</b></h4>
                <h4 class="anchor-tag" id="90" name="90">5.2.1 单核性能波动性分析</h4>
                <div class="p1">
                    <p id="91">本文将实验设置1中不同RSB的<i>CPU cycle</i>数据绘制成Violin Plot来观测性能波动性。图5展现了在<i>Config</i>3配置下,不同RSB的性能波动性。在图5中,<i>X</i>轴代表不同RSB的<i>TABLESIZE</i>配置值;<i>Y</i>轴代表执行时间波动性,由每次执行时间相对于执行时间中值的归一化值得到。每个Violin Plot的最高点代表最大值,最低点代表最小值,中间点代表中值。每个子图中<i>Core</i>0的RSB的<i>OPERATION</i>(Write或Read)和<i>STRIDE</i>(4或32)参数标注在子图上方。在图5中,每个RSB的性能波动在±2%之内。根据实验结果,在<i>Config</i>1和<i>Config</i>2配置下,RSB的性能波动在±1%之内。通过实验可推知,在P2020平台上,以AMP架构使用单个内核时的性能波动性很小,与单核处理器的量级相当。</p>
                </div>
                <div class="p1">
                    <p id="92">在不同的二级缓存配置下,P2020单核执行时间不一样。表2展现了<i>Config</i>1、<i>Config</i>2和<i>Config</i>3硬件配置下,不同RSB的单核<i>WCET</i>。在<i>Config</i>1、<i>Config</i>2和<i>Config</i>3 3种不同硬件配置下,单核可利用的二级缓存容量分别为512 KB、256 KB和0 KB。<i>TABLESIZE</i>大于一级数据缓存32 KB时,数据从一级数据缓存溢出,开始存放在二级缓存中。</p>
                </div>
                <div class="p1">
                    <p id="93">从表2中可以总结出:(1)<i>TABLESIZE</i>为16 KB时,数据都可存放在一级数据缓存,因此3种硬件配置下的执行时间相同;(2)<i>TABLESIZE</i>为128 KB和256 KB时,在<i>Config</i>1和<i>Config</i>2配置下,数据都可存放在二级缓存中,因此这2种配置下的执行时间相同;而在<i>Config</i>3配置下,由于没有二级缓存,其执行时间比另外2种配置下的执行时间长;(3)<i>TABLESIZE</i>为512 KB时,只有在<i>Config</i>1下数据能够完全存放于二级缓存中,因此其执行时间最短;(4)<i>TABLESIZE</i>大于512 KB时,在3种配置下,二级缓存或溢出或关闭,三者的执行时间几乎相同,说明当二级缓存溢出时,若不能有效使用二级缓存,其性能与没有二级缓存时相当。</p>
                </div>
                <h4 class="anchor-tag" id="94" name="94">5.2.2 双核性能波动性分析</h4>
                <h4 class="anchor-tag" id="95" name="95">5.2.2.1 资源共享性识别</h4>
                <div class="p1">
                    <p id="96">虽然通过P2020资料已经知道一级数据缓存是内核私有资源,但本文仍然利用一级缓存RSB(16 KB)通过实验数据来证明其私有性。需要证明:(1)一级缓存RSB所在的被监控内核的性能不被其他内核影响;(2)并行的其他内核中一级缓存RSB不会影响被监控内核。在<i>Config</i>1配置下,运行以下2组实验:</p>
                </div>
                <div class="p1">
                    <p id="97">(1)在实验设置1中,在<i>Core</i>0中运行一级缓存RSB(16 KB),并监控<i>Core</i>0单独运行的<i>CPU cycle</i>;然后在实验设置2中,始终在<i>Core</i>0中运行一级缓存RSB,在<i>Core</i>1中依次运行RSB(16 KB)、RSB(128 KB)、RSB(256 KB)、RSB(512 KB)、RSB(1 MB)和RSB(2 MB),并监控双核并行时<i>Core</i>0的<i>CPU cycle</i>;</p>
                </div>
                <div class="p1">
                    <p id="98">(2)在实验设置1中,在<i>Core</i>0中运行二级缓存RSB(128 KB),并监控<i>Core</i>0单独运行的<i>CPU cycle</i>;然后在实验设置2中,始终在<i>Core</i>0中运行二级缓存RSB,在<i>Core</i>1中依次运行RSB(16 KB)、RSB(128 KB)、RSB(256 KB)、RSB(512 KB)、RSB(1 MB)和RSB(2 MB),并监控双核并行时<i>Core</i>0的<i>CPU cycle</i>。</p>
                </div>
                <div class="p1">
                    <p id="99">上述2个实验的结果分别用Violin Plot来表征,如图6所示。在图6a和图6b中,<i>Core</i>0内分别运行一级缓存RSB和二级缓存RSB,横坐标表示与<i>Core</i>0并行的<i>Core</i>1中运行的RSB的<i>TABLESIZE</i>,纵坐标表示双核运行时<i>Core</i>0的执行时间与<i>Core</i>0单独运行时的执行时间中值的比值,此比值代表双核运行时<i>Core</i>0的性能衰减和波动。在图6a和图6b中,分别有4个子图,每个子图中<i>Core</i>0和<i>Core</i>1的<i>RSB</i>的<i>OPERATION</i>(Write或Read)和<i>STRIDE</i>(4或32)参数标注在子图上。</p>
                </div>
                <div class="area_img" id="100">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 在Config1下2组实验结果" src="Detail/GetImg?filename=images/JSJK201909003_100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 在<i>Config</i>1下2组实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 6 Two groups of experimental results in <i>Config</i>1</p>

                </div>
                <div class="p1">
                    <p id="101">图6a中<i>Core</i>0的<i>TABLESIZE</i>为16 KB,<i>Core</i>0的数据可全部存放于一级数据缓存,<i>Core</i>0的RSB执行不受<i>Core</i>1的影响。从另一角度看,当图6b中<i>Core</i>1的<i>TABLESIZE</i>为16 KB时(图6每个子图的第1个Violin Plot),<i>Core</i>0的性能不受<i>Core</i>1的影响,性能波动均小于1%。由此推断,一级缓存确实为内核私有硬件资源,且当2个内核分别独立使用自己私有硬件资源时,各自性能互不影响。相比于一级缓存的私有性,图6b中并行<i>Core</i>1的数据大小超过32 KB时,<i>Core</i>0的性能开始受到不同程度的影响,说明二级缓存、ECM总线互连和DDR均为共享资源。</p>
                </div>
                <div class="area_img" id="102">
                    <p class="img_tit"><b>表2 单核运行时,不同硬件配置下,不同RSB的</b><i><b>WCET</b></i> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 2 </b><i><b>WCET</b></i><b> of different RSBs in 3 different configurations while standalone running</b></p>
                    <p class="img_note">ms</p>
                    <table id="102" border="1"><tr><td></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>W</mtext><mtext>r</mtext><mtext>i</mtext><mtext>t</mtext><mtext>e</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>4</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>W</mtext><mtext>r</mtext><mtext>i</mtext><mtext>t</mtext><mtext>e</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>3</mn><mn>2</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td></tr><tr><td><br /><i>Config</i>1</td><td>0.010 3</td><td>0.083 2</td><td>0.166 0</td><td>0.332 8</td><td>0.843 1</td><td>1.684 2</td><td>0.001 3</td><td>0.067 0</td><td>0.139 2</td><td>0.281 1</td><td>1.2584</td><td>2.516 4</td></tr><tr><td><br /><i>Config</i>2</td><td>0.010 3</td><td>0.083 2</td><td>0.167 0</td><td>0.422 4</td><td>0.843 0</td><td>1.684 1</td><td>0.001 3</td><td>0.069 9</td><td>0.140 7</td><td>0.629 6</td><td>1.258 5</td><td>2.516 6</td></tr><tr><td><br /><i>Config</i>3</td><td>0.010 3</td><td>0.107 0</td><td>0.212 1</td><td>0.422 3</td><td>0.843 1</td><td>1.684 2</td><td>0.001 3</td><td>0.157 8</td><td>0.315 0</td><td>0.629 4</td><td>1.258 3</td><td>2.516 3</td></tr><tr><td></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>R</mtext><mtext>e</mtext><mtext>a</mtext><mtext>d</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>4</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>R</mtext><mtext>e</mtext><mtext>a</mtext><mtext>d</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>3</mn><mn>2</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td></tr><tr><td><br /><i>Config</i>1</td><td>0.010 3</td><td>0.116 1</td><td>0.245 8</td><td>0.476 5</td><td>2.347 4</td><td>4.693 4</td><td>0.001 3</td><td>0.034 5</td><td>0.068 5</td><td>0.141 9</td><td>0.523 2</td><td>1.044 9</td></tr><tr><td><br /><i>Config</i>2</td><td>0.010 3</td><td>0.116 1</td><td>0.252 4</td><td>1.165 2</td><td>2.347 4</td><td>4.693 6</td><td>0.001 3</td><td>0.034 4</td><td>0.0713 1</td><td>0.263 7</td><td>0.523 1</td><td>1.044 8</td></tr><tr><td><br /><i>Config</i>3</td><td>0.010 3</td><td>0.294 6</td><td>0.583 0</td><td>1.174 3</td><td>2.328 4</td><td>4.655 8</td><td>0.001 3</td><td>0.067 1</td><td>0.131 6</td><td>0.262 2</td><td>0.525 7</td><td>1.050 8</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="104" name="104">5.2.2.2 双核性能波动性</h4>
                <div class="p1">
                    <p id="105">在实验设置2中,针对<i>Config</i>1、<i>Config</i>2和<i>Config</i>3 3种不同硬件配置,进行双核性能波动性实验。<i>Core</i>0和<i>Core</i>1选取的RSB的参数配置如表1所示。实验例程如下:</p>
                </div>
                <div class="p1">
                    <p id="106">(1)在实验设置1中,在<i>Core</i>0中依次运行RSB(16 KB)、RSB(128 KB)、RSB(256 KB)、RSB(512 KB)、RSB(1 MB)和RSB(2 MB),并监控<i>Core</i>0单独运行的<i>CPU cycle</i>;</p>
                </div>
                <div class="p1">
                    <p id="107">(2)在实验设置2中,针对<i>Core</i>0中不同的RSB,在Core1中依次并行运行RSB(16 KB)、RSB(128 KB)、RSB(256 KB)、RSB(512 KB)、RSB(1 MB)和RSB(2 MB),并监控双核并行时<i>Core</i>0的<i>CPU cycle</i>。</p>
                </div>
                <div class="p1">
                    <p id="108">在以上2个实验例程中,每个不同<i>TABLESIZE</i>的RSB都分为Write和Read以及Stride4和Stride32。设实验例程的总数量为<i>D</i><sub>space</sub>,<i>Core</i>0的RSB的<i>TABLESIZE</i>数量为<i>N</i><sub>TABLESIZEofCore0</sub>,<i>Core</i>1的<i>RSB</i>的<i>TABLESIZE</i>数量为<i>N</i><sub>TABLESIZEofCore1</sub>,<i>Core</i>0和<i>Core</i>1的<i>RSB</i>的<i>OPERATION</i>数量为<i>N</i><sub>OPERATION</sub>,<i>Core</i>0和<i>Core</i>1的RSB的<i>STRIDE</i>数量为<i>N</i><sub>STRIDE</sub>。<i>D</i><sub>space</sub>的计算公式为:</p>
                </div>
                <div class="p1">
                    <p id="109" class="code-formula">
                        <mathml id="109"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>D</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>p</mtext><mtext>a</mtext><mtext>c</mtext><mtext>e</mtext></mrow></msub><mo>=</mo><mspace width="0.25em" /><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>Τ</mtext><mtext>A</mtext><mtext>B</mtext><mtext>L</mtext><mtext>E</mtext><mtext>S</mtext><mtext>Ι</mtext><mtext>Ζ</mtext><mtext>E</mtext><mtext>o</mtext><mtext>f</mtext><mtext>C</mtext><mtext>o</mtext><mtext>r</mtext><mtext>e</mtext><mn>0</mn></mrow></msub><mo>*</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>Τ</mtext><mtext>A</mtext><mtext>B</mtext><mtext>L</mtext><mtext>E</mtext><mtext>S</mtext><mtext>Ι</mtext><mtext>Ζ</mtext><mtext>E</mtext><mtext>o</mtext><mtext>f</mtext><mtext>C</mtext><mtext>o</mtext><mtext>r</mtext><mtext>e</mtext><mn>1</mn></mrow></msub><mo>*</mo></mtd></mtr><mtr><mtd><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>Ο</mtext><mtext>Ρ</mtext><mtext>E</mtext><mtext>R</mtext><mtext>A</mtext><mtext>Τ</mtext><mtext>Ι</mtext><mtext>Ο</mtext><mtext>Ν</mtext></mrow></msub><mo>*</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>S</mtext><mtext>Τ</mtext><mtext>R</mtext><mtext>Ι</mtext><mtext>D</mtext><mtext>E</mtext></mrow></msub></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="110">根据实验例程的设置,<i>N</i><sub>TABLESIZEofCore0</sub>=<i>N</i><sub>TABLESIZEofCore1</sub>=6,<i>N</i><sub>OPERATION</sub>=2,<i>N</i><sub>STRIDE</sub>=2,因此,<i>D</i><sub>space</sub>=144。每个实验例程运行500次,因此实验总的运行次数为144*500=72000。几万次的实验不可能通过手动修改参数来实现,因此根据图4的自动化实验流程,利用Python脚本语言对实验例程和数据收集进行了全自动化设计。</p>
                </div>
                <div class="p1">
                    <p id="111">图7a和图7b分别展现了<i>Config</i>1和<i>Config</i>3 2种硬件配置下的最大性能波动对应的Violin Plot。</p>
                </div>
                <div class="p1">
                    <p id="112">图7a展示了<i>Config</i>1配置下,<i>Core</i>0数据大小为256 KB时的性能波动;图7b展示了<i>Config</i>3配置下,<i>Core</i>0数据大小为2 MB时的性能波动。图7a和图7b的横坐标、纵坐标和子图参数解读与图6a和图6b相同。在<i>Config</i>2配置下,<i>Core</i>0数据大小为128 KB时的性能波动Violin Plot与图7a类似。</p>
                </div>
                <div class="p1">
                    <p id="113">对比3种硬件配置下的性能波动性,二级缓存共享配置下的最大性能波动为937.3%;二级缓存分区配置下的最大性能波动为515.8%;二级缓存关闭配置下的最大性能波动为634.5%。二级缓存虽然可弱化“存储墙”问题,但其作为共享硬件资源带来了资源抢占和数据一致性问题,由此带来的性能波动难以预测。即使在二级缓存分区配置下,虽然没有一个内核数据被另一个内核数据替换的问题,但双内核仍然需要通过CCB(Core Complex Bus)竞争访问二级缓存的读写端口。在二级缓存共享和二级缓存分区的2种配置下,性能波动性最大情况都出现在<i>Core</i>0的<i>TABLESIZE</i>小于<i>Core</i>0可用的二级缓存大小的情况下,这也说明推动性能加速的二级缓存成为了双核并行时的性能波动主因,双核性能波动带来的性能衰减甚至完全抵消了单核运行时二级缓存带来的性能加速。表3详细列出了双核运行时<i>Core</i>0的<i>WCET</i>。对比单核运行<i>WCET</i>(表2)和双核运行<i>WCET</i>(表3)中RSB(<i>TABLESIZE</i>=512 KB,<i>STRIDE</i>=4,Read)的<i>WCET</i>:单核运行时,<i>Config</i>1的<i>WCET</i>约为<i>Config</i>2和<i>Config</i>3的0.4倍;双核运行时,<i>Config</i>1的<i>WCET</i>与<i>Config</i>2和<i>Config</i>3的<i>WCET</i>几乎相等,即单核时的性能优势完全丧失。</p>
                </div>
                <div class="area_img" id="114">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 Config1和Config3下2组实验结果" src="Detail/GetImg?filename=images/JSJK201909003_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 <i>Config</i>1和<i>Config</i>3下2组实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 7 Two groups of experimental 
 results in <i>Config</i>1 and <i>Config</i>3</p>

                </div>
                <div class="p1">
                    <p id="116">从图7a可以看出,在二级缓存共享和二级缓存分区配置下,每个子图中<i>Core</i>0的性能波动随着并行<i>Core</i>1中的RSB的不同而不同,即一个内核的性能波动取决于并行内核中的数据大小。但从图7b可看出,二级缓存关闭配置下,当<i>Core</i>0的<i>TABLESIZE</i>大于一级数据缓存容量16 KB时,每个子图中<i>Core</i>0的性能波动Violin Plot几乎一样,因为此时双核性能波动性都来源于通过ECM访问DDR的访存路径竞争。从性能波动的可预测性来说,二级缓存关闭时的性能波动性更确定、可预测性更强。</p>
                </div>
                <h4 class="anchor-tag" id="117" name="117">5.2.2.3 性能波动性相关事件分析</h4>
                <div class="p1">
                    <p id="118">在双核性能波动性分析实验中,同时监控双核并行时<i>Core</i>0的<i>CPU cycle</i>、<i>BIU</i>_<i>MDR</i>(BIU Master Data-side Requests)和<i>SR</i>(Snoop Re-quests)3个事件。<i>BIU</i>_<i>MDR</i>代表<i>Core</i>0对内核之外、与CCB相连的二级缓存和ECM发起的数据请求次数;<i>SR</i>代表为维护数据一致性,<i>Core</i>0发起的地址监听请求次数。图8展示了双核并行时<i>Core</i>0的执行时间和<i>BIU</i>_<i>MDR</i>之间的关系,执行时间随着<i>BIU</i>_<i>MDR</i>次数的增多几乎呈直线增长,而执行时间与<i>SR</i>之间并没有明显的关系。因此,<i>BIU</i>_<i>MDR</i>被识别为影响执行时间的硬件事件。通过监控更多的硬件事件,可以筛选出影响执行时间的主要事件,继而分析处理器的一些黑盒行为。另一方面,分析应用任务的行为特点,有助于设计合适的并行调度策略来减轻或避免性能波动。</p>
                </div>
                <div class="area_img" id="119">
                    <p class="img_tit"><b>表3 双核运行时,不同硬件配置下,不同RSB的WCET</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 3 </b><i><b>WCET</b></i><b> of different RSBs in 3 different configurations while two cores are running</b></p>
                    <p class="img_note">ms</p>
                    <table id="119" border="1"><tr><td></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>W</mtext><mtext>r</mtext><mtext>i</mtext><mtext>t</mtext><mtext>e</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>4</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>W</mtext><mtext>r</mtext><mtext>i</mtext><mtext>t</mtext><mtext>e</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>3</mn><mn>2</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td></tr><tr><td><br /><i>Config</i>1</td><td>0.010 3</td><td>0.336 1</td><td>0.684 9</td><td>1.581 0</td><td>3.171 9</td><td>1.684 2</td><td>0.001 3</td><td>0.358 2</td><td>0.709 9</td><td>1.730 0</td><td>3.420 6</td><td>6.591 0</td></tr><tr><td><br /><i>Config</i>2</td><td>0.010 3</td><td>0.340 3</td><td>0.681 4</td><td>1.580 8</td><td>3.156 3</td><td>1.684 1</td><td>0.001 3</td><td>0.358 4</td><td>0.711 5</td><td>1.725 9</td><td>3.400 4</td><td>6.758 3</td></tr><tr><td><br /><i>Config</i>3</td><td>0.010 3</td><td>0.401 2</td><td>0.800 5</td><td>1.590 5</td><td>3.161 8</td><td>1.684 2</td><td>0.001 3</td><td>0.446 1</td><td>0.881 2</td><td>1.738 8</td><td>3.394 2</td><td>6.647 9</td></tr><tr><td><br /></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>R</mtext><mtext>e</mtext><mtext>a</mtext><mtext>d</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>4</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td><td colspan="6"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext>R</mtext><mtext>e</mtext><mtext>a</mtext><mtext>d</mtext><mspace width="0.25em" /><mtext>S</mtext><mtext>t</mtext><mtext>r</mtext><mtext>i</mtext><mtext>d</mtext><mtext>e</mtext><mn>3</mn><mn>2</mn></mrow><mrow><mn>1</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mn>2</mn><mn>8</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mn>5</mn><mn>6</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>5</mn><mn>1</mn><mn>2</mn><mspace width="0.25em" /><mtext>Κ</mtext><mtext>B</mtext><mtext> </mtext><mspace width="0.25em" /><mn>1</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext><mtext> </mtext><mtext> </mtext><mspace width="0.25em" /><mn>2</mn><mspace width="0.25em" /><mtext>Μ</mtext><mtext>B</mtext></mrow></mfrac></mrow></math></td></tr><tr><td><br /><i>Config</i>1</td><td>0.010 3</td><td>0.136 6</td><td>0.293 9</td><td>1.766 3</td><td>3.520 3</td><td>7.038 7</td><td>0.001 3</td><td>0.170 7</td><td>0.663 4</td><td>1.259 6</td><td>2.328 3</td><td>4.522 6</td></tr><tr><td><br /><i>Config</i>2</td><td>0.010 3</td><td>0.136 6</td><td>0.287 9</td><td>1.766 1</td><td>3.527 2</td><td>7.050 3</td><td>0.001 3</td><td>0.170 7</td><td>0.307 4</td><td>1.247 2</td><td>2.363 0</td><td>4.605 7</td></tr><tr><td><br /><i>Config</i>3</td><td>0.010 3</td><td>0.442 4</td><td>0.882 5</td><td>1.764 6</td><td>3.529 2</td><td>7.047 8</td><td>0.001 3</td><td>0.336 0</td><td>0.812 4</td><td>1.649 5</td><td>3.279 7</td><td>6.651 0</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="121">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201909003_121.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 双核运行时,在二级缓存共享配置下,
 Core0的执行时间随BIU_MDR的变化曲线" src="Detail/GetImg?filename=images/JSJK201909003_121.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 双核运行时,在二级缓存共享配置下,
 <i>Core</i>0的执行时间随<i>BIU</i>_<i>MDR</i>的变化曲线  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201909003_121.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 8 Execution time of <i>Core</i>0 VS BIU_MDR while 
 two cores are running in L2 Cache shared configuration</p>

                </div>
                <h3 id="122" name="122" class="anchor-tag"><b>6 结束语</b></h3>
                <div class="p1">
                    <p id="123">本文提出了基于RSB和PMR的多核处理器性能波动性测试方法。为了直观有效地分析性能波动性,本文利用Violin Plot来图形化展示性能数据的概率分布。通过P2020平台上的性能波动性实验,可以总结归纳以下几点:</p>
                </div>
                <div class="p1">
                    <p id="124">(1)当2个内核各自的数据能够完全存放于一级数据缓存时,即2个内核仅使用各自私有硬件资源时,2个内核之间的任务互不影响。</p>
                </div>
                <div class="p1">
                    <p id="125">(2)多核处理器在多核并行时的性能衰减倍数并不一定等于并行的内核数目。在P2020平台上,双核并行时的性能衰减可高达9倍。考虑到RSB测试的目的是尽可能造成共享资源冲突来体现性能波动,因此实际应用任务的性能波动将比测试结果乐观;</p>
                </div>
                <div class="p1">
                    <p id="126">(3)对于高可靠应用,为保证周期任务按时完成,需要进行可靠的<i>WCET</i>预测,高达9倍的性能波动不但使得<i>WCET</i>难以预测而且将会得到非常悲观的<i>WCET</i>预估。如果依据悲观的<i>WCET</i>预估结果来进行任务调度规划,双核处理器的性能发挥可能低于单核处理器。因此,在多核处理器中,如何利用硬件机制和调度策略来减轻或避免共享资源竞争,以及如何进行准确的<i>WCET</i>预测是下一步需要针对性研究的问题。</p>
                </div>
                <div class="p1">
                    <p id="127">通过对硬件事件的监控,用户可进一步了解和掌握影响性能波动的某些硬件行为。此方法可用于硬件平台的性能评估,也可用于应用任务的资源消耗评估,从而为<i>WCET</i>预测提供指导。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="150">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Study report on anionics systems for the time frame 2007 2011 and 2020">

                                <b>[1]</b> Bailey E.Study report on anionics systems for the time frame 2007,2011 and 2020[R].[S.l]:European Organisation for the Safety of Air Navigation (EOSA),EUROCONTROL,2004.
                            </a>
                        </p>
                        <p id="152">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000092643&amp;v=MTMxNTVQUUgvaXJSZEdlcnFRVE1ud1plWnVIeWptVUxmSUpsOFZhaG89TmlmSVk3SzdIdGpOcjQ5RlpPSU5Dbmc2b0JNVDZUNA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> Wilhelm R,Engblom J,Ermedahl A,et al.The worst case execution time problem-overview of methods and survey of tools[J].ACM Transactions on Embedded Computing System,2008,7(3):36-53.
                            </a>
                        </p>
                        <p id="154">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=STJD&amp;filename=STJD504FDF00278C31F5E79769EC03DE65E3&amp;v=MjAwNTNLQT1Oam5CYXJhNEdxZTQyWTlGWnV3SGYzODR1Uk5tN1RaNlRuYVgzeEkyRGNlU1FNK2NDT052RlNpV1dyN0pJRnBtYUJ1SFlmT0dRbGZDcGJRMzVOQmh3cm0rdw==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> Hintze J L,Nelson R D.Violin Plots:A box plot-density trace synergism[J].The American Statistician,1998,52(2):181-184.
                            </a>
                        </p>
                        <p id="156">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Timing Analysis for TDMA Arbitration in Resource Sharing Systems">

                                <b>[4]</b> Schranzhofer A,Chen J J,Thiele L.Timing analysis for TDMA arbitration in resource sharing systems[C]//Proc of 2016 16th IEEE Real-Time and Embedded Technology and Applications Symposium,2010:215-224.
                            </a>
                        </p>
                        <p id="158">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Worst case delay analysis for memory interference in multicore systems">

                                <b>[5]</b> Pellizzoni R,Schranzhofer A,Chen J-J,et al.Worst case delay analysis for memory interference in multicore systems[C]//Proc of Design,Automation Test in Europe Conference Exhibition (DATE),2010:741-746.
                            </a>
                        </p>
                        <p id="160">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Memory hierarchies, pipelines, and buses for future architectures in time-critical embedded systems">

                                <b>[6]</b> Wilhelm R,Grund D,Reineke J,et al.Memory hierarchies,pipelines,and buses for future architectures in time-critical embedded systems[J].IEEE Transactions on CAD of Integrated Circuits and Systems,2009,28(7):966-978.
                            </a>
                        </p>
                        <p id="162">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Cache contention and application performance prediction for multi-core systems">

                                <b>[7]</b> Xu C,Chen X,Dick R-P,et al.Cache contention and application performance prediction for multi-core systems[C]//Proc of ISPASS,2010:76-86.
                            </a>
                        </p>
                        <p id="164">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=CacheScouts Fine-Grain Monitoring of Shared Caches in CMP Platforms">

                                <b>[8]</b> Zhao L,Iyer R,Illikkal R,et al.Cachescouts:Fine-grain monitoring of shared caches in CMP platforms[C]//Proc of the 16th International Conference on Parallel Architecture and Compilation Techniques,2007:339.
                            </a>
                        </p>
                        <p id="166">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Cache-aware scheduling and analysis for multicores">

                                <b>[9]</b> Guan N,Stigge M,Yi W,et al.Cache-aware scheduling and analysis for multicores[C]//Proc of EMSOFT,2009:245-254.
                            </a>
                        </p>
                        <p id="168">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000004207&amp;v=MTI1MTE9TmlmSVk3SzdIdGpOcjQ5RlpPc0xEbncrb0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VTGZJSmw4VmFobw==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> Radojkovic P,Girbal S,Grasset A,et al.On the evaluation of the impact of shared resources in multithreaded COTS processors in time-critical environments[J].TACO,2012,8(4):1-25.
                            </a>
                        </p>
                        <p id="170">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Leveraging multi-core computing architectures in avionics">

                                <b>[11]</b> Nowotsch J,Paulitsch M.Leveraging multi-core computing architectures in avionics[C]//Proc of European Dependable Computing Conference,2012:42-52.
                            </a>
                        </p>
                        <p id="172">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201105031&amp;v=MTY0MDM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSbUZ5N2tVci9BTFNiQlpMRzRIOURNcW85R1pZUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> Wang Le.Analysis of challenge of using multi-core processors in avionics[J].Aeronautical Computing Technique,2011,41(5):128-130.(in Chinese)
                            </a>
                        </p>
                        <p id="174">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZXU201207015&amp;v=MTUxNTJPM3pxcUJ0R0ZyQ1VSTE9lWmVSbUZ5N2tVci9BSVRmVGU3RzRIOVBNcUk5RVlZUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b> Chen Fang-yuan,Zhang Dong-song,Wang Zhi-ying.Inter-thread interference analysis for real-time WCET estimations of multi-core architectures[J].Acta Electronica Sinica,2012,40(7):1372-1378.(in Chinese)
                            </a>
                        </p>
                        <p id="176">
                            <a id="bibliography_14" >
                                    <b>[14]</b>
                                 Duan Yu-bo,Wang Le.Analysis and optimization of memory latency based on multi-core processor P2020[J].Aeronautical Computing Technique,2015,45(3):108-112.(in Chinese)
                            </a>
                        </p>
                        <p id="178">
                            <a id="bibliography_15" >
                                    <b>[15]</b>
                                 Duan Yu-bo.Analysis and optimization of computing performance based on multi-core processor P2020[J].Computer Knowledge and Technology,2017,13(11):202-205.(in Chinese)附中文参考文献:.
                            </a>
                        </p>
                        <p id="180">
                            <a id="bibliography_12" >
                                    <b>[12]</b>
                                 王乐.航空电子系统中应用多核处理器的挑战分析[J].航空计算技术,2011,41(5):128-130.
                            </a>
                        </p>
                        <p id="182">
                            <a id="bibliography_13" >
                                    <b>[13]</b>
                                 陈芳园,张冬松,王志英.多核实时线程间干扰分析及WCET估值[J].电子学报,2012,40(7):1372-1378.
                            </a>
                        </p>
                        <p id="184">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201503027&amp;v=MTAyNjRaTEc0SDlUTXJJOUhZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm1GeTdrVXIvQUxTYkI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b> 段宇博,王乐.多核处理器P2020的访存实时性分析与优化[J].航空计算技术,2015,45(3):108-112.
                            </a>
                        </p>
                        <p id="186">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201711090&amp;v=MzIwODdlWmVSbUZ5N2tVci9BSVNQUmZiRzRIOWJOcm85TVpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE8=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 段宇博.多核处理器P2020运算性能的测试与分析[J].电脑知识与技术,2017,13(11):202-205.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJK201909003" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201909003&amp;v=MDEyMDBMejdCWmJHNEg5ak1wbzlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnk3a1VyL0E=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
