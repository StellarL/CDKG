<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637132332312842500%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dJSJK201911001%26RESULT%3d1%26SIGN%3d7ArmPTWpBhu5QtugeKojVY48p2U%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201911001&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201911001&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201911001&amp;v=MDgwMDR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnkvbVVyM0lMejdCWmJHNEg5ak5ybzlGWllRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#21" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#24" data-title="&lt;b&gt;2 归一化积相关算法公式化简&lt;/b&gt; "><b>2 归一化积相关算法公式化简</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#25" data-title="&lt;b&gt;2.1 归一化积相关算法&lt;/b&gt;"><b>2.1 归一化积相关算法</b></a></li>
                                                <li><a href="#29" data-title="&lt;b&gt;2.2 公式化简&lt;/b&gt;"><b>2.2 公式化简</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#34" data-title="&lt;b&gt;3 归一化积相关算法硬件实现方法&lt;/b&gt; "><b>3 归一化积相关算法硬件实现方法</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#35" data-title="&lt;b&gt;3.1 归一化积相关硬件加速电路单元的实现&lt;/b&gt;"><b>3.1 归一化积相关硬件加速电路单元的实现</b></a></li>
                                                <li><a href="#54" data-title="&lt;b&gt;3.2  归一化积相关多路并行计算架构&lt;/b&gt;"><b>3.2  归一化积相关多路并行计算架构</b></a></li>
                                                <li><a href="#57" data-title="&lt;b&gt;3.3 归一化积相关多路并行计算流程&lt;/b&gt;"><b>3.3 归一化积相关多路并行计算流程</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#61" data-title="&lt;b&gt;4 实验结果&lt;/b&gt; "><b>4 实验结果</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#62" data-title="&lt;b&gt;4.1 仿真验证&lt;/b&gt;"><b>4.1 仿真验证</b></a></li>
                                                <li><a href="#64" data-title="&lt;b&gt;4.2 性能实验&lt;/b&gt;"><b>4.2 性能实验</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;4.3 计算精度分析&lt;/b&gt;"><b>4.3 计算精度分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#70" data-title="&lt;b&gt;5 结束语&lt;/b&gt; "><b>5 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#38" data-title="图1 本文方法的实现架构图">图1 本文方法的实现架构图</a></li>
                                                <li><a href="#41" data-title="图2 大图小图存储模块图">图2 大图小图存储模块图</a></li>
                                                <li><a href="#44" data-title="图3 匹配数据多路选择阵列模块图">图3 匹配数据多路选择阵列模块图</a></li>
                                                <li><a href="#47" data-title="图4 平方运算阵列模块图">图4 平方运算阵列模块图</a></li>
                                                <li><a href="#50" data-title="图5 乘法运算阵列模块图">图5 乘法运算阵列模块图</a></li>
                                                <li><a href="#51" data-title="图6 归一化积相关硬件加速电路单元数据流图">图6 归一化积相关硬件加速电路单元数据流图</a></li>
                                                <li><a href="#56" data-title="图7 归一化积相关多路并行计算架构图">图7 归一化积相关多路并行计算架构图</a></li>
                                                <li><a href="#59" data-title="图8 归一化积相关多路列并行计算流程图">图8 归一化积相关多路列并行计算流程图</a></li>
                                                <li><a href="#67" data-title="图9 积相关多路并行计算仿真图">图9 积相关多路并行计算仿真图</a></li>
                                                <li><a href="#72" data-title="&lt;b&gt;表1 实验时间对比结果&lt;/b&gt;"><b>表1 实验时间对比结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="112">


                                    <a id="bibliography_1" title=" di Carlo S,Gambardella G,Indaco M,et al.An area-efficient 2-D convolution implementation on FPGA for space applications[C]//Proc of IEEE 6th International Design and Test Workshop(IDT),2011:11-14." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An area-efficient 2-D convolution implementation on FPGA for space applications">
                                        <b>[1]</b>
                                         di Carlo S,Gambardella G,Indaco M,et al.An area-efficient 2-D convolution implementation on FPGA for space applications[C]//Proc of IEEE 6th International Design and Test Workshop(IDT),2011:11-14.
                                    </a>
                                </li>
                                <li id="114">


                                    <a id="bibliography_2" title=" Benedetti A,Prati A,Scarabottolo N.Image convolution on FPGAs:The implementation of a multi- FPGA FIFO structure[C]//Proc of the 24th EUROMICRO Conference(EUROMICRO 98),1998:123-130." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Image convolution on FPGAs: the implementation of a multi-FPGA FIFO structure">
                                        <b>[2]</b>
                                         Benedetti A,Prati A,Scarabottolo N.Image convolution on FPGAs:The implementation of a multi- FPGA FIFO structure[C]//Proc of the 24th EUROMICRO Conference(EUROMICRO 98),1998:123-130.
                                    </a>
                                </li>
                                <li id="116">


                                    <a id="bibliography_3" title=" Sriram V,Kearney D.A FPGA implementation of variable kernel convolution[C]//Proc of the 8th International Conference on Parallel and Distributed Computing,Applications and Technologies,2007:105-110." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A FPGA implementation of variable kernel convolution">
                                        <b>[3]</b>
                                         Sriram V,Kearney D.A FPGA implementation of variable kernel convolution[C]//Proc of the 8th International Conference on Parallel and Distributed Computing,Applications and Technologies,2007:105-110.
                                    </a>
                                </li>
                                <li id="118">


                                    <a id="bibliography_4" title=" Toledo-Moreo F J,Mart&#237;nez-Alvarez J J,Garrig&#243;s-Guerrero F J.FPGA-based architecture for the real-time computation of 2-D convolution with large kernel size[J].Journal of Systems Architecture,2012,58(8):277-285." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011300634363&amp;v=MjE2OTE9TmlmT2ZiSzdIdEROckk5Rll1Z0xEM282b0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VTGZJSjEwVmFCSQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         Toledo-Moreo F J,Mart&#237;nez-Alvarez J J,Garrig&#243;s-Guerrero F J.FPGA-based architecture for the real-time computation of 2-D convolution with large kernel size[J].Journal of Systems Architecture,2012,58(8):277-285.
                                    </a>
                                </li>
                                <li id="120">


                                    <a id="bibliography_5" title=" Cabral A,Pasqual A.FPGA implementation of normalized cross-correlation for real-time template matching in dynamic search windows[C]//Proc of the 17th ERU Research Symposium,2011:121-124." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=FPGA implementation of normalized cross-correlation for real-time template matching in dynamic search windows">
                                        <b>[5]</b>
                                         Cabral A,Pasqual A.FPGA implementation of normalized cross-correlation for real-time template matching in dynamic search windows[C]//Proc of the 17th ERU Research Symposium,2011:121-124.
                                    </a>
                                </li>
                                <li id="122">


                                    <a id="bibliography_6" title=" Altaf M M,Ahmad E H,Li Wei,et al.An ultra-high-speed FPGA based digital correlation processor[J].IEICE Electronics Express,2015,12(8):1-7." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An ultra-high-speed FPGA based digital correlation processor">
                                        <b>[6]</b>
                                         Altaf M M,Ahmad E H,Li Wei,et al.An ultra-high-speed FPGA based digital correlation processor[J].IEICE Electronics Express,2015,12(8):1-7.
                                    </a>
                                </li>
                                <li id="124">


                                    <a id="bibliography_7" title=" Lindoso A,Author E,Entrena L.High performance FPGA-based image correlation[J].Journal of Real-Time Image Processing,2007,2(4):223-233." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00001270105&amp;v=Mjg1MjRSN3FlYnVkdEZDRGxWTHpKSWw0PU5qN0Jhck80SHRITnJZaEZaZXNLWTNrNXpCZGg0ajk5U1hxUnJ4b3hjTUg3&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         Lindoso A,Author E,Entrena L.High performance FPGA-based image correlation[J].Journal of Real-Time Image Processing,2007,2(4):223-233.
                                    </a>
                                </li>
                                <li id="126">


                                    <a id="bibliography_8" title=" Jakob C,Schwarzbacher A T,Hoppe B,et al.A FPGA optimised digital real-time mutichannel correlator architecture[C]//Proc of the 10th EUROMICRO Conference on Digital System Design Architectures,Methods and Tools(DSD 2007),2007:35-42." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A FPGA Optimised Digital Real-Time Mutichannel Correlator Architecture">
                                        <b>[8]</b>
                                         Jakob C,Schwarzbacher A T,Hoppe B,et al.A FPGA optimised digital real-time mutichannel correlator architecture[C]//Proc of the 10th EUROMICRO Conference on Digital System Design Architectures,Methods and Tools(DSD 2007),2007:35-42.
                                    </a>
                                </li>
                                <li id="128">


                                    <a id="bibliography_9" >
                                        <b>[9]</b>
                                     Zhu Yong-song,Guo Cheng-ming.The research on correlation matching algorithm based on correlation coefficient[J].Signal Processing,2003,19(6):531-534.(in Chinese)附中文参考文献:[9] 朱永松,国澄明.基于相关系数的相关匹配算法的研究[J].信号处理,2003,19(6):531-534.</a>
                                </li>
                                <li id="130">


                                    <a id="bibliography_9" title=" 朱永松,国澄明.基于相关系数的相关匹配算法的研究[J].信号处理,2003,19(6):531-534." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXCN200306007&amp;v=MzI2NTFNcVk5Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVSbUZ5L21VcjNJUFRYSVlMRzRIdEw=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         朱永松,国澄明.基于相关系数的相关匹配算法的研究[J].信号处理,2003,19(6):531-534.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJK" target="_blank">计算机工程与科学</a>
                2019,41(11),1905-1910 DOI:10.3969/j.issn.1007-130X.2019.11.001            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>归一化积相关算法加速方法研究及FPGA实现</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E7%BA%A2%E5%86%9B&amp;code=43338817&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李红军</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%AD%E9%98%B3&amp;code=20282380&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郭阳</a>
                                <a href="javascript:;">贾润</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%9B%BD%E9%98%B2%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E9%99%A2&amp;code=0269230&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">国防科技大学计算机学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%A4%A9%E6%B4%A5%E6%B4%A5%E8%88%AA%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">天津津航计算技术研究所</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>随着飞航导弹向高效打击和提升智能的方向发展,为了保证打击的精确性,对地形匹配、目标识别的实时性要求也越来越高,单靠DSP软件进行图像处理的做法已经难以满足要求。根据FPGA实现数学运算的特点,提出了归一化积相关算法公式的化简方法,具有精度高、速度快的特点,并设计了积相关硬件加速电路单元架构和积相关多路并行计算架构,通过在FPGA上进行实现验证,能够满足新一代飞航导弹地形匹配及目标识别的实时性要求。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%BD%92%E4%B8%80%E5%8C%96%E7%A7%AF%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">归一化积相关算法;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">并行计算;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">硬件加速;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    李红军(1980-),男,河南平顶山人,博士生,高级工程师,研究方向为计算机架构和嵌入式系统应用。E-mail:lihongjun8357@163.com,通信地址:300141天津市空港经济区保税路357号天津津航计算技术研究所;
                                </span>
                                <span>
                                    贾润,通信地址:300141天津市空港经济区保税路357号天津津航计算技术研究所;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-03-01</p>

            </div>
                    <h1><b>A hardware acceleration method for the normalized product correlation algorithm and its FPGA implementation</b></h1>
                    <h2>
                    <span>LI Hong-jun</span>
                    <span>GUO Yang</span>
                    <span>JIA Run</span>
            </h2>
                    <h2>
                    <span>School of Computer,National University of Defense Technology</span>
                    <span>Tianjin Jinhang Institute of Computing Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>With the trend that cruise missiles aim at high efficient attack and intelligent enhancement, only using DSP software to process images cannot satisfy the higher real-time requirements for terrain matching and target recognition. Therefore, according to the advantage of FPGA implementation on computation accelerating, this paper proposes a simplification method for the normalized product correlation algorithm formula, which has the characteristics of high precision and high speed, and designs the product correlation's hardware acceleration unit and multi-channel parallel computing architecture. FPGA implementation verifies that the proposal can satisfy the real-time requirements for terrain matching and target recognition of the new generation of cruise missiles.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=normalized%20product%20correlation&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">normalized product correlation;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=parallel%20computing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">parallel computing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=hardware%20acceleration&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">hardware acceleration;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    LI Hong-jun,born in 1980,PhD candidate,senior engineer,his research interests include computer architecture,and embedded system application.Address:Tianjin Jinhang Institute of Computing Technology,357Baoshui Road,Konggang Economic District,Tianjin 300141,P.R. China;
                                </span>
                                <span>
                                    JIA Run,Address:Tianjin Jinhang Institute of Computing Technology,357Baoshui Road,Konggang Economic District,Tianjin 300141,P.R. China;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2019-03-01</p>
                            </div>


        <!--brief start-->
                        <h3 id="21" name="21" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="22">随着飞航导弹对目标有效杀伤效果、武器智能水平的要求日益增高,为了保证打击的精确性,对地形匹配、目标识别的实时性要求也越来越高,积相关算法是其中效果比较稳定的一种,具有很高的鲁棒性和精准度,但是由于算法过程复杂,单靠DSP(Digital Signal Processor)软件的运算速度较慢,制约了它的应用。与此同时,FPGA(Field Programmable Gate Array)技术近年来得到了飞速的发展,运行速度越来越高,逻辑、数学运算单元及RAM模块等内部资源则成百倍地增加,这就为FPGA实现实时图像算法提供了硬件基础,越来越多的学者开始研究如何利用FPGA加速积相关算法。文献<citation id="133" type="reference">[<a class="sup">1</a>]</citation>利用缓冲替换存储器,进行FPGA算法加速,文献<citation id="134" type="reference">[<a class="sup">2</a>]</citation>提出了基于多路FIFO(First In First Out)的图像卷积快速算法,文献<citation id="135" type="reference">[<a class="sup">3</a>]</citation>提出一种可变大小的图像卷积算法,文献<citation id="136" type="reference">[<a class="sup">4</a>]</citation>提出了一种比较大的核卷积算法的FPGA快速实现,文献<citation id="137" type="reference">[<a class="sup">5</a>]</citation>基于多端口存储器实现快速的归一化互相关算法,文献<citation id="138" type="reference">[<a class="sup">6</a>]</citation>基于FPGA采用FFT(Fast Fourier Transform)架构进行相关算法快速实现,文献<citation id="139" type="reference">[<a class="sup">7</a>]</citation>提出了一种用在图像处理中的归一化互相关FPGA加速方法,文献<citation id="140" type="reference">[<a class="sup">8</a>]</citation>将相关算法用在光子相关谱检测上,采用FPGA实现了最多32通道的相关器。</p>
                </div>
                <div class="p1">
                    <p id="23">考虑可变模板大小的积相关算法具有更广泛的适用范围,本文构造多路并行处理架构,提出了一种快速的归一化积相关算法的硬件实现方法,并对部分难点进行了分析说明和工程实现。</p>
                </div>
                <h3 id="24" name="24" class="anchor-tag"><b>2 归一化积相关算法公式化简</b></h3>
                <h4 class="anchor-tag" id="25" name="25"><b>2.1 归一化积相关算法</b></h4>
                <div class="p1">
                    <p id="26">归一化积相关Nprod(Normalized product correlation)算法<citation id="132" type="reference"><link href="128" rel="bibliography" /><link href="130" rel="bibliography" /><sup>[<a class="sup">9</a>,<a class="sup">9</a>]</sup></citation>消除了积相关算法的伪匹配,其度量的极大值不受2幅图像之间的灰度比例影响,匹配精度高,而且能够在低信噪比条件下工作,可以满足实际应用需要,已被广泛地应用。根据理论定义,归一化积相关算法如公式(1)所示:</p>
                </div>
                <div class="p1">
                    <p id="27" class="code-formula">
                        <mathml id="27"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>C</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo></mtd></mtr><mtr><mtd><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mo stretchy="false">(</mo><mi>A</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mi>A</mi><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mi>A</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mi>A</mi><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="28">其中,<i>A</i><sub><i>i</i></sub><sub>,</sub><sub><i>j</i></sub>为小图中位于第<i>i</i>行<i>j</i>列的像素点,<mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover accent="true"><mi>A</mi><mo>¯</mo></mover></math></mathml>为小图中所有像素点数据的平均值,<i>B</i><sub><i>u</i></sub><sub>+</sub><sub><i>i</i></sub><sub>,</sub><sub><i>v</i></sub><sub>+</sub><sub><i>j</i></sub>为大图子图中的第<i>i</i>行<i>j</i>列的像素点,<mathml id="75"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover></mrow></math></mathml>为大图子图中所有像素点的平均值,<i>m</i>为小图和大图子图的行数,<i>n</i>为小图与大图子图的列数。从公式(1)可以看出,在进行积相关运算时,每个像素点都要减去该图所有像素点的平均值,这就需要首先求出小图和大图子图所有像素点的累加和并除以图像大小<i>m</i>×<i>n</i>,而FPGA并不擅长于进行定点除运算(可以进行),需要耗费大量的逻辑及乘法器资源且其会造成精度损失,影响计算精度。另外,公式(1)的分母中需要进行定点开根号运算,与定点除法运算类似,FPGA同样不擅长进行定点开方运算(可以进行),需要耗费大量的逻辑资源和乘法器资源,且会造成精度损失,影响积相关运算精度。为了使得该公式更适合采用FPGA进行实现,需要对该公式进行变换及化简工作。</p>
                </div>
                <h4 class="anchor-tag" id="29" name="29"><b>2.2 公式化简</b></h4>
                <div class="p1">
                    <p id="30">为了适应FPGA运算的特点,对归一化积相关算法公式进行化简,将影响计算精度且占用大量资源的定点求均值除法运算转换为FPGA擅长的且不损失精度的乘法运算,分母为定点开根号运算,计算过程有精度损失,将其转换为最终结果的浮点开根号运算。化简后的积相关运算公式更适合采用FPGA进行加速运算,且精度更高,速度更快,如公式(2)所示:</p>
                </div>
                <div class="p1">
                    <p id="31" class="code-formula">
                        <mathml id="31"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>C</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo></mtd></mtr><mtr><mtd><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mo stretchy="false">(</mo><mi>A</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mi>A</mi><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mi>A</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mi>A</mi><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle></mrow></mstyle><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>=</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mo>-</mo><mn>1</mn><mo stretchy="false">)</mo><msup><mrow></mrow><mi>s</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>m</mi><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo>×</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo>-</mo></mtd></mtr><mtr><mtd><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup><mo>/</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>m</mi><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msubsup><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup><mo>-</mo><mo stretchy="false">(</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup><mo stretchy="false">)</mo><mo>×</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>m</mi><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo><mo>×</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msubsup><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup><mo>-</mo><mo stretchy="false">(</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow></msub><mo stretchy="false">)</mo><msup><mrow></mrow><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msup><mrow></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="32">其中,(-1)<sup><i>s</i></sup>表示积相关运算结果的符号,与分子<mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mspace width="0.25em" /></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mo stretchy="false">(</mo></mstyle><mo stretchy="false">(</mo><mi>A</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mi>A</mi><mo>¯</mo></mover><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>-</mo><mover accent="true"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>,</mo><mi>v</mi></mrow></msub></mrow><mo stretchy="true">¯</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></math></mathml>的符号相同。当分子为负数时,<i>s</i>=1,当分子为正数时,<i>s</i>=0。</p>
                </div>
                <div class="p1">
                    <p id="33">由式(2)可以看出,积相关运算可以拆分为<mathml id="77"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>×</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>,</mo><mspace width="0.25em" /><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>,</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub><mo>,</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msubsup><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup><mo>,</mo><mspace width="0.25em" /><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msubsup><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup></mrow></math></mathml>这些基本的运算过程,而这些乘法、累加、平方等运算正是FPGA所擅长的运算。通过公式化简,避免了原公式中的定点除法、定点开方等大量耗费FPGA资源的运算,将定点除法转换为乘法,将定点开方转换为平方运算,将需要大量资源的除法及开方运算集中到最后将数据转换为单精度浮点数据一次处理,从而极大地节约了有限的FPGA资源,用于多路积相关并行运算。</p>
                </div>
                <h3 id="34" name="34" class="anchor-tag"><b>3 归一化积相关算法硬件实现方法</b></h3>
                <h4 class="anchor-tag" id="35" name="35"><b>3.1 归一化积相关硬件加速电路单元的实现</b></h4>
                <h4 class="anchor-tag" id="36" name="36">3.1.1 积相关运算加速电路单元实现架构</h4>
                <div class="p1">
                    <p id="37">根据实际需要,飞航导弹在飞行过程中由于飞行高度和目标远近的不同,因此用于地形匹配和目标识别的图像模板大小也不同。为了满足任务需求,积相关运算硬件加速电路需要适应不同的模板大小,要求大图小图模板可变,即大图小图的行列宽度均可配置。为了实现可配置功能,图1给出了积相关硬件加速电路单元实现架构,展示了本文方法具体的实现思路。结合公式化简,本文方法预先设置大图与小图的处理上限尺寸,根据输入大图的列数确定FPGA内部大图列数,根据输入小图的行数确定FPGA内部的大图行数,根据输入小图的行列宽度确定了FPGA内部小图的行列数和需要的最大乘法器个数。在实际应用中,通过匹配数据多路选择阵列模块实现大图小图尺寸的动态适应,即当小图行数小于能实现的最大行数时,将多余行的大图及小图输出切换为0。其中,图1中的重点模块见如下描述。</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 本文方法的实现架构图" src="Detail/GetImg?filename=images/JSJK201911001_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 本文方法的实现架构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 1 Implementation architecture of our method</p>

                </div>
                <h4 class="anchor-tag" id="39" name="39">3.1.2 大图小图存储模块</h4>
                <div class="p1">
                    <p id="40">本文选取CYPRESS公司256 k×36 bit的同步双口RAM芯片CY7C0853-100BBI作为积相关硬件加速电路大图和小图的外部存储器件。积相关硬件加速电路在进行运算时将大图、小图数据从同步双口RAM芯片读入,存到内部存储阵列(参见图2中间“RAM”)中进行运算,因此在进行积相关算法FPGA实现时,需要根据实际需求的大图和小图最大行列数来确定内部用于存储图像数据的RAM行数及每个RAM块的最大存储空间。本文中积相关算法的大图最大为512行×512列,小图最大为128行×128列,其中每个像素点为8 bit数据。因此,为满足最大行列的相关计算要求,内部大图存储阵列行数与最大小图行数相同,为128行,列数与最大大图列数相同,为每行512×8 bit存储空间,小图存储阵列行列数与小图最大行列数相同,为128行,每行128×8 bit存储空间。当内部大图存储阵列中的128行全部完成计算后,从外部存储器读入下1行数据覆盖第1行的数据并继续进行运算,读入下1行数据将存储阵列的第2行数据覆盖,依次类推,直至整个大图完成相关计算为止。大图小图存储模块图如图2所示。</p>
                </div>
                <div class="area_img" id="41">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 大图小图存储模块图" src="Detail/GetImg?filename=images/JSJK201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 大图小图存储模块图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_041.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 2 Storage module of large block and small block</p>

                </div>
                <h4 class="anchor-tag" id="42" name="42">3.1.3 匹配数据多路选择阵列模块</h4>
                <div class="p1">
                    <p id="43">针对大图小图的行列宽度可配置的需求,在存储器阵列后端设计了数据多路选择器阵列,用于将大图小图存储器中不参与运算的行的图像数据切换为0,使其不影响积累加、乘法运算结果,这样可以在同一硬件架构的基础上,实现不同行列大小图像的相关运算。匹配数据多路选择阵列模块图如图3所示。</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 匹配数据多路选择阵列模块图" src="Detail/GetImg?filename=images/JSJK201911001_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 匹配数据多路选择阵列模块图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 3 Multiplex selection array module for data matching</p>

                </div>
                <h4 class="anchor-tag" id="45" name="45">3.1.4 平方运算阵列模块</h4>
                <div class="p1">
                    <p id="46">平方运算阵列用来实现<mathml id="78"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>B</mi></mstyle></mrow></mstyle><msubsup><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup></mrow></math></mathml>中128行大图数据的每个像素点的<i>B</i><mathml id="79"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi><mspace width="0.25em" /></mrow><mn>2</mn></msubsup></mrow></math></mathml>的平方运算,该平方阵列由128个8 bit定点平方运算器组成。平方运算阵列模块如图4所示。</p>
                </div>
                <div class="area_img" id="47">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 平方运算阵列模块图" src="Detail/GetImg?filename=images/JSJK201911001_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 平方运算阵列模块图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 4 Array module for square operation</p>

                </div>
                <h4 class="anchor-tag" id="48" name="48">3.1.5 乘法运算阵列模块</h4>
                <div class="p1">
                    <p id="49">乘法运算阵列用来实现<mathml id="80"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>m</mi><mo>-</mo><mn>1</mn></mrow></munderover><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover><mi>A</mi></mstyle></mrow></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>×</mo><mi>B</mi><msub><mrow></mrow><mrow><mi>u</mi><mo>+</mo><mi>i</mi><mo>,</mo><mi>v</mi><mo>+</mo><mi>j</mi></mrow></msub></mrow></math></mathml>中128行大图数据和小图数据的每个对应像素点的乘积<i>A</i><sub><i>i</i></sub><sub>,</sub><sub><i>j</i></sub>×<i>B</i><sub><i>u</i></sub><sub>+</sub><sub><i>i</i></sub><sub>,</sub><sub><i>v</i></sub><sub>+</sub><sub><i>j</i></sub>,该乘法运算阵列由128个8 bit×8 bit乘法运算器构成。乘法运算阵列模块如图5所示。</p>
                </div>
                <div class="area_img" id="50">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 乘法运算阵列模块图" src="Detail/GetImg?filename=images/JSJK201911001_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 乘法运算阵列模块图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 5 Array module for multiplication operation</p>

                </div>
                <h4 class="anchor-tag" id="52" name="52">3.1.6 积相关算法数据流图</h4>
                <div class="p1">
                    <p id="53">基于积相关算法的化简公式和实现架构,图6给出整个积相关算法的功能性结构图,展示了算法分解与实现,以及计算过程中的数据流。</p>
                </div>
                <div class="area_img" id="51">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 归一化积相关硬件加速电路单元数据流图" src="Detail/GetImg?filename=images/JSJK201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 归一化积相关硬件加速电路单元数据流图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 6 Data flow diagram of hardware acceleration circuit unit for Nprod</p>

                </div>
                <h4 class="anchor-tag" id="54" name="54"><b>3.2  归一化积相关多路并行计算架构</b></h4>
                <div class="p1">
                    <p id="55">由于FPGA实现的电路主频在编译后无法通过优化成倍增长,为了进一步提高积相关计算速度,本文参照目前主流DSP厂商采用的多核并行处理策略,对积相关加速电路进行了多路并行处理。对于单路积相关运算加速单元来说,每次只能实现小图和大图中1个同样大小图像的积相关运算,但如果采用多个积相关加速单元同时进行多个图像块的积相关运算,则可以成倍提高小图大图的积相关运算速度。本文采取的积相关多路并行计算方案是在单路积相关加速电路实现的基础上,重复调用多个积相关加速电路单元对积相关运算实现大图小图匹配的多列并行计算,这样能够实现积相关运算速度的成倍增长。本文根据硬件资源数量实现了积相关运算的16路并行计算。多路积相关并行计算架构框图如图7所示。</p>
                </div>
                <div class="area_img" id="56">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 归一化积相关多路并行计算架构图" src="Detail/GetImg?filename=images/JSJK201911001_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 归一化积相关多路并行计算架构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_056.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 7 Multiplex parallel computing architecture for Nprod</p>

                </div>
                <h4 class="anchor-tag" id="57" name="57"><b>3.3 归一化积相关多路并行计算流程</b></h4>
                <div class="p1">
                    <p id="58">以大图像素点8×8,小图像素点4×4,且实现4路并行积相关操作为例,如图8所示,要完成小图在大图中1行的匹配工作,共需要完成(大图列数-小图列数+1)=8-2+1=7次积相关运算,如果重复调用4个积相关运算单元,那么1次可以同时进行不换列、换列1次、换列2次和换列3次4个大图中图像子块与小图的积相关操作,如图8中第1行所示,将大图和小图积相关运算的速度提高了4倍。完成1次并行积相关操作后,在进行下1次并行积相关操作前,按照并行计算的路数,将大图1次往右移4列,再次进行并行4路积相关运算,如图8中第2行所示。当完成本行的积相关操作后,将小图移到大图下1行的最左侧再次重复上述操作,直到完成最后1行、最后1列的积相关操作后,整个小图与大图的积相关操作才完全结束。这一点与非并行积相关操作架构相同,不同之处在于进行积相关运算时采取了列并行计算模式,提高了每1行大图子图与小图积相关运算的效率,从而成倍地提高了运算速度。小图与大图进行列并行积相关运算时,每次产生与并行计算路数相同个数的积相关结果,而每行积相关运算产生的结果不一定为并行路数的整数倍,这时需要将多余的结果抛弃,不存入最终的结果存储器中。以图8为例,由于每行运算只能产生7个积相关运算结果,而4路并行架构完成1行积相关运算,需要2次计算共产生8个结果,最后1个结果为多余结果。如图8中虚线框部分所示,在进行积相关硬件加速电路设计时对每行产生积相关结果个数用计数器进行计数,当计数结果小于或等于每行最大结果个数时,产生写信号将结果写入结果存储器中,当计数结果大于每行最大结果个数时将写信号屏蔽,不再写入结果存储器。每次完成本行计算时将计数器清零,在新的1行积相关计算中对产生的计算结果个数重新计数。并行16路积相关运算过程与上述过程类似,每次运算同时并行产生16个积相关运算结果,对于不是16的整数倍数个数的结果,同样需要用行计算结果个数计数器将多余结果屏蔽。每行重复上述过程,直到完成全部行数的积相关运算后,将积相关运算完成标志置1。</p>
                </div>
                <div class="area_img" id="59">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 归一化积相关多路列并行计算流程图" src="Detail/GetImg?filename=images/JSJK201911001_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 归一化积相关多路列并行计算流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 8 Multiplex parallel computing flow for Nprod</p>

                </div>
                <h3 id="61" name="61" class="anchor-tag"><b>4 实验结果</b></h3>
                <h4 class="anchor-tag" id="62" name="62"><b>4.1 仿真验证</b></h4>
                <div class="p1">
                    <p id="63">本文的主要创新点为积相关多路并行计算架构,因此根据上述设计思路,在Windows 7上基于Vivado 2016.1和ModelSim10仿真软件进行了功能仿真。如图9所示,仿真结果表明该积相关16路并行计算方案完全可行,达到了预期的设计目标。</p>
                </div>
                <div class="area_img" id="67">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911001_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 积相关多路并行计算仿真图" src="Detail/GetImg?filename=images/JSJK201911001_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 积相关多路并行计算仿真图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911001_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 9 Multiplex parallel computing simulation for Nprod</p>

                </div>
                <h4 class="anchor-tag" id="64" name="64"><b>4.2 性能实验</b></h4>
                <div class="p1">
                    <p id="65">为了测试不同实现方案积相关算法的运行速度,以实际应用中常用的3个计算尺寸进行实验,分别为大图512×512、小图80×80;大图512×512、小图128×128;大图320×256、小图64×64。测试平台为:(1)仅用DSP环境,采用ADI公司的500 MHz主频的TS201 DSP芯片;(2)用Matlab R2009a软件,基于Pentium Dual-Core CPU E5300 双核(单核频率2.60 GHz)、2 GB内存操作系统;(3)采用FPGA(Xinlinx Virtex-7 FPGA xc7vx690,时钟频率为70 MHz),分别用单路积相关硬件加速电路和16路积相关硬件加速电路进行积相关运算。记录的运算时间如表1所示。</p>
                </div>
                <div class="p1">
                    <p id="66">由表1可以看出,与仅采用哈弗架构的DSP实现和采用冯诺依曼架构的PC机实现相比,FPGA适用于并行处理计算,具有显著的计算效能提升的特点,实现的多核积相关算法硬件加速电路,可以极大地提高积相关运算的速度,与PC机Matlab软件和DSP芯片TS201相比,运算速度提升上千甚至上万倍,完全能够满足弹上实时性的需求。</p>
                </div>
                <div class="area_img" id="72">
                    <p class="img_tit"><b>表1 实验时间对比结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Comparison of experimental time</b></p>
                    <p class="img_note"></p>
                    <table id="72" border="1"><tr><td><br />序号</td><td>模板大小</td><td>TS201芯片/s</td><td>MATLAB<br />仿真时间/s</td><td>单路积相关<br />硬件加速电路/ms</td><td>16路并行积相关<br />硬件加速电路/ms</td></tr><tr><td><br />1</td><td>大图512×512,小图80×80</td><td>546.136</td><td>17.493 2</td><td>216.15</td><td>15.260</td></tr><tr><td><br />2</td><td>大图512×512,小图128×128</td><td>689.822</td><td>29.607 9</td><td>272.91</td><td>18.812</td></tr><tr><td><br />3</td><td>大图320×256 小图64×64</td><td>114.586</td><td>3.265 9</td><td>45.92</td><td>3.420</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="68" name="68"><b>4.3 计算精度分析</b></h4>
                <div class="p1">
                    <p id="69">本文方法对归一化积相关公式进行化简,将除法计算次数减少至1次,同时将开方运算也减少至1次,其他运算如累加、乘法、平方等均为定点运算,因而极大地减少了精度损失,通过调用浮点数学运算库,计算精度达到10<sup>-6</sup>。</p>
                </div>
                <h3 id="70" name="70" class="anchor-tag"><b>5 结束语</b></h3>
                <div class="p1">
                    <p id="71">本文介绍了积相关硬件加速电路单元的实现架构、并行处理架构以及各个主要模块的FPGA实现方法,在XILINX公司Virtex-7系列FPGA xc7vx690上实现了大图512×512、小图128×128模板的16路并行处理FPGA代码的设计、仿真和调试工作,模板尺寸根据需求可变。飞航导弹系统设计为嵌入式系统设计,本文方法相比于ADI公司TS201的软件实现,具有4个数量级的速度提升,能够满足新一代飞航导弹地形匹配及目标识别的实时性需求,具有一定的先进性和借鉴意义。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
                        <h3 class="anchor-tag">作者图片</h3>
                <div class="anchor-wrap">
                        <p>
                                    <div class="anchor-box">
                                        <span class="anchor-a"><image id="142" type="formula" href="images/JSJK201911001_14200.jpg" display="inline" placement="inline"><alt></alt></image></span>
                                        <span class="anchor-a">李红军</span>
                                    </div>
                        </p>
                </div>


        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="112">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An area-efficient 2-D convolution implementation on FPGA for space applications">

                                <b>[1]</b> di Carlo S,Gambardella G,Indaco M,et al.An area-efficient 2-D convolution implementation on FPGA for space applications[C]//Proc of IEEE 6th International Design and Test Workshop(IDT),2011:11-14.
                            </a>
                        </p>
                        <p id="114">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Image convolution on FPGAs: the implementation of a multi-FPGA FIFO structure">

                                <b>[2]</b> Benedetti A,Prati A,Scarabottolo N.Image convolution on FPGAs:The implementation of a multi- FPGA FIFO structure[C]//Proc of the 24th EUROMICRO Conference(EUROMICRO 98),1998:123-130.
                            </a>
                        </p>
                        <p id="116">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A FPGA implementation of variable kernel convolution">

                                <b>[3]</b> Sriram V,Kearney D.A FPGA implementation of variable kernel convolution[C]//Proc of the 8th International Conference on Parallel and Distributed Computing,Applications and Technologies,2007:105-110.
                            </a>
                        </p>
                        <p id="118">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13011300634363&amp;v=MTQ5MjhyUmRHZXJxUVRNbndaZVp1SHlqbVVMZklKMTBWYUJJPU5pZk9mYks3SHRETnJJOUZZdWdMRDNvNm9CTVQ2VDRQUUgvaQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> Toledo-Moreo F J,Martínez-Alvarez J J,Garrigós-Guerrero F J.FPGA-based architecture for the real-time computation of 2-D convolution with large kernel size[J].Journal of Systems Architecture,2012,58(8):277-285.
                            </a>
                        </p>
                        <p id="120">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=FPGA implementation of normalized cross-correlation for real-time template matching in dynamic search windows">

                                <b>[5]</b> Cabral A,Pasqual A.FPGA implementation of normalized cross-correlation for real-time template matching in dynamic search windows[C]//Proc of the 17th ERU Research Symposium,2011:121-124.
                            </a>
                        </p>
                        <p id="122">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An ultra-high-speed FPGA based digital correlation processor">

                                <b>[6]</b> Altaf M M,Ahmad E H,Li Wei,et al.An ultra-high-speed FPGA based digital correlation processor[J].IEICE Electronics Express,2015,12(8):1-7.
                            </a>
                        </p>
                        <p id="124">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00001270105&amp;v=MjU5OTN0SE5yWWhGWmVzS1kzazV6QmRoNGo5OVNYcVJyeG94Y01IN1I3cWVidWR0RkNEbFZMekpJbDQ9Tmo3QmFyTzRI&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> Lindoso A,Author E,Entrena L.High performance FPGA-based image correlation[J].Journal of Real-Time Image Processing,2007,2(4):223-233.
                            </a>
                        </p>
                        <p id="126">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A FPGA Optimised Digital Real-Time Mutichannel Correlator Architecture">

                                <b>[8]</b> Jakob C,Schwarzbacher A T,Hoppe B,et al.A FPGA optimised digital real-time mutichannel correlator architecture[C]//Proc of the 10th EUROMICRO Conference on Digital System Design Architectures,Methods and Tools(DSD 2007),2007:35-42.
                            </a>
                        </p>
                        <p id="128">
                            <a id="bibliography_9" >
                                    <b>[9]</b>
                                 Zhu Yong-song,Guo Cheng-ming.The research on correlation matching algorithm based on correlation coefficient[J].Signal Processing,2003,19(6):531-534.(in Chinese)附中文参考文献:[9] 朱永松,国澄明.基于相关系数的相关匹配算法的研究[J].信号处理,2003,19(6):531-534.
                            </a>
                        </p>
                        <p id="130">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XXCN200306007&amp;v=MTQ5NjVSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUm1GeS9tVXIzSVBUWElZTEc0SHRMTXFZOUZZNFFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 朱永松,国澄明.基于相关系数的相关匹配算法的研究[J].信号处理,2003,19(6):531-534.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJK201911001" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201911001&amp;v=MDgwMDR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnkvbVVyM0lMejdCWmJHNEg5ak5ybzlGWllRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
