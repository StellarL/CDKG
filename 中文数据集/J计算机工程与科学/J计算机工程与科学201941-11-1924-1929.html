<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637132340574561250%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dJSJK201911004%26RESULT%3d1%26SIGN%3ddQRloIdiqdqbhCsfVes7RMNYHzc%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201911004&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJK201911004&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201911004&amp;v=MDYzOTR6cXFCdEdGckNVUkxPZVplUm1GeS9uVnIvT0x6N0JaYkc0SDlqTnJvOUZZSVFLREg4NHZSNFQ2ajU0TzM=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#29" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#34" data-title="&lt;b&gt;2 分区算法&lt;/b&gt; "><b>2 分区算法</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#35" data-title="&lt;b&gt;2.1 利用率&lt;/b&gt;"><b>2.1 利用率</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;2.2 功耗&lt;/b&gt;"><b>2.2 功耗</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;2.3 功耗和利用率的平衡&lt;/b&gt;"><b>2.3 功耗和利用率的平衡</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#106" data-title="&lt;b&gt;3 实验&lt;/b&gt; "><b>3 实验</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#111" data-title="&lt;b&gt;3.1 与HLS工具比较&lt;/b&gt;"><b>3.1 与HLS工具比较</b></a></li>
                                                <li><a href="#116" data-title="&lt;b&gt;3.2 高级图像处理&lt;/b&gt;"><b>3.2 高级图像处理</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#122" data-title="&lt;b&gt;4 结束语&lt;/b&gt; "><b>4 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#42" data-title="图1 3D映射到2D">图1 3D映射到2D</a></li>
                                                <li><a href="#50" data-title="图2 将二维阵列映射到&lt;i&gt;BRAM&lt;/i&gt;">图2 将二维阵列映射到<i>BRAM</i></a></li>
                                                <li><a href="#108" data-title="&lt;b&gt;表1 优化利用率的配置&lt;/b&gt;"><b>表1 优化利用率的配置</b></a></li>
                                                <li><a href="#109" data-title="&lt;b&gt;表2 平衡算法的配置&lt;/b&gt;"><b>表2 平衡算法的配置</b></a></li>
                                                <li><a href="#113" data-title="图3 滑动窗口测试BRAM功耗比较">图3 滑动窗口测试BRAM功耗比较</a></li>
                                                <li><a href="#114" data-title="图4 滑动窗口测试动态功耗比较">图4 滑动窗口测试动态功耗比较</a></li>
                                                <li><a href="#119" data-title="图5 MeanShift算法功耗比较">图5 MeanShift算法功耗比较</a></li>
                                                <li><a href="#121" data-title="&lt;b&gt;表3 资源使用和性能&lt;/b&gt;"><b>表3 资源使用和性能</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" Mondal P,Biswal P K,Banerjee S.FPGA based accelerated 3D affine transform for real-time image processing applications[J].Computers &amp;amp; Electrical Engeering,2016,49:69-83." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES15122300606282&amp;v=MjY3NjNHZXJxUVRNbndaZVp1SHlqbVVMZklKMXdSYWhRPU5pZk9mYks5SDlQT3JJOUZZdXNKRG5RN29CTVQ2VDRQUUgvaXJSZA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         Mondal P,Biswal P K,Banerjee S.FPGA based accelerated 3D affine transform for real-time image processing applications[J].Computers &amp;amp; Electrical Engeering,2016,49:69-83.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" >
                                        <b>[2]</b>
                                     Yuan Xiao-jun,Zhang Liang.Application research on BRAM in XILINX FPGA[J].Aeronautical Computing Technique,2018,48(5):122-125.(in Chinese)</a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" Jin S,Cho J,Pham X D.FPGA design and implementation of a real-time stereo vision system[J].IEEE Transactions on Circuits and Systems for Video Technology,2010,20(1):15-26." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=FPGA Design and Implementation of a Real-Time Stereo Vision System">
                                        <b>[3]</b>
                                         Jin S,Cho J,Pham X D.FPGA design and implementation of a real-time stereo vision system[J].IEEE Transactions on Circuits and Systems for Video Technology,2010,20(1):15-26.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" Perri S,Frustaci F,Spagnolo F.Design of real-time FPGA-based embedded system for stereo vision[C]//Proc of the 2018 IEEE International Symposium on Circuits and Systems(ISCAS),2018:1-5." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Design of real-time FPGA-based embedded system for stereo vision">
                                        <b>[4]</b>
                                         Perri S,Frustaci F,Spagnolo F.Design of real-time FPGA-based embedded system for stereo vision[C]//Proc of the 2018 IEEE International Symposium on Circuits and Systems(ISCAS),2018:1-5.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" Gallo L,Cilardo A,Thomas D,et al.Area implications of memory partitioning for high-level synthesis on FPGAs[C]//Proc of the 2014 24th International Conference on Field Programmable Logic and Applications(FPL),2014:1-4." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Area implications of memory partitioning for high-level synthesis on FPGAs">
                                        <b>[5]</b>
                                         Gallo L,Cilardo A,Thomas D,et al.Area implications of memory partitioning for high-level synthesis on FPGAs[C]//Proc of the 2014 24th International Conference on Field Programmable Logic and Applications(FPL),2014:1-4.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" Wang Y,Li P,Zhang P.Memory partitioning for multidimensional arrays in high-level synthesis[C]//Proc of the 50th Annual Design Automation Conference,2013:Article No.12." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Memory partitioning for multidimensional arrays in high-level synthesis">
                                        <b>[6]</b>
                                         Wang Y,Li P,Zhang P.Memory partitioning for multidimensional arrays in high-level synthesis[C]//Proc of the 50th Annual Design Automation Conference,2013:Article No.12.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" Kadric E,Lakata D,Dehon A.Impact of parallelism and memory architecture on FPGA communication energy[J].ACM Transactions on Reconfigurable Technology Systems,2016,9(4):Article No.30." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCMD6448EF89B2B83222C2992CC516EF89D&amp;v=MDk1OTRRUm1UMTBRWDJSM3hjMGY4ZmlUYlByQ09OdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQ3BiUTM1TkJodzdxNndLND1OaWZJWThlK0d0WEUydmxOYlprTmZuUTZ6Ug==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         Kadric E,Lakata D,Dehon A.Impact of parallelism and memory architecture on FPGA communication energy[J].ACM Transactions on Reconfigurable Technology Systems,2016,9(4):Article No.30.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" Luo Jun,Fan Jian-feng,Lu Hong-feng,et al.Functional verification and implementation of block random access memory based on FPGA [J].Application of Electronic Technique,2018,44(9):44-47.(in Chinese)" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201809011&amp;v=Mjc2Mzh0R0ZyQ1VSTE9lWmVSbUZ5L25Wci9PSVRmQmQ3RzRIOW5NcG85RVpZUUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         Luo Jun,Fan Jian-feng,Lu Hong-feng,et al.Functional verification and implementation of block random access memory based on FPGA [J].Application of Electronic Technique,2018,44(9):44-47.(in Chinese)
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" Kaur I,Rohilla L,Nagpal A.Different configuration of low-power memory design using capacitance scaling on 28-nm field-programmable gate array[M]//System and Architecture.New York:Springer,2018:151-161." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Different configuration of low-power memory design using capacitance scaling on 28-nm field-programmable gate array">
                                        <b>[9]</b>
                                         Kaur I,Rohilla L,Nagpal A.Different configuration of low-power memory design using capacitance scaling on 28-nm field-programmable gate array[M]//System and Architecture.New York:Springer,2018:151-161.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" Cilardo A,Gallo L.Interplay of loop unrolling and multidimensional memory partitioning in HLS[C]//Proc of the 2015 Design,Automation &amp;amp; Test in Europe Conference &amp;amp; Exhibition(DATE ’15),2015:163-168." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Interplay of loop unrolling and multidimensional memory partitioning in HLS">
                                        <b>[10]</b>
                                         Cilardo A,Gallo L.Interplay of loop unrolling and multidimensional memory partitioning in HLS[C]//Proc of the 2015 Design,Automation &amp;amp; Test in Europe Conference &amp;amp; Exhibition(DATE ’15),2015:163-168.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" >
                                        <b>[11]</b>
                                     Ning J,Zhang L,Zhang D.Robust mean-shift tracking with corrected background-weighted histogram[J].IET Computer Vision,2012,6(1):62-69.附中文参考文献:</a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_2" title=" 袁晓军,张亮.XILINX FPGA内部BRAM资源的应用研究[J].航空计算技术,2018,48(5):122-125." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201805032&amp;v=MjQ2MDBMU2JCWkxHNEg5bk1xbzlHWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnkvblZyL08=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         袁晓军,张亮.XILINX FPGA内部BRAM资源的应用研究[J].航空计算技术,2018,48(5):122-125.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_8" >
                                        <b>[8]</b>
                                     罗军,范剑峰,吕宏峰,等.基于FPGA的块存储器资源功能验证及实现[J].电子技术应用,2018,44(9):44-47.</a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJK" target="_blank">计算机工程与科学</a>
                2019,41(11),1924-1929 DOI:10.3969/j.issn.1007-130X.2019.11.004            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>用于图像处理的FPGA存储器优化分配</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%99%88%E5%87%AF%E5%B3%B0&amp;code=42606222&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">陈凯峰</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%A2%81%E9%89%B4%E5%A6%82&amp;code=24734544&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">梁鉴如</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%8A%E6%B5%B7%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E7%94%B5%E6%B0%94%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0202052&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">上海工程技术大学电子电气工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>现场可编程门阵列(FPGA)在计算机视觉应用领域有着广阔的前景,然而FPGA有限的片上存储器资源难以满足应用场景下性能、尺寸和功率的需求。针对这个问题,研究片上存储器的资源分配,在最小化片上资源使用和整体功耗的前提下提出一种易于实现的分区平衡算法。实验结果表明,与商用FPGA高级综合工具相比,本文算法的利用率提高达60%,且动态功耗降低了约70%。在高级算法MeanShift跟踪的实验中,实验结果显示,分区算法可以在不影响关键性能的前提下降低总功耗高达30%。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=FPGA&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">FPGA;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">图像处理;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%89%87%E4%B8%8A%E5%AD%98%E5%82%A8%E5%99%A8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">片上存储器;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8A%9F%E8%80%97&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">功耗;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E5%8C%BA%E7%AE%97%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分区算法;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    陈凯峰(1994-),男,江苏启东人,硕士生,研究方向为计算机图形学和计算机仿真。E-mail:15851220618@163.com,通信地址:201620上海市上海工程技术大学现代交通工程中心7432室;
                                </span>
                                <span>
                                    梁鉴如(1960-),男,上海人,高级实验师,研究方向为计算机仿真。E-mail:jianru_t@126.com,通信地址:201620上海市上海工程技术大学现代交通工程中心7432室;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-05-08</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金(61272097);</span>
                                <span>上海市科技委员会重点项目(18511101600);</span>
                    </p>
            </div>
                    <h1><b>Optimized FPGA memory allocation for image processing</b></h1>
                    <h2>
                    <span>CHEN Kai-feng</span>
                    <span>LIANG Jian-ru</span>
            </h2>
                    <h2>
                    <span>School of Electrical and Electronic Engineering,Shanghai University of Engineering Science</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Field Programmable Gate Array(FPGA) has broad prospects in computer vision applications. However, limited memory resources of FPGA are difficult to meet the performance, size and power requirements of the application scenarios. To solve this problem, this paper studies the resource allocation of on-chip memory, designs a partition balancing algorithm to minimize resource usage and power consumption, and implements it on the platform. The experimental results show that, compared with the commercial FPGA's advanced synthesis tools, the proposed algorithm improves the utilization rate by 60% and reduces the dynamic power consumption by up to 70%. In the experiment of the advanced algorithm MeanShift tracking, the experimental data shows that the partition balancing algorithm can reduce the total power consumption by up to 30% without affecting the key performance.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=FPGA&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">FPGA;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=image%20processing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">image processing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=on-chip%20memory&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">on-chip memory;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=power%20consumption&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">power consumption;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=partitioning%20algorithm&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">partitioning algorithm;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    CHEN Kai-feng,born in 1994,MS candidate,his research interests include computer graphics,and computer simulation.Address:Room 7432,Modern Transportation Center,Shanghai University of Engineering Science,Shanghai 201620,P.R.China;
                                </span>
                                <span>
                                    LIANG Jian-ru,born in 1960,senior experimentalist,his research interest includes computer simulation.Address:Room 7432,Modern Transportation Center,Shanghai University of Engineering Science,Shanghai 201620,P.R.China;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2019-05-08</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="29" name="29" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="30">近年来,计算机视觉快速发展,并且广泛应用于各类生活场景,例如,无人驾驶汽车、人脸识别解锁、无人超市等。这些应用场景有着成本、功耗等因素的限制,难以使用传统普通处理器(CPU、GPU)平台实现高级图像处理算法。</p>
                </div>
                <div class="p1">
                    <p id="31">现场可编程门阵列FPGA(Field Programmable Gate Array)作为一种硬件平台,用于数字图像处理,具有速度快、集成度高、可靠性强等优点,能够满足计算机视觉应用的需求<citation id="126" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。然而,FPGA的片上存储器资源有限(Xilinx Virtex 7大约具备6 MB的片上存储器),一般使用外部存储器(即连接到FPGA的DDR-RAM芯片)储存图像。由于片外存储器访问的延迟要高得多,性能大大降低。而且,采用外部存储器会增加系统的尺寸、功耗以及经济成本,这些阻碍了FPGA在计算机视觉领域的广泛应用<citation id="127" type="reference"><link href="5" rel="bibliography" /><link href="7" rel="bibliography" /><link href="9" rel="bibliography" /><link href="25" rel="bibliography" /><sup>[<a class="sup">2</a>,<a class="sup">3</a>,<a class="sup">4</a>,<a class="sup">2</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="32">目前的研究主要集中在提升性能和降低功耗2个方面。Gallo等人<citation id="128" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>在算法级别重新组织存储器布局,通过检查计算行为并相应地通过基于点阵的分区来放置数据。Wang等人<citation id="129" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>通过创建促进循环流水线操作的存储器结构来提高吞吐量。他们的方法可节省21%的BRAM(Block Ramdom Access Memory)。Kadric等人<citation id="130" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>研究了内存分区对功耗的影响,利用数据放置来实现并行访问,从而最大限度地降低通信功耗。这些研究都侧重于性能和功耗的一方面,没有实现平衡情况下的最优解。目前,国内缺乏这一领域的研究。</p>
                </div>
                <div class="p1">
                    <p id="33">针对这些问题,本文提出了片上存储器的平衡分区算法,适用于硬件描述语言HDL(Hardware Description  Language),可最大限度地减少FPGA内存资源的使用和图像处理应用的功耗,并通过实验加以证明。</p>
                </div>
                <h3 id="34" name="34" class="anchor-tag"><b>2 分区算法</b></h3>
                <h4 class="anchor-tag" id="35" name="35"><b>2.1 利用率</b></h4>
                <div class="p1">
                    <p id="36">首先考虑利用率问题,假设每个图像帧缓冲器只使用一种可能的BRAM配置。</p>
                </div>
                <div class="p1">
                    <p id="37"><b>定义1</b> 对于给定BRAM存储容量<i>C</i>和可能的配置<i>i</i>,配置<i><b>Cfg</b></i>是<i>i</i>个元素的向量:</p>
                </div>
                <div class="p1">
                    <p id="38" class="code-formula">
                        <mathml id="38"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">C</mi><mi mathvariant="bold-italic">f</mi><mi mathvariant="bold-italic">g</mi><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><mo stretchy="false">(</mo><mi>Μ</mi><msub><mrow></mrow><mn>1</mn></msub><mo>,</mo><mi>Ν</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mi>Μ</mi><msub><mrow></mrow><mn>2</mn></msub><mo>,</mo><mi>Ν</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo>⋮</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mi>Μ</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mi>Ν</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo></mtd></mtr></mtable></mrow><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><mi>C</mi><mi>f</mi><mi>g</mi><msub><mrow></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mi>C</mi><mi>f</mi><mi>g</mi><msub><mrow></mrow><mn>2</mn></msub></mtd></mtr><mtr><mtd><mo>⋮</mo></mtd></mtr><mtr><mtd><mi>C</mi><mi>f</mi><mi>g</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr></mtable></mrow><mo>)</mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="39">其中,每个元素的第1个分量描绘BRAM宽度<i>M</i>,第2个分量描绘BRAM高度<i>N</i>,满足:</p>
                </div>
                <div class="p1">
                    <p id="40" class="code-formula">
                        <mathml id="40"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Μ</mi><msub><mrow></mrow><mi>x</mi></msub><mo>×</mo><mi>Ν</mi><msub><mrow></mrow><mi>x</mi></msub><mo>≤</mo><mi>C</mi><mo>,</mo><mo>∀</mo><mi>x</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>1</mn><mo>,</mo><mi>i</mi><mo stretchy="false">]</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="41">对于任何给定的帧大小,有几种可能的BRAM拓扑结构。虽然总物理容量相同,但在某些配置中,奇偶校验比特可用作附加数据比特。例如,配置(1,16 384)可以存储16 384位,而配置(9,2048)可以存储18 432位。图像帧是三维(3D)阵列,其尺寸宽度为<i>W</i>,高度为<i>H</i>,像素比特宽度为<i>Bw</i>。BRAM拓扑基于3D到2D阵列的映射以及2D阵列到特定存储器结构的划分如图1所示。</p>
                </div>
                <div class="area_img" id="42">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911004_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 3D映射到2D" src="Detail/GetImg?filename=images/JSJK201911004_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 3D映射到2D  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911004_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 1 Mapping a 3D array into 2D arrays</p>

                </div>
                <div class="p1">
                    <p id="43">我们使用映射方案分别以行主要和列主要顺序(其中<i>x</i>和<i>y</i>分别是数组的宽度和高度),将<i>Bw</i>分配给<i>x</i>维度,将<i>H</i>和<i>W</i>分配给<i>y</i>维度,这是硬件实现的合理方法。如果在<i>y</i>维度上映射比特宽度<i>Bw</i>将导致相同阵列元素的不同比特将被分散在同一BRAM的不同存储器位置。这将需要用顺序逻辑来读取/写入像素,访问多个存储器位置。因此,定义默认的映射方案如下:</p>
                </div>
                <div class="p1">
                    <p id="44"><b>定义2</b> 映射方案<i>m</i>通过将<i>Bw</i>分配给<i>x</i>维并将<i>W</i>和<i>H</i>的有序组合分配给<i>y</i>维,将3D阵列<i><b>A</b></i>3变换为<i>x</i>和<i>y</i>的2D阵列<i><b>A</b></i>2,总共有2种可能的配置。如图1所示,映射方案定义为:</p>
                </div>
                <div class="p1">
                    <p id="45" class="code-formula">
                        <mathml id="45"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mo stretchy="false">(</mo><mi>W</mi><mo>,</mo><mi>Η</mi><mo>,</mo><mi>B</mi><mi>w</mi><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>A</mi><mn>2</mn><msub><mrow></mrow><mrow><mi>x</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><mi>A</mi><mn>3</mn><msub><mrow></mrow><mrow><mi>y</mi><mo>\</mo><mi>W</mi><mo>,</mo><mi>y</mi><mi>%</mi><mi>W</mi><mo>,</mo><mi>x</mi></mrow></msub><mo>,</mo><mi>x</mi><mo>=</mo><mi>B</mi><mi>w</mi><mo>,</mo><mi>y</mi><mo>=</mo><mi>W</mi><mo>×</mo><mi>Η</mi><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>A</mi><mn>2</mn><msub><mrow></mrow><mrow><mi>x</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><mi>A</mi><mn>3</mn><msub><mrow></mrow><mrow><mi>y</mi><mi>%</mi><mi>Η</mi><mo>,</mo><mi>y</mi><mo>\</mo><mi>Η</mi><mo>,</mo><mi>x</mi></mrow></msub><mo>,</mo><mi>x</mi><mo>=</mo><mi>B</mi><mi>w</mi><mo>,</mo><mi>y</mi><mo>=</mo><mi>W</mi><mo>×</mo><mi>Η</mi><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="46">其中,“\”和“%”分别代表整数除法和模数。</p>
                </div>
                <div class="p1">
                    <p id="47"><b>定义3</b> 给定尺寸为<i>x</i>和<i>y</i>的2D映射图像帧,如图2所示,在<i>a</i>×<i>b</i>个BRAM上分配像素的分区方案<i>p</i>被定义为线性组合:</p>
                </div>
                <div class="p1">
                    <p id="48" class="code-formula">
                        <mathml id="48"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="bold-italic">C</mi><mi mathvariant="bold-italic">f</mi><mi mathvariant="bold-italic">g</mi><mo>*</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>a</mi><msub><mrow></mrow><mn>1</mn></msub><mo>,</mo><mi>b</mi><msub><mrow></mrow><mn>1</mn></msub><mo stretchy="false">)</mo><mo>,</mo><mo stretchy="false">(</mo><mi>a</mi><msub><mrow></mrow><mn>2</mn></msub><mo>,</mo><mi>b</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false">)</mo><mo>,</mo><mo>⋯</mo><mo>,</mo><mo stretchy="false">(</mo><mi>a</mi><msub><mrow></mrow><mi>i</mi></msub><mo>,</mo><mi>b</mi><msub><mrow></mrow><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>6</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="49">其中,*代表线性组合,使得只有1个(<i>a</i><sub><i>j</i></sub>,<i>b</i><sub><i>j</i></sub>),∀<i>j</i>∈[1,<i>i</i>]具有非零分量(这样的一对是作为<i>x</i>和<i>y</i>的函数生成的),<i>M</i><sub><i>p</i></sub>和<i>N</i><sub><i>p</i></sub>满足((<i>a</i>×<i>M</i><sub><i>p</i></sub>)≥<i>x</i>)∧((<i>b</i>×<i>N</i><sub><i>p</i></sub>)≥<i>y</i>)。将尺寸为<i>x</i>=<i>Bw</i>且<i>y</i>=<i>W</i>×<i>H</i>的2D阵列映射到<i>a</i>×<i>b</i>个BRAM,其配置为宽度<i>M</i>和高度<i>N</i>。</p>
                </div>
                <div class="area_img" id="50">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 将二维阵列映射到BRAM" src="Detail/GetImg?filename=images/JSJK201911004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 将二维阵列映射到<i>BRAM</i>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"><i>Figure</i> 2 <i>Mapping a</i> 2<i>D array to BRAMs</i></p>

                </div>
                <div class="p1">
                    <p id="51"><b>定义4</b> 给定分区方案p和最大<i>BRAM</i>容量C,利用效率E定义为:</p>
                </div>
                <div class="p1">
                    <p id="52" class="code-formula">
                        <mathml id="52"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>E</mi><mo>=</mo><mfrac><mrow><mi>x</mi><mo>×</mo><mi>y</mi></mrow><mrow><mi>a</mi><msub><mrow></mrow><mi>p</mi></msub><mo>×</mo><mi>b</mi><msub><mrow></mrow><mi>p</mi></msub><mo>×</mo><mi>C</mi></mrow></mfrac><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="53">效率问题可以定义为:给定宽度为W,高度为H且像素宽度为Bw的图像帧,选择分区方案利用率最大化,同时满足:((a×M<sub>p</sub>)≥x)∧((b×N<sub>p</sub>)≥y)。</p>
                </div>
                <div class="p1">
                    <p id="54">给定宽度W=320和高度H=240的图像帧,其中每个像素是8位,<i>BRAM</i>可以按所示配置:</p>
                </div>
                <div class="p1">
                    <p id="55" class="code-formula">
                        <mathml id="55"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">C</mi><mi mathvariant="bold-italic">f</mi><mi mathvariant="bold-italic">g</mi><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>1</mn><mn>6</mn><mn>3</mn><mn>8</mn><mn>4</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>8</mn><mn>1</mn><mn>9</mn><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>4</mn><mn>0</mn><mn>9</mn><mn>6</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>2</mn><mn>0</mn><mn>4</mn><mn>8</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mn>1</mn><mn>8</mn><mo>,</mo><mn>1</mn><mn>0</mn><mn>2</mn><mn>7</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mo stretchy="false">(</mo><mn>3</mn><mn>6</mn><mo>,</mo><mn>5</mn><mn>1</mn><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></mrow><mo>)</mo></mrow></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="56">它代表<i>Xilinx Virtex</i> 7系列18<i>K</i>位<i>BRAM</i>的<i>FPGA</i>,其中<i>BRAM</i>总容量C=36×512。使用分区方案:</p>
                </div>
                <div class="area_img" id="57">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJK201911004_05700.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="58">其中,m(320,240,8)=(8,76800)占用64个<i>BRAM</i>(8×8 <i>BRAM</i>配置为宽度1、高度16 384),存储效率E=0.5208333。这是高级综合工具<i>HLS</i>(<i>High Level Synthesis</i>)的默认方法。</p>
                </div>
                <div class="p1">
                    <p id="59">通过分区方案选择配置(M<sub>1</sub>,N<sub>1</sub>)=(1,16384),其中a<sub>1</sub>=Bw,b<sub>1</sub>=(W×H)/N<sub>1</sub>。四舍五入到最接近2的幂,对于任何大小的帧,<i>HLS</i>工具的默认分区方案可以通过以下方式给出:</p>
                </div>
                <div class="area_img" id="60">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJK201911004_06000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="61">其中,<mathml id="124"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>2</mn><msup><mrow></mrow><mrow><mi><mglyph src="KH01.jpg" height="80%" width="80%" /></mi><mi>log</mi><msub><mrow></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mrow><mi>W</mi><mo>×</mo><mi>Η</mi></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mn>1</mn></msub></mrow></mfrac><mo stretchy="false">)</mo><mi><mglyph src="KH02.jpg" height="80%" width="80%" /></mi><mi>log</mi><msub><mrow></mrow><mn>2</mn></msub></mrow></msup></mrow></math></mathml>是2对数运算的向上舍入结果。</p>
                </div>
                <div class="p1">
                    <p id="62">对相同的映射(x=Bw,y=W×H)使用分区方案:</p>
                </div>
                <div class="area_img" id="63">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJK201911004_06300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="64">它在<i>BRAM</i>之间不均匀地划分数据,该方案中<i>BRAM</i>使用个数为40,存储效率E=0.8333333。</p>
                </div>
                <div class="p1">
                    <p id="65">通过计算可知相同映射更好的分区方案是:</p>
                </div>
                <div class="area_img" id="66">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJK201911004_06600.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="67"><i>BRAM</i>的使用个数为38,且效率为<mathml id="125"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mtext>E</mtext><mo>=</mo><mfrac><mrow><mn>8</mn><mo>×</mo><mo stretchy="false">(</mo><mn>3</mn><mn>2</mn><mn>0</mn><mo>×</mo><mn>2</mn><mn>4</mn><mn>0</mn><mo stretchy="false">)</mo></mrow><mrow><mn>2</mn><mo>×</mo><mn>1</mn><mn>9</mn><mo>×</mo><mo stretchy="false">(</mo><mn>3</mn><mn>6</mn><mo>×</mo><mn>5</mn><mn>1</mn><mn>2</mn><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mn>0</mn><mo>.</mo><mn>8</mn><mn>7</mn><mn>7</mn><mn>1</mn><mn>9</mn><mn>2</mn><mn>9</mn></mrow></math></mathml>。显然,分区方案取决于图像帧的尺寸、宽度、高度和位宽。</p>
                </div>
                <h4 class="anchor-tag" id="68" name="68"><b>2.2 功耗</b></h4>
                <div class="p1">
                    <p id="69"><i>BRAM</i>静态功耗与利用率成正比,在前面利用率问题中已经解决。<i>BRAM</i>的动态功耗由一系列操作产生,读取:时钟信号被选通;地址被解码;数据被选通到多路复用器中;读取的数据传递给<i>BRAM</i>外部端口。写入:时钟信号被选通;写使能信号将写数据传送到写缓冲器;地址解码;数据存储在<i>RAM</i>单元中<citation id="131" type="reference"><link href="17" rel="bibliography" /><link href="27" rel="bibliography" /><sup>[<a class="sup">8</a>,<a class="sup">8</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="70">式(8)中呈现的分区,其中每个数据分布在8个<i>BRAM</i>上;式(10)呈现的分区,其中每个数据分布在2个<i>BRAM</i>上。前者每个读/写操作的功耗是后者的4倍。降低动态功耗最直接的是采用最宽的<i>BRAM</i>配置,只需满足<i>Bw</i>可用的倍数<citation id="132" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。但是,与此同时,<i>BRAM</i>的总数会增加,利用率会降低,静态功耗会增加。此外,使用更宽的配置时,地址和芯片所需的使能信号也会增加<citation id="133" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>。因此,系统需要在利用率和功耗之间取得平衡。</p>
                </div>
                <h4 class="anchor-tag" id="71" name="71"><b>2.3 功耗和利用率的平衡</b></h4>
                <div class="p1">
                    <p id="72">首先考虑能够最大限度地提高利用率的算法,如算法1所示。</p>
                </div>
                <h4 class="anchor-tag" id="73" name="73"><b>算法1</b> 优化利用率</h4>
                <div class="p1">
                    <p id="74">1 <i>procedure OPTIMIZED PARTITION</i></p>
                </div>
                <div class="p1">
                    <p id="75">2  <i>efficiency</i> ← 0;</p>
                </div>
                <div class="p1">
                    <p id="76">3  <i>best</i>←0;</p>
                </div>
                <div class="p1">
                    <p id="77">4  for <i>x</i>=1:<i>i</i> do</p>
                </div>
                <div class="p1">
                    <p id="78">5   (<i>M</i><sub><i>x</i></sub>,<i>N</i><sub><i>x</i></sub>)←<i>Cfg</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="79">6  <i>a</i>←<i>Bw</i>/<i>M</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="80">7  <i>b</i>←<i>W</i>×<i>H</i>/<i>N</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="81">8  <i>efficiency</i> ←(<i>W</i>×<i>H</i>×<i>Bw</i>)/(<i>a</i>×<i>b</i>×<i>C</i>);</p>
                </div>
                <div class="p1">
                    <p id="82">9  if <i>efficiency</i> greater than <i>best</i> then</p>
                </div>
                <div class="p1">
                    <p id="83">10  <i>best</i> ← <i>efficiency</i>;</p>
                </div>
                <div class="p1">
                    <p id="84">11  <i>configuration</i> ←(<i>M</i><sub><i>x</i></sub>,<i>N</i><sub><i>x</i></sub>);</p>
                </div>
                <div class="p1">
                    <p id="85">12  end if;</p>
                </div>
                <div class="p1">
                    <p id="86">13  end for</p>
                </div>
                <div class="p1">
                    <p id="87">对于配置中的每个元素设置<i><b>Cfg</b></i>(拥有总共<i>i</i>个元素),以存储宽度为<i>W</i>、高度为<i>H</i>和位宽<i>Bw</i>的帧为例计算该过程所需的BRAM。将这种配置的效率与到目前为止发现的最高效率进行对比。这是一个有限的搜索,因为可能的内存配置数量是有限的。表1展示了由算法1得出的一些具有代表性的配置。</p>
                </div>
                <div class="p1">
                    <p id="88">利用率和功耗之间是非线性的关系,根据经验属性,通过用户定义的权衡(估算BRAM利用率与降低功率的关系)和功率与空间启发式来定义一个过程。算法2中描述了平衡算法。</p>
                </div>
                <h4 class="anchor-tag" id="89" name="89"><b>算法2</b> 功耗与利用率的平衡</h4>
                <div class="p1">
                    <p id="90">1 procedure BALANCED PARTITION</p>
                </div>
                <div class="p1">
                    <p id="91">2  <i>efficiency</i> ← 0;</p>
                </div>
                <div class="p1">
                    <p id="92">3  <i>configuration</i>← <i>get</i>_<i>MxNx</i>(<i>OptimizedPartition</i>());</p>
                </div>
                <div class="p1">
                    <p id="93">4  <i>best</i> ← <i>get</i>_<i>efficiency</i>(<i>OptimizedPartition</i>());</p>
                </div>
                <div class="p1">
                    <p id="94">5  <i>j</i> ← <i>get</i>_<i>index</i>(<i>OptimizedPartition</i>());</p>
                </div>
                <div class="p1">
                    <p id="95">6  for <i>x</i>=<i>j</i>+1:<i>i</i> do</p>
                </div>
                <div class="p1">
                    <p id="96">7   (<i>M</i><sub><i>x</i></sub>,<i>N</i><sub><i>x</i></sub>)←<i>Cfg</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="97">8  <i>a</i>←<i>Bw</i>/<i>M</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="98">9  <i>b</i> ←<i>W</i>×<i>H</i>/<i>N</i><sub><i>x</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="99">10  <i>efficiency</i>←(<i>W</i>×<i>H</i>×<i>Bw</i>)/(<i>a</i>×<i>b</i>×<i>C</i>);</p>
                </div>
                <div class="p1">
                    <p id="100">11  if <i>efficiency</i> less than <i>threshold</i>  then</p>
                </div>
                <div class="p1">
                    <p id="101">12  break;</p>
                </div>
                <div class="p1">
                    <p id="102">13  end if;</p>
                </div>
                <div class="p1">
                    <p id="103">14  <i>configuration</i> ←(<i>M</i><sub><i>x</i></sub>,<i>N</i><sub><i>x</i></sub>);</p>
                </div>
                <div class="p1">
                    <p id="104">15  end for</p>
                </div>
                <div class="p1">
                    <p id="105">算法2首先选择优化利用率的解决方案并迭代更广泛的BRAM配置(在<i>x</i>维度上),计算利用率。只要利用率高于阈值<i>threshold</i>(由用户根据最佳利用率和降低功率之间的经验关系权衡给出),程序就会继续。当它找到低于阈值的第1个解决方案时,退出,返回高于阈值限制的最后1个解决方案。这种方法遵循上1节中描述的功耗模型:随着BRAM水平宽度的增加,功耗降低。算法2得到的BRAM配置如表2所示,与表1的配置相比,大多数配置宽度增加,功率更低。</p>
                </div>
                <div class="area_img" id="108">
                    <p class="img_tit"><b>表1 优化利用率的配置</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Optimized utilization configuration</b></p>
                    <p class="img_note"></p>
                    <table id="108" border="1"><tr><td rowspan="2"><br />Frame</td><td colspan="9"><br />Pixel width</td></tr><tr><td><br />8</td><td>10</td><td>12</td><td>14</td><td>16</td><td>18</td><td>20</td><td>22</td><td>24</td></tr><tr><td><br />160×120</td><td>4×4096</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>4×4096</td></tr><tr><td><br />320×240</td><td>4×4096</td><td>2×8192</td><td>4×4096</td><td>2×8192</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>2×8192</td><td>4×4096</td></tr><tr><td><br />512×512</td><td>4×4096</td><td>2×8192</td><td>4×4096</td><td>2×8192</td><td>4×4096</td><td>18×1024</td><td>4×4096</td><td>2×8192</td><td>1×16384</td></tr><tr><td><br />640×480</td><td>4×4096</td><td>2×8192</td><td>4×4096</td><td>2×8192</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>2×8192</td><td>4×4096</td></tr><tr><td><br />1280×720</td><td>4×4096</td><td>2×8192</td><td>4×4096</td><td>2×8192</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>2×8192</td><td>4×4096</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="109">
                    <p class="img_tit"><b>表2 平衡算法的配置</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 2 Balance algorithm configuration</b></p>
                    <p class="img_note"></p>
                    <table id="109" border="1"><tr><td rowspan="2"><br />Frame</td><td colspan="9"><br />Pixel width</td></tr><tr><td><br />8</td><td>10</td><td>12</td><td>14</td><td>16</td><td>18</td><td>20</td><td>22</td><td>24</td></tr><tr><td><br />160×120</td><td>9×2048</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>9×2048</td></tr><tr><td><br />320×240</td><td>9×2048</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>9×2048</td></tr><tr><td><br />512×512</td><td>9×2048</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>9×2048</td></tr><tr><td><br />640×480</td><td>9×2048</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>9×2048</td></tr><tr><td><br />1280×720</td><td>9×2048</td><td>4×4096</td><td>4×4096</td><td>18×1024</td><td>18×1024</td><td>18×1024</td><td>4×4096</td><td>9×2048</td><td>9×2048</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="106" name="106" class="anchor-tag"><b>3 实验</b></h3>
                <div class="p1">
                    <p id="107">实验使用的硬件为FPGA:Xilinx Virtex 7,软件为Vivado v2016及Vivado HLS v2016.1,使用Xilinx Power Estimator进行功率表征。实验利用分区算法得到的相应配置生成帧缓冲器,得到相应的利用率和功耗,然后将其与HLS工具默认生成的等效帧缓冲区的利用率与功耗进行对比。</p>
                </div>
                <h4 class="anchor-tag" id="111" name="111"><b>3.1 与HLS工具比较</b></h4>
                <div class="p1">
                    <p id="112">实验使用Xilinx功耗估算器对每个系统进行功耗测算。在滑动窗口实验中,通过3×3滑动窗口读取完整的框架。图3描述了3种方案滑动窗口测试的BRAM功耗;图4描述了滑动窗口测试情况下的总功耗。</p>
                </div>
                <div class="area_img" id="113">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911004_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 滑动窗口测试BRAM功耗比较" src="Detail/GetImg?filename=images/JSJK201911004_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 滑动窗口测试BRAM功耗比较  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911004_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 3 Comparison of BRAM power consumption for sliding window test</p>

                </div>
                <div class="area_img" id="114">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 滑动窗口测试动态功耗比较" src="Detail/GetImg?filename=images/JSJK201911004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 滑动窗口测试动态功耗比较  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911004_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 4 Comparison of dynamic power consumption for sliding window test</p>

                </div>
                <div class="p1">
                    <p id="115">从图3和图4可以看出,平衡算法相对只优化利用率算法BRAM功耗平均降低45%,动态功耗平均降低12%;平衡算法相对HLS工具BRAM功耗平均降低95%,动态功耗平均降低74%。实验结果表明,尽管分区算法会导致额外的逻辑开销,但内存分区能够显著降低功耗。</p>
                </div>
                <h4 class="anchor-tag" id="116" name="116"><b>3.2 高级图像处理</b></h4>
                <div class="p1">
                    <p id="117">MeanShift目标跟踪算法是根据前一图像上对象的颜色直方图计算图像上对象位置的置信度图,对于位置已知并且在第<i>k</i>帧中计算颜色直方图的对象,MeanShift算法基于颜色直方图比较,从而确定第<i>k</i>+1帧中最可能的对象位置<citation id="134" type="reference"><link href="23" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="118">MeanShift跟踪算法在Zedboard上的Zynq 7020芯片上实现,连接到外部摄像头OV7670。处理后的数据(图像和跟踪对象位置)被发送到板载ARM处理器。图像尺寸为320×240,其中每个像素为24位(RGB),目标区域大小为<i>M</i>=16,<i>N</i>=21。各个版本的功耗如图5所示,平衡算法略优于优化利用率算法,总功耗分别为0.251 W和0.252 W,远低于HLS工具的0.356 W,总功耗降低约30%。具体差异表现在动态功耗特别是BRAM功耗上,BRAM功率占总功耗的34.55%,动态功耗的53.94%,BRAM功耗由0.123 W降为0.018 W,下降了85%。</p>
                </div>
                <div class="area_img" id="119">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJK201911004_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 MeanShift算法功耗比较" src="Detail/GetImg?filename=images/JSJK201911004_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 MeanShift算法功耗比较  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJK201911004_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Figure 5 Comparison of power consumption of MeanShift algorithm</p>

                </div>
                <div class="p1">
                    <p id="120">资源使用情况如表3所示,HLS所使用的BRAM个数约为分区算法的1.5倍,分区算法大大提升了BRAM的利用率。算法性能FPS(Frames Per Second),即每秒帧数不受分区方法的影响。</p>
                </div>
                <div class="area_img" id="121">
                    <p class="img_tit"><b>表3 资源使用和性能</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 3 Useage and performance of resources</b></p>
                    <p class="img_note"></p>
                    <table id="121" border="1"><tr><td><br /></td><td>HLS</td><td>Optimized</td><td>Balanced</td></tr><tr><td><br />FFS</td><td>6 264(5%)</td><td>6 264(5%)</td><td>6 264(5%)</td></tr><tr><td><br />LUTs</td><td>9 197(17%)</td><td>9 130(17.5%)</td><td>9 477(17.9%)</td></tr><tr><td><br />IOs</td><td>64(32%)</td><td>64(32%)</td><td>64(32%)</td></tr><tr><td><br />BRAM</td><td>228(81%)</td><td>150(54%)</td><td>150(54%)</td></tr><tr><td><br />DSPs</td><td>8(3%)</td><td>8(3%)</td><td>8(3%)</td></tr><tr><td><br />性能FPS</td><td>134</td><td>134</td><td>134</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="122" name="122" class="anchor-tag"><b>4 结束语</b></h3>
                <div class="p1">
                    <p id="123">本文基于FPGA平台上高级图像处理应用对低功率和空间的需求,提出一种FPGA存储器优化分配算法。本文建立了BRAM配置和存储器功率模型,展示了分区算法相对传统策略的优越性。实验结果表明,该算法可以提高约60%的利用率,增加芯片上容纳图像的尺寸和数量,并且减少帧缓冲动态功耗高达70%。在MeanShift Tracking的实验中,数据显示分区算法可以分别降低总功率高达30%,且不会降低性能。本文提出的算法可用于任意FPGA系列,并可根据未来FPGA平台的需要轻松扩展,有着广泛的应用前景。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
                        <h3 class="anchor-tag">作者图片</h3>
                <div class="anchor-wrap">
                        <p>
                                    <div class="anchor-box">
                                        <span class="anchor-a"><image id="139" type="formula" href="images/JSJK201911004_13900.jpg" display="inline" placement="inline"><alt></alt></image></span>
                                        <span class="anchor-a">陈凯峰</span>
                                    </div>
                                    <div class="anchor-box">
                                        <span class="anchor-a"><image id="140" type="formula" href="images/JSJK201911004_14000.jpg" display="inline" placement="inline"><alt></alt></image></span>
                                        <span class="anchor-a">梁鉴如</span>
                                    </div>
                        </p>
                </div>


        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES15122300606282&amp;v=MTE5NDBlcnFRVE1ud1plWnVIeWptVUxmSUoxd1JhaFE9TmlmT2ZiSzlIOVBPckk5Rll1c0pEblE3b0JNVDZUNFBRSC9pclJkRw==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> Mondal P,Biswal P K,Banerjee S.FPGA based accelerated 3D affine transform for real-time image processing applications[J].Computers &amp; Electrical Engeering,2016,49:69-83.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" >
                                    <b>[2]</b>
                                 Yuan Xiao-jun,Zhang Liang.Application research on BRAM in XILINX FPGA[J].Aeronautical Computing Technique,2018,48(5):122-125.(in Chinese)
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=FPGA Design and Implementation of a Real-Time Stereo Vision System">

                                <b>[3]</b> Jin S,Cho J,Pham X D.FPGA design and implementation of a real-time stereo vision system[J].IEEE Transactions on Circuits and Systems for Video Technology,2010,20(1):15-26.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Design of real-time FPGA-based embedded system for stereo vision">

                                <b>[4]</b> Perri S,Frustaci F,Spagnolo F.Design of real-time FPGA-based embedded system for stereo vision[C]//Proc of the 2018 IEEE International Symposium on Circuits and Systems(ISCAS),2018:1-5.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Area implications of memory partitioning for high-level synthesis on FPGAs">

                                <b>[5]</b> Gallo L,Cilardo A,Thomas D,et al.Area implications of memory partitioning for high-level synthesis on FPGAs[C]//Proc of the 2014 24th International Conference on Field Programmable Logic and Applications(FPL),2014:1-4.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Memory partitioning for multidimensional arrays in high-level synthesis">

                                <b>[6]</b> Wang Y,Li P,Zhang P.Memory partitioning for multidimensional arrays in high-level synthesis[C]//Proc of the 50th Annual Design Automation Conference,2013:Article No.12.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCMD6448EF89B2B83222C2992CC516EF89D&amp;v=MzIwMjRHdFhFMnZsTmJaa05mblE2elJRUm1UMTBRWDJSM3hjMGY4ZmlUYlByQ09OdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQ3BiUTM1TkJodzdxNndLND1OaWZJWThlKw==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> Kadric E,Lakata D,Dehon A.Impact of parallelism and memory architecture on FPGA communication energy[J].ACM Transactions on Reconfigurable Technology Systems,2016,9(4):Article No.30.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJY201809011&amp;v=MjkzNDNCZDdHNEg5bk1wbzlFWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVJtRnkvblZyL09JVGY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> Luo Jun,Fan Jian-feng,Lu Hong-feng,et al.Functional verification and implementation of block random access memory based on FPGA [J].Application of Electronic Technique,2018,44(9):44-47.(in Chinese)
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Different configuration of low-power memory design using capacitance scaling on 28-nm field-programmable gate array">

                                <b>[9]</b> Kaur I,Rohilla L,Nagpal A.Different configuration of low-power memory design using capacitance scaling on 28-nm field-programmable gate array[M]//System and Architecture.New York:Springer,2018:151-161.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Interplay of loop unrolling and multidimensional memory partitioning in HLS">

                                <b>[10]</b> Cilardo A,Gallo L.Interplay of loop unrolling and multidimensional memory partitioning in HLS[C]//Proc of the 2015 Design,Automation &amp; Test in Europe Conference &amp; Exhibition(DATE ’15),2015:163-168.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" >
                                    <b>[11]</b>
                                 Ning J,Zhang L,Zhang D.Robust mean-shift tracking with corrected background-weighted histogram[J].IET Computer Vision,2012,6(1):62-69.附中文参考文献:
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HKJJ201805032&amp;v=MDA0NjllUm1GeS9uVnIvT0xTYkJaTEc0SDluTXFvOUdab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVo=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 袁晓军,张亮.XILINX FPGA内部BRAM资源的应用研究[J].航空计算技术,2018,48(5):122-125.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_8" >
                                    <b>[8]</b>
                                 罗军,范剑峰,吕宏峰,等.基于FPGA的块存储器资源功能验证及实现[J].电子技术应用,2018,44(9):44-47.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJK201911004" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJK201911004&amp;v=MDYzOTR6cXFCdEdGckNVUkxPZVplUm1GeS9uVnIvT0x6N0JaYkc0SDlqTnJvOUZZSVFLREg4NHZSNFQ2ajU0TzM=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQ3cmEvcXIxT0wrTHhvaVdCNFNyZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
