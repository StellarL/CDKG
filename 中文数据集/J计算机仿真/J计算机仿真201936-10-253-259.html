<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=NOOK-mvTMnxl11s6oPYV0boPXN3iP4N7Rc-A56nk4KI1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2fKXReader%2fDetail%3fTIMESTAMP%3d637139248166537500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJZ201910053%26RESULT%3d1%26SIGN%3dFtKGIRGoBXvKwpDF4JUvFRouHBM%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201910053&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201910053&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201910053&amp;v=MjY2ODU3cWZadVpwRnkvbVZMdlBMejdCZExHNEg5ak5yNDlBWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#29" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#33" data-title="&lt;b&gt;2 相关介绍&lt;/b&gt; "><b>2 相关介绍</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#34" data-title="&lt;b&gt;2.1 圈复杂度的计算方法&lt;/b&gt;"><b>2.1 圈复杂度的计算方法</b></a></li>
                                                <li><a href="#46" data-title="&lt;b&gt;2.2 Python抽象语法树&lt;/b&gt;"><b>2.2 Python抽象语法树</b></a></li>
                                                <li><a href="#52" data-title="&lt;b&gt;2.3 Python字节码&lt;/b&gt;"><b>2.3 Python字节码</b></a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;2.4 代码度量工具&lt;/b&gt;"><b>2.4 代码度量工具</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#75" data-title="&lt;b&gt;3 Python控制流&lt;/b&gt; "><b>3 Python控制流</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#76" data-title="&lt;b&gt;3.1 if控制流&lt;/b&gt;"><b>3.1 if控制流</b></a></li>
                                                <li><a href="#95" data-title="&lt;b&gt;3.2 for控制流&lt;/b&gt;"><b>3.2 for控制流</b></a></li>
                                                <li><a href="#105" data-title="&lt;b&gt;3.3 while控制流&lt;/b&gt;"><b>3.3 while控制流</b></a></li>
                                                <li><a href="#115" data-title="&lt;b&gt;3.4 异常控制流&lt;/b&gt;"><b>3.4 异常控制流</b></a></li>
                                                <li><a href="#127" data-title="&lt;b&gt;3.5 控制流信息提取算法&lt;/b&gt;"><b>3.5 控制流信息提取算法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#172" data-title="&lt;b&gt;4 实验与测评&lt;/b&gt; "><b>4 实验与测评</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#173" data-title="&lt;b&gt;4.1 实验环境&lt;/b&gt;"><b>4.1 实验环境</b></a></li>
                                                <li><a href="#175" data-title="&lt;b&gt;4.2 测试用例&lt;/b&gt;"><b>4.2 测试用例</b></a></li>
                                                <li><a href="#180" data-title="&lt;b&gt;4.3 实验结果与分析&lt;/b&gt;"><b>4.3 实验结果与分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#187" data-title="&lt;b&gt;5 结束语&lt;/b&gt; "><b>5 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#38" data-title="&lt;b&gt;图1 控制流图a&lt;/b&gt;"><b>图1 控制流图a</b></a></li>
                                                <li><a href="#42" data-title="&lt;b&gt;图2 控制流图b&lt;/b&gt;"><b>图2 控制流图b</b></a></li>
                                                <li><a href="#48" data-title="&lt;b&gt;图3 Add函数抽象语法树文本&lt;/b&gt;"><b>图3 Add函数抽象语法树文本</b></a></li>
                                                <li><a href="#51" data-title="&lt;b&gt;图4 抽象语法树图&lt;/b&gt;"><b>图4 抽象语法树图</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;图5 test函数的字节码&lt;/b&gt;"><b>图5 test函数的字节码</b></a></li>
                                                <li><a href="#87" data-title="&lt;b&gt;图6 Python-if条件控制代码片段的字节码&lt;/b&gt;"><b>图6 Python-if条件控制代码片段的字节码</b></a></li>
                                                <li><a href="#102" data-title="&lt;b&gt;图7 Python-for循环控制代码片段的字节码&lt;/b&gt;"><b>图7 Python-for循环控制代码片段的字节码</b></a></li>
                                                <li><a href="#113" data-title="&lt;b&gt;图8 Python-while循环控制代码片段的字节码&lt;/b&gt;"><b>图8 Python-while循环控制代码片段的字节码</b></a></li>
                                                <li><a href="#125" data-title="&lt;b&gt;图9 Python异常控制代码片段的字节码&lt;/b&gt;"><b>图9 Python异常控制代码片段的字节码</b></a></li>
                                                <li><a href="#166" data-title="&lt;b&gt;图10 test_if函数的控制流信息&lt;/b&gt;"><b>图10 test_if函数的控制流信息</b></a></li>
                                                <li><a href="#168" data-title="&lt;b&gt;图11 test_if函数对应的控制流图&lt;/b&gt;"><b>图11 test_if函数对应的控制流图</b></a></li>
                                                <li><a href="#171" data-title="&lt;b&gt;表1 影响判定节点的结构&lt;/b&gt;"><b>表1 影响判定节点的结构</b></a></li>
                                                <li><a href="#182" data-title="&lt;b&gt;表2 排序算法实验结果&lt;/b&gt;"><b>表2 排序算法实验结果</b></a></li>
                                                <li><a href="#183" data-title="&lt;b&gt;表3 搜索算法实验结果&lt;/b&gt;"><b>表3 搜索算法实验结果</b></a></li>
                                                <li><a href="#185" data-title="&lt;b&gt;表4 与PyAst工具的不同点&lt;/b&gt;"><b>表4 与PyAst工具的不同点</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" T J Mccabe.A Complexity Measure[J].IEEE Press,1976,SE-2(4):308-320." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Complexity Measure">
                                        <b>[1]</b>
                                         T J Mccabe.A Complexity Measure[J].IEEE Press,1976,SE-2(4):308-320.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 郭溪溪,陈小林,王博,等.静态背景下运动目标边缘提取[J].现代电子技术,2017,40(13):70-73+77." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201713017&amp;v=MjUxMTA1NE8zenFxQnRHRnJDVVI3cWZadVpwRnkvbVZMdlBQU25QWkxHNEg5Yk5ySTlFWTRRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         郭溪溪,陈小林,王博,等.静态背景下运动目标边缘提取[J].现代电子技术,2017,40(13):70-73+77.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" C Ebert,J Cain.Cyclomatic Complexity[J].IEEE Software,2016,33(6):27-29." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SPQD&amp;filename=SPQDB70B03FCB6AF29B2CB0BEB79FAA4FF2B&amp;v=Mjc5MTZDTGJpTTdqdENPTnZGU2lXV3I3SklGcG1hQnVIWWZPR1FsZkJyTFUwNXQ5aHc3dTR4Szg9TmozYWFzRy9IcVBNclBrMkZ1MStlbjR3dlJSZ21EOFBQUTNscFdSRQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         C Ebert,J Cain.Cyclomatic Complexity[J].IEEE Software,2016,33(6):27-29.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 荣志文,李嘉,蔡立志.基于圈复杂度的软件测试方法研究[J].软件产业与工程,2012,13(1):45-48." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=RJGC201201024&amp;v=MzEyNjF5Zk1iYkc0SDlQTXJvOUhZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnBGeS9tVkx2UE4=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         荣志文,李嘉,蔡立志.基于圈复杂度的软件测试方法研究[J].软件产业与工程,2012,13(1):45-48.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 陈梦云,高建华.基于圈复杂度的静态测试用例排序方法[J].计算机应用与软件,2016,33(1):1-3." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201601002&amp;v=MTcwODhadVpwRnkvbVZMdlBMelRaWkxHNEg5Zk1ybzlGWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         陈梦云,高建华.基于圈复杂度的静态测试用例排序方法[J].计算机应用与软件,2016,33(1):1-3.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" >
                                        <b>[6]</b>
                                     校景中,肖丽.基于McCabe圈复杂度的算法研究[J].计算机科学,2011,38(7):93,110.</a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" >
                                        <b>[7]</b>
                                     王勤,吴龙树.McCabe度量法的分析与研究[J].计算机科学,2010,12(37):90-91.</a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 李清言.Pyreview:一个基于抽象语法树差异提取的Python源代码分析工具[D].南京大学,2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016123542.nh&amp;v=Mjc3MTJGeS9tVkx2UFZGMjZHTEs2SGRUSXJaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnA=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         李清言.Pyreview:一个基于抽象语法树差异提取的Python源代码分析工具[D].南京大学,2016.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 秦虎.基于语法树结构优化和控制流图比对的软件同源性检测技术研究[D].北京邮电大学,2011." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011121742.nh&amp;v=MTE0NDhadVpwRnkvbVZMdlBWRjI2SDdLNkg5YklyWkViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         秦虎.基于语法树结构优化和控制流图比对的软件同源性检测技术研究[D].北京邮电大学,2011.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" J Ellson,E Gansner.Graphviz—Open Source Graph Drawing Tools[J].Lecture Notes in Computer Science,2002,2265:483-484." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Graphviz – open source graph drawing tools">
                                        <b>[10]</b>
                                         J Ellson,E Gansner.Graphviz—Open Source Graph Drawing Tools[J].Lecture Notes in Computer Science,2002,2265:483-484.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" 周希.基于静态分析的程序控制流图生成工具的设计与实现[D].中山大学,2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013025632.nh&amp;v=MDc4OTVxcUJ0R0ZyQ1VSN3FmWnVacEZ5L21WTHZQVkYyNkhiTzZHOWZQclpFYlBJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                         周希.基于静态分析的程序控制流图生成工具的设计与实现[D].中山大学,2013.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" 王小强.基于操作码的Python程序防逆转算法研究与实现[D].中国科学技术大学,2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017073480.nh&amp;v=MTE5MjJDVVI3cWZadVpwRnkvbVZMdlBWRjI2R2JPL0hkWEVyNUViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         王小强.基于操作码的Python程序防逆转算法研究与实现[D].中国科学技术大学,2017.
                                    </a>
                                </li>
                                <li id="27">


                                    <a id="bibliography_13" >
                                        <b>[13]</b>
                                     范浩杰.面向Python程序源代码的分析与编译优化研究[D].北京信息科技大学,2015.</a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJZ" target="_blank">计算机仿真</a>
                2019,36(10),253-259             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>面向Python的圈复杂度静态分析方法研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%A7%A6%E6%8C%AF%E5%8D%8E&amp;code=40666269&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">秦振华</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%89%9F%E6%B0%B8%E6%95%8F&amp;code=16459773&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">牟永敏</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%BF%97%E5%8D%8E&amp;code=22065611&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张志华</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8C%97%E4%BA%AC%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E9%99%A2&amp;code=0251832&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">北京信息科技大学计算机学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>圈复杂度是度量软件复杂程度的主要指标,在软件测试以及维护上有着重要的作用。随着Python语言在各领域的应用越来越普遍,Python程序的复杂度逐渐成为开发者所关注的问题。根据Python语言的抽象语法树,结合Python程序的字节码,通过设计相应的算法提取控制流信息,来实现程序圈复杂度的自动化计算,上述方法不需要借助于控制流图。实验结果表明,上述方法有效可靠,可以准确地计算出程序的圈复杂度。特别是在程序的设计与开发阶段,关注代码的复杂度,可以有效提高软件质量、降低维护成本。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%9C%88%E5%A4%8D%E6%9D%82%E5%BA%A6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">圈复杂度;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">抽象语法树;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%AD%97%E8%8A%82%E7%A0%81&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">字节码;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    秦振华(1992-),男(汉族),河南省安阳人,硕士研究生,主要研究领域为软件理论与应用。;
                                </span>
                                <span>
                                    牟永敏(1961-),男(汉族),山东省烟台人,博士,教授,硕士研究生导师,主要研究领域为自动化软件测试、软件理论与应用。;
                                </span>
                                <span>
                                    张志华(1971-),女(汉族),黑龙江省宝清人,硕士,副教授,主要研究领域为软件测试、面向对象分析与设计。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-06-15</p>

                    <p>

                            <b>基金：</b>
                                                        <span>北京市自然科学基金资助项目(Z160002);</span>
                                <span>网络文化与数字传播北京市重点实验室开放课题资助(ICDD2017XX);</span>
                                <span>研究生教育(71D1811013);</span>
                    </p>
            </div>
                    <h1><b>Research on Cyclomatic Complexity Static Analysis Method for Python</b></h1>
                    <h2>
                    <span>QIN Zhen-hua</span>
                    <span>MU Yong-min</span>
                    <span>ZHANG Zhi-hua</span>
            </h2>
                    <h2>
                    <span>School of Computer, Beijing Information Science and Technology University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Cyclomatic-complexity is the main measure of software complexity, and plays an important role in software testing and maintenance. With the increasing popularity of Python language in various fields, the complexity of Python programs has gradually become a concern for developers. Based on the abstract syntax tree of Python language and the byte code of Python program, this paper designed the corresponding algorithm to extract the control flow information to realize the automatic computation of the cyclomatic-complexity of the program. This method does not need to rely on the control flow graph. Experimental results show that this method is effective and reliable, and can accurately calculate the cyclomatic-complexity of the program. Especially in the design and development phase of the program, focusing on the complexity of the code can effectively improve software quality and reduce maintenance costs.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Cyclomatic-complexity&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Cyclomatic-complexity;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Abstract%20syntax%20tree&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Abstract syntax tree;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Byte%20code&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Byte code;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-06-15</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="29" name="29" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="30">代码的复杂度是代码规模的一个度量,也是软件工程的一个重要研究课题。这里所说的复杂度有别于一般意义上的复杂度,它并不是程序运行所需时间和空间的度量。时间和空间上的度量更多的是针对相关代码的算法,它并不关心真正的代码正文的结构。代码的结构对代码执行速度、效率等影响还是很大的。本文所讨论的复杂度恰恰是针对代码结构的,从代码正文的角度来分析代码结构,度量代码的复杂程度,从而为软件工程特别是软件测试提供了一个很好的度量准则。</p>
                </div>
                <div class="p1">
                    <p id="31">圈复杂度被认为是一种比较常用、比较科学的代码复杂度的衡量方法,可以衡量一个代码片段的条件判定结构的复杂度<citation id="189" type="reference"><link href="3" rel="bibliography" /><link href="5" rel="bibliography" /><link href="7" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>,<a class="sup">3</a>]</sup></citation>。度量的原则是数量上表现为独立路径条数,即合理的预防错误所需测试的最少路径条数,这是为确保所有语句至少执行一次而必须进行测试的数量的上界,也可理解为覆盖所有的可能情况最少使用的测试用例数<citation id="190" type="reference"><link href="9" rel="bibliography" /><link href="11" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">5</a>]</sup></citation>。当一个代码片段的圈复杂度度量较大时,可以说明该代码片段的编码质量不高,在后期的开发与测试工作中难以进行维护与测试。</p>
                </div>
                <div class="p1">
                    <p id="32">虽然现在已有圈复杂度计算工具,如SourceMonitor,但是其不支持Python语言,Pygenie、PyMetrics等基于Python的圈复杂度计算工具的正确性不高导致很少有人使用,对其评价很少。本文提出一种新的解决方案,根据Python的抽象语法树和字节码,通过提取控制流信息来计算程序的圈复杂度,免去了工具的下载和安装,且正确性得到了大大提高。此方法稍加修改还可以运用在其它语言的圈复杂度计算上。</p>
                </div>
                <h3 id="33" name="33" class="anchor-tag"><b>2 相关介绍</b></h3>
                <h4 class="anchor-tag" id="34" name="34"><b>2.1 圈复杂度的计算方法</b></h4>
                <div class="p1">
                    <p id="35">计算圈复杂度时,可以根据分析代码得出控制流图,然后通过分析控制流图得到圈复杂度。主要的计算公式有三个<citation id="191" type="reference"><link href="13" rel="bibliography" /><link href="15" rel="bibliography" /><sup>[<a class="sup">6</a>,<a class="sup">7</a>]</sup></citation>,分别如下</p>
                </div>
                <div class="p1">
                    <p id="36" class="code-formula">
                        <mathml id="36"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo>-</mo><mi>Ν</mi><mo>+</mo><mn>2</mn><mi>Ρ</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="37">其中,<i>V</i>(<i>G</i>)表示圈复杂度,<i>E</i>表示控制流图中边的数量,<i>N</i>表示控制流图中节点的数量,<i>P</i>表示控制流图中相连接的部分,因为控制流图是连通的,所以在此<i>P</i>为1。</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 控制流图a" src="Detail/GetImg?filename=images/JSJZ201910053_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 控制流图a</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="39">以图1中的控制流图<i>a</i>为例,带入式(1)计算:<i>V</i>(<i>G</i>)=<i>E</i>-<i>N</i>+2<i>P</i>=9-7+2=4。得到此控制流图的圈复杂度为4。</p>
                </div>
                <div class="p1">
                    <p id="40" class="code-formula">
                        <mathml id="40"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo>-</mo><mi>Ν</mi><mo>+</mo><mi>Ρ</mi><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="41">式(2)与式(1)的区别在于控制流图中,各出口节点是否有连接相应入口节点的边存在,也即控制流图是否构成强连通图。所谓强连通图是指从图中任一节点出发都能到达所有其它节点图。如图2中的控制流图<i>b</i>所示。</p>
                </div>
                <div class="area_img" id="42">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 控制流图b" src="Detail/GetImg?filename=images/JSJZ201910053_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 控制流图b</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_042.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="43">对于图2中的控制流图<i>b</i>,带入式(2)计算:<i>V</i>(<i>G</i>)=<i>E</i>-<i>N</i>+<i>P</i>=10-7+1=4。得到此控制流图的圈复杂度为4。</p>
                </div>
                <div class="p1">
                    <p id="44" class="code-formula">
                        <mathml id="44"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ρ</mi><mo>+</mo><mn>1</mn><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="45"><i>P</i>表示判定节点数。判定节点,即从每一个这种节点发出两条或多条出边。这个公式最简单,最易用于计算圈复杂度,只需找出判定节点即可。本文圈复杂度计算的算法也基于此公式。</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46"><b>2.2 Python抽象语法树</b></h4>
                <div class="p1">
                    <p id="47"><i><b>Python</b></i>有内置模块<i><b>ast</b></i>,可以将<i><b>Python</b></i>程序源代码转换成抽象语法树<citation id="192" type="reference"><link href="17" rel="bibliography" /><link href="19" rel="bibliography" /><sup>[<a class="sup">8</a>,<a class="sup">9</a>]</sup><sup><b>8-9</b></sup><sup>]</sup></citation>。以一个简单的程序为例,写一个叫做 <i><b>Add</b></i> 的函数,实现两个数的相加,然后观察它所生成的<i><b>AST</b></i>文本,如图<b>3</b>所示。</p>
                </div>
                <div class="area_img" id="48">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 Add函数抽象语法树文本" src="Detail/GetImg?filename=images/JSJZ201910053_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 Add函数抽象语法树文本</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_048.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="49">可以看出,通过使用<i>ast</i>模块,得到抽象语法树对象<i>expr</i>_<i>ast</i>,通过调用<i>ast</i>.<i>dump</i>()方法来查看<i>expr</i>_<i>ast</i>的具体内容。从图<b>3</b>中可以看到抽象语法树对象<i>expr</i>_<i>ast</i>内部结构,它详细记录了<i>Add</i>函数的实现过程。父结点<i>Module</i>,表示代码整体,它的<i>body</i>中包含了一个函数定义的元素(<i>FunctionDef</i>),这个函数定义包含了函数名(<i>name</i>)、参数列表(<i>args</i>)和函数体(<i>body</i>)。函数体又包含了一个单独的<i>Return</i>节点,节点中含有一个<i>Add</i>运算。</p>
                </div>
                <div class="p1">
                    <p id="50">结合<i>Graphviz</i><citation id="193" type="reference"><link href="21" rel="bibliography" /><link href="23" rel="bibliography" /><sup>[<a class="sup">10</a>,<a class="sup">11</a>]</sup><sup><b>10-11</b></sup><sup>]</sup></citation>可以将图<b>3</b>的抽象语法树文本转化为可视化的图形,如图<b>4</b>所示。</p>
                </div>
                <div class="area_img" id="51">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 抽象语法树图" src="Detail/GetImg?filename=images/JSJZ201910053_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 抽象语法树图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_051.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="52" name="52"><b>2.3 Python字节码</b></h4>
                <div class="p1">
                    <p id="53"><b>Python</b>代码在运行时,将写的源码转换成字节码,再由<b>Python</b>解释器来执行字节码,而字节码就是一个<b>PyCodeObject</b>对象。该对象可以在<b>Python</b>源码目录下的/<b>include/code.h</b>文件中查看<citation id="194" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup><sup><b>12</b></sup><sup>]</sup></citation>。该对象有如下几个比较重要的属性:</p>
                </div>
                <div class="p1">
                    <p id="54"><b>1)、co_argcount</b>,代码块的参数计数。</p>
                </div>
                <div class="p1">
                    <p id="55"><b>2)、co_nlocals</b>,代码块的局部变量计数,包括所有参数和局部变量。</p>
                </div>
                <div class="p1">
                    <p id="56"><b>3)、co_stacksize</b>,运行代码块需要的栈空间。</p>
                </div>
                <div class="p1">
                    <p id="57"><b>4)、co_consts</b>,存放了代码块中所有的常量。</p>
                </div>
                <div class="p1">
                    <p id="58"><b>5)、co_names</b>,存放了代码块中所有的变量。</p>
                </div>
                <div class="p1">
                    <p id="59"><b>6)、co_code</b>中存储了操作码(<b>opcode</b>)序列,编译好的操作码以二进制的方式进行存储,<b>co_code=[(opcode)[args{0,1</b>}]+的形式,其中<b>opcode</b>占用一个字节,编号<b>90</b>以下的操作码不需要参数,<b>90</b>及以上的操作码需要两个字节的<b>args</b>,操作码定义参考<b>Python</b>源码目录下的/<b>include/opcode.h</b>文件。对于如下代码:</p>
                </div>
                <div class="area_img" id="200">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="65">可以通过<b>test.__code__.co__code</b>命令,得到<b>16</b>进制的字节码指令序列′<b>6401007d00006402007d01007c00007 c0100177d02007c020053</b>′。</p>
                </div>
                <div class="p1">
                    <p id="66">对于<b>16</b>进制表示的<b>co_code</b>序列,第一个字节是<b>0x64=100</b>,是<b>LOAD_CONST</b>的操作码,由于<b>LOAD_CONST</b>含有参数,后两个字节表示了<b>LOAD_CONST</b>的参数<b>0100</b>,由于使用大端模式的编码方式,因此<b>0100</b>就是<b>1</b>,而<b>co_consts[1</b>] 中存储的就是<b>3</b>。再往后一个字节是<b>0x7d=125</b>,指的是<b>STORE_FAST</b>的操作码,同样<b>STORE_FAST</b>后面需要一个参数(<b>0000=0</b>),即将栈顶值赋值给<b>co_names</b>存储的第<b>0</b>个元素(即<b>x</b>),至此完成了<b>x=3</b>指令的处理。同理,后面<b>6402007d0100</b>即完成了<b>y=4</b>的操作。完成两个赋值操作之后,紧接着是<b>7c00007c0100,7c</b>对应的操作码是<b>LOAD_FAST,0000</b>和<b>0100</b>分别是<b>LOAD_FAST</b>的参数,即从<b>co_names</b>中读取相应的两个元素并压入栈中。然后是指令<b>0x17=23</b>,表示操作码<b>BINARY_ADD</b>,由于<b>23&lt;90</b>,因此<b>BINARY_ADD</b>不需要参数,该指令直接将栈顶的两个元素出栈,进行相加,并将结果入栈。接着是指令<b>0x7d</b>,即<b>STORE_FAST</b>,后面的参数为<b>0200</b>,对应<b>co_names[2</b>]表示的变量<b>z</b>,至此完成对<b>z</b>的赋值。接着是<b>0x7c0200</b>,根据前面的内容可以知道是将<b>co_names[2</b>]压入栈中。最后<b>0x53=83</b>是<b>RETURN_VALUE</b>的操作码,由于小于<b>90</b>,因此也不需要参数,<b>RETURN_VALUE</b>只是将栈顶元素弹出,然后标记函数返回。</p>
                </div>
                <div class="p1">
                    <p id="67">可以借助<b>dis</b>模块的<b>dis</b>方法直接获得可读的字节码:如图<b>5</b>所示。</p>
                </div>
                <div class="area_img" id="68">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 test函数的字节码" src="Detail/GetImg?filename=images/JSJZ201910053_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 test函数的字节码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="69">以第一条指令为例, 第一列的数字(<b>3</b>)表示对应源代码的行数;第二列的数字是字节码的索引号;第三列是指令的操作码;第四列表示指令的参数;第五列则是计算后的实际参数。</p>
                </div>
                <h4 class="anchor-tag" id="70" name="70"><b>2.4 代码度量工具</b></h4>
                <div class="p1">
                    <p id="71">圈复杂度是代码复杂度的一个指示器,可以利用一些著名的开放源码工具来计算圈复杂度。比如针对<b>Java</b>程序的<b>PMD,CheckStyle</b>和<b>JavaNCSS</b>工具,针对<b>C</b>程序的<b>OCLint,Testwell CMT++,Understand,SourceMonitor</b>等工具。面向<b>Python</b>语言,也有很多圈复杂度的度量工具,比如<b>PyMetrics</b>和<b>Pygenie。</b></p>
                </div>
                <div class="p1">
                    <p id="72"><b>PyMetrics</b>为<b>Python</b>程序生成度量标准。度量值包括:<b>McCabe</b>圈复杂度,块数量,最大块深度,字符数量,函数数量,关键字数量,代码行数,百行代码注释数量等。用户还可以自定义度量指标。 <b>PyMetrics</b>可以将结果选择输出到终端,<b>SQL</b>命令文件或者<b>CSV</b>文件。</p>
                </div>
                <div class="p1">
                    <p id="73"><b>Pygenie</b>是一款测试<b>Python</b>代码圈复杂度的工具,配合着单元测试,很容易控制代码的覆盖率。最重要的功能是,可以简化代码,优化代码结构。</p>
                </div>
                <div class="p1">
                    <p id="74">在本文的实验部分,将借助于上述两种工具和本文提出的方法进行比较。</p>
                </div>
                <h3 id="75" name="75" class="anchor-tag"><b>3 Python控制流</b></h3>
                <h4 class="anchor-tag" id="76" name="76"><b>3.1 if控制流</b></h4>
                <div class="p1">
                    <p id="77">在任何编程语言中,<b>if</b>都是最简单最常用的流程控制语句。下面通过一段代码来分析<b>Python</b>对<b>if</b>控制语句的实现。</p>
                </div>
                <div class="area_img" id="201">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="201">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20101.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="86">得到<b>test_if</b>函数中代码对应的字节码如图<b>6</b>所示。</p>
                </div>
                <div class="area_img" id="87">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 Python-if条件控制代码片段的字节码" src="Detail/GetImg?filename=images/JSJZ201910053_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图6 Python-if条件控制代码片段的字节码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="88">如图<b>6</b>所示,与其它编程语言相同,<b>Python</b>中也是通过一个判断来控制程序的流程。在<b>if</b>语句之后,根据判断结果的不同,程序将选择不同的分支。下面对照字节码序列详细说明<b>Python</b>的条件分支。</p>
                </div>
                <div class="p1">
                    <p id="89"><b>Python</b>代码“<b>if x &gt; 1</b>”,翻译为字节码序列如下:</p>
                </div>
                <div class="p1">
                    <p id="90">“<b>LOAD_FAST</b>”从本地命名空间中获得变量名<b>x</b>所对应的变量值。</p>
                </div>
                <div class="p1">
                    <p id="91">“<b>LOAD_CONST</b>”从常量表中获取参与分支判断操作的常量对象。</p>
                </div>
                <div class="p1">
                    <p id="92">“<b>COMPARE_OP</b>”对上述两条指令获取的变量值与常量值进行比较。</p>
                </div>
                <div class="p1">
                    <p id="93">“<b>POP_JUMP_IF_FALSE</b>”根据上条指令的运行结果进行字节码指令的跳跃。</p>
                </div>
                <div class="p1">
                    <p id="94">从中可以看出<b>if</b>分支判断是通过指令“<b>POP_JUMP_IF_FALSE</b>”的跳跃来实现的,如果<b>x</b>的值大于<b>1</b>,则不跳跃,接着下面执行,如果<b>x</b>的值不大于<b>1</b>,则跳跃至下一个字节码段。</p>
                </div>
                <h4 class="anchor-tag" id="95" name="95"><b>3.2 for控制流</b></h4>
                <div class="p1">
                    <p id="96">在<b>if</b>控制结构中,只有分支结构,导致字节码指令只会向前跳跃。在<b>for</b>循环控制结构,会出现指令的回退现象。下面定义了一个<b>test_for</b>函数,实现输出列表中的值的功能。</p>
                </div>
                <div class="area_img" id="202">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="101">得到<b>test_for</b>函数中代码对应的字节码如图<b>7</b>所示。</p>
                </div>
                <div class="area_img" id="102">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 Python-for循环控制代码片段的字节码" src="Detail/GetImg?filename=images/JSJZ201910053_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图7 Python-for循环控制代码片段的字节码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="103"><b>Python</b>代码“<b>for i in arr</b>”,对应的字节码如图<b>7</b>中第二部分所示。“<b>SETUP_LOOP</b>”初始化循环结构指令,开启循环控制的结构。“<b>LOAD_FAST</b>”将创建的<b>arr</b>对象压入栈内。“<b>GET_ITER</b>”获取<b>arr</b>对象的迭代器。“<b>FOR_ITER</b>”从栈中获得<b>arr</b>对象的迭代器,然后开始迭代。“<b>JUMP_ABSOLUTE</b>”是向后回退的指令,回退到“<b>FOR_ITER”。“POP_BLOCK</b>”终止迭代。</p>
                </div>
                <div class="p1">
                    <p id="104">经过分析可以得出,是通过指令“<b>JUMP_ABSOLUTE</b>”回退到迭代的开始部分。</p>
                </div>
                <h4 class="anchor-tag" id="105" name="105"><b>3.3 while控制流</b></h4>
                <div class="p1">
                    <p id="106"><b>while</b>控制流结构与<b>for</b>控制流结构类似,只是加入了判断跳转。下面以一段代码为例说明,其中定义了一个<b>test_while</b>函数。</p>
                </div>
                <div class="area_img" id="203">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="112">得到<b>test_while</b>函数中代码对应的字节码如图<b>8</b>所示。</p>
                </div>
                <div class="area_img" id="113">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 Python-while循环控制代码片段的字节码" src="Detail/GetImg?filename=images/JSJZ201910053_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图8 Python-while循环控制代码片段的字节码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="114">从图<b>8</b>中可以看到,在<b>while</b>控制流结构中,开始于“<b>SETUP_LOOP</b>”指令,这与<b>for</b>控制流一样,之后有“<b>COMPARE_OP</b>”与“<b>POP_JUMP_IF_FALSE</b>”指令,这与<b>if</b>控制流结构一样。可以说<b>while</b>控制流是<b>for</b>控制流与<b>if</b>控制流的综合体。</p>
                </div>
                <h4 class="anchor-tag" id="115" name="115"><b>3.4 异常控制流</b></h4>
                <div class="p1">
                    <p id="116">程序在运行的过程中,经常会发生意想不到的情况,因此,异常控制结构对编程开发非常重要<citation id="199" type="reference"><link href="27" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup><sup><b>13</b></sup><sup>]</sup></citation>。本节对异常控制流进行分析,下面是一段使用<b>Python</b>异常控制语句的代码。</p>
                </div>
                <div class="area_img" id="204">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20400.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="124">得到<b>test_exception</b>函数中代码对应的字节码如图<b>9</b>所示。</p>
                </div>
                <div class="area_img" id="125">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_125.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 Python异常控制代码片段的字节码" src="Detail/GetImg?filename=images/JSJZ201910053_125.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图9 Python异常控制代码片段的字节码</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_125.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="126">从图<b>9</b>中可以看到,开始有两条指令“<b>SETUP_FINALLY</b>”和“<b>SETUP_EXCEPT</b>”,表示之后的字节码指令进入异常控制结构,开始捕捉异常。之后通过三条指令“<b>LOAD_GLOBAL”、“LOAD_CONST”、“CALL_FUNCTION</b>”,创造出异常对象,并将异常对象压入栈。然后由抛出异常的指令“<b>RAISE_VARARGS</b>”从栈中把异常对象取出。“<b>POP_BLOCK</b>”指令终止迭代,接着执行<b>finally</b>部分。</p>
                </div>
                <h4 class="anchor-tag" id="127" name="127"><b>3.5 控制流信息提取算法</b></h4>
                <div class="p1">
                    <p id="128">通过对控制流字节码的分析可知,只有少数几个操作码能够执行地址跳转,它们是:<b>JUMP_FORWARD</b>:在字节码中跳转到一个相对位置。<b>JUMP_IF_FALSE_OR_POP,JUMP_IF_TRUE_OR_POP,JUMP_ABSOLUTE,POP_JUMP_IF_FALSE</b>和<b>POP_JUMP_IF_TRUE</b>:参数都是字节码中的绝对地址。为一个函数构造控制流图,意味着要创建基本的单元(不包含条件判断的操作码序列),并且把它们与条件和分支连在一起。据此,本文提取控制流信息的算法如算法<b>1</b>所示。</p>
                </div>
                <div class="p1">
                    <p id="129">算法<b>1:extract_CFGInfo</b></p>
                </div>
                <div class="area_img" id="205">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="165">再结合程序的抽象语法树,即可提取出完整的控制流信息,对于<b>3.1</b>节中的<b>test_if</b>函数,可以得到其对应的控制流信息如图<b>10</b>所示。</p>
                </div>
                <div class="area_img" id="166">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_166.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 test_if函数的控制流信息" src="Detail/GetImg?filename=images/JSJZ201910053_166.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图10 test_if函数的控制流信息</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_166.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="167">根据提取的控制流信息,再结合<b>Graphviz</b>工具,可以得到对应的控制流图,如图<b>11</b>所示。</p>
                </div>
                <div class="area_img" id="168">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201910053_168.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 test_if函数对应的控制流图" src="Detail/GetImg?filename=images/JSJZ201910053_168.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图11 test_if函数对应的控制流图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201910053_168.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="169">根据得到的控制流信息,可知判定节点个数为<b>2</b>,再结合式(<b>3</b>),可得<i><b>V</b></i><b>(</b><i><b>G</b></i><b>)=</b><i><b>P</b></i><b>+1=2+1=3</b>,即<b>test_if</b>函数的圈复杂度为<b>3</b>。</p>
                </div>
                <div class="p1">
                    <p id="170">在对<b>Python</b>深入研究的基础上,总结出影响判定节点的结构,如表<b>1</b>所示。</p>
                </div>
                <div class="area_img" id="171">
                    <p class="img_tit"><b>表1 影响判定节点的结构</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="171" border="1"><tr><td><br />序</td><td>结构</td><td>原因</td></tr><tr><td><br />1</td><td>if</td><td>一个if语句增加一次判定</td></tr><tr><td><br />2</td><td>elif</td><td>一个elif语句增加一次判定</td></tr><tr><td><br />3</td><td>else</td><td>else语句不会增加新的判定</td></tr><tr><td><br />4</td><td>for</td><td>在循环开始前有一次判定</td></tr><tr><td><br />5</td><td>while</td><td>while语句有一次判定</td></tr><tr><td><br />6</td><td>and</td><td>判断条件中的and会增加一次判定</td></tr><tr><td><br />7</td><td>or</td><td>判断条件中的or会增加一次判定</td></tr><tr><td><br />8</td><td>except</td><td>每个except分支增加一条新的执行路径</td></tr><tr><td><br />9</td><td>finally</td><td>finally语句无条件执行</td></tr><tr><td><br />10</td><td>with</td><td>with语句大致相当于一个try / except块</td></tr><tr><td><br />11</td><td>assert</td><td>assert语句内部大致相当于一个条件语句。</td></tr><tr><td><br />12</td><td>comprehension</td><td>列表/集合/字典生成器表达式相当于一个for循环。</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="172" name="172" class="anchor-tag"><b>4 实验与测评</b></h3>
                <h4 class="anchor-tag" id="173" name="173"><b>4.1 实验环境</b></h4>
                <div class="p1">
                    <p id="174">实验所用操作系统为64位Windows 7旗舰版Service Pack 1,内存为4.00GB,处理器为Intel(R) Core<sup>TM</sup> i7-2820QM CPU @ 2.30GHz。</p>
                </div>
                <h4 class="anchor-tag" id="175" name="175"><b>4.2 测试用例</b></h4>
                <div class="p1">
                    <p id="176">实验使用Python的第三方库algorithms, (https://github.com/nryoung/algorithms),algorithms库实现了常用的排序算法、搜索算法等。例如:</p>
                </div>
                <div class="p1">
                    <p id="177">排序:Bogo Sort(猴子排序),Bubble Sort(冒泡排序),Cocktail Sort(鸡尾酒排序),Comb Sort(梳排序),Heap Sort(堆排序),Insertion Sort(插入排序),Merge Sort(归并排序),Quick Sort(快速排序),Selection Sort(选择排序),Shell Sort(希尔排序)。</p>
                </div>
                <div class="p1">
                    <p id="178">搜索:Binary Search(二分查找),Breadth First Search(广度优先搜索),Depth First Search(深度优先搜索),KMP Search(KMP搜索),Ternary Search(三分搜索)。</p>
                </div>
                <div class="p1">
                    <p id="179">这些算法常见、简短,易于分析圈复杂度,十分适合对圈复杂度计算的测评。</p>
                </div>
                <h4 class="anchor-tag" id="180" name="180"><b>4.3 实验结果与分析</b></h4>
                <div class="p1">
                    <p id="181">在这里,将本系统命名为PyAst工具,使用该工具与PyMetrics、Pygenie工具以及人工算出的圈复杂度结果对比如表2和表3所示。</p>
                </div>
                <div class="area_img" id="182">
                    <p class="img_tit"><b>表2 排序算法实验结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="182" border="1"><tr><td><br />工具</td><td>Bubble</td><td>Heap</td><td>Insertion</td><td>Merge</td><td>Quick</td><td>Selection</td></tr><tr><td><br />PyAst</td><td>4</td><td>10</td><td>4</td><td>6</td><td>4</td><td>5</td></tr><tr><td><br />Pygenie</td><td>4</td><td>10</td><td>4</td><td>6</td><td>4</td><td>5</td></tr><tr><td><br />PyMetrics</td><td>4</td><td>9</td><td>3</td><td>6</td><td>6</td><td>5</td></tr><tr><td><br />人工</td><td>4</td><td>10</td><td>4</td><td>6</td><td>4</td><td>5</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="183">
                    <p class="img_tit"><b>表3 搜索算法实验结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="183" border="1"><tr><td><br />工具</td><td>Binary</td><td>BFS</td><td>DFS</td><td>KMP</td><td>Ternary</td></tr><tr><td><br />PyAst</td><td>4</td><td>6</td><td>6</td><td>12</td><td>3</td></tr><tr><td><br />Pygenie</td><td>4</td><td>5</td><td>5</td><td>12</td><td>3</td></tr><tr><td><br />PyMetrics</td><td>5</td><td>4</td><td>4</td><td>10</td><td>4</td></tr><tr><td><br />人工</td><td>4</td><td>6</td><td>6</td><td>12</td><td>3</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="184">从表2、表3可以看出,本文所阐述的计算Python程序源代码圈复杂度的方法得到的结果相较于Pygenie和PyMetrics工具更加准确。通过大量的实验,得出Pygenie和PyMetrics工具在计算圈复杂度时与PyAst的不同如表4所示。</p>
                </div>
                <div class="area_img" id="185">
                    <p class="img_tit"><b>表4 与PyAst工具的不同点</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="185" border="1"><tr><td><br />工具</td><td>不同点</td></tr><tr><td><br />Pygenie</td><td>没有考虑try…except、with、assert结构。多个相连的and或者or组成的复合条件,只当做一个条件进行处理。</td></tr><tr><td><br />PyMetrics</td><td>在计算时把break、continue、elif、else语句当成一个判定节点来计算,没有考虑判断条件是复合条件的情况,即没有考虑逻辑运算符and和or,并且也没有考虑try…except、with结构,assert语句有考虑。</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="186">从表4可知:本文提出的方法在计算圈复杂度时,更加全面,更加准确。</p>
                </div>
                <h3 id="187" name="187" class="anchor-tag"><b>5 结束语</b></h3>
                <div class="p1">
                    <p id="188">如何正确有效地计算圈复杂度的大小是代码分析研究中的关键课题,本文将圈复杂度计算方法与Python语言的特点结合起来,展开了对Python程序源代码圈复杂度计算的研究。以圈复杂度计算公式为基础,分析Python程序抽象语法树和字节码,通过提取控制流信息,从而利用公式进行圈复杂度的计算。该方法充分利用了Python语言的内部模块的机制,从Python内部运行原理出发,免去了对程序代码本身的分析,提高了正确性。通过实验表明,本文提出的面向Python程序源代码的圈复杂度计算方法是有效的。</p>
                </div>
                <div class="area_img" id="206">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201910053_20600.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Complexity Measure">

                                <b>[1]</b> T J Mccabe.A Complexity Measure[J].IEEE Press,1976,SE-2(4):308-320.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201713017&amp;v=MDI4MzBiTnJJOUVZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnBGeS9tVkx2UFBTblBaTEc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 郭溪溪,陈小林,王博,等.静态背景下运动目标边缘提取[J].现代电子技术,2017,40(13):70-73+77.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SPQD&amp;filename=SPQDB70B03FCB6AF29B2CB0BEB79FAA4FF2B&amp;v=MjI3MjYzYWFzRy9IcVBNclBrMkZ1MStlbjR3dlJSZ21EOFBQUTNscFdSRUNMYmlNN2p0Q09OdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQnJMVTA1dDlodzd1NHhLOD1Oag==&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> C Ebert,J Cain.Cyclomatic Complexity[J].IEEE Software,2016,33(6):27-29.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=RJGC201201024&amp;v=Mjk1NzdMdlBOeWZNYmJHNEg5UE1ybzlIWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRnkvbVY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 荣志文,李嘉,蔡立志.基于圈复杂度的软件测试方法研究[J].软件产业与工程,2012,13(1):45-48.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201601002&amp;v=MjAyNzN5L21WTHZQTHpUWlpMRzRIOWZNcm85RlpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacEY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 陈梦云,高建华.基于圈复杂度的静态测试用例排序方法[J].计算机应用与软件,2016,33(1):1-3.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" >
                                    <b>[6]</b>
                                 校景中,肖丽.基于McCabe圈复杂度的算法研究[J].计算机科学,2011,38(7):93,110.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" >
                                    <b>[7]</b>
                                 王勤,吴龙树.McCabe度量法的分析与研究[J].计算机科学,2010,12(37):90-91.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016123542.nh&amp;v=MjA4MTlQVkYyNkdMSzZIZFRJclpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacEZ5L21WTHY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 李清言.Pyreview:一个基于抽象语法树差异提取的Python源代码分析工具[D].南京大学,2016.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1011121742.nh&amp;v=MDAyMDM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVacEZ5L21WTHZQVkYyNkg3SzZIOWJJclpFYlBJUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 秦虎.基于语法树结构优化和控制流图比对的软件同源性检测技术研究[D].北京邮电大学,2011.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Graphviz – open source graph drawing tools">

                                <b>[10]</b> J Ellson,E Gansner.Graphviz—Open Source Graph Drawing Tools[J].Lecture Notes in Computer Science,2002,2265:483-484.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013025632.nh&amp;v=MTI2MDM2SGJPNkc5ZlByWkViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpwRnkvbVZMdlBWRjI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b> 周希.基于静态分析的程序控制流图生成工具的设计与实现[D].中山大学,2013.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017073480.nh&amp;v=MDA1MzJGeS9tVkx2UFZGMjZHYk8vSGRYRXI1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnA=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 王小强.基于操作码的Python程序防逆转算法研究与实现[D].中国科学技术大学,2017.
                            </a>
                        </p>
                        <p id="27">
                            <a id="bibliography_13" >
                                    <b>[13]</b>
                                 范浩杰.面向Python程序源代码的分析与编译优化研究[D].北京信息科技大学,2015.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJZ201910053" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201910053&amp;v=MjY2ODU3cWZadVpwRnkvbVZMdlBMejdCZExHNEg5ak5yNDlBWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRyNFB2YmhVNFRrV0FxZi9KeHFTZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="0" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=P0ea_aWnQfx5aXr8bS4u3GGmKX_ORbqAf_1HJ_4Trvg1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
