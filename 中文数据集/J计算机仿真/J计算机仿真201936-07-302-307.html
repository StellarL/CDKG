<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=NOOK-mvTMnxl11s6oPYV0boPXN3iP4N7Rc-A56nk4KI1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2fKXReader%2fDetail%3fTIMESTAMP%3d637140800604795000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJZ201907064%26RESULT%3d1%26SIGN%3dRgdjF9rGbbDgCjzWs41ZOWvfZRE%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201907064&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201907064&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201907064&amp;v=MTIwMDBMejdCZExHNEg5ak1xSTlEWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnlqblZyeks=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#21" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#24" data-title="&lt;b&gt;2 仿人机械臂运动学模型&lt;/b&gt; "><b>2 仿人机械臂运动学模型</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#61" data-title="&lt;b&gt;3 机械臂多关节同步控制器设计&lt;/b&gt; "><b>3 机械臂多关节同步控制器设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#63" data-title="&lt;b&gt;3.1 控制系统同步误差来源分析&lt;/b&gt;"><b>3.1 控制系统同步误差来源分析</b></a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;3.2 机械臂控制系统同步控制策略&lt;/b&gt;"><b>3.2 机械臂控制系统同步控制策略</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#108" data-title="&lt;b&gt;4 仿人机械臂半实物仿真系统&lt;/b&gt; "><b>4 仿人机械臂半实物仿真系统</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#119" data-title="&lt;b&gt;5 仿真分析&lt;/b&gt; "><b>5 仿真分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#120" data-title="&lt;b&gt;5.1 控制系统实时性实验分析&lt;/b&gt;"><b>5.1 控制系统实时性实验分析</b></a></li>
                                                <li><a href="#129" data-title="&lt;b&gt;5.2 关节空间同步控制实验分析&lt;/b&gt;"><b>5.2 关节空间同步控制实验分析</b></a></li>
                                                <li><a href="#137" data-title="&lt;b&gt;5.3 机械臂末端轨迹跟踪试验&lt;/b&gt;"><b>5.3 机械臂末端轨迹跟踪试验</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#141" data-title="&lt;b&gt;6 结束语&lt;/b&gt; "><b>6 结束语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#26" data-title="&lt;b&gt;图1 仿人机械臂结构示意图&lt;/b&gt;"><b>图1 仿人机械臂结构示意图</b></a></li>
                                                <li><a href="#28" data-title="&lt;b&gt;图2 仿人机械臂关节坐标系&lt;/b&gt;"><b>图2 仿人机械臂关节坐标系</b></a></li>
                                                <li><a href="#76" data-title="&lt;b&gt;图3 分布时钟模式同步时间误差分析&lt;/b&gt;"><b>图3 分布时钟模式同步时间误差分析</b></a></li>
                                                <li><a href="#79" data-title="&lt;b&gt;图4&lt;/b&gt; EtherCAT&lt;b&gt;帧传输处理时间&lt;/b&gt;"><b>图4</b> EtherCAT<b>帧传输处理时间</b></a></li>
                                                <li><a href="#110" data-title="&lt;b&gt;图5 半实物仿真系统架构&lt;/b&gt;"><b>图5 半实物仿真系统架构</b></a></li>
                                                <li><a href="#113" data-title="&lt;b&gt;图6 仿人型机械臂仿真平台&lt;/b&gt;"><b>图6 仿人型机械臂仿真平台</b></a></li>
                                                <li><a href="#127" data-title="&lt;b&gt;图7 机器人控制系统实时性测试&lt;/b&gt;"><b>图7 机器人控制系统实时性测试</b></a></li>
                                                <li><a href="#132" data-title="&lt;b&gt;图8 自由运行模式下电机速率差&lt;/b&gt;"><b>图8 自由运行模式下电机速率差</b></a></li>
                                                <li><a href="#135" data-title="&lt;b&gt;图9&lt;/b&gt; DC&lt;b&gt;同步模式下电机速率曲线&lt;/b&gt;"><b>图9</b> DC<b>同步模式下电机速率曲线</b></a></li>
                                                <li><a href="#139" data-title="&lt;b&gt;图10 机器人直线轨迹跟踪误差&lt;/b&gt;"><b>图10 机器人直线轨迹跟踪误差</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="157">


                                    <a id="bibliography_1" title=" 刘洋, 孙恺.协作机器人的研究现状与与技术发展分析[J].北方工业大学学报, 2017, 29 (2) :76-85." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BFGY201702013&amp;v=MDY2OTh0R0ZyQ1VSN3FmWnVabkZ5am5WcnpLSnl2TWQ3RzRIOWJNclk5RVo0UUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         刘洋, 孙恺.协作机器人的研究现状与与技术发展分析[J].北方工业大学学报, 2017, 29 (2) :76-85.
                                    </a>
                                </li>
                                <li id="159">


                                    <a id="bibliography_2" title=" 田野, 陈晓鹏, 贾东永, 孟非, 黄强.仿人机器人轻型高刚性手臂设计及运动学分析[J].机器人, 2011, 3303:332-339." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JQRR201103015&amp;v=MDkwMTVFWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnlqblZyektMenpaZkxHNEg5RE1ySTk=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         田野, 陈晓鹏, 贾东永, 孟非, 黄强.仿人机器人轻型高刚性手臂设计及运动学分析[J].机器人, 2011, 3303:332-339.
                                    </a>
                                </li>
                                <li id="161">


                                    <a id="bibliography_3" title=" 李程程.七自由度机械臂控制系统设计与研究[D].东南大学, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016327975.nh&amp;v=MTM2MzJxcEViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnlqblZyektWRjI2R0xDNkdkakw=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         李程程.七自由度机械臂控制系统设计与研究[D].东南大学, 2016.
                                    </a>
                                </li>
                                <li id="163">


                                    <a id="bibliography_4" title=" John Craig.Introduction to Robotics:Mechanics and Control[M].2005m, (3) :48-70." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Introduction to Robotics:Mechanics and Control">
                                        <b>[4]</b>
                                         John Craig.Introduction to Robotics:Mechanics and Control[M].2005m, (3) :48-70.
                                    </a>
                                </li>
                                <li id="165">


                                    <a id="bibliography_5" title=" 杨吕剑, 沈林勇, 丁航.四自由度上肢康复机器人运动轨迹规划与仿真[J].计算机仿真, 2016, 3308:332-337." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201608072&amp;v=MDM1MjdmWnVabkZ5am5WcnpLTHo3QmRMRzRIOWZNcDQ5Q1pvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         杨吕剑, 沈林勇, 丁航.四自由度上肢康复机器人运动轨迹规划与仿真[J].计算机仿真, 2016, 3308:332-337.
                                    </a>
                                </li>
                                <li id="167">


                                    <a id="bibliography_6" title=" 郇极, 等.工业以太网现场总线EtherCAT驱动程序设计及应用[M].北京:北京航空航天出版社, 2010." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787512400078001&amp;v=MjE5NTJYRnF6R2JhNUhOWE1yNDlDYk9zUERSTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZaZVp2Rnluc1U3L0tKVjBX&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         郇极, 等.工业以太网现场总线EtherCAT驱动程序设计及应用[M].北京:北京航空航天出版社, 2010.
                                    </a>
                                </li>
                                <li id="169">


                                    <a id="bibliography_7" title=" 许万.基于实时以太网的多轴运动控制系统研究[D].华中科技大学机械电子工程专业博士学位论文, 2009." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=2009173290.nh&amp;v=MjA2OTdyektWMTI3RjdLL0hkUEZyNUViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnlqblY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         许万.基于实时以太网的多轴运动控制系统研究[D].华中科技大学机械电子工程专业博士学位论文, 2009.
                                    </a>
                                </li>
                                <li id="171">


                                    <a id="bibliography_8" title=" 张智, 邹盛涛, 李佳桐, 李超.六自由度机械手三维可视化仿真研究[J].计算机仿真, 2015, 3202:374-377+382." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201502082&amp;v=MjAzMzVuVnJ6S0x6N0JkTEc0SDlUTXJZOU5ab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GeWo=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         张智, 邹盛涛, 李佳桐, 李超.六自由度机械手三维可视化仿真研究[J].计算机仿真, 2015, 3202:374-377+382.
                                    </a>
                                </li>
                                <li id="173">


                                    <a id="bibliography_9" title=" B HShi, Y Z Wang, C Ding.A design of realtime communication based on EtherCAT in industrial robot control system based on LinuxCNC[C].Control and Decision Conference.IEEE, 2017:5776-5780." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A design of realtime communication based on EtherCAT in industrial robot control system based on LinuxCNC">
                                        <b>[9]</b>
                                         B HShi, Y Z Wang, C Ding.A design of realtime communication based on EtherCAT in industrial robot control system based on LinuxCNC[C].Control and Decision Conference.IEEE, 2017:5776-5780.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJZ" target="_blank">计算机仿真</a>
                2019,36(07),302-307             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>仿人机械臂同步控制仿真研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%A8%E6%B6%9B&amp;code=35189666&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">杨涛</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%82%B9%E6%B2%B3%E5%BD%AC&amp;code=34469856&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">邹河彬</a>
                                <a href="javascript:;">刘小勇</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%BF%9F%E7%AB%8B%E5%9B%BD&amp;code=37490019&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">迟立国</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8C%97%E4%BA%AC%E7%B2%BE%E5%AF%86%E6%9C%BA%E7%94%B5%E6%8E%A7%E5%88%B6%E8%AE%BE%E5%A4%87%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=0145914&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">北京精密机电控制设备研究所</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E7%81%AB%E7%AE%AD%E5%86%9B%E9%A9%BB%E9%95%BF%E5%BE%81%E8%88%AA%E5%A4%A9%E6%8E%A7%E5%88%B6%E5%B7%A5%E7%A8%8B%E5%85%AC%E5%8F%B8%E5%86%9B%E4%BA%8B%E4%BB%A3%E8%A1%A8%E5%AE%A4&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">火箭军驻长征航天控制工程公司军事代表室</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>研究7自由度仿人型机械臂的高精度的多关节同步控制问题。仿人机械臂采用7自由度串联结构, 机械臂末端的轨迹精度依赖7个关节的位置同步精度。机械臂采用基于EtherCAT的分布式控制架构, 每个关节具有独立的伺服驱动器, 存在各个关节响应不同步的问题, 会引起机械臂末端轨迹与理论轨迹存在动态位姿误差。为了达到仿人机械臂多关节高精度同步控制的目的, 分析了机械臂运动学模型并结合控制系统的网络特点, 定位主要同步误差来源误差来源于关节采样和伺服控制不同步, 提出了基于网络同步误差实时计算和关节从站时钟动态补偿的网络分布时钟同步控制策略在仿人机械臂控制中的应用方法。为验证控制效果, 设计了关节在环的半物理仿真系统, 对机械臂在关节空间和笛卡尔空间进行了仿真分析, 结果表明基于网络分布时钟的多关节同步控制方法能够实现仿人机械臂的高精度控制。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%9C%BA%E6%A2%B0%E8%87%82&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">机械臂;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%90%8C%E6%AD%A5%E6%8E%A7%E5%88%B6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">同步控制;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E5%B8%83%E6%97%B6%E9%92%9F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分布时钟;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8D%8A%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">半物理仿真;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    杨涛 (1988-) , 男 (汉族) 河北省保定市人, 硕士, 工程师, 主要研究领域为协作机器人及其控制系统;
                                </span>
                                <span>
                                    邹河彬 (1985-) , 男 (汉族) , 福建省漳州市人, 硕士, 工程师, 主要研究领域为机器人系统及其产业化研制;;
                                </span>
                                <span>
                                    刘小勇 (1980-) , 男, 河南安阳人, 研究生, 工程师, 主要研究领域为机电一体化系统设计;;
                                </span>
                                <span>
                                    迟立国 (1962-) , 男 (汉族) , 北京人, 高级技师, 主要研究领域为精密伺服机构装配与调试。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-02-07</p>

                    <p>

                            <b>基金：</b>
                                                        <span>中国运载火箭技术研究院产业发展基金 ( (MJK-1686-04);</span>
                    </p>
            </div>
                    <h1><b>Simulated Research on Synchronization Control of Humanoid Manipulator</b></h1>
                    <h2>
                    <span>YANG Tao</span>
                    <span>ZOU He-bin</span>
                    <span>LIU Xiao-yong</span>
                    <span>CHI Li-guo</span>
            </h2>
                    <h2>
                    <span>Beijing Institute of Precision Mechanical and Electrical Control Equipment</span>
                    <span>Military Representative Office of The Rocket Force in Long Match Aerospace Controling Engineering Company of China Academy of Launch Vehicle Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>The problem of high precision multi joint synchronous control for a 7 degree of freedom humanoid manipulator is studied. The humanoid manipulator adopts a series of 7 degrees freedom structure, and the motion precision of the end of the manipulator depends on the synchronous motion accuracy of the 7 joints. The manipulator adopts a distributed control architecture based on EtherCAT. Each joint has independent servo driver, and there is no synchronization between joints. It causes the trajectory error of the end of the manipulator In order to achieve humanoid manipulator's high precision synchronous control, manipulator kinematics model was analysed, the characteristics of network control system was combined, and the main error sources of synchronization error located in the joint sampling and servo control were not synchronized. An application method was put forward based on network synchronization error computation and the dynamic compensation of joints. In order to verify the control effect, we designed a semi physical simulation system with joints in loop, the simulation experiments in the joint space and Descartes space were carried out. The results show that the synchronization control method for multi joint distribution network based on distribute clock can achieve high precision control of humanoid manipulator.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Manipulator&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Manipulator;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Synchronous%20control&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Synchronous control;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Distribute%20clock&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Distribute clock;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Semi-physical%20simulation&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Semi-physical simulation;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-02-07</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="21" name="21" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="22">机器人的仿生设计是机器人界一直追求的目标<citation id="175" type="reference"><link href="157" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。仿人手臂型的机器人具有人类胳膊相近的结构配置, 可以实现拟人化的动作, 相比工业机器人更适合生活服务作业。目前仿人手臂机器人在养老助残、空间站科学实验等领域都进行了相关实验研究。典型的仿人型机械臂采用人体仿生学设计, 具备肩-肘-腕三个关节组合, 共计7个自由度。</p>
                </div>
                <div class="p1">
                    <p id="23">仿人机械臂为代替人工提供作业服务设计, 相比工业机器人其具有冗余自由度但仍然需要具备与能够工业机器人相媲美的运动精度。仿人机械臂具有可控自由度多、人机信息传输量大、实时性要求高的特点, 为此仿人机械臂控制系统采用总线型分布式控制架构, 即机器人关节由独立的伺服驱动器进行位置控制, 关节伺服驱动器作为控制系统的从站。机器人控制器作为控制系统的主站向关节伺服从站发送位置命令。考虑仿人机械臂信息传输量大的特点, 本文采用基于EtherCAT实时以太网的分布式架构设计机器人控制系统。而分布式控制系统存在各个关节伺服从站对主站命令响应不同步引起关节运动不同步, 进而导致机械臂末端位置姿态控制存在误差的问题, 总线型分布式控制系统实现仿人机械臂多关节的同步控制是仿人机械臂首先需要解决的关键问题。文献<citation id="176" type="reference">[<a class="sup">2</a>]</citation> 提出了一种基于查表法的仿人机器人手臂的运动学计算方法, 却没有明确该运动学算法在控制系统实现时需要考虑的多关节同步问题。文献<citation id="177" type="reference">[<a class="sup">3</a>]</citation>提出了基于CAN总线的机械臂同步控制方法但其研究的机械臂自由度较少且同步控制精度较低。</p>
                </div>
                <h3 id="24" name="24" class="anchor-tag"><b>2 仿人机械臂运动学模型</b></h3>
                <div class="p1">
                    <p id="25">仿人机械臂的同步控制问题是机器人的运动学问题, 为此首先分析机械臂的运动学模型从理论上分析关节控制不同步对机械臂末端位置姿态的影响。7自由度仿人机器人结构模型如下图所示, 所有关节均为转动关节。第1/2/3关节轴线正交构成肩关节组合, 第5/6/7关节轴线正交构成腕部关节组合, 第4关节为肘关节。</p>
                </div>
                <div class="area_img" id="26">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_026.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 仿人机械臂结构示意图" src="Detail/GetImg?filename=images/JSJZ201907064_026.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1 仿人机械臂结构示意图</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_026.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="27">机器人运动分析的本质问题是空间坐标转换问题<citation id="178" type="reference"><link href="163" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。定义机器人第7关节末端几何中心点为机器人末端工具点, 所有关于机器人位置、姿态的计算均是指该点而言。机器人末端工具点的位置和姿态的表示就是固定在该点上的坐标系的原点位置和坐标轴姿态。并且该坐标系可以通过坐标的齐次变化转换为其上以关节的坐标系为参考系的位姿矩阵表示, 依次逐级向上变化就可以以0坐标系为参考系表示末端工具点的位置和姿态<citation id="179" type="reference"><link href="165" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。仿人机械臂空间坐标系建立如图2所示。</p>
                </div>
                <div class="area_img" id="28">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_028.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 仿人机械臂关节坐标系" src="Detail/GetImg?filename=images/JSJZ201907064_028.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 仿人机械臂关节坐标系</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_028.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="29">各坐标系符合右手定则, 根据机器人运动学原理相邻两个关节坐标系的相对位姿关系可以用连杆长度、连杆转角、连杆偏距、关节角度四个变量表示, 分别用<i>a</i><sub><i>i</i></sub>表示连杆长度, 用<i>α</i><sub><i>i</i></sub>表示连杆转角, 用<i>d</i><sub><i>i</i></sub>表示连杆偏距, 用<i>θ</i><sub><i>i</i></sub>表示关节变量。</p>
                </div>
                <div class="p1">
                    <p id="30">根据机器人运动学<i>D</i>-<i>H</i>建模方法, 首先从关节<i>i</i>坐标系变换到关节<i>i</i>-1坐标系的齐次转移矩阵如下</p>
                </div>
                <div class="p1">
                    <p id="31" class="code-formula">
                        <mathml id="31"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msubsup><mrow></mrow><mi>i</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mi>d</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub><mi>c</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub><mi>c</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mo>-</mo><mi>d</mi><msub><mrow></mrow><mi>i</mi></msub><mi>s</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mi>i</mi></msub><mi>s</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>c</mi><mspace width="0.25em" /><mi>θ</mi><msub><mrow></mrow><mi>i</mi></msub><mi>s</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>c</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>d</mi><msub><mrow></mrow><mi>i</mi></msub><mi>c</mi><mi>α</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="32">然后据此, 依次计算仿人机械臂相连关节坐标系之间的齐次转移矩阵如下</p>
                </div>
                <div class="p1">
                    <p id="33" class="code-formula">
                        <mathml id="33"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><msubsup><mrow></mrow><mn>1</mn><mn>0</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mi>d</mi><msub><mrow></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>, </mo><msubsup><mrow></mrow><mn>2</mn><mn>1</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow></mtd></mtr><mtr><mtd><msubsup><mrow></mrow><mn>3</mn><mn>2</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mo>-</mo><mi>d</mi><msub><mrow></mrow><mn>2</mn></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>, </mo><msubsup><mrow></mrow><mn>4</mn><mn>3</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mo>-</mo><mi>d</mi><msub><mrow></mrow><mn>4</mn></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow></mtd></mtr><mtr><mtd><msubsup><mrow></mrow><mn>5</mn><mn>4</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>5</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>5</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mi>d</mi><msub><mrow></mrow><mn>5</mn></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>, </mo><msubsup><mrow></mrow><mn>6</mn><mn>5</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>6</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>6</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mi>d</mi><msub><mrow></mrow><mn>6</mn></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>4</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow></mtd></mtr><mtr><mtd><msubsup><mrow></mrow><mn>7</mn><mn>6</mn></msubsup><mi>Τ</mi><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>7</mn></msub></mtd><mtd><mo>-</mo><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>7</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mi>d</mi><msub><mrow></mrow><mn>7</mn></msub></mtd></mtr><mtr><mtd><mi>s</mi><mi>θ</mi><msub><mrow></mrow><mn>7</mn></msub></mtd><mtd><mi>c</mi><mi>θ</mi><msub><mrow></mrow><mn>7</mn></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="34">最后各齐次转移矩阵连乘可得, 机械臂末端工具点坐标系在机械臂0坐标系下的位置和姿态矩阵, 即</p>
                </div>
                <div class="area_img" id="35">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JSJZ201907064_03500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="37">其中矩阵第4列的<i>p</i><sub><i>x</i></sub>, <i>p</i><sub><i>y</i></sub>, <i>p</i><sub><i>z</i></sub>分别代表仿人机械臂末端工具点在根坐标系下的位置, <i>n</i>, <i>o</i>, <i>a</i>三列分别代表机械臂末端工具点在根坐标系下姿态方向的余弦向量, 计算可知:</p>
                </div>
                <div class="p1">
                    <p id="38"><i>P</i><sub><i>x</i></sub>=<i>a</i>_3* (sin (<i>q</i>1) *sin (<i>q</i>3) +</p>
                </div>
                <div class="p1">
                    <p id="39">cos (<i>q</i>1) *cos (<i>q</i>2) *cos (<i>q</i>3) ) -</p>
                </div>
                <div class="p1">
                    <p id="40"><i>d</i>_5* (sin (<i>q</i>4) * (sin (<i>q</i>1) *sin (<i>q</i>3) +</p>
                </div>
                <div class="p1">
                    <p id="41">cos (<i>q</i>1) *cos (<i>q</i>2) *cos (<i>q</i>3) ) -</p>
                </div>
                <div class="p1">
                    <p id="42">cos (<i>q</i>1) *cos (<i>q</i>4) *sin (<i>q</i>2) ) -</p>
                </div>
                <div class="p1">
                    <p id="43"><i>d</i>_7* (cos (<i>q</i>6) * (sin (<i>q</i>4) * (sin (<i>q</i>1) *sin (<i>q</i>3) +</p>
                </div>
                <div class="p1">
                    <p id="44">cos (<i>q</i>1) *cos (<i>q</i>2) *cos (<i>q</i>3) ) -</p>
                </div>
                <div class="p1">
                    <p id="45">cos (<i>q</i>1) *cos (<i>q</i>4) *sin (<i>q</i>2) ) +</p>
                </div>
                <div class="p1">
                    <p id="46">sin (<i>q</i>6) * (cos (<i>q</i>5) * (cos (<i>q</i>4) *</p>
                </div>
                <div class="p1">
                    <p id="47"> (sin (<i>q</i>1) *sin (<i>q</i>3) +cos (<i>q</i>1) *</p>
                </div>
                <div class="p1">
                    <p id="48">cos (<i>q</i>2) *cos (<i>q</i>3) ) +cos (<i>q</i>1) *</p>
                </div>
                <div class="p1">
                    <p id="49">sin (<i>q</i>2) *sin (<i>q</i>4) ) +sin (<i>q</i>5) *</p>
                </div>
                <div class="p1">
                    <p id="50"> (cos (<i>q</i>3) *sin (<i>q</i>1) -cos (<i>q</i>1) *</p>
                </div>
                <div class="p1">
                    <p id="51">cos (<i>q</i>2) *sin (<i>q</i>3) ) ) ) +<i>a</i>_2*</p>
                </div>
                <div class="p1">
                    <p id="52">cos (<i>q</i>1) *cos (<i>q</i>2) +<i>d</i>_3*cos (<i>q</i>1) *</p>
                </div>
                <div class="p1">
                    <p id="53">sin (<i>q</i>2) </p>
                </div>
                <div class="p1">
                    <p id="54">记作</p>
                </div>
                <div class="p1">
                    <p id="55"><i>p</i><sub><i>x</i></sub>=<i>fx</i> (<i>θ</i><sub>1</sub>, <i>θ</i><sub>2</sub>, <i>θ</i><sub>3</sub>, <i>θ</i><sub>4</sub>, <i>θ</i><sub>5</sub>, <i>θ</i><sub>6</sub>)      (2) </p>
                </div>
                <div class="p1">
                    <p id="56">同理</p>
                </div>
                <div class="p1">
                    <p id="57"><i>p</i><sub><i>y</i></sub>=<i>fy</i> (<i>θ</i><sub>1</sub>, <i>θ</i><sub>2</sub>, <i>θ</i><sub>3</sub>, <i>θ</i><sub>4</sub>, <i>θ</i><sub>5</sub>, <i>θ</i><sub>6</sub>)      (3) </p>
                </div>
                <div class="p1">
                    <p id="58"><i>p</i><sub><i>z</i></sub>=<i>fz</i> (<i>θ</i><sub>1</sub>, <i>θ</i><sub>2</sub>, <i>θ</i><sub>3</sub>, <i>θ</i><sub>4</sub>, <i>θ</i><sub>5</sub>, <i>θ</i><sub>6</sub>)      (4) </p>
                </div>
                <div class="p1">
                    <p id="59">而姿态方向的余弦向量则与7个关节角度均相关, 计算结果公式太长不在此赘述。</p>
                </div>
                <div class="p1">
                    <p id="60">结果表明, 仿人机械臂的末端工具点的在根坐标系中的位置由关节1-6的位置决定, 而其姿态则由关节1-7决定, 即机械臂末端工具点精准位姿控制需要7个关节的同步到位才能达到预定的轨迹, 不能从运动学算法上进行解耦。</p>
                </div>
                <h3 id="61" name="61" class="anchor-tag"><b>3 机械臂多关节同步控制器设计</b></h3>
                <div class="p1">
                    <p id="62">基于EtherCAT的分布式机器人控制系统由主控制器和关节控制器组成。主控制器是控制系统的主站, 完成机械臂运动学算法并通过EtherCAT总线将关节理论位置周期性地发送给关节控制器, 关节控制器从总线上采样数据并周期性的进行伺服闭环控制。因此, 机械臂的多关节同步控制器需要以来主控制器和关节控制器的密切协作。</p>
                </div>
                <h4 class="anchor-tag" id="63" name="63"><b>3.1 控制系统同步误差来源分析</b></h4>
                <div class="p1">
                    <p id="64">仿人机械臂末端工具点轨迹精度直接受关节同步运动精度的影响。而引起分布式机器人控制系统各关节不同步的因素主要有:</p>
                </div>
                <div class="p1">
                    <p id="65">1) 主站控制命令不同步;</p>
                </div>
                <div class="p1">
                    <p id="66">2) 各关节间网络延时;</p>
                </div>
                <div class="p1">
                    <p id="67">3) 各关节采样与控制时间不同步;</p>
                </div>
                <div class="p1">
                    <p id="68">EtherCAT每帧最多可携带1468字节数据, 根据CIA402协议<citation id="180" type="reference"><link href="167" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>单个关节的位置控制仅需要4个字节, 为此EtherCAT一帧就可以完成仿人机械臂7个关节的位置控制, 因此不会因多帧发送引起各关节命令网络延时。各关节之间的传输延时为很小的纳秒级别为此也不存在各关节网络延时引起的不同步。</p>
                </div>
                <div class="p1">
                    <p id="69">引起基于EtherCAT的分布式机械臂控制系统各关节不同步的因素是主站命令的不同步和各关节采样与控制时间的不同步。</p>
                </div>
                <h4 class="anchor-tag" id="70" name="70"><b>3.2 机械臂控制系统同步控制策略</b></h4>
                <div class="p1">
                    <p id="71">主站命令的不同步, 指的是主站向关节从站周期性发送位置命令的时钟抖动引起的同步性误差。该误差可以通过对主站控制器操作系统的实时性改进进行补偿, 对于仿人江西额比采用的Linux操作系统, 采用RT-Linux内核提高主站的系统实时性进而保证主站控制命令的同步。</p>
                </div>
                <div class="p1">
                    <p id="72">各关节采样与控制时间的不同步则需要设计相应的控制策略进行补偿, 结合EtherCAT系统高速传输、线性网络拓扑的特点可以采用自由运行同步控制策略和网络分布时钟同步控制策略等2种控制策略。</p>
                </div>
                <h4 class="anchor-tag" id="73" name="73">3.2.1 自由运行同步控制策略</h4>
                <div class="p1">
                    <p id="74">自由运行同步控制指主站周期性向EtherCAT网络缓冲区发送关节位置指令向量, 各个关节伺服从站采用自身时钟, 按照既定节拍从EtherCAT网络获取关节目标位置指令并执行。该方法特点是实现简单, 但是各个驱动器定时器时钟差导致该方法同步精度不可预测。</p>
                </div>
                <h4 class="anchor-tag" id="75" name="75">3.2.2 网络分布时钟同步模式</h4>
                <div class="area_img" id="76">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 分布时钟模式同步时间误差分析" src="Detail/GetImg?filename=images/JSJZ201907064_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 分布时钟模式同步时间误差分析</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="77">网络分布同步控制将EtherCAT网络中主站和各关节从站的时钟同步于参考钟, 根据测量的时钟误差对参考时钟进行实时的闭环校正, 主站依据参考时钟周期性发送位置指令向量, 关节从站依据参考时钟周期性采集位置命令并执行关节的伺服控制。分布时钟同步模式实现复杂但是可以达到高精度的同步效果。</p>
                </div>
                <div class="p1">
                    <p id="78">网络分布时钟控制策略将距离主站最近的从站时钟作为参考时间, 致力于将系统中的其余关节伺服从站和主站的时钟与参考时钟保持一致, 从而达到各从站时间同步<citation id="181" type="reference"><link href="169" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>。以由3个关节从站构成的网络为例, 建模分析网络分布时钟控制策略。</p>
                </div>
                <div class="area_img" id="79">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 EtherCAT帧传输处理时间" src="Detail/GetImg?filename=images/JSJZ201907064_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4</b> EtherCAT<b>帧传输处理时间</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="80">造成各个关节从站采样和控制不同步的原因主要由数据传输延时、从站时钟偏移、从站时钟漂移三种因素造成。</p>
                </div>
                <div class="p1">
                    <p id="81">BC之间传输延时的计算:</p>
                </div>
                <div class="p1">
                    <p id="82"><i>t</i><sub><i>BC</i></sub>= <i>t</i><sub><i>PB</i></sub>+ <i>t</i><sub><i>WAB</i></sub>, <i>t</i><sub><i>AB</i></sub>= <i>t</i><sub><i>PC</i></sub>+ <i>t</i><sub><i>WBC</i></sub>      (5) </p>
                </div>
                <div class="p1">
                    <p id="83"><i>t</i><sub><i>PB</i></sub>= <i>t</i><sub><i>PC</i></sub>      (6) </p>
                </div>
                <div class="p1">
                    <p id="84"><i>t</i><sub><i>B</i>1 </sub>= <i>t</i><sub><i>B</i>0</sub> +<i>t</i><sub><i>BC</i></sub>+ <i>t</i><sub><i>CB</i></sub>      (7) </p>
                </div>
                <div class="p1">
                    <p id="85">所以关节从站之间的传输延时</p>
                </div>
                <div class="p1">
                    <p id="86"><i>t</i><sub><i>CB</i></sub>= <i>t</i><sub><i>BC</i></sub>= (<i>t</i><sub><i>B</i>1</sub>-<i>t</i><sub><i>B</i>0</sub>) /2        (8) </p>
                </div>
                <div class="p1">
                    <p id="87"><i>AB</i>之间传输延时的计算</p>
                </div>
                <div class="p1">
                    <p id="88"><i>t</i><sub><i>AB</i></sub>= <i>t</i><sub><i>PA</i></sub>+ <i>t</i><sub><i>WAB</i></sub><i>T</i><sub><i>BA</i></sub>= <i>t</i><sub><i>FB</i></sub>+ <i>t</i><sub><i>WAB</i></sub>      (9) </p>
                </div>
                <div class="p1">
                    <p id="89"><i>t</i><sub><i>DIFF</i>=</sub><i>t</i><sub><i>PA</i>-</sub><i>t</i><sub><i>FB</i></sub>      (10) </p>
                </div>
                <div class="p1">
                    <p id="90"><i>t</i><sub><i>AB</i></sub>=[ (<i>t</i><sub><i>A</i>1</sub>-<i>t</i><sub><i>A</i>0</sub>) - ( <i>t</i><sub><i>B</i>1</sub>-<i>t</i><sub><i>B</i>0</sub>) +<i>t</i><sub><i>DIFF</i></sub>]/2       (11) </p>
                </div>
                <div class="p1">
                    <p id="91"><i>t</i><sub><i>BA</i></sub>=[ (<i>t</i><sub><i>A</i>1</sub>-<i>t</i><sub><i>A</i>0</sub>) - ( <i>t</i><sub><i>B</i>1</sub>-<i>t</i><sub><i>B</i>0</sub>) -<i>t</i><sub><i>DIFF</i></sub>]/2      (12) </p>
                </div>
                <div class="p1">
                    <p id="92">时钟偏移补偿</p>
                </div>
                <div class="p1">
                    <p id="93"><i>T</i><sub><i>REF</i>_<i>B</i></sub>=<i>t</i><sub><i>AB</i></sub>      (13) </p>
                </div>
                <div class="p1">
                    <p id="94"><i>T</i><sub><i>REF</i>_<i>C</i></sub>=<i>t</i><sub><i>AB</i>+</sub><i>t</i><sub><i>BC</i></sub>      (14) </p>
                </div>
                <div class="p1">
                    <p id="95">变量说明如下:</p>
                </div>
                <div class="p1">
                    <p id="96"><i>t</i><sub><i>PA</i></sub>:从站<i>A</i>数据处理延时时间;</p>
                </div>
                <div class="p1">
                    <p id="97"><i>t</i><sub><i>FB</i></sub>: 数据帧经过从站<i>B</i>返回主站的延时;</p>
                </div>
                <div class="p1">
                    <p id="98"><i>t</i><sub><i>AB</i></sub>: 数据帧在从站<i>A</i>、<i>B</i>之间的延时时间;</p>
                </div>
                <div class="p1">
                    <p id="99"><i>t</i><sub><i>WAB</i></sub>: 数据帧在从站<i>A</i>、<i>B</i>之间的线延时;</p>
                </div>
                <div class="p1">
                    <p id="100"><i>t</i><sub><i>A</i>0</sub>:数据帧到达首次到从站<i>A</i>的时刻;</p>
                </div>
                <div class="p1">
                    <p id="101"><i>t</i><sub><i>A</i>1</sub>:数据帧再次到达从站<i>A</i>的时刻;</p>
                </div>
                <div class="p1">
                    <p id="102"><i>t</i><sub><i>REF</i>_<i>C</i></sub>:从站<i>C</i>到参考时钟的延时时间;</p>
                </div>
                <div class="p1">
                    <p id="103"><i>t</i><sub><i>REF</i>_<i>B</i></sub>:从站<i>B</i>到参考时钟的延时时间;</p>
                </div>
                <div class="p1">
                    <p id="104">为了计算上述时钟漂移并进行补偿, 主站周期性的向从站发送系统时间, 从站记录系统时间并与接收到该帧时的本地时间作比较, 通过以下公式即可计算出本地时钟漂移</p>
                </div>
                <div class="p1">
                    <p id="105"><i>Δt</i>=<i>t</i><sub><i>local</i>_<i>time</i></sub>+<i>t</i><sub><i>offset</i></sub>-<i>t</i><sub><i>delay</i></sub>-<i>t</i><sub><i>recieve</i>_<i>sys</i>_<i>time</i></sub>       (15) </p>
                </div>
                <div class="p1">
                    <p id="106">如果△<i>t</i>&gt;0说明本地时间偏快, 则控制从站控制器的时间闭环调节环路, 使之变为每10<i>ns</i>即使只增加9<i>ns</i>, 动态弥补时间漂移;如果△<i>t</i>&lt;0说明本地时间偏慢, 则控制从站控制器的时间闭环调节环路, 使之变为每10<i>ns</i>即使只增加11<i>ns</i>, 动态弥补时间漂移;</p>
                </div>
                <div class="p1">
                    <p id="107">通过以上所述的延时计算、偏差补偿算法, 关节从站就可以在主站的控制下动态调整时钟节拍, 使自身时钟与参考时钟保持纳秒级别的同步。</p>
                </div>
                <h3 id="108" name="108" class="anchor-tag"><b>4 仿人机械臂半实物仿真系统</b></h3>
                <div class="p1">
                    <p id="109">为了验证机械臂多关节同步控制策略, 设计了机器人半实物仿真系统, 又称半物理仿真系统, 指在机械臂控制器和关节具备实物的情况下, 通过仿真软件构建机器人的运动学仿真模型进行试验研究的系统<citation id="182" type="reference"><link href="171" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。本项目基于V-rep仿真软件构建的仿人机械臂的运动学仿真模型作为半实物仿真系统的虚拟部分, 基于自主研发的机器人控制器和仿人机械臂关节作为半实物仿真系统的实物部分。半实物仿真系统架构如图5所示。</p>
                </div>
                <div class="area_img" id="110">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 半实物仿真系统架构" src="Detail/GetImg?filename=images/JSJZ201907064_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 半实物仿真系统架构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_110.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="111">机器人控制器通过EtherCAT实时以太网与仿人机器人关节连接对关节进行位置控制, 机器人关节接受机器人控制器的位置指令并实时反馈自身位置、速度等状态信息。机器人控制器通过TCP/IP接口与基于虚拟机器人实验环境V-REP中建立的机器人运动学仿真模型通信, 通过V-REP软件所在计算机的TCP/IP接口利用RemoteAPI接口开放仿真模型与机器人控制器的关节位置与速度、机械臂末端笛卡尔空间位置接口。机器人控制器将关节实物反馈的位置、速度等状态信息作为发送给仿真模型的命令, 仿真模型根据接收到的关节位置指令驱动仿真模型运动并根据机械臂运动学模型计算机械臂末端工具点的位置和姿态, 并且向机器人控制器反馈末端工作点在笛卡尔空间的位姿信息。数据记录模块进行实时数据存储, 最后通过Matlab软件进行离线数据分析。</p>
                </div>
                <div class="p1">
                    <p id="112">仿人机器人采用左右对称的机械臂结构, 左臂与右臂具有对称的运动学特性, 故仅对机器人右臂进行分析。最终设计了如下图所示的仿人型机械臂仿真系统。</p>
                </div>
                <div class="area_img" id="113">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 仿人型机械臂仿真平台" src="Detail/GetImg?filename=images/JSJZ201907064_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图6 仿人型机械臂仿真平台</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="114">仿人型机器人实验系统, 包含1个机器人主站、7个EtherCAT关节伺服从站及其电气系统, 其关键软硬件环境如下:</p>
                </div>
                <div class="p1">
                    <p id="115">1) 机械臂主控制器:采用单板嵌入式计算机搭载linux-2.6.3内核, 实时补丁RTAI3.4.9, 运行IGH EtherCAT主站;</p>
                </div>
                <div class="p1">
                    <p id="116">2) 关节伺服从站:ELMO gold whiter型伺服。</p>
                </div>
                <div class="p1">
                    <p id="117">驱动器, 应用层支持标准CANopen DS402</p>
                </div>
                <div class="p1">
                    <p id="118">伺服驱动系统协议。</p>
                </div>
                <h3 id="119" name="119" class="anchor-tag"><b>5 仿真分析</b></h3>
                <h4 class="anchor-tag" id="120" name="120"><b>5.1 控制系统实时性实验分析</b></h4>
                <div class="p1">
                    <p id="121">根据机械臂控制系统同步误差分析, 主站命令的不同步是引起机械臂多关节控制不同步的关键因素之一。而机器人主控制器采用的Linux操作系统本身不是实时系统, 为此本项目采用了操作系统的RTAI补丁改进Linux操作系统的实时性。 (RTAI是实时应用程序接口real-time-application interface的缩写) <citation id="183" type="reference"><link href="173" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="122">机器人控制系统的实时任务主要为内核周期性任务, 为此测试程序在内核空间加载如下负载任务进行操作系统响应latency、切换switches、抢占preempt测试:</p>
                </div>
                <div class="p1">
                    <p id="123">1) 创建5个线程进行反复的开平方根操作;</p>
                </div>
                <div class="p1">
                    <p id="124">2) 创建5个线程反复进行内存分配和释放;</p>
                </div>
                <div class="p1">
                    <p id="125">3) 创建5个线程进行反复的文件写操作;</p>
                </div>
                <div class="p1">
                    <p id="126">在仿人机械臂控制器上进行3小时周期为100000ns的测试, 测试结果如图7。</p>
                </div>
                <div class="area_img" id="127">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_127.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 机器人控制系统实时性测试" src="Detail/GetImg?filename=images/JSJZ201907064_127.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图7 机器人控制系统实时性测试</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_127.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="128">测试结果表明总结MIO5271 实时性能 最大响应延时0.0089097ms, 最大响应提前0.001242ms, 满足实时性能要求。</p>
                </div>
                <h4 class="anchor-tag" id="129" name="129"><b>5.2 关节空间同步控制实验分析</b></h4>
                <div class="p1">
                    <p id="130">本文分别对自由运行同步控制策略和网络分布时钟同步控制策略两种同步模式进行了实验研究。实验设计机器人控制器控制位置指令周期为1ms, 定时向仿人机械臂的两个关节发送位置命令, 并且每次发送的位置值在上一个的基础上增加0Xff0 (约0.03转) , 使两个关节伺服同步匀速运动, 关节电机转速为467r/min。</p>
                </div>
                <div class="p1">
                    <p id="131">EtherCAT分布运动控制系统工作于自由运行模式 (采样周期200μs) 实时记录两个关节电机转速, 并将转速差如下图所示</p>
                </div>
                <div class="area_img" id="132">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 自由运行模式下电机速率差" src="Detail/GetImg?filename=images/JSJZ201907064_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图8 自由运行模式下电机速率差</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="133">两个关节最高实时转速差可达150r/min, 同步控制效果比较差。</p>
                </div>
                <div class="p1">
                    <p id="134">运动控制系统工作于网络分布时钟同步运行模式 (采样周期200μs) 实时记录两台电机转速, 将两个关节转速差如图9所示.</p>
                </div>
                <div class="area_img" id="135">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_135.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 DC同步模式下电机速率曲线" src="Detail/GetImg?filename=images/JSJZ201907064_135.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图9</b> DC<b>同步模式下电机速率曲线</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_135.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="136">观察上图可知两个关节电机同步运动速度差最大为3r/min, 同步效果比较好。</p>
                </div>
                <h4 class="anchor-tag" id="137" name="137"><b>5.3 机械臂末端轨迹跟踪试验</b></h4>
                <div class="p1">
                    <p id="138">末端轨迹的跟踪精度是评价控制系统性能的重要指标, 在半实物仿真系统根据机器人运动学模型设定机器人末端工具点沿直线向量运动, 笛卡尔空间和关节空间轨迹均按照梯形速度进行插补, 分别测试机器人在自由运行同步控制模式和网络分布时钟同步控制模式下机器人末端工具点的直线轨迹跟踪误差, 误差曲线如图10所示。</p>
                </div>
                <div class="area_img" id="139">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201907064_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 机器人直线轨迹跟踪误差" src="Detail/GetImg?filename=images/JSJZ201907064_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图10 机器人直线轨迹跟踪误差</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201907064_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="140">上面的曲线为自由运行同步控制模式下的误差, 其最大误差6mm, 平均误差约2.8mm。下面曲线为网络分布时钟同步控制模式下的轨迹跟踪误差, 其最大误差为1.7mm, 平均误差约0.8mm。可见自由运行同步控制方法由于各个关节伺服从站时钟差异造成关节指令采样和伺服控制节拍异步较大, 在7个关节同步运行中形成较大的差异并被仿人机械臂的串联结构逐级放大造成了末端工具点较大的轨迹跟踪误差, 而基于网络分布时钟的同步控制方式则很好的克服上述缺陷更适用于仿人机械臂的高精度位置控制。</p>
                </div>
                <h3 id="141" name="141" class="anchor-tag"><b>6 结束语</b></h3>
                <div class="p1">
                    <p id="142">以7自由度仿人机械臂的多关节高精度同步控制为目的, 采用基于EtherCAT的分布式控制架构, 基于网络分布时钟机制的多关节同步控制策略对控制系统进行了设计, 并在半物理仿真平台上进行了仿真, 使得仿人机械臂在关节空间和笛卡尔空间的同步控制精度均得到了较大的动态控制效果, 验证了该方法可以解决机械臂由分布式控制系统中多关节响应不同步引起的末端轨迹动态误差为提高机械臂的动态轨迹精度提供了有效手段。</p>
                </div>
                <div class="area_img" id="184">
                                <img alt="" src="Detail/GetImg?filename=images/JSJZ201907064_18400.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="157">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=BFGY201702013&amp;v=MDIzNjY0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZ5am5WcnpLSnl2TWQ3RzRIOWJNclk5RVo0UUtESDg0dlI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 刘洋, 孙恺.协作机器人的研究现状与与技术发展分析[J].北方工业大学学报, 2017, 29 (2) :76-85.
                            </a>
                        </p>
                        <p id="159">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JQRR201103015&amp;v=Mjc1MzN5am5WcnpLTHp6WmZMRzRIOURNckk5RVlZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 田野, 陈晓鹏, 贾东永, 孟非, 黄强.仿人机器人轻型高刚性手臂设计及运动学分析[J].机器人, 2011, 3303:332-339.
                            </a>
                        </p>
                        <p id="161">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016327975.nh&amp;v=MTc0MzdCdEdGckNVUjdxZlp1Wm5GeWpuVnJ6S1ZGMjZHTEM2R2RqTHFwRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXE=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 李程程.七自由度机械臂控制系统设计与研究[D].东南大学, 2016.
                            </a>
                        </p>
                        <p id="163">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Introduction to Robotics:Mechanics and Control">

                                <b>[4]</b> John Craig.Introduction to Robotics:Mechanics and Control[M].2005m, (3) :48-70.
                            </a>
                        </p>
                        <p id="165">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201608072&amp;v=Mjg2NDlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZ5am5WcnpLTHo3QmRMRzRIOWZNcDQ5Q1pvUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 杨吕剑, 沈林勇, 丁航.四自由度上肢康复机器人运动轨迹规划与仿真[J].计算机仿真, 2016, 3308:332-337.
                            </a>
                        </p>
                        <p id="167">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787512400078001&amp;v=Mjg3MzhxekdiYTVITlhNcjQ5Q2JPc1BEUk04enhVU21EZDlTSDduM3hFOWZidm5LcmlmWmVadkZ5bnNVNy9LSlYwV1hG&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 郇极, 等.工业以太网现场总线EtherCAT驱动程序设计及应用[M].北京:北京航空航天出版社, 2010.
                            </a>
                        </p>
                        <p id="169">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=2009173290.nh&amp;v=MTQxODg2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GeWpuVnJ6S1YxMjdGN0svSGRQRnI1RWJQSVFLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 许万.基于实时以太网的多轴运动控制系统研究[D].华中科技大学机械电子工程专业博士学位论文, 2009.
                            </a>
                        </p>
                        <p id="171">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201502082&amp;v=MjAyMjI3QmRMRzRIOVRNclk5TlpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZ5am5WcnpLTHo=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 张智, 邹盛涛, 李佳桐, 李超.六自由度机械手三维可视化仿真研究[J].计算机仿真, 2015, 3202:374-377+382.
                            </a>
                        </p>
                        <p id="173">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A design of realtime communication based on EtherCAT in industrial robot control system based on LinuxCNC">

                                <b>[9]</b> B HShi, Y Z Wang, C Ding.A design of realtime communication based on EtherCAT in industrial robot control system based on LinuxCNC[C].Control and Decision Conference.IEEE, 2017:5776-5780.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJZ201907064" />
        <input id="dpi" type="hidden" value="400" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201907064&amp;v=MTIwMDBMejdCZExHNEg5ak1xSTlEWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnlqblZyeks=&amp;uid=WEEvREcwSlJHSldRa1FhdXNzY2Z1OVRsbWkycFBkejk2L1VObmUxUWpzZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=842_VlRz_g1CMCLi-M0twVw-4EOFG_noWyi_OsMnrAg1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
