<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=NOOK-mvTMnxl11s6oPYV0boPXN3iP4N7Rc-A56nk4KI1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2fKXReader%2fDetail%3fTIMESTAMP%3d637141009269635000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJSJZ201906067%26RESULT%3d1%26SIGN%3dMaI7qbegfyCU%252faYPOonpePAipCo%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201906067&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JSJZ201906067&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201906067&amp;v=MTAyNzJxWTlEWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnk3bVVMN0FMejdCZExHNEg5ak0=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#17" data-title="&lt;b&gt;1 引言&lt;/b&gt; "><b>1 引言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#22" data-title="&lt;b&gt;2 预演的演变发展&lt;/b&gt; "><b>2 预演的演变发展</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#27" data-title="&lt;b&gt;3 实时预演仿真的原理&lt;/b&gt; "><b>3 实时预演仿真的原理</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#32" data-title="&lt;b&gt;4 实时预演仿真原型系统&lt;/b&gt; "><b>4 实时预演仿真原型系统</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#33" data-title="&lt;b&gt;4.1 系统架构设计&lt;/b&gt;"><b>4.1 系统架构设计</b></a></li>
                                                <li><a href="#48" data-title="&lt;b&gt;4.2 实时预演仿真关键技术&lt;/b&gt;"><b>4.2 实时预演仿真关键技术</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#72" data-title="&lt;b&gt;5 系统实现与应用&lt;/b&gt; "><b>5 系统实现与应用</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#81" data-title="&lt;b&gt;6 结语&lt;/b&gt; "><b>6 结语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#25" data-title="&lt;b&gt;图1&lt;/b&gt; 《&lt;b&gt;黑客帝国2》动画预演&lt;/b&gt;"><b>图1</b> 《<b>黑客帝国2》动画预演</b></a></li>
                                                <li><a href="#29" data-title="&lt;b&gt;图2 传统预演与实时预演原理&lt;/b&gt;"><b>图2 传统预演与实时预演原理</b></a></li>
                                                <li><a href="#47" data-title="&lt;b&gt;图3 虚拟预演仿真系统架构&lt;/b&gt;"><b>图3 虚拟预演仿真系统架构</b></a></li>
                                                <li><a href="#53" data-title="&lt;b&gt;图4 倾斜摄影的主体技术路线&lt;/b&gt;"><b>图4 倾斜摄影的主体技术路线</b></a></li>
                                                <li><a href="#57" data-title="&lt;b&gt;图5 线性摄像机模型&lt;/b&gt;"><b>图5 线性摄像机模型</b></a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;图6&lt;/b&gt; “&lt;b&gt;虚拟摄像机&lt;/b&gt;”"><b>图6</b> “<b>虚拟摄像机</b>”</a></li>
                                                <li><a href="#77" data-title="&lt;b&gt;图7 整体拍摄过程&lt;/b&gt;"><b>图7 整体拍摄过程</b></a></li>
                                                <li><a href="#79" data-title="&lt;b&gt;图8 运行时帧率统计&lt;/b&gt;"><b>图8 运行时帧率统计</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" Ryosuke Ichikari, Keisuke Kawano, Asako Kimura, Fumihisa Shibata, Hideyuki Tamura.Mixed Reality Pre-Visualization and Camera-Work Authoring in Filmmaking[J].Transactions of the Virtual Reality Society of Japan, 2007, 12 (3) ." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Mixed Reality Pre-Visualization and Camera-Work Authoring in Filmmaking">
                                        <b>[1]</b>
                                         Ryosuke Ichikari, Keisuke Kawano, Asako Kimura, Fumihisa Shibata, Hideyuki Tamura.Mixed Reality Pre-Visualization and Camera-Work Authoring in Filmmaking[J].Transactions of the Virtual Reality Society of Japan, 2007, 12 (3) .
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 刘戈三, 王春水, 郭蕴辉.电影虚拟化制作中预演技术的研究与应用探讨[J].现代电影技术, 2016, (2) :19-27" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YSJZ201602006&amp;v=MTU4MjNVUjdxZlp1Wm5GeTdtVUw3QVBEN0JkTEc0SDlmTXJZOUZZb1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         刘戈三, 王春水, 郭蕴辉.电影虚拟化制作中预演技术的研究与应用探讨[J].现代电影技术, 2016, (2) :19-27
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" Wang Jinyi, Oskar Juhlin, Eva-Carin Banka Johnson.Previsualization with Computer Animation (Previs) :Communicating Research to Interaction Design Practice[C].Australian Computer-human Interaction Conference on Designing Futures:the Future of Design, 2014:11-20." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Previsualization with Computer Animation (Previs):Communicating Research to Interaction Design Practice">
                                        <b>[3]</b>
                                         Wang Jinyi, Oskar Juhlin, Eva-Carin Banka Johnson.Previsualization with Computer Animation (Previs) :Communicating Research to Interaction Design Practice[C].Australian Computer-human Interaction Conference on Designing Futures:the Future of Design, 2014:11-20.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" G Briand, F Bidgolirad, J F Szlapka, J M Lavalou, M Lanouiller, M Christie, J Lvoff, P Bertolino, E Guillou.On-Set Previsualization for VFX Film Production[C].International Broadcasting Convention.2014:1-8." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=On-Set Previsualization for VFX Film Production">
                                        <b>[4]</b>
                                         G Briand, F Bidgolirad, J F Szlapka, J M Lavalou, M Lanouiller, M Christie, J Lvoff, P Bertolino, E Guillou.On-Set Previsualization for VFX Film Production[C].International Broadcasting Convention.2014:1-8.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 王琳, 吴正鹏, 姜兴钰, 陈楚.无人机倾斜摄影技术在三维城市建模中的应用[J].测绘与空间地理信息, 2015, 38 (12) :30-32." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DBCH201512009&amp;v=MTczNjFIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnk3bVVMN0FJUy9JWnJHNEg5VE5yWTlGYllRS0Q=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         王琳, 吴正鹏, 姜兴钰, 陈楚.无人机倾斜摄影技术在三维城市建模中的应用[J].测绘与空间地理信息, 2015, 38 (12) :30-32.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 乔甜.基于摄像机运动的测量模型及仿真建模研究[D].青岛大学, 2007." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2007150490.nh&amp;v=MTczNTZQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GeTdtVUw3QVYxMjdHYks5SHRYRnI1RWI=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         乔甜.基于摄像机运动的测量模型及仿真建模研究[D].青岛大学, 2007.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 陈宝权, 秦学英.混合现实中的虚实融合与人机智能交融[J].中国科学:信息科学, 2016, 46 (12) :1737-1747." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=PZKX201612004&amp;v=MDYyMTh0R0ZyQ1VSN3FmWnVabkZ5N21VTDdBTlRmQWRyRzRIOWZOclk5RllJUUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         陈宝权, 秦学英.混合现实中的虚实融合与人机智能交融[J].中国科学:信息科学, 2016, 46 (12) :1737-1747.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JSJZ" target="_blank">计算机仿真</a>
                2019,36(06),326-331             </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>关于电影实时预演仿真系统优化设计研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E9%80%B8&amp;code=34757553&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李逸</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E4%B8%81%E5%88%9A%E6%AF%85&amp;code=06339210&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">丁刚毅</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8C%97%E4%BA%AC%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2&amp;code=0188644&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">北京理工大学软件学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>预演是一种在影视拍摄的过程中为创编人员提供实拍前预览的技术。预演在影视拍摄流程中是一项很重要的工作, 对于预演的技术拓展也一直在进行。针对传统预演的方法与真实拍摄差异较大且不同步、提前制作耗费时间长、难以随意修改、人工成本高等特点, 为了更加准确、高效的实现预演目标, 设计了一套电影实时预演仿真系统。利用无人机拍摄自然地形的倾斜影像辅助进行快速三维建模;使用光学式动作捕捉结合半实物仿真设计了一种用于实时虚拟拍摄的摄像机, 实时记录摄像机位置姿态数据并输出标准数据复用于真实设备, 实时渲染真实场景进行虚拟拍摄进行实时预演。经过实际影片的拍摄实践, 运行时帧率达到实时的要求, 获得了较好的预演效果, 具备实际意义及推广性。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B7%B7%E5%90%88%E7%8E%B0%E5%AE%9E&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">混合现实;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%94%B5%E5%BD%B1%E9%A2%84%E6%BC%94&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">电影预演;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%99%9A%E6%8B%9F%E6%8B%8D%E6%91%84&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">虚拟拍摄;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    李逸 (1993-) , 女 (汉族) , 北京人, 硕士研究生, 主要研究领域为数字表演、虚拟现实。;
                                </span>
                                <span>
                                    丁刚毅 (1966-) , 男 (汉族) , 内蒙古根河人, 教授, 博士研究生导师, 中国计算机用户协会仿真应用分会副理事长, 《计算机仿真》编委会副主任, 主要研究领域为计算机仿真。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-04-12</p>

            </div>
                    <h1><b>Research on Optimal Designing Real-Time Pre-Visualization Simulation System for Movies</b></h1>
                    <h2>
                    <span>LI Yi</span>
                    <span>DING Gang-yi</span>
            </h2>
                    <h2>
                    <span>Software School of Beijing Institute of Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Pre-visualization is a technique that provides previewing of real shooting for the creators during the filming process. The traditional pre-visualization method is very different from the real shooting process, while the pre-rendering is a waste of time and money, the result is difficult to modify. Therefore, to achieve a more accurate and efficient result, a real-time pre-visualization simulation prototype system for movies was developed. To meet the needs of pre-visualization, this system used image modeling methods to assist three-dimensional modeling and used optical motion capture technology as a semi-physical camera to provide tracking and positioning, output reusable standard camera motion data, and make virtual cinematography. The system has achieved the desired results with real film, and the runtime frame rate can meet the real-time requirements. It has practical significance and promotion.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Mixed%20Reality&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Mixed Reality;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Pre-visualization&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Pre-visualization;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Virtual%20cinematography&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Virtual cinematography;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-04-12</p>
                            </div>


        <!--brief start-->
                        <h3 id="17" name="17" class="anchor-tag"><b>1 引言</b></h3>
                <div class="p1">
                    <p id="18">如今, 电影电视行业正在经历前所未有的蓬勃发展, 为了展现高质量的视觉效果, 市面所见的影视作品中, 各种特效、三维动画角色等都有越来越多的应用, 甚至有的动画角色已经成为影视作品的主角, 并为观众所熟知。被拍摄主体的改变必然会导致拍摄的过程、拍摄方法也会有所不同, 其中, 电影的虚拟预演就是其中一个重要的部分<citation id="84" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="19">预演, 通常指在影视实际拍摄之前, 导演创意团队对影片将如何拍摄做出的预先创意估计。传统的电影预演常以故事板、手绘动画等形式出现, 随着计算机技术的发展, 也会使用全三维制作的方法对影片片段进行模拟。但是, 以这些方式进行预演时, 预演过程本身仍与影片的拍摄过程相分离, 尤其是在拍摄特效众多的现代电影时, 更会对其它环节产生滞碍影响。因此, 找到一种能够使导演在实际拍摄时能够进行动态创意的方法, 成为了影视行业最迫切的需求。</p>
                </div>
                <div class="p1">
                    <p id="20">目前好莱坞的预演技术发展得最为成熟, 有如The Third Floor Inc这样的专业公司, 自身积累有庞大数字资产库和成熟的工作流程, 能够为商业化电影提供完整的虚拟预演服务;也有欧盟资助的Dreamspace科研项目在对此进行研究。而我国在虚拟预演以及影视制作工业化流程方面与国外依然存在着很大的差距, 国内从业人员对相关技术仍不甚了解<citation id="85" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="21">鉴于这种现状, 在前人的技术基础上, 本文提出了一套电影实时预演仿真系统, 借助引擎对当前的预演流程进行优化设计, 将混合现实技术、实时渲染技术应用于现有的电影拍摄流程, 通过对自然地形的三维建模仿真, 实现真实环境与虚拟环境的深度融合;通过光学动作捕捉技术采集虚拟拍摄设备的位置姿态, 使虚拟环境中的摄影机能够被实时操控进行拍摄;导出标准化的数据文件, 并能够在真实设备中进行复用。最终, 通过该系统在实际的电影拍摄过程中, 代替原有的“离线”预演模式, 让导演及其它创意人员能够即时看到高质量的真实场景与特效相融合的画面, 能够实时进行“在线”预演, 提高整体工作效率。</p>
                </div>
                <h3 id="22" name="22" class="anchor-tag"><b>2 预演的演变发展</b></h3>
                <div class="p1">
                    <p id="23">早在20世纪初, 美国著名摄影师安塞尔·亚当斯一部关于摄影的书中首次提到“预演”, 或者说是摄影概念中的“预制化”, 将其定义为“在曝光之前能够预测将要得到图像的能力”。如果把它扩展到影视的概念中, 那么就是在完成全片之前, 能够预测成片效果的能力。</p>
                </div>
                <div class="p1">
                    <p id="24">故事板 (Storyboard) 是最早的使制作人员能够拥有这项能力的一种规划性技术。故事板由迪士尼工作室在动画制作中最先开始使用, 第一个完整的故事板是为1933年迪士尼短片《三只小猪》创造的。故事板本质上是一系列的框架, 其中包括电影中的事件序列的绘图, 以及一些指示人物运动的标记, 能帮助电影导演、摄影师对将要拍摄的场景进行可视化处理, 并发现设计中潜在的问题进行改进。此外, 故事板还有助于估算整体影片的生产成本, 相应的也能够避免一些不必要的时间浪费。</p>
                </div>
                <div class="area_img" id="25">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 《黑客帝国2》动画预演" src="Detail/GetImg?filename=images/JSJZ201906067_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图1</b> 《<b>黑客帝国2》动画预演</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_025.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="26">随着计算机技术的不断发展, 以纸张为依托的故事板逐渐变为计算机中动态的分镜头动画。这种预演也被称为虚拟预演。美国好莱坞最先运用计算机技术辅助来制作动态故事板的影片, 包括《泰坦尼克号》、《黑客帝国》系列、《变形金刚》系列影片在内, 都在其拍摄过程中运用了以预制三维动画的方式进行了虚拟预演 (如图1所示) 。虚拟预演是连接导演、摄像、灯光、剪辑等各类工作的桥梁, 影视的核心创作凭借三维场景的帮助变得具象, 虚拟预演的产物是实际拍摄开始前重要的参考范本。</p>
                </div>
                <h3 id="27" name="27" class="anchor-tag"><b>3 实时预演仿真的原理</b></h3>
                <div class="p1">
                    <p id="28">对于如今越来越多的使用大量数字资产的特效电影来说, 除了与传统电影相同的对于预先设计镜头画面需求以外, 创作团队更是必须了解每一个演员、每一处特效在虚拟场景中将要出现的位置, 以及是否演员要与特效、三维动画进行交互等信息<citation id="86" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。以三维动画方式的虚拟预演为例, 传统三维动画预演的流程首先是预演制作团队从特效团队处接手数字资产, 然后按照导演给出的创意进行动画制作, 以预估的角度使用计算机虚拟摄像机进行拍摄, 最终渲染成片<citation id="87" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。这种预演片段从导演给出创意到交还回导演手中需要经历很长的时间, 而拍摄电影本是一个快节奏的过程, 时间和金钱都是极有限的资源——除了对电影真正内容、演员演技需精雕细琢之外, 不应在其它环节浪费。因此, 预演技术必须进行优化, 必将逐渐转变为一项实时的技术。</p>
                </div>
                <div class="area_img" id="29">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 传统预演与实时预演原理" src="Detail/GetImg?filename=images/JSJZ201906067_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图2 传统预演与实时预演原理</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_029.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="30">传统的预演方式与实时预演仿真的原理分别如图<b>2</b>所示。在传统的三维动画方式预演中, 由于导演的创意在创作过程中是不断变化的, 传统的预演方式需要对动画制作这一过程进行多次迭代, 同时, 这个过程脱离实际拍摄, 是“离线”的。而实时预演中, 能够对虚拟场景进行实时编辑, 任何一处更改带来的影响都能及时得到反馈。此外, 相较于传统的三维动画, 实时预演的另一个优势是能够与人进行自然的实时交互, 虚拟场景对于导演来说不再是由团队直接呈现给它的画面, 而是能够直接操纵的元素。因此, 使用实时预演代替固定的动画制作时, 预演能够直接融入从真实场景到虚拟场景的转化过程, 创意能够随时得到反馈, 减少了在迭代过程中的浪费, 提升了整体效率。</p>
                </div>
                <div class="p1">
                    <p id="31">如果说传统的预演是一个单纯的前期可视化参考工具, 那么具有实时性的预演则是一种能够贯穿准备期和正式拍摄期的具有强交互性的创意工具, 使前期后期的工作不再是分离的, 而是融为一体, 对于未来的影视工业化流程具有重大的意义。</p>
                </div>
                <h3 id="32" name="32" class="anchor-tag"><b>4 实时预演仿真原型系统</b></h3>
                <h4 class="anchor-tag" id="33" name="33"><b>4.1 系统架构设计</b></h4>
                <div class="p1">
                    <p id="34">在本研究中, 借助实时渲染引擎, 设计优化并实现了一套实时虚拟预演仿真系统, 旨在为影视制作团队提供虚拟预演的实时手段。该系统整体系统架构如图<b>3</b>所示, 依据功能不同可以划分为以下几个模块:</p>
                </div>
                <h4 class="anchor-tag" id="35" name="35"><b>1</b>) 环境场景模块</h4>
                <div class="p1">
                    <p id="36">环境场景模块主要实现与虚拟场景环境有关的部分, 对环境及其效果进行设置。通过人工手动建模、数据建模以及倾斜摄影图像建模等方法, 将真实环境进行数字化三维重建, 构建出与真实空间高度相似的虚拟空间, 通过光学、机械传感器模拟与真实空间相似的虚拟动态空间, 对所有模型的数据进行标签管理、储存。</p>
                </div>
                <h4 class="anchor-tag" id="37" name="37"><b>2</b>) 摄像机仿真模块</h4>
                <div class="p1">
                    <p id="38">摄像机仿真模块主要实现与拍摄参数相关的部分。通过数学模型, 写入相应参数, 对于虚拟拍摄过程中用到的真实摄像机数据进行仿真, 并能够灵活的调节, 如焦距、光圈值等参数, 得到与真实摄像机相同的画面视角;能够按照一定的数据格式读取、储存、输出摄像机的运动数据, 与真实摄像机能够互通并联动。</p>
                </div>
                <h4 class="anchor-tag" id="39" name="39"><b>3</b>) 动作捕捉模块</h4>
                <div class="p1">
                    <p id="40">动作捕捉模块主要实现两个部分功能, 一是用于场景内人物角色的动作建模, 二是用于刚体运动跟踪。利用机械式动作捕捉设备记录的人体动作数据, 经过滤波后, 以三维动画的形式进行可视化展现;使用光学式动作捕捉设备定位“虚拟”摄像机, 得到运动数据并实时反馈回仿真系统中。</p>
                </div>
                <h4 class="anchor-tag" id="41" name="41"><b>4</b>) 特殊效果模块</h4>
                <div class="p1">
                    <p id="42">特殊效果模块通过物理计算、贴图模拟等方式实现影视中常见的火焰、爆炸、烟雾、水体特效等。通过仿真引擎的粒子模拟系统, 实现风、雨、雪、雾及其它次世代特殊效果的模拟。</p>
                </div>
                <h4 class="anchor-tag" id="43" name="43"><b>5</b>) 交互管理模块</h4>
                <div class="p1">
                    <p id="44">交互管理模块主要实现三维场景中所有可操作物体和行为主体之间的交互行为设置、管理。能够设置系统中各个操作角色相互之间的行为效果及反馈, 管理各行为主体对于当前共享虚拟环境的可视权限、交互权限以及归属权限等。</p>
                </div>
                <h4 class="anchor-tag" id="45" name="45"><b>6</b>) 数据管理与数据传输模块</h4>
                <div class="p1">
                    <p id="46">数据管理与传输模块主要实现硬件设备与虚拟空间、硬件设备之间、虚拟空间内所有可操作元素间的信息交换与数据管理。管理各种硬件设备与系统的连接的驱动程序, 集中处理整个虚拟环境中的各种信息, 根据不同的行为主体进行归类整合、计算;管理行为主体间、行为主体与系统间的网络数据传输。</p>
                </div>
                <div class="area_img" id="47">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 虚拟预演仿真系统架构" src="Detail/GetImg?filename=images/JSJZ201906067_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图3 虚拟预演仿真系统架构</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="48" name="48"><b>4.2 实时预演仿真关键技术</b></h4>
                <h4 class="anchor-tag" id="49" name="49"><b>4.2.1</b> 倾斜摄影建模技术</h4>
                <div class="p1">
                    <p id="50">由于人力、物力制约, 在进行预演仿真时, 经常有涉及到大面积自然环境的场景的预演需求。若采用传统的手工地形建模方法, 就不能保证与真实环境完全相同。与普通<b>CG</b>动画制作的需求不同, 预演在仿真的精度要求上很高, 若是在建模环节产生过大的差距, 那么预演镜头会与真实镜头产生更大的偏差, 从而失去预演的意义。因此, 手工建模是一种既费时费力, 效果又差的下策。针对这一问题, 本研究中采用了倾斜摄影快速建模技术代替传统的人工方法对自然地形进行快速建模。</p>
                </div>
                <div class="p1">
                    <p id="51">倾斜摄影技术原本是测绘领域中常用的一种技术, 用于构建地理模型<citation id="88" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。该技术的基本原理是通过在一个指定的飞行平台上搭载多台传感器或拍摄镜头, 从多个角度 (一般是“一个垂直、四个倾斜”) 对下方景象进行同步地曝光采集工作, 以获取真实的地理、物理信息;然后采用专业软件, 对采集来的数据进行一定的后期处理, 将其逐步转变为可用的三维模型。近年来, 由于无人机技术发展极为迅速, 倾斜摄影逐渐以能够低成本、敏捷高效地实现三维景观的快速构建的特点脱颖而出, 在越来越多的行业领域中得到了应用。</p>
                </div>
                <div class="p1">
                    <p id="52">倾斜摄影的主体技术路线如图<b>4</b>所示。根据“一个垂直、四个倾斜”的原则使用无人机获取待建模场景的原始影像后, 首先需要对其进行空中三角测量, 以获得这些图像的高精度外方位元素;接下来, 对图像中的畸变部分进行校正之后, 与高精度外方位元素一起, 通过多视角影响的密集匹配方法, 生成密集点云阵, 并基于这些点云构建不规则三角网 (<b>Triangulated Irregular Network, TIN</b>) 模型;其次, 根据<b>TIN</b>模型的每个三角面片对应的法线方程以及倾斜图像间的夹角, 选择相应的纹理进行自动关联;最后, 得到匹配纹理的三维模型进行输出。</p>
                </div>
                <div class="area_img" id="53">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 倾斜摄影的主体技术路线" src="Detail/GetImg?filename=images/JSJZ201906067_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图4 倾斜摄影的主体技术路线</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_053.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="54" name="54"><b>4.2.2</b> 虚拟拍摄技术</h4>
                <div class="p1">
                    <p id="55">传统的预演方式使用镜头草图或示意性的三维动画对拍摄进行规划, 不能够进行精确参考。为提高实时预演的准确性, 需要对真实摄像机的建立数学模型进行计算, 以精确地还原摄像机的拍摄效果。</p>
                </div>
                <div class="p1">
                    <p id="56">此处的数学模型, 是指三维空间中的物体与成像平面之间的投影关系, 用于描述三维空间中的任意一点与其在成像平面上的成像点之间的关系。常规摄像机的镜头是线性的, 一些特殊镜头 (如广角、鱼眼镜头) 则是非线性的。本文只对线性模型展开研究, 其它情况请参考文献<citation id="89" type="reference">[<a class="sup">6</a>]</citation>。</p>
                </div>
                <div class="area_img" id="57">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_057.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 线性摄像机模型" src="Detail/GetImg?filename=images/JSJZ201906067_057.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图5 线性摄像机模型</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_057.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="58">如图所示, 定义如下四个坐标系:世界坐标系<b><i>O</i></b><sub><b><i>w</i></b></sub><b><i>x</i></b><sub><b><i>w</i></b></sub><b><i>y</i></b><sub><b><i>w</i></b></sub><b><i>z</i></b><sub><b><i>w</i></b></sub>、镜头坐标系<b><i>O</i></b><sub><b><i>c</i></b></sub><b><i>x</i></b><sub><b><i>c</i></b></sub><b><i>y</i></b><sub><b><i>c</i></b></sub><b><i>z</i></b><sub><b><i>c</i></b></sub>、成像坐标系<b><i>O</i></b><sub><b><i>i</i></b></sub><b><i>x</i></b><sub><b><i>i</i></b></sub><b><i>y</i></b><sub><b><i>i</i></b></sub>、图像像素坐标系<b><i>Ouv</i></b>。对于空间中任意一点<b>P (<i>X</i></b><sub><b><i>w</i></b>, </sub><b><i>Y</i></b><sub><b><i>w</i></b>, </sub><b><i>Z</i></b><sub><b><i>w</i></b></sub>) , 该点与镜头中心 (即镜头坐标系<b><i>O</i></b><sub><b><i>c</i></b></sub>) 间的连线与成像平面的交点, 就是该点的成像点。点<b><i>P</i></b>在镜头坐标系下的坐标为 (<b><i>X</i></b><sub><b><i>c</i></b>, </sub><b><i>Y</i></b><sub><b><i>c</i></b>, </sub><b><i>Z</i></b><sub><b><i>c</i></b></sub>) , 成像平面坐标为 (<b><i>x</i>, <i>y</i></b>) , 像素坐标为 (<b><i>u</i>, <i>v</i></b>) 。各种坐标之间的关系如下:</p>
                </div>
                <div class="p1">
                    <p id="59"><b>1</b>) 点<b><i>P</i></b>的成像坐标与镜头坐标的关系为</p>
                </div>
                <div class="p1">
                    <p id="60" class="code-formula">
                        <mathml id="60"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ζ</mi><msub><mrow></mrow><mi>c</mi></msub><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mi>y</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>f</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>f</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mspace width="0.25em" /><mspace width="0.25em" /><mrow><mo> (</mo><mrow><mspace width="0.25em" /><mtable><mtr><mtd><mi>X</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mi>Y</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="61"><b>2</b>) 点<b><i>P</i></b>的像素坐标与成像坐标的关系为</p>
                </div>
                <div class="p1">
                    <p id="62" class="code-formula">
                        <mathml id="62"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>u</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mi>v</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mfrac><mn>1</mn><mrow><mi>d</mi><mi>x</mi></mrow></mfrac></mtd><mtd><mn>0</mn></mtd><mtd><mi>u</mi><msub><mrow></mrow><mn>0</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mfrac><mn>1</mn><mrow><mi>d</mi><mi>y</mi></mrow></mfrac></mtd><mtd><mi>v</mi><msub><mrow></mrow><mn>0</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>2</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="63"><b>3</b>) 点<b><i>P</i></b>的世界坐标与镜头坐标的关系为:</p>
                </div>
                <div class="p1">
                    <p id="64" class="code-formula">
                        <mathml id="64"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>X</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mi>Y</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>c</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>R</mi></mtd><mtd><mi>Τ</mi></mtd></mtr><mtr><mtd><mn>0</mn><msup><mrow></mrow><mi>Τ</mi></msup></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mspace width="0.25em" /><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>X</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Y</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mspace width="0.25em" /><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>3</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="65">由式 (<b>1) , (2) , (3</b>) 能够得到总体公式</p>
                </div>
                <div class="p1">
                    <p id="66" class="code-formula">
                        <mathml id="66"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtable columnalign="left"><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>c</mi></msub><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>u</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mi>v</mi><msub><mrow></mrow><mi>i</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mo>=</mo><mi>Μ</mi><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>X</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Y</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mo>=</mo><mi>Μ</mi><msub><mrow></mrow><mn>1</mn></msub><mi>Μ</mi><msub><mrow></mrow><mn>2</mn></msub><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>X</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Y</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mi>Ζ</mi><msub><mrow></mrow><mi>w</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mtd></mtr><mtr><mtd><mtext>其</mtext><mtext>中</mtext><mo>:</mo><mi>Μ</mi><msub><mrow></mrow><mn>1</mn></msub><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mfrac><mn>1</mn><mrow><mi>d</mi><mi>x</mi></mrow></mfrac></mtd><mtd><mn>0</mn></mtd><mtd><mi>u</mi><msub><mrow></mrow><mn>0</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mfrac><mn>1</mn><mrow><mi>d</mi><mi>y</mi></mrow></mfrac></mtd><mtd><mi>v</mi><msub><mrow></mrow><mn>0</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow><mspace width="0.25em" /><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>f</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>f</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow></mtd></mtr><mtr><mtd><mi>Μ</mi><msub><mrow></mrow><mn>2</mn></msub><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>R</mi></mtd><mtd><mi>Τ</mi></mtd></mtr><mtr><mtd><mn>0</mn><msup><mrow></mrow><mi>Τ</mi></msup></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>) </mo></mrow></mtd></mtr></mtable></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="67">式 (<b>4</b>) 中, <b><i>f</i></b>表示镜头的焦距;<b><i>dx</i></b>和<b><i>dy</i></b>分别表示像素点在<b><i>x</i></b>方向和<b><i>y</i></b>方向的真实大小;<b><i>u</i></b><sub><b>0</b></sub>和<b><i>v</i></b><sub><b>0</b></sub>表示镜头的光轴与成像平面交点的坐标;<b><i>R</i></b>和<b><i>T</i></b>分别是镜头的相关外部参数, 表示平移和旋转量;<b><i>M</i></b><sub><b>1</b></sub>和<b><i>M</i></b><sub><b>2</b></sub>分别称为镜头的内外参数矩阵, <b><i>M</i></b>则称为投影矩阵。</p>
                </div>
                <div class="p1">
                    <p id="68">该公式能够用于描述任意点<b><i>P</i></b>的世界坐标与镜头成像的图像像素坐标之间的关系, 并包含外部运动参数。而使用计算机动画制作预演时, 虚拟摄像机经常会被设置到现实中不可能达到的位置, 相应的运动参数不能转化为真实的拍摄方式。为了避免此类问题, 使预演能够更接近真实的拍摄, 本研究基于混合现实理论<citation id="90" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>提出了一种“虚拟”摄像机。</p>
                </div>
                <div class="p1">
                    <p id="69">该虚拟摄像机机身由两部分组成, 如图<b>6</b>所示。其中, 负责视觉图像的部分由一块约<b>0.15m×0.12m</b>大小的<b>LCD</b>显示屏构成, 能够模拟显示仿真系统虚拟空间中的摄像机所拍摄到的画面;负责运动控制与数据传输的部分由光学传感器构成, 配合使用场地内的光学动作捕捉设备, 能够实时捕获该虚拟摄像机在真实空间内的位置, 将数据传输至仿真系统终端, 依照式 (<b>4</b>) 修改外参数矩阵, 从而改变仿真系统内摄像机的位置、角度, 以更新摄像机视角图像。</p>
                </div>
                <div class="area_img" id="70">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_070.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 “虚拟摄像机”" src="Detail/GetImg?filename=images/JSJZ201906067_070.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图6</b> “<b>虚拟摄像机</b>”  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_070.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="71">该系统的工作原理是利用真实的摄像机运动数据, 反驱动虚拟空间内的仿真体, 并实时反馈仿真结果给真实空间。真实空间内的用户能够实时操纵虚拟摄像机, 拍摄虚拟图景, 达到混合现实的效果。</p>
                </div>
                <h3 id="72" name="72" class="anchor-tag"><b>5 系统实现与应用</b></h3>
                <div class="p1">
                    <p id="73">本系统主要使用<b>Windows</b>操作系统进行基础性开发, 同时也支持苹果<b>Mac OS</b>系统、其它<b>Linux</b>系统平台的移植。实时渲染部分主要使用<b>Epic Games</b>的<b>Unreal Engine 4</b> (虚幻<b>4</b>) 仿真引擎, 编程语言为<b>C</b>++;三维建模主要使用<b>3Ds Max</b>和<b>Geomagic Studio</b>, 数据库使用<b>MySQL</b>。</p>
                </div>
                <div class="p1">
                    <p id="74">原型系统搭建完成后, 主要在影片《刀背藏身》的整个拍摄过程中进行了实际测试。本测试主要在一场在涉及野外长城场景的拍摄片段进行。该场景的实际拍摄场地为河北省保定市西部山区的野长城山区, 期间城墙、烽火台分布复杂, 且几乎没有大片可以落脚的平地。若使用传统的拍摄方式, 需要拍摄团队携带大量的摄影器材, 对整体区域内的特殊取景点位进行观察试拍。同时, 外景效果受阴天、风雨、雾霾等影响极大, 极具不确定性。</p>
                </div>
                <div class="p1">
                    <p id="75">依照拍摄需求, 剧组选用了<b>Arri-Alexa</b> 摄影机和卡尔蔡司的<b>MP</b>系列镜头, 因此对摄像机参数进行了相应的调整。针对山区地形, 先期使用无人机进行了航拍摄影, 平均海拔约<b>1000</b>米, 最大高度差约<b>400</b>米, 整体面积共计约<b>5</b>平方公里。然后通过后处理软件, 制作自然地形, 导入使用<b>Unreal</b>引擎开发的实时预演仿真系统, 配合特定摄像机参数, 为导演提供实时预览参考。</p>
                </div>
                <div class="p1">
                    <p id="76">整体拍摄过程如图<b>7</b>所示, 图 (<b>a</b>) 展示了使用倾斜摄影方法对野长城周围地形建立的模型, 图 (<b>b</b>) 为导演在现场使用半实物摄像机进行预演拍摄, 图 (<b>c</b>) 为引擎内显示的拍摄画面, 图 (<b>d</b>) 为实际的拍摄现场。</p>
                </div>
                <div class="area_img" id="77">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 整体拍摄过程" src="Detail/GetImg?filename=images/JSJZ201906067_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图7 整体拍摄过程</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="78">为了验证系统的实时性能, 截取使用<b>Unreal</b>引擎的能效分析工具记录系统运行过程中的帧率, 其统计结果如图<b>8</b>所示。</p>
                </div>
                <div class="area_img" id="79">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JSJZ201906067_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 运行时帧率统计" src="Detail/GetImg?filename=images/JSJZ201906067_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit"><b>图8 运行时帧率统计</b>  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JSJZ201906067_079.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="80">由结果可以看出, 本系统在运行期间的帧率基本能够稳定在<b>65fps</b>以上, 渲染复杂场景效率虽略有下降, 但整体显示效果仍令人满意。</p>
                </div>
                <h3 id="81" name="81" class="anchor-tag"><b>6 结语</b></h3>
                <div class="p1">
                    <p id="82">本文的研究内容主要为如何结合混合现实技术、使用实时渲染引擎构建一套能够用于电影拍摄流程的实时预演仿真系统, 为影视制作团队进行虚拟预演提供混合现实手段。本系统实际应用于影片获得成功, 证明该技术已经具备了行业推广的可能性, 具有良好的发展前景。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
                        <h3 class="anchor-tag">作者图片</h3>
                <div class="anchor-wrap">
                        <p>
                                    <div class="anchor-box">
                                        <span class="anchor-a"><image id="92" type="" href="images/JSJZ201906067_09200.jpg" display="inline" placement="inline"><alt></alt></image></span>
                                        <span class="anchor-a">李逸</span>
                                    </div>
                        </p>
                </div>


        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Mixed Reality Pre-Visualization and Camera-Work Authoring in Filmmaking">

                                <b>[1]</b> Ryosuke Ichikari, Keisuke Kawano, Asako Kimura, Fumihisa Shibata, Hideyuki Tamura.Mixed Reality Pre-Visualization and Camera-Work Authoring in Filmmaking[J].Transactions of the Virtual Reality Society of Japan, 2007, 12 (3) .
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YSJZ201602006&amp;v=MTU5MjBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVabkZ5N21VTDdBUEQ3QmRMRzRIOWZNclk5RllvUUs=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 刘戈三, 王春水, 郭蕴辉.电影虚拟化制作中预演技术的研究与应用探讨[J].现代电影技术, 2016, (2) :19-27
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Previsualization with Computer Animation (Previs):Communicating Research to Interaction Design Practice">

                                <b>[3]</b> Wang Jinyi, Oskar Juhlin, Eva-Carin Banka Johnson.Previsualization with Computer Animation (Previs) :Communicating Research to Interaction Design Practice[C].Australian Computer-human Interaction Conference on Designing Futures:the Future of Design, 2014:11-20.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=On-Set Previsualization for VFX Film Production">

                                <b>[4]</b> G Briand, F Bidgolirad, J F Szlapka, J M Lavalou, M Lanouiller, M Christie, J Lvoff, P Bertolino, E Guillou.On-Set Previsualization for VFX Film Production[C].International Broadcasting Convention.2014:1-8.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DBCH201512009&amp;v=MTY0NjVSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1Wm5GeTdtVUw3QUlTL0lackc0SDlUTnJZOUZiWVFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 王琳, 吴正鹏, 姜兴钰, 陈楚.无人机倾斜摄影技术在三维城市建模中的应用[J].测绘与空间地理信息, 2015, 38 (12) :30-32.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=2007150490.nh&amp;v=MDExODhadVpuRnk3bVVMN0FWMTI3R2JLOUh0WEZyNUViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 乔甜.基于摄像机运动的测量模型及仿真建模研究[D].青岛大学, 2007.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=PZKX201612004&amp;v=MDk0Njl1Wm5GeTdtVUw3QU5UZkFkckc0SDlmTnJZOUZZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 陈宝权, 秦学英.混合现实中的虚实融合与人机智能交融[J].中国科学:信息科学, 2016, 46 (12) :1737-1747.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JSJZ201906067" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJZ201906067&amp;v=MTAyNzJxWTlEWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpuRnk3bVVMN0FMejdCZExHNEg5ak0=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDM1V09TVFE2TFgybGV6bTlmY29MQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=842_VlRz_g1CMCLi-M0twVw-4EOFG_noWyi_OsMnrAg1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
