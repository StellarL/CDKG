<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637134076547287500%26DBCODE%3dCJFD%26TABLEName%3dCJFDTEMP%26FileName%3dJYRJ201911006%26RESULT%3d1%26SIGN%3dPtjaUjOMMX8L%252fFJPPS5SoUUD5l0%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201911006&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201911006&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201911006&amp;v=MTQxMzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5L2dWYjNCTHpUWlpMRzRIOWpOcm85RllvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#29" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#33" data-title="&lt;b&gt;1 相关工作&lt;/b&gt; "><b>1 相关工作</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#40" data-title="&lt;b&gt;2 问题分析&lt;/b&gt; "><b>2 问题分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#44" data-title="&lt;b&gt;2.1 数据量分析&lt;/b&gt;"><b>2.1 数据量分析</b></a></li>
                                                <li><a href="#50" data-title="&lt;b&gt;2.2 数据帧冗余性分析&lt;/b&gt;"><b>2.2 数据帧冗余性分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#56" data-title="&lt;b&gt;3 总体架构与环境搭建&lt;/b&gt; "><b>3 总体架构与环境搭建</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#57" data-title="&lt;b&gt;3.1 系统架构&lt;/b&gt;"><b>3.1 系统架构</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;3.2 模块功能&lt;/b&gt;"><b>3.2 模块功能</b></a></li>
                                                <li><a href="#66" data-title="&lt;b&gt;3.3 环境搭建&lt;/b&gt;"><b>3.3 环境搭建</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#71" data-title="&lt;b&gt;4 系统设计与实现&lt;/b&gt; "><b>4 系统设计与实现</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#77" data-title="&lt;b&gt;4.1 数据帧冗余性优化算法&lt;/b&gt;"><b>4.1 数据帧冗余性优化算法</b></a></li>
                                                <li><a href="#99" data-title="&lt;b&gt;4.2 系数量化处理&lt;/b&gt;"><b>4.2 系数量化处理</b></a></li>
                                                <li><a href="#102" data-title="&lt;b&gt;4.3 系统实现&lt;/b&gt;"><b>4.3 系统实现</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#133" data-title="&lt;b&gt;5 系统实验与评估&lt;/b&gt; "><b>5 系统实验与评估</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#134" data-title="&lt;b&gt;5.1 实验环境&lt;/b&gt;"><b>5.1 实验环境</b></a></li>
                                                <li><a href="#137" data-title="&lt;b&gt;5.2 实验结果&lt;/b&gt;"><b>5.2 实验结果</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#145" data-title="&lt;b&gt;6 结 语&lt;/b&gt; "><b>6 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#54" data-title="&lt;b&gt;表1 数据帧的时空冗余性&lt;/b&gt;"><b>表1 数据帧的时空冗余性</b></a></li>
                                                <li><a href="#55" data-title="&lt;b&gt;续表1&lt;/b&gt;"><b>续表1</b></a></li>
                                                <li><a href="#59" data-title="图1 集群监控系统架构">图1 集群监控系统架构</a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;表2 集群监控环境&lt;/b&gt;"><b>表2 集群监控环境</b></a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;表3 集群服务配置&lt;/b&gt;"><b>表3 集群服务配置</b></a></li>
                                                <li><a href="#73" data-title="图2 流式数据压缩H.264编码算法">图2 流式数据压缩H.264编码算法</a></li>
                                                <li><a href="#76" data-title="图3 集群数据读写">图3 集群数据读写</a></li>
                                                <li><a href="#84" data-title="图4 数据帧同步协议">图4 数据帧同步协议</a></li>
                                                <li><a href="#105" data-title="图5 数据压缩与解压缩">图5 数据压缩与解压缩</a></li>
                                                <li><a href="#136" data-title="&lt;b&gt;表4 集群监控系统高性能实验配置&lt;/b&gt;"><b>表4 集群监控系统高性能实验配置</b></a></li>
                                                <li><a href="#139" data-title="&lt;b&gt;表5 监控数据压缩前后对比&lt;/b&gt;"><b>表5 监控数据压缩前后对比</b></a></li>
                                                <li><a href="#141" data-title="&lt;b&gt;表6 监控数据各流程压缩比&lt;/b&gt;"><b>表6 监控数据各流程压缩比</b></a></li>
                                                <li><a href="#143" data-title="&lt;b&gt;表7 本文算法与LZ4、Brotli、LZF、Snappy算法效率对比&lt;/b&gt;"><b>表7 本文算法与LZ4、Brotli、LZF、Snappy算法效率对比</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="155">


                                    <a id="bibliography_1" title=" 邓仲举.高可靠性集群部署的设计与实现[D].武汉:华中科技大学,2012." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013014483.nh&amp;v=MDgzNTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeS9nVmIzQVZGMjZIYk81R3RYRXJKRWJQSVE=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         邓仲举.高可靠性集群部署的设计与实现[D].武汉:华中科技大学,2012.
                                    </a>
                                </li>
                                <li id="157">


                                    <a id="bibliography_2" title=" Massie M L,Chun B N,Culler D E.The ganglia distributed monitoring system:design,implementation,and experience[J].Parallel Computing,2004,30(7):817-840." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13012300419738&amp;v=MTMxMzBLN0h0RE9ySTlGWU9vR0MzOHhvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp1SHlqbVViL0lKMXNTYUJvPU5pZk9mYg==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         Massie M L,Chun B N,Culler D E.The ganglia distributed monitoring system:design,implementation,and experience[J].Parallel Computing,2004,30(7):817-840.
                                    </a>
                                </li>
                                <li id="159">


                                    <a id="bibliography_3" title=" Park C S,Sok S W,Kim C S,et al.Large-scale cluster monitoring system,and method of automatically building/restoring the same:U.S.Patent No.8,006,124[P].2011-08-23." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Large-scale cluster monitoring system,and method of automatically building/restoring the same">
                                        <b>[3]</b>
                                         Park C S,Sok S W,Kim C S,et al.Large-scale cluster monitoring system,and method of automatically building/restoring the same:U.S.Patent No.8,006,124[P].2011-08-23.
                                    </a>
                                </li>
                                <li id="161">


                                    <a id="bibliography_4" title=" 刘敏献.基于 Docker 的服务调用拓扑分析和性能监控系统的设计与实现[D].杭州,浙江大学,2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016063671.nh&amp;v=MjE2NjM2R0xPK0hkZkxycEViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ1RnkvZ1ZiM0FWRjI=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         刘敏献.基于 Docker 的服务调用拓扑分析和性能监控系统的设计与实现[D].杭州,浙江大学,2016.
                                    </a>
                                </li>
                                <li id="163">


                                    <a id="bibliography_5" title=" Albert M M.Ceilometer final scientific-technical[R].Report.No.DOE-FIBER-17078.Fibertek,2018." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Ceilometer final scientific-technical">
                                        <b>[5]</b>
                                         Albert M M.Ceilometer final scientific-technical[R].Report.No.DOE-FIBER-17078.Fibertek,2018.
                                    </a>
                                </li>
                                <li id="165">


                                    <a id="bibliography_6" title=" 李磊,金连文,黎德生,等.基于OpenStack体系的多融合管道式服务云监控系统的研制[J].电信科学,2014,30(1):24-30." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DXKX201401004&amp;v=MjEwODI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeS9nVmIzQUlUWEFkckc0SDlYTXJvOUZZSVFLREg=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         李磊,金连文,黎德生,等.基于OpenStack体系的多融合管道式服务云监控系统的研制[J].电信科学,2014,30(1):24-30.
                                    </a>
                                </li>
                                <li id="167">


                                    <a id="bibliography_7" title=" Bostan A C,Strick P L.The basal ganglia and the cerebellum:nodes in an integrated network[J].Nature reviews Neuroscience,2018,19(S3):1-11." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The basal ganglia and the cerebellum:nodes in an integrated network">
                                        <b>[7]</b>
                                         Bostan A C,Strick P L.The basal ganglia and the cerebellum:nodes in an integrated network[J].Nature reviews Neuroscience,2018,19(S3):1-11.
                                    </a>
                                </li>
                                <li id="169">


                                    <a id="bibliography_8" title=" Yin H H,Knowlton B J.The role of the basal ganglia in habit formation[J].Nature Reviews Neuroscience,2006,7(6):464." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The role of the basal ganglia in habit formation">
                                        <b>[8]</b>
                                         Yin H H,Knowlton B J.The role of the basal ganglia in habit formation[J].Nature Reviews Neuroscience,2006,7(6):464.
                                    </a>
                                </li>
                                <li id="171">


                                    <a id="bibliography_9" title=" Xenias H S,Bevan M D.The 2016 basal ganglia gordon research conference and gordon research seminar[J].NPJ Parkinson&#39;s disease,2016,2:16017." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The 2016 basal ganglia gordon research conference and gordon research seminar">
                                        <b>[9]</b>
                                         Xenias H S,Bevan M D.The 2016 basal ganglia gordon research conference and gordon research seminar[J].NPJ Parkinson&#39;s disease,2016,2:16017.
                                    </a>
                                </li>
                                <li id="173">


                                    <a id="bibliography_10" title=" Tader P.Server monitoring with Zabbix[J].Linux Journal,2010,2010(195):7." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Server monitoring with Zabbix">
                                        <b>[10]</b>
                                         Tader P.Server monitoring with Zabbix[J].Linux Journal,2010,2010(195):7.
                                    </a>
                                </li>
                                <li id="175">


                                    <a id="bibliography_11" title=" Zabbix S I A.Homepage of zabbix::An enterprise-class open source distributed monitoring solution[OL] http://www.zabbix.com,2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Homepage of zabbix An enterprise-class open source distributed monitoring solution[OL]">
                                        <b>[11]</b>
                                         Zabbix S I A.Homepage of zabbix::An enterprise-class open source distributed monitoring solution[OL] http://www.zabbix.com,2015.
                                    </a>
                                </li>
                                <li id="177">


                                    <a id="bibliography_12" title=" Chan K L,Wiegner M,Flentje H,et al.Evaluation of operational forecast model of aerosol transportation using ceilometer network measurements[C]//Egu General Assembly Conference.EGU General Assembly Conference Abstracts,2017." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Evaluation of operational forecast model of aerosol transportation using ceilometer network measurements">
                                        <b>[12]</b>
                                         Chan K L,Wiegner M,Flentje H,et al.Evaluation of operational forecast model of aerosol transportation using ceilometer network measurements[C]//Egu General Assembly Conference.EGU General Assembly Conference Abstracts,2017.
                                    </a>
                                </li>
                                <li id="179">


                                    <a id="bibliography_13" title=" Forster F,Harl S.Collectd-the system statistics collection daemon[J].2012." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Collectd-the system statistics collection daemon">
                                        <b>[13]</b>
                                         Forster F,Harl S.Collectd-the system statistics collection daemon[J].2012.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(11),25-31+50 DOI:10.3969/j.issn.1000-386x.2019.11.005            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>一种基于流媒体压缩算法的高性能集群监控系统</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%A8%8A%E4%B9%A6%E5%8D%8E&amp;code=43235588&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">樊书华</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E9%B9%8F&amp;code=06705055&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王鹏</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%B1%AA%E5%8D%AB&amp;code=06709374&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">汪卫</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%A4%8D%E6%97%A6%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2&amp;code=0075855&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">复旦大学软件学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%A4%8D%E6%97%A6%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">复旦大学计算机科学技术学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>随着计算机集群规模与数据量迅速增加,集群监控系统逐渐成为近几年来的研究热点。集群管理员通过对集群中各项指标进行监控采集,有针对性地采取相应措施,有力地保证了系统的稳健运行。然而传统集群监控系统往往面临海量数据产生的性能瓶颈,为此设计并实现一种基于流媒体压缩算法的高性能集群监控系统。通过对产生性能问题的原因进行分析,提出并实现数据帧冗余性优化算法,同时把部分计算量从服务器端移到客户端。通过系统实验以及与目前主流算法进行对比,证明该系统对实际性能产生有效的提升与优化。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">集群监控;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B5%81%E5%AA%92%E4%BD%93%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">流媒体压缩算法;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%95%B0%E6%8D%AE%E5%B8%A7%E5%86%97%E4%BD%99%E6%80%A7%E4%BC%98%E5%8C%96&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">数据帧冗余性优化;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%B3%BB%E6%95%B0%E9%87%8F%E5%8C%96&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">系数量化;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    樊书华，硕士生，主研领域:数据处理，系统并行与加速。;
                                </span>
                                <span>
                                    王鹏，副教授。;
                                </span>
                                <span>
                                    汪卫，教授。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-03-05</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金项目(U1509213);</span>
                                <span>上海市软件和集成电路产业发展专项项目(170512);</span>
                    </p>
            </div>
                    <h1><b>CLUSTER MONITORING SYSTEM WITH HIGH PERFORMANCE BASED ON STREAMING MEDIA COMPRESS ALGORITHM</b></h1>
                    <h2>
                    <span>Fan Shuhua</span>
                    <span>Wang Peng</span>
                    <span>Wang Wei</span>
            </h2>
                    <h2>
                    <span>School of Software, Fudan University</span>
                    <span>School of Computer Science, Fudan University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>With the explosive growth of cluster scale and data volume, research about cluster monitoring system has become a hot topic in recent years. Cluster administrators monitor and collect various indicators in the cluster, and take corresponding measures to effectively ensure the stable operation of the system. However, there are bottlenecks in the traditional monitoring system with the increasing amount of data. Therefore, we design and implement a cluster monitoring system with high performance based on streaming media compress algorithm. Through the analysis of the causes of performance problems, an optimization algorithm for data frame redundancy was proposed and implemented. And some computational load was shifted from the server side to the client side. Through system experiments and comparison with the current mainstream algorithms, it is proved that the actual performance can be effectively improved and optimized.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Cluster%20monitoring&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Cluster monitoring;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Streaming%20media%20compression%20algorithm&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Streaming media compression algorithm;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Data%20frame%20redundancy%20optimization&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Data frame redundancy optimization;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Coefficient%20quantitative&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Coefficient quantitative;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-03-05</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="29" name="29" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="30">随着互联网的蓬勃发展,计算机集群系统已应用在人们生活的各个方面。集群的主要作用是对系统中各个节点的使用情况进行实时的管理和掌握<citation id="181" type="reference"><link href="155" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>,集群监控系统也随之应运而生<citation id="182" type="reference"><link href="157" rel="bibliography" /><link href="159" rel="bibliography" /><link href="161" rel="bibliography" /><sup>[<a class="sup">2</a>,<a class="sup">3</a>,<a class="sup">4</a>]</sup></citation>。通过对集群的各项数据,包括应用负载、CPU利用率、磁盘、网络流量、内存、应用心跳等系统指标,分别进行收集存储,并在处理分析后做出相应判断,当发生异常情况时对系统管理员发送通知,从而达到实时监控的效果。但是以人工的方式对集群进行监控管理存在着各种各样的问题,比如效率过低、对系统异常的捕获不够及时等,因此集群监控系统的实现程度将直接决定集群系统是否能够平稳运行。</p>
                </div>
                <div class="p1">
                    <p id="31">然而随着实际生产环境中业务的增加,集群规模逐渐扩大,服务器收到密集的高负荷请求,现有的集群监控系统如针对openstack开发的Ceilometer<citation id="185" type="reference"><link href="163" rel="bibliography" /><link href="165" rel="bibliography" /><sup>[<a class="sup">5</a>,<a class="sup">6</a>]</sup></citation>、层次化监控系统Ganglia<citation id="186" type="reference"><link href="167" rel="bibliography" /><link href="169" rel="bibliography" /><link href="171" rel="bibliography" /><sup>[<a class="sup">7</a>,<a class="sup">8</a>,<a class="sup">9</a>]</sup></citation>、企业级开源系统Zabbix<citation id="183" type="reference"><link href="173" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>等,在性能表现方面容易产生瓶颈。以目前应用较为广泛的主流系统为例,Ceilometer在开源集群监控系统中相对于其他几个监控系统,在完整性、轻量性等几个方面很有优势<citation id="184" type="reference"><link href="175" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。但由于其使用单层的客户端服务器模式来搭建监控系统,当集群规模扩大时,数据的种类和规模都会扩大,这样数据采集、存储就容易遇到瓶颈。</p>
                </div>
                <div class="p1">
                    <p id="32">针对目前集群监控系统存在的性能问题,本文旨在设计并实现一种基于流媒体压缩算法的高性能集群监控系统。首先,对性能问题的表现和问题产生的原因进行介绍,包括监控数据量的组成分析以及监控数据帧的时间和空间冗余性分析;其次,对系统架构以及对应的功能模块进行描述;再次,分别从数据帧冗余性优化、系数量化处理等模块对系统高性能进行设计与实现;最后结合系统实验,给出性能提升具体结果与评估。</p>
                </div>
                <h3 id="33" name="33" class="anchor-tag"><b>1 相关工作</b></h3>
                <div class="p1">
                    <p id="34">当前常用的压缩算法包括LZ4、Brotli、LZF、Snappy等,接下来首先对这几种算法进行简单介绍。</p>
                </div>
                <div class="p1">
                    <p id="35">LZ4算法来源于LZ77,由Yann Collet在2011年发明。该算法采用滑动窗口的原理,通过哈希表对字典进行存储,从而对匹配的字符串进行查找。其中哈希表的key值代表字符串的二进制值,value值代表字符串在文件中对应的位置。主要优势为压缩效率高,当需要压缩的数据中出现的重复项越多时,压缩效果越好。</p>
                </div>
                <div class="p1">
                    <p id="36">无损压缩算法Brotli在2015年由Google提出,通过哈夫曼编码以及变种的LZ77算法等方式对数据进行压缩,主要用于处理顺序数据流。该算法不仅包含常见的滑动窗口字典,也对常见字符串字典进行了预定义,从而增强压缩效果。Brotli算法已受到绝大多数主流浏览器的支持,达到加快传输速度的效果。</p>
                </div>
                <div class="p1">
                    <p id="37">LZF算法对字符串通过LZ77及LZSS的混合编码进行压缩,由入口文件、压缩和解压缩文件、配置及接口文件组成。LZF算法较为轻量,Redis中默认采用该算法,在数据存储至本地时进行压缩处理。</p>
                </div>
                <div class="p1">
                    <p id="38">Snappy算法在2011年开源,来自于Zippy并由C++语言实现,该算法以压缩率和兼容性为一定代价,实现较高压缩速度以及压缩比的目标,压缩速度达到250 MB/s甚至更高。Snappy算法在Google很多内部项目诸如MapReduce以及BigTable中得到了广泛使用。</p>
                </div>
                <div class="p1">
                    <p id="39">但在这些传统的数据压缩算法中,通过字符串匹配和哈希字典等方式进行压缩,虽然在单个时间片单个数据帧上效果很好,但没有考虑到集群监控系统中数据帧在时间轴上的冗余性。此外,这些压缩算法还需要在主从两个节点之间同步字典数据,这会带来额外的网络带宽开销。因此本文旨在设计一种新的基于流媒体压缩的算法用于集群监控系统中,从而对系统性能进行有效提升。</p>
                </div>
                <h3 id="40" name="40" class="anchor-tag"><b>2 问题分析</b></h3>
                <div class="p1">
                    <p id="41">集群监控系统的性能瓶颈主要表现如下,以ceilometer监控系统为例:在其余参数恒定的条件下,服务器端(即时序数据库gnocchi)单位时间内可以处理的数据量会随客户端(数据采集器collectd)的缓冲区大小(单个restful请求包含的数据量)的变化而呈线性增长,即:当缓冲区大小为100条时,单位时间可以处理的restful请求为600条,单位时间可以处理的数据量为6万条;缓冲区大小为500条时,单位时间可以处理的 restful 请求为533条,单位时间可以处理的数据量为27万条。</p>
                </div>
                <div class="p1">
                    <p id="42">根据目前配置,当客户端缓冲区的大小为200条时,服务器端时序数据库在单位时间内能够处理的restful请求大概在500条,其中包括的数据条目大概为10万条。以单个被监控节点一次轮询的6 000条数据为基准,假如被监控节点数目为200台(在不考虑客户端相同数据重发的状态下,实际上随着写线程数量的增长,数据采集器缓冲队列里的内容被重发的概率也越高),在单次轮询时间10秒内会产生120万条数据,这样会使得数据库阻塞,随着写线程的增多,不到200台主机就会使得数据库发生阻塞。当然按照网络流量数据,200台主机的网络流量为100 MB/s,达到了百兆网卡极限,也是千兆网卡的10%,会给网络流量产生很大压力。</p>
                </div>
                <div class="p1">
                    <p id="43">接下来,对目前集群监控系统中存在的性能方面的问题原因,分别对监控数据量以及数据帧在时间和空间上的冗余性进行分析。</p>
                </div>
                <h4 class="anchor-tag" id="44" name="44"><b>2.1 数据量分析</b></h4>
                <div class="p1">
                    <p id="45">当集群规模扩大时,服务器收到的请求密度变大,此时容易产生阻塞现象。以单台宿主机为例,在单位时间内需要向服务器发送高达0.5～1 MB的时序数据集(包括物理机信息,虚拟机信息和docker信息)。以单次轮询来看,一次性需要收集的数据就达到了几千条,当宿主机规模达到一定量以后,监控整体系统性能将会受到严重阻塞,影响监控效率。</p>
                </div>
                <div class="p1">
                    <p id="46">针对采集到的监控指标,数据类型可以分为以下几个部分,包括中央处理器、进程、网络、内存、硬盘等。针对单台物理计算节点而言,监控数据量具有两个主要规律:</p>
                </div>
                <div class="p1">
                    <p id="47">• 横向增长:针对单台物理计算节点而言,随着主机上搭载的虚拟机数目增加,对应的虚拟机指标,主机全体指标将随之增长;</p>
                </div>
                <div class="p1">
                    <p id="48">• 纵向增长:物理机中随着CPU核数的增长,对应的各项监控数据指标,包括总使用量、steal百分比、空闲百分比、IO等待百分比、用户百分比等也呈线性增长趋势,这一规律对网卡、进程、磁盘也有效。</p>
                </div>
                <div class="p1">
                    <p id="49">综上,对于集群监控系统来说,单个节点需要采集的数据指标就已非常可观,若对多个节点监控指标同时采集,数量集将是非常庞大的,并且随着监控节点数的增加数据量也会成倍增加,这无疑会给集群监控系统性能方面的表现造成影响。</p>
                </div>
                <h4 class="anchor-tag" id="50" name="50"><b>2.2 数据帧冗余性分析</b></h4>
                <div class="p1">
                    <p id="51">数据帧主要具有时间和空间两方面的冗余性。采集到的数据帧以哈希表(python字典)的形式进行存储,例如[{′df-sys-fs-cgroup@precent_bytes-free′: {′Timestamp′: 1546498760.7887914, ′Value′: 100.0}}],如表1所示,时空冗余性主要体现在如下两个方面:</p>
                </div>
                <div class="p1">
                    <p id="52">• 空间冗余性方面,在某一个时间点t1上,所有数据项的时间戳在小数点之前(即秒级单位)都是相同的,小数点之后的差别可以忽略不计,故只保留一个时间戳即可。同时形如′Timestamp′和′Value′这样重复的键值也是产生空间冗余的原因。</p>
                </div>
                <div class="p1">
                    <p id="53">• 时间冗余性方面,在两个时间点t1和t2上,两帧数据的表项名称都是相同的。因此每隔一定时间对监控数据进行采集时,总会对各个监控项的子条目名称进行高覆盖率的重复收集,这是时间冗余数据产生的原因。</p>
                </div>
                <div class="area_img" id="54">
                    <p class="img_tit"><b>表1 数据帧的时空冗余性</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="54" border="1"><tr><td><br />数据项名称</td><td>时间戳</td><td>Value</td></tr><tr><td><br />′cpu-1@percent-interrupt’</td><td>1546498760.787994</td><td>0.0</td></tr><tr><td><br />′df-dev@percent_inodes-<br />reserved’</td><td>1546498760.788565</td><td>0.0</td></tr><tr><td><br />′df-dev-shm@df_comp<br />lex-used’</td><td>1546498760.788605</td><td>0.0</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="55">
                    <p class="img_tit"><b>续表1</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="55" border="1"><tr><td><br />数据项名称</td><td>时间戳</td><td>Value</td></tr><tr><td><br />′cpu-3@percent-system′</td><td>1546498760.788018</td><td>0.904 522 61<br />3 065 326 7</td></tr><tr><td><br />′df-dev@df_complex-used′</td><td>1546498760.788556</td><td>0.0</td></tr><tr><td><br />′df-root@df_comp<br />lex-reserved</td><td>1546498760.788519</td><td>0.0</td></tr><tr><td><br />′df-sys-fs-cgroup@perc<br />ent_bytes-free′</td><td>1546498760.788778</td><td>100.0</td></tr><tr><td><br />′aggregation-cpu-aver<br />age@percent-idle</td><td>1546498760.787448</td><td>96.330 636 0<br />80 563 96</td></tr><tr><td><br />′aggregation-cpu-aver<br />age@percent-user</td><td>1546498760.787448</td><td>2.115 775 69<br />0 421 477 5</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="56" name="56" class="anchor-tag"><b>3 总体架构与环境搭建</b></h3>
                <h4 class="anchor-tag" id="57" name="57"><b>3.1 系统架构</b></h4>
                <div class="p1">
                    <p id="58">在本文实现的基于流媒体压缩算法的高性能集群监控系统架构中,如图1所示,以数据收集、数据存储、数据分析为基本层级,之后将分析处理后的数据实现展示、报警以及自适应等功能。在数据收集层,通过给各个数据采集器collectd节点添加插件(主机监控插件,libvirt插件以及docker插件),从而定期地对系统和程序中各个指标进行收集。</p>
                </div>
                <div class="area_img" id="59">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201911006_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 集群监控系统架构" src="Detail/GetImg?filename=images/JYRJ201911006_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 集群监控系统架构  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201911006_059.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="60">针对时序数据库,实现对物理机、虚拟机以及容器的同时监控。数据采集之后采用过滤器连接Gnocchi服务,采用最新的流式压缩算法实现高效的数据存储和传输机制,从而实现数据存储层要求。此外,数据展示层是与用户最相近的一层,对Grafana组件进行定制,以集中统一的方式实现数据的展示,给系统管理员带来便捷。</p>
                </div>
                <h4 class="anchor-tag" id="61" name="61"><b>3.2 模块功能</b></h4>
                <div class="p1">
                    <p id="62">本文实现的集群监控系统中包括数据收集、数据存储、数据处理等在内的各个功能。</p>
                </div>
                <div class="p1">
                    <p id="63">在资源采集方面,数据采集阶段引入Collectd守护进程<citation id="187" type="reference"><link href="179" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup></citation>,并以在Collectd上实现插件的形式,完成对系统以及系统中应用程序的各类性能指标进行定期的收集任务。同时,面对海量的数据收集过程,本文在数据采集器的性能方面进行了有效的提升。首先,对Collectd所采集的大批量数据进行精简化,其次,采用压缩数据的方法,减小了网络中的带宽压力。最后,通过调整数据采集器的发送流程,当阻塞的时间超过提前设定的阈值时,对该数据进行丢弃处理。</p>
                </div>
                <div class="p1">
                    <p id="64">在高效的数据传输和存储方面,采用了Gnocchi这一款开源的时序数据库。Gnocchi专门为处理大规模时序数据的存储和索引而设计,在数据存入之前就对相应数据进行了聚合操作,从而提高了数据访问效率。</p>
                </div>
                <div class="p1">
                    <p id="65">在系统界面方面,随着系统中业务发展的日益复杂化,若对集群监控的过程中随时对系统中的运行情况进行掌握,监控数据的可视化展示部分是集群监控系统必不可少的组件。在与用户主要交互的数据展示层,本文通过对Grafana的组件和模板采用定制的方式,对所需要监控的集群来进行整齐统一的管理。</p>
                </div>
                <h4 class="anchor-tag" id="66" name="66"><b>3.3 环境搭建</b></h4>
                <div class="p1">
                    <p id="67">本文实现的集群监控系统整体环境为:通过Kolla Ansible对OpenStack进行部署。其中,Ansible本身是专门为分布式集群安装程序的框架,Kolla是Ansible的子项目,以Ansible为基础,专门为OpenStack提供服务。Docker作为一个开源的应用容器引擎,目标在于为操作系统的虚拟化提供轻量级的解决方案,相当于小的封闭式操作系统环境,同时具有快速的部署和交付能力,以及良好的扩容性和资源利用率。如表2所示,集群搭建的机器环境包括服务器端和客户端。</p>
                </div>
                <div class="area_img" id="68">
                    <p class="img_tit"><b>表2 集群监控环境</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="68" border="1"><tr><td colspan="2"><br />服务器端</td></tr><tr><td><br />CPU</td><td>40 core<br />Intel(R) Xeon(R) CPU E5-2630 v4 @ 2.20 GHz<br />缓存大小25 MB</td></tr><tr><td><br />内存</td><td>62 GB</td></tr><tr><td><br />操作系统</td><td>CentOS7</td></tr><tr><td><br />Docker</td><td>18.09.0</td></tr><tr><td colspan="2"><br />客户端(23台主机)</td></tr><tr><td><br />CPU</td><td>56 core<br />Intel(R) Xeon(R) CPU E5-2680 v4 @ 2.40 GHz<br />缓存大小35 MB</td></tr><tr><td><br />内存</td><td>256 GB</td></tr><tr><td><br />操作系统</td><td>CentOS7</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="69">对监控环境Collectd以及Gnocchi来说,服务器端(数据采集端)配置与客户端(数据发送端)配置如表3所示。</p>
                </div>
                <div class="area_img" id="70">
                    <p class="img_tit"><b>表3 集群服务配置</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="70" border="1"><tr><td><br />数据采集端配置</td><td>数据发送端配置</td></tr><tr><td><br />Gnocchi Version 4.2.0</td><td>collectd version 5.8.1</td></tr><tr><td><br />PostgreSQL version 11.1</td><td>collectd-gnocchi 1.7.1</td></tr><tr><td><br />Redis server version 5.0.3</td><td>gnocchiclient 7.0.5</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="71" name="71" class="anchor-tag"><b>4 系统设计与实现</b></h3>
                <div class="p1">
                    <p id="72">针对高密度的数据请求容易产生的阻塞现象这一问题,如图2所示,本文的主要解决思路为:通过引入流式数据压缩,对传输的数据进行压缩处理。在H.264编码算法中,主要分为正在编码的帧和参考帧,参考帧即为已经编码且经过了重新解码。根据正在编码的帧得到当前宏块,同时结合参考帧进行预测,从而得到预测宏块。预测宏块作用于当前宏块获得残差宏块,并进行变换和量化处理,随后的过程主要分为两部分:变换和量化后进行熵编码,获取编码后的比特流;通过反变换和反量化产生解码残差宏块,进而获得参考帧。</p>
                </div>
                <div class="area_img" id="73">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201911006_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 流式数据压缩H.264编码算法" src="Detail/GetImg?filename=images/JYRJ201911006_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 流式数据压缩H.264编码算法  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201911006_073.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="74">在具体分析如何对系统性能进行提升之前,首先需要对系统中对数据的收集过程进行了解。本文采用数据采集器Collectd及相应插件对集群系统的监控指标进行收集之后,通过Redis写入Gnocchi数据库。</p>
                </div>
                <div class="p1">
                    <p id="75">如图3所示,数据采集器Collectd收集到的数据以列表的形式进行存储。每台主机上采集到的数据格式包括接口、内存、进程、网络等监控项,每类监控项又包含数个子条目。列表中的每个元素都包含监测数据项与标签两个部分,标签以0和1进行区分,0代表该项未被线程读,1则代表已读。系统中存在<i>n</i>个读线程read_thread worker,首先确认列表中元素的标签值,若标签为0则进行读取,并写入到队列write_queue_s的队尾处。队列write_queue_s遵循先入先出的规则,因此对于写线程write_thread worker,依照从队列头部读取数据的顺序通过write-http请求写入数据库。</p>
                </div>
                <div class="area_img" id="76">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201911006_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 集群数据读写" src="Detail/GetImg?filename=images/JYRJ201911006_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 集群数据读写  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201911006_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="77" name="77"><b>4.1 数据帧冗余性优化算法</b></h4>
                <div class="p1">
                    <p id="78">在数据帧时空冗余性方面,结合第2节问题分析中的冗余性详解,优化主要分为以下步骤:</p>
                </div>
                <div class="p1">
                    <p id="79">• 对采集到的监控数据项来说,列表中每个元素的时间戳属性都非常接近,因此采取将时间戳规整到同一个值的方法,并归并到数据帧外达到有效压缩的效果,从而大大减少同一次收集的数据帧中时间戳出现的频率。</p>
                </div>
                <div class="p1">
                    <p id="80">• 在数据集的Value项中,未经优化的值小数点后取到了十几位以上。因此本文通过对较低位,即无效位数进行裁剪,达到对系统性能实现优化的目标。</p>
                </div>
                <div class="p1">
                    <p id="81">在数据帧的时间冗余性优化方面,首先数据采集器Collectd对节点采集监控指标数据,同时对不同的时间点来说,采集到的两段计算资源的数据项名称大部分时间都是相同的。如磁盘的子条目包括df_complext_reserved、df_complex_used,CPU的子条目为percent system、percent interrupt。因此,每隔一定时间对监控数据进行采集时,各个监控项收集的相应子条目名称重复率也非常高。</p>
                </div>
                <div class="p1">
                    <p id="82">为了提升系统性能,本文设计了运行在数据采集器Collect的与数据库Gnocchi之间的数据帧同步协议(Datagram Synchronization Protocol)。数据采集器Collectd在对监控数据处理进入Gnocchi数据库之前,使用Redis的缓存设计,在写入Gnocchi之前,首先进入Redis缓冲区,从而达到加快读写速度的效果。同时,采集到的监控先将所有的监控条目名记录到缓存中,然后将压缩后的值写入到对应条目的值中。</p>
                </div>
                <div class="p1">
                    <p id="83">如图4所示,数据库Gnocchi与数据采集器Collectd之间的数据帧同步协议的整体流程为:</p>
                </div>
                <div class="area_img" id="84">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201911006_084.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 数据帧同步协议" src="Detail/GetImg?filename=images/JYRJ201911006_084.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 数据帧同步协议  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201911006_084.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="85">• 首先数据采集器Collectd对需要监控的指标进行数据收集,数据帧格式为包含哈希表的列表,即{监控条目名: [时间戳,值]}。同时,一个写线程write-thread对应一个plugin-collectd-gnocchi。</p>
                </div>
                <div class="p1">
                    <p id="86">• 进入到数据缓冲区Data Buffer后,本文对监控数据项使用字典结构(Dictionary),字典中的key存储监控项的名称,value为该监控项的对应值。</p>
                </div>
                <div class="p1">
                    <p id="87">• Redis缓冲区中含有Incoming Driver,其中包含各个目录,如temp/dir1、temp/dir2等,之后每个目录节点将各自由一个metricd worker进行处理。Redis缓冲区中先存储监控条目名,即字典中的key,随后每个条目名的对应值等待下个步骤传输。</p>
                </div>
                <div class="p1">
                    <p id="88">• 数据采集到服务器端,而数据的预处理过程放到客户端进行。在数据采集缓冲区中保留最新数据帧,当产生新的数据帧时,与缓冲区中已有的数据帧作对比,检测两个数据帧是否高度相似,假如两者数据相似度非常高,则不再进行发送操作。</p>
                </div>
                <div class="p1">
                    <p id="89">• 在本文提出的数据同步协议中,数据分为两种类型,对于完整数据complete_data来说,以类型为0标记,调用函数0写入Redis缓存中对应条目名的value值,对于压缩数据compressed_data来说,以类型为1进行标记,通过函数1写入Redis缓存。</p>
                </div>
                <div class="p1">
                    <p id="90">• 两个缓冲区中的内容保持同步,假如发现了新的数据,在数据缓冲区Data Buffer与Incoming Driver两个缓冲区都没有保存,则认为该数据为complete data,类型为0,发送完整数据包,并在缓冲区中生成对应的数据帧;若发送的数据帧中条目比缓冲区中的条目少,则多出来的条目对应值保持原始值不变。</p>
                </div>
                <div class="p1">
                    <p id="91">下面对算法进行定义:</p>
                </div>
                <div class="p1">
                    <p id="92"><b>算法1</b> 数据帧冗余性优化算法</p>
                </div>
                <div class="p1">
                    <p id="93">输入:来自于单个数据采集节点的日志<i>log</i>={<i>log</i>_<i>msg</i><sub><i>i</i></sub>|<i>i</i>=1,2,…,<i>N</i>},其中单位子日志<i>log</i>_<i>msg</i><sub><i>i</i></sub>以字典的形式进行存储,具体格式如下:<i>log</i>_<i>msg</i><sub><i>i</i></sub>=[{<i>Entry</i><sub><i>name</i></sub>:{<i>Timestamp</i>,<i>Value</i>}}]。</p>
                </div>
                <div class="p1">
                    <p id="94">输出:基于流媒体压缩的日志数据。</p>
                </div>
                <div class="p1">
                    <p id="95">1) 数据帧原有序列中的key值,即监控项名称,转换为对应序列号;</p>
                </div>
                <div class="p1">
                    <p id="96">2) 合并数据帧中的时间戳,并抽取<i>Timestamp</i>中的公共部分进行统一;</p>
                </div>
                <div class="p1">
                    <p id="97">3) 消除数据帧条目中的冗余表项名;</p>
                </div>
                <div class="p1">
                    <p id="98">4) 当产生新数据时,与缓冲区已有数据作对比,检测是否高度相似,若相似度较高则不再进行操作。</p>
                </div>
                <h4 class="anchor-tag" id="99" name="99"><b>4.2 系数量化处理</b></h4>
                <div class="p1">
                    <p id="100">针对时序数据中因为数据过大而占资源过多的性能问题,本文对数据系数进行了量化处理。找出一系列数据中尽可能接近的公因子进行提取,从而使提取后的数据值变小,来达到减少传输数据量的目标。</p>
                </div>
                <div class="p1">
                    <p id="101">系数量化之前,取原数据序列{18, 9, 46, 27, 35}中各个数据最为接近的公因子9作为公共系数,在提取该系数之后,产生新序列:9{2,1,5,3,4}。通过量化处理,能够减少数据存放空间,对系统的表现性能产生优化作用。为了还原原始数据,可以通过量化后的数据序列与系数结合,产生{18, 9, 45, 27, 36}。</p>
                </div>
                <h4 class="anchor-tag" id="102" name="102"><b>4.3 系统实现</b></h4>
                <div class="p1">
                    <p id="103">集群监控系统中的数据收集依赖于各个Collectd节点,数据存储结合Gnocchi服务。首先对以下几个主要组件进行说明。Collectd_gnocchi作为一种插件,帮助Collectd发送给Gnocchi的数据接口。Gnocchi_metricd是单独的线程Thread Worker,从Gnocchi的前端Sack中取任务节点,并存储到Gnocchi的后端数据。gnocchiClient为Collectd_gnocchi调用的发送数据包的接口。Gnocchi_api负责接受数据包。</p>
                </div>
                <div class="p1">
                    <p id="104">数据压缩与解压缩流程如图5所示。首先Collected_gnocchi将Collectd收集的数据发送到Gnocchi的数据接口Client,数据压缩完毕之后通过网络中的http请求与post请求,随后数据进行解压缩后,Gnocchi_api负责接收数据包,Gnocchi_metricd中的线程将分别从Gnocchi的前端目录中调取任务节点。</p>
                </div>
                <div class="area_img" id="105">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201911006_105.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 数据压缩与解压缩" src="Detail/GetImg?filename=images/JYRJ201911006_105.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 数据压缩与解压缩  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201911006_105.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="106">客户端和服务器端的部分代码如下:</p>
                </div>
                <div class="p1">
                    <p id="107"># 客户端部分代码</p>
                </div>
                <div class="p1">
                    <p id="108">Def preparePost(self, typeV)</p>
                </div>
                <div class="p1">
                    <p id="109">refreshCache(raw[‘key’])</p>
                </div>
                <div class="p1">
                    <p id="110">if data[type] == 0</p>
                </div>
                <div class="p1">
                    <p id="111">data[key] = cacheDictionary</p>
                </div>
                <div class="p1">
                    <p id="112">else if data[type] == 1</p>
                </div>
                <div class="p1">
                    <p id="113">data[key] = valueList</p>
                </div>
                <div class="p1">
                    <p id="114"># 服务器端部分代码</p>
                </div>
                <div class="p1">
                    <p id="115">Def processData(request)</p>
                </div>
                <div class="p1">
                    <p id="116">getType_Data_Hostname_Timestamp</p>
                </div>
                <div class="p1">
                    <p id="117"># 从Redis缓存中提取对应数据,然后还原数据帧</p>
                </div>
                <div class="p1">
                    <p id="118">if data[type] == 1</p>
                </div>
                <div class="p1">
                    <p id="119">myDictionary = loads(redisGet(HostName))</p>
                </div>
                <div class="p1">
                    <p id="120">myDataList = loads(Data);</p>
                </div>
                <div class="p1">
                    <p id="121">getResultDictionary</p>
                </div>
                <div class="p1">
                    <p id="122"># 存入Redis缓存</p>
                </div>
                <div class="p1">
                    <p id="123">else if data[type] == 0</p>
                </div>
                <div class="p1">
                    <p id="124">redisSet(myHostName, myData)</p>
                </div>
                <div class="p1">
                    <p id="125">客户端的核心代码实现思路为:</p>
                </div>
                <div class="p1">
                    <p id="126">1) 初始化函数定义整体数据帧缓存,并定义处理后的数据列表;</p>
                </div>
                <div class="p1">
                    <p id="127">2) 当新数据产生时,通过refreshCache函数起到刷新数据帧的作用;</p>
                </div>
                <div class="p1">
                    <p id="128">3) 根据最新数据帧,generateData函数提取数据,并保留两位小数;</p>
                </div>
                <div class="p1">
                    <p id="129">4) 当数据类型为0时,发送完整数据帧,当数据类型为1时,发送压缩后的数据帧。</p>
                </div>
                <div class="p1">
                    <p id="130">服务器端的核心代码实现思路为,通过Process_data函数,对两种数据类型分别进行处理:</p>
                </div>
                <div class="p1">
                    <p id="131">1) 针对压缩过的数据帧,从Redis缓存中提取相应的数据,然后还原数据帧;</p>
                </div>
                <div class="p1">
                    <p id="132">2) 针对未压缩的数据帧,直接存储Redis缓存。</p>
                </div>
                <h3 id="133" name="133" class="anchor-tag"><b>5 系统实验与评估</b></h3>
                <h4 class="anchor-tag" id="134" name="134"><b>5.1 实验环境</b></h4>
                <div class="p1">
                    <p id="135">系统实验采用1台物理机搭载18个虚拟机的形式,具体实验配置如表4所示。</p>
                </div>
                <div class="area_img" id="136">
                    <p class="img_tit"><b>表4 集群监控系统高性能实验配置</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="136" border="1"><tr><td><br />机器配置</td><td>物理机</td><td>虚拟机</td></tr><tr><td><br />CPU</td><td>56 core<br />Intel(R) Xeon(R) CPU E5-2680 v4 @ 2.40 GHz<br />缓存大小35 MB</td><td>5 core QEMU Virtual CPU version 2.3.0 @2.2 GHz<br />缓存大小4 096 KB</td></tr><tr><td><br />内存大小</td><td>256 GB</td><td>10 GB</td></tr><tr><td><br />操作系统</td><td>CentOS7</td><td>CentOS7</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="137" name="137"><b>5.2 实验结果</b></h4>
                <div class="p1">
                    <p id="138">在分别对采集的监控指标进行时间冗余性数据压缩、空间冗余性数据压缩、量化数据压缩等一系列步骤后,数据压缩前后对比如表5所示。</p>
                </div>
                <div class="area_img" id="139">
                    <p class="img_tit"><b>表5 监控数据压缩前后对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="139" border="1"><tr><td><br />压缩前<br />数据</td><td>{″df-run-user-0@percent_inodes-used″:<br />[{″timestamp″: 1550487986.8245828, ″value″:<br />6.0721968111465685e-06}], <br />″df-run-user-0@df_inodes-reserved″: <br />[{″timestamp″: 1550487986.8245845, ″value″: <br />0.0}], ″df-run-user-0@df_inodes-used″: <br />[{″timestamp″: 1550487986.8245857, ″value″: <br />1.0}], ″df-run-user-0@df_inodes-free″: <br />[{″timestamp″: 1550487986.8245838, ″value″: <br />16468503.0}], ″df-run-user-0@percent_inod<br />es-reserved″: [{″timestamp″: 1550487986.8245702, <br />″value″: 0.0}]}</td></tr><tr><td><br />压缩后<br />数据</td><td>0:0.0,1:0.0,2:1.0,3:16468503.0,4:0.0</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="140">本节对压缩效果进行了实验测试,在时间间隔为10秒的前提下,每隔10秒对节点进行监控数据收集,为了比较多次实验下相应的压缩效果,本文分别在时间轴10、20、30、40和50 s对节点取了5次监控指标数据,得到了数据在各个阶段优化后相应压缩结果。从表6中可以看出,压缩的数据比例平均为原始数据的88.68%,压缩后数据大小为原始数据的11.32%,其中时间冗余与空间冗余优化的提升效果最为明显,多次实验平均优化结果分别为35.33%和52.60%。</p>
                </div>
                <div class="area_img" id="141">
                    <p class="img_tit"><b>表6 监控数据各流程压缩比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="141" border="1"><tr><td><br />时间戳/s</td><td>时间<br />冗余</td><td>空间<br />冗余</td><td>系数<br />量化</td><td>总体<br />压缩比</td><td>压缩后<br />比例</td></tr><tr><td><br />10</td><td>35.40%</td><td>52.57%</td><td>0.80%</td><td>88.78%</td><td>11.22%</td></tr><tr><td><br />20</td><td>35.38%</td><td>52.61%</td><td>0.80%</td><td>88.75%</td><td>11.25%</td></tr><tr><td><br />30</td><td>35.11%</td><td>52.60%</td><td>0.60%</td><td>88.3%</td><td>11.70%</td></tr><tr><td><br />40</td><td>35.46%</td><td>52.48%</td><td>0.86%</td><td>88.8%</td><td>11.20%</td></tr><tr><td><br />50</td><td>35.31%</td><td>52.73%</td><td>0.76%</td><td>88.79%</td><td>11.21%</td></tr><tr><td><br />平均值</td><td>35.33%</td><td>52.60%</td><td>0.76%</td><td>88.68%</td><td>11.32%</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="142">同时本文将实现的流式高性能压缩算法与当前包括LZ4、Brotli、LZF、Snappy等在内的主流日志压缩算法进行效果对比,具体结果如表7所示。可以看到在这些算法中,本文实现的流式算法达到了最好的压缩效果,在两组实验测试数据中,压缩后的数据对原始数据大小的比例分别为11.22%以及11.25%,其余四种传统算法分别在14.86%到18.8%之间,说明本文设计的基于流媒体压缩算法在实际数据采集中也有着可观的性能表现。</p>
                </div>
                <div class="area_img" id="143">
                    <p class="img_tit"><b>表7 本文算法与LZ4、Brotli、LZF、Snappy算法效率对比</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="143" border="1"><tr><td rowspan="2"><br />压缩算法<br />类型</td><td colspan="2"><br />第一组:<br />原始数据694 056 B</td><td colspan="2"><br />第二组:<br />原始数据675 300 B</td></tr><tr><td><br />压缩后<br />数据/B</td><td>压缩后<br />比例/%</td><td><br />压缩后<br />数据/B</td><td>压缩后<br />比例/%</td></tr><tr><td>本文算法</td><td>77 895</td><td>11.22</td><td>75 942</td><td>11.25</td></tr><tr><td><br />LZ4</td><td>131 096</td><td>18.89</td><td>126 980</td><td>18.8</td></tr><tr><td><br />Brotli</td><td>103 599</td><td>14.93</td><td>100 321</td><td>14.86</td></tr><tr><td><br />LZF</td><td>124 767</td><td>17.98</td><td>120 032</td><td>17.74</td></tr><tr><td><br />Snappy</td><td>120 229</td><td>17.32</td><td>116 035</td><td>17.18</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="144">本文提出的基于流媒体压缩算法在性能方面优于其他主流压缩算法的主要原因为:针对流式数据的时间冗余性与空间冗余性两大特征,基于流媒体的压缩算法通过信息同步的策略使得重复数据不再进行传输;同时针对两个时间节点来看,假如数值相近,本文减少一次信息的发送,从而进一步减少信息的冗余。与传统的数据压缩算法相比,对数据帧在时间轴上的冗余性做出了良好的优化。此外,这些压缩算法会带来额外网络带宽开销的,本文算法计算大多分布在从属节点上,因此不会对主节点带来额外的计算开销。</p>
                </div>
                <h3 id="145" name="145" class="anchor-tag"><b>6 结 语</b></h3>
                <div class="p1">
                    <p id="146">针对目前主流集群监控系统在性能方面的问题,本文旨在对一种基于流媒体压缩算法的高可用集群监控系统进行设计与实现。首先针对系统产生问题的原因,如监控数据量在纵向层面和横向层面的相应增长规律,数据冗余性体现,结合从实际节点采集的数据帧格式进行展示与分析。为了解决该问题,本文设计了运行在数据采集器Collect的与数据库Gnocchi之间的新的数据帧同步协议,并先后从数据帧空间冗余性优化、数据帧时间冗余性优化、系数量化处理等步骤进行实现。</p>
                </div>
                <div class="p1">
                    <p id="147">在系统实验中,每隔一段时间对实际节点进行数据采集,经过系统高性能设计与实现之后,数据优化效果明显,其中对数据帧的时间冗余性和空间冗余性的提升效果最为突出,压缩比分别在35%与52%左右。从实验结果可以看出,本文实现的高性能集群监控系统在实际应用场景中具有很大的发展潜力。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="155">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013014483.nh&amp;v=MTExNzdJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5L2dWYjNBVkYyNkhiTzVHdFhFckpFYlA=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 邓仲举.高可靠性集群部署的设计与实现[D].武汉:华中科技大学,2012.
                            </a>
                        </p>
                        <p id="157">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13012300419738&amp;v=MDAyOTV4b0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VYi9JSjFzU2FCbz1OaWZPZmJLN0h0RE9ySTlGWU9vR0MzOA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> Massie M L,Chun B N,Culler D E.The ganglia distributed monitoring system:design,implementation,and experience[J].Parallel Computing,2004,30(7):817-840.
                            </a>
                        </p>
                        <p id="159">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Large-scale cluster monitoring system,and method of automatically building/restoring the same">

                                <b>[3]</b> Park C S,Sok S W,Kim C S,et al.Large-scale cluster monitoring system,and method of automatically building/restoring the same:U.S.Patent No.8,006,124[P].2011-08-23.
                            </a>
                        </p>
                        <p id="161">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016063671.nh&amp;v=MDQ1MDhIZGZMcnBFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5L2dWYjNBVkYyNkdMTys=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 刘敏献.基于 Docker 的服务调用拓扑分析和性能监控系统的设计与实现[D].杭州,浙江大学,2016.
                            </a>
                        </p>
                        <p id="163">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Ceilometer final scientific-technical">

                                <b>[5]</b> Albert M M.Ceilometer final scientific-technical[R].Report.No.DOE-FIBER-17078.Fibertek,2018.
                            </a>
                        </p>
                        <p id="165">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DXKX201401004&amp;v=MTk5MzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnVGeS9nVmIzQUlUWEFkckc0SDlYTXJvOUZZSVE=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 李磊,金连文,黎德生,等.基于OpenStack体系的多融合管道式服务云监控系统的研制[J].电信科学,2014,30(1):24-30.
                            </a>
                        </p>
                        <p id="167">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The basal ganglia and the cerebellum:nodes in an integrated network">

                                <b>[7]</b> Bostan A C,Strick P L.The basal ganglia and the cerebellum:nodes in an integrated network[J].Nature reviews Neuroscience,2018,19(S3):1-11.
                            </a>
                        </p>
                        <p id="169">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The role of the basal ganglia in habit formation">

                                <b>[8]</b> Yin H H,Knowlton B J.The role of the basal ganglia in habit formation[J].Nature Reviews Neuroscience,2006,7(6):464.
                            </a>
                        </p>
                        <p id="171">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The 2016 basal ganglia gordon research conference and gordon research seminar">

                                <b>[9]</b> Xenias H S,Bevan M D.The 2016 basal ganglia gordon research conference and gordon research seminar[J].NPJ Parkinson's disease,2016,2:16017.
                            </a>
                        </p>
                        <p id="173">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Server monitoring with Zabbix">

                                <b>[10]</b> Tader P.Server monitoring with Zabbix[J].Linux Journal,2010,2010(195):7.
                            </a>
                        </p>
                        <p id="175">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Homepage of zabbix An enterprise-class open source distributed monitoring solution[OL]">

                                <b>[11]</b> Zabbix S I A.Homepage of zabbix::An enterprise-class open source distributed monitoring solution[OL] http://www.zabbix.com,2015.
                            </a>
                        </p>
                        <p id="177">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Evaluation of operational forecast model of aerosol transportation using ceilometer network measurements">

                                <b>[12]</b> Chan K L,Wiegner M,Flentje H,et al.Evaluation of operational forecast model of aerosol transportation using ceilometer network measurements[C]//Egu General Assembly Conference.EGU General Assembly Conference Abstracts,2017.
                            </a>
                        </p>
                        <p id="179">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Collectd-the system statistics collection daemon">

                                <b>[13]</b> Forster F,Harl S.Collectd-the system statistics collection daemon[J].2012.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201911006" />
        <input id="dpi" type="hidden" value="96" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201911006&amp;v=MTQxMzJPM3pxcUJ0R0ZyQ1VSTE9lWmVWdUZ5L2dWYjNCTHpUWlpMRzRIOWpOcm85RllvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFVsZkNHV25tS3FjcGR3SzhBTGdXQT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="0" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
