<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135638017600000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201906019%26RESULT%3d1%26SIGN%3dPXkn856JQTB7M8y%252fr%252f7ZDOiunxI%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201906019&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201906019&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201906019&amp;v=MTM5NjRSN3FmWnVadEZ5dmxVcjdNTHpUWlpMRzRIOWpNcVk5RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#35" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#38" data-title="&lt;b&gt;1 龙骨成型机通信方案设计&lt;/b&gt; "><b>1 龙骨成型机通信方案设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#41" data-title="&lt;b&gt;1.1 Mewtocol通信协议&lt;/b&gt;"><b>1.1 Mewtocol通信协议</b></a></li>
                                                <li><a href="#45" data-title="&lt;b&gt;1.2 通信系统硬件构成&lt;/b&gt;"><b>1.2 通信系统硬件构成</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#48" data-title="&lt;b&gt;2 通信方案的比较与分析&lt;/b&gt; "><b>2 通信方案的比较与分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#49" data-title="&lt;b&gt;2.1 单进程的通信方案&lt;/b&gt;"><b>2.1 单进程的通信方案</b></a></li>
                                                <li><a href="#65" data-title="&lt;b&gt;2.2 使用多线程的通信方案&lt;/b&gt;"><b>2.2 使用多线程的通信方案</b></a></li>
                                                <li><a href="#74" data-title="&lt;b&gt;2.3 多线程与多进程相结合的通信方案&lt;/b&gt;"><b>2.3 多线程与多进程相结合的通信方案</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#87" data-title="&lt;b&gt;3 结 语&lt;/b&gt; "><b>3 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#40" data-title="图1 龙骨成型机通信系统构架">图1 龙骨成型机通信系统构架</a></li>
                                                <li><a href="#44" data-title="图2 指令格式">图2 指令格式</a></li>
                                                <li><a href="#47" data-title="图3 通信系统硬件组成示意图">图3 通信系统硬件组成示意图</a></li>
                                                <li><a href="#51" data-title="图4 加工指令过程">图4 加工指令过程</a></li>
                                                <li><a href="#67" data-title="图5 使用多线程的通信方案">图5 使用多线程的通信方案</a></li>
                                                <li><a href="#76" data-title="图6 数据传输路线图">图6 数据传输路线图</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="106">


                                    <a id="bibliography_1" title=" 汪海峰.钢结构住宅的发展及技术研究[J].今日科苑, 2010 (6) :143." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JRKR201006132&amp;v=MDQxMDdUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01Mei9BZkxHNEg5SE1xWTVHWm9RS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         汪海峰.钢结构住宅的发展及技术研究[J].今日科苑, 2010 (6) :143.
                                    </a>
                                </li>
                                <li id="108">


                                    <a id="bibliography_2" title=" 李悦, 吴玉生, 周孝军, 等.轻钢住宅体系的国内外发展与应用现状[J].建筑技术, 2009, 40 (3) :204-207." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JZJI200903003&amp;v=MjgzODl0ak1ySTlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01MemZCWjdHNEg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         李悦, 吴玉生, 周孝军, 等.轻钢住宅体系的国内外发展与应用现状[J].建筑技术, 2009, 40 (3) :204-207.
                                    </a>
                                </li>
                                <li id="110">


                                    <a id="bibliography_3" title=" 卢伟, 李锡文, 史铁林.基于WIFI的煤矿机车调度通信系统设计 [J].煤炭工程, 2012, 1 (4) :20-22, 26." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=MKSJ201204008&amp;v=MjAwMzZVcjdNS0NiWVpMRzRIOVBNcTQ5RmJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dmw=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         卢伟, 李锡文, 史铁林.基于WIFI的煤矿机车调度通信系统设计 [J].煤炭工程, 2012, 1 (4) :20-22, 26.
                                    </a>
                                </li>
                                <li id="112">


                                    <a id="bibliography_4" title=" 李会民.基于WiFi的井下无线语音监控系统[D].武汉:华中科技大学, 2012." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013011921.nh&amp;v=MTcwNDM2SGJPNUg5ak9ycEViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01WRjI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         李会民.基于WiFi的井下无线语音监控系统[D].武汉:华中科技大学, 2012.
                                    </a>
                                </li>
                                <li id="114">


                                    <a id="bibliography_5" title=" 范营营, 田雨.基于Socket通讯多线程技术的工业无线数据服务软件设计[J].机械设计与制造工程, 2016, 45 (3) :61-64." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JXZZ201603014&amp;v=MjM1MDRSN3FmWnVadEZ5dmxVcjdNTHpYUmRMRzRIOWZNckk5RVlJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         范营营, 田雨.基于Socket通讯多线程技术的工业无线数据服务软件设计[J].机械设计与制造工程, 2016, 45 (3) :61-64.
                                    </a>
                                </li>
                                <li id="116">


                                    <a id="bibliography_6" title=" 王新忠, 杨波.基于SOCKET的数据传输安全技术研究——以JAVA SOCKET为例[J].科技广场, 2016 (176) :72-75." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJIG201607018&amp;v=MjU5MzJxSTlFYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01MaWZDYWJHNEg5Zk0=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         王新忠, 杨波.基于SOCKET的数据传输安全技术研究——以JAVA SOCKET为例[J].科技广场, 2016 (176) :72-75.
                                    </a>
                                </li>
                                <li id="118">


                                    <a id="bibliography_7" title=" 徐鹏.基于Socket的无线数据传输的驱动程序设计与实现[J].电脑知识与技术, 2018, 14 (5) :105-109." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201805043&amp;v=MjUxMzg3TUlTUFJmYkc0SDluTXFvOUJaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZsVXI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         徐鹏.基于Socket的无线数据传输的驱动程序设计与实现[J].电脑知识与技术, 2018, 14 (5) :105-109.
                                    </a>
                                </li>
                                <li id="120">


                                    <a id="bibliography_8" title=" 陈凯聪, 周任杰, 朱志松.基于Python实现的工控数据交换 [J].机床与液压, 2018, 46 (16) :112-114, 125." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JCYY201816033&amp;v=MDUyNzg3TUx5N1NkN0c0SDluTnFZOUdaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZsVXI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         陈凯聪, 周任杰, 朱志松.基于Python实现的工控数据交换 [J].机床与液压, 2018, 46 (16) :112-114, 125.
                                    </a>
                                </li>
                                <li id="122">


                                    <a id="bibliography_9" title=" Zhou R J, Zhu Z S, Liu J, et al.Implementation of Dynamic Display of Machining Process based on PyQt[C]//2017 International Conference on Electronic, Control, Automation and Mechanical Engineering (ECAME 2017) , 2017:27-33." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Implementation of Dynamic Display of Machining Process based on PyQt">
                                        <b>[9]</b>
                                         Zhou R J, Zhu Z S, Liu J, et al.Implementation of Dynamic Display of Machining Process based on PyQt[C]//2017 International Conference on Electronic, Control, Automation and Mechanical Engineering (ECAME 2017) , 2017:27-33.
                                    </a>
                                </li>
                                <li id="124">


                                    <a id="bibliography_10" title=" 左文康.基于多线程技术的水泥企业生产数据采集系统[D].长沙:湖南大学, 2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017078521.nh&amp;v=MjUyMDBWRjI2R2JPL0Z0VE9ycEViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN00=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         左文康.基于多线程技术的水泥企业生产数据采集系统[D].长沙:湖南大学, 2017.
                                    </a>
                                </li>
                                <li id="126">


                                    <a id="bibliography_11" title=" 代亚卫, 杨林艳.基于Python和Shapefile库的多进程与多线程空间数据处理探究[C]//云南省测绘地理信息学会2017年学术年会论文集, 2017:747-750." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CPFD&amp;filename=YNKX201711003108&amp;v=MjY3MjNuM3hFOWZidm5LcmlmWmVadkZ5bm1VN3pJSVY4UVBDUEFkckc0SDliTnJvOUZaK29QQkJNOHp4VVNtRGQ5U0g3&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                         代亚卫, 杨林艳.基于Python和Shapefile库的多进程与多线程空间数据处理探究[C]//云南省测绘地理信息学会2017年学术年会论文集, 2017:747-750.
                                    </a>
                                </li>
                                <li id="128">


                                    <a id="bibliography_12" title=" 席永光, 付成伟.基于Socket通讯的多电源管理系统[J]现代电子技术, 2012, 38 (20) :137-139." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201520041&amp;v=Mjc3MTVsVXI3TVBTblBaTEc0SDlUT3I0OUJaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         席永光, 付成伟.基于Socket通讯的多电源管理系统[J]现代电子技术, 2012, 38 (20) :137-139.
                                    </a>
                                </li>
                                <li id="130">


                                    <a id="bibliography_13" title=" Kim S, Park C, Kim S, et al.The offloading of socket information for TCP/IP offload engine[C]//International Conference on Advanced Communication Technology.GIRI, 2009." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The offloading of socketinformation for TCP/IP offload engine">
                                        <b>[13]</b>
                                         Kim S, Park C, Kim S, et al.The offloading of socket information for TCP/IP offload engine[C]//International Conference on Advanced Communication Technology.GIRI, 2009.
                                    </a>
                                </li>
                                <li id="132">


                                    <a id="bibliography_14" title=" 任继平, 朱超平.基于Unix 域的Socket 进程间通信机制的研究[J].网络与电子商务, 2006 (5) :68-70." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJN200605021&amp;v=MTMyMzA1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01MejdCWUxHNEh0Zk1xbzlIWllRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                         任继平, 朱超平.基于Unix 域的Socket 进程间通信机制的研究[J].网络与电子商务, 2006 (5) :68-70.
                                    </a>
                                </li>
                                <li id="134">


                                    <a id="bibliography_15" title=" 李小群, 赵慧斌, 孙玉芳.进程间通信机制的分析与比较[J].计算机科学, 2002, 29 (11) :16-19." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA200211003&amp;v=MjY1NTh0R0ZyQ1VSN3FmWnVadEZ5dmxVcjdNTHo3QmI3RzRIdFBOcm85Rlo0UUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         李小群, 赵慧斌, 孙玉芳.进程间通信机制的分析与比较[J].计算机科学, 2002, 29 (11) :16-19.
                                    </a>
                                </li>
                                <li id="136">


                                    <a id="bibliography_16" >
                                        <b>[16]</b>
                                     王帅.基于Socket的Python数据通信设计[D].南通:南通大学, 2018.</a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(06),93-96+135 DOI:10.3969/j.issn.1000-386x.2019.06.018            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于Python的龙骨成型机通信方案设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%91%A8%E4%BB%BB%E6%9D%B0&amp;code=39975437&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">周任杰</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%88%98%E5%AE%87&amp;code=31792105&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">刘宇</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%AD%90%E7%AB%8B&amp;code=40633565&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张子立</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9C%B1%E5%BF%97%E6%9D%BE&amp;code=08166286&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">朱志松</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%8D%97%E9%80%9A%E5%A4%A7%E5%AD%A6%E6%9C%BA%E6%A2%B0%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0180964&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">南通大学机械工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>介绍轻钢别墅龙骨成型机的加工过程。考虑到布局和加工的便捷性, 采用Wi-Fi方式与松下Mewtocol协议建立通信。基于Python高效灵活、面向对象等特性, 提出使用单进程方案、多线程方案、多线程与多进程相结合的通信方案。根据实验结果分析, 多线程与多进程相结合的通信方案优于其他方案。一方面完成龙骨加工过程中加工数据的传输, 发挥Wi-Fi通信的优势, 提升工控机的便携性;另一方面能充分发挥多核CPU的性能, 相比其他通信方案数据传输与加工控制相对独立, 提高了工控机的资源利用率与实际生产加工效率。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Python&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Python;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Mewtocol%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Mewtocol通信协议;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%A4%9A%E8%BF%9B%E7%A8%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">多线程与多进程;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Socket&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Socket;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    周任杰, 硕士生, 主研领域:机电一体化技术。;
                                </span>
                                <span>
                                    刘宇, 硕士生。;
                                </span>
                                <span>
                                    张子立, 硕士生。;
                                </span>
                                <span>
                                    朱志松, 高级实验师。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-12</p>

                    <p>

                            <b>基金：</b>
                                                        <span>南通市重点实验室项目 (CP12014001);</span>
                    </p>
            </div>
                    <h1><b>DESIGN OF COMMUNICATION SCHEME FOR KEEL FORMING MACHINE BASED ON PYTHON</b></h1>
                    <h2>
                    <span>Zhou Renjie</span>
                    <span>Liu Yu</span>
                    <span>Zhang Zili</span>
                    <span>Zhu Zhisong</span>
            </h2>
                    <h2>
                    <span>School of Mechanical Engineering, Nantong University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>This paper introduced the machining process of keel forming machine for light steel villa. Considering the convenience of layout and machining, communication was established with Panasonic Mewtocol protocol based on Wi-Fi. Using single process, multithreading, multithreading combined with multiprocessing respectively were proposed based on the high efficiency, flexibility and object-oriented characteristics of Python. According to the analysis of experimental results, the communication scheme of multithreading combined with multiprocessing is superior to other schemes. On the one hand, it complets the transmission of processing data in keel processing and makes full use of the advantages of Wi-Fi communication, improving the portability of industrial computer; on the other hand, it gives full play to the performance of multi-core CPU compared with other communication schemes. The transmission and processing control are relatively independent, which improvs the utilization rate of industrial computer resources and raised the efficiency of production.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Python&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Python;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Mewtocol%20communication%20protocol&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Mewtocol communication protocol;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Multithreading%20and%20multiprocessing&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Multithreading and multiprocessing;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Socket&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Socket;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-12-12</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="35" name="35" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="36">轻钢别墅作为一种钢结构住宅, 具有“无支撑、钢柱变断面、结构布局灵活、抗震性能好、屋面轻型化”五大优点, 在国内外应用日益广泛, 形成了较为成熟的生产链及产业体系<citation id="138" type="reference"><link href="106" rel="bibliography" /><link href="108" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>]</sup></citation>。轻钢别墅骨架的加工设备是龙骨成型机, 由工控机、下位机及机构组成。工控机实现龙骨加工数据解析、设备参数设置、加工过程的检测和反馈等功能, 通过建立通信实现数据传输;下位机采用松下PLC执行机构动作;机械设备由模具、机身、输料装置、液压系统等组成。三部分相互配合加工龙骨。</p>
                </div>
                <div class="p1">
                    <p id="37">为实现机器稳定加工, 工控机与下位机间的通信必须稳定可靠。同时为保证工控机的便携性和布局的便利, 厂家提出基于Wi-Fi通信的要求。Wi-Fi通信的优点为无线电波覆盖范围广, 传输速率高, 提高工控机的便携性, 无需布线, 避免复杂线的连接, 实现一定距离上工控数据的交换<citation id="139" type="reference"><link href="110" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。在带来便利的同时, 网络安全成为隐患, 当传输距离加大时, 外加电磁等的干扰, 通信质量大幅下降<citation id="140" type="reference"><link href="112" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。</p>
                </div>
                <h3 id="38" name="38" class="anchor-tag"><b>1 龙骨成型机通信方案设计</b></h3>
                <div class="p1">
                    <p id="39">龙骨成型机通信系统构架如图1所示<citation id="141" type="reference"><link href="114" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。工控机、Wi-Fi通信模块、下位机分别构成龙骨成型机通信系统的客户应用层、数据通信层、与硬件层。在数据通信层, 基于Python语言, 选择Socket作为通信的端点, 从Socket发送和接收数据, 比其他通信协议更安全可靠<citation id="142" type="reference"><link href="116" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>。Socket分为基于TCP的流式套接字和基于DUP的数据报式套接字, 经过三次握手建立连接。本通信方案采用基于TCP的流式套接字, 实现工控机与下位机间的本地通信<citation id="143" type="reference"><link href="118" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>, 工控机作为客户端 (Master) , PLC作为服务端 (Slave) 。龙骨成型机的加工速度为40 m/min, 连续高速运行过程中不能出现卡顿现象。由于上下位机数据传输密集, 为避免通信成为整机运行的速度瓶颈, 基于生产者消费者模式, 分别设计三种方案:采用单进程、多线程以及多线程与多进程相结合的通信方案。</p>
                </div>
                <div class="area_img" id="40">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_040.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 龙骨成型机通信系统构架" src="Detail/GetImg?filename=images/JYRJ201906019_040.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 龙骨成型机通信系统构架  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_040.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="41" name="41"><b>1.1 Mewtocol通信协议</b></h4>
                <div class="p1">
                    <p id="42">松下PLC与工控机间进行数据交换采用Mewtocol通信协议。Mewtocol协议要求通信报文为对应格式的指令, 指令格式如图2所示。每一帧指令包含:起始位、站号高低位、指令代码、文本代码、校验码、结束位。起始位为字符“%”;站号高低位在工控机与多个PLC通信时设置, 代表PLC序号;指令代码为读写不同状态、不同内容寄存器的指令;高低两位校验码, 用来校验数据传输过程中是否出现乱码或者数据丢失;使用回车符作为结束位<citation id="144" type="reference"><link href="120" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="43">工控机与松下PLC的传输数据包括龙骨加工数据的下发与工控状态寄存器的读取, 其中下发数据包括模具号、孔距、加工序号等, PLC上传数据包括模具工况、传感器状态、加工结束标记等。按照图2所示指令格式, 以分别向下位机松下PLC中DT1至DT3的连续3个寄存器中分别写入数据0500、0715、0009为例, 编写指令为:“%01# WDD000100030500071500095DCR”, 指令字符串经过Socket封装发送至下位机, PLC接收指令后数据写入相应寄存器, 控制油缸动作并发送应答信息。若工控机收到的应答指令为“%0$WD13CR”, 则写入正确;若收到的应答指令为“%01!WD13CR”, 则写入不正确, 数据丢失或其他异常<citation id="145" type="reference"><link href="120" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 指令格式" src="Detail/GetImg?filename=images/JYRJ201906019_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 指令格式  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="45" name="45"><b>1.2 通信系统硬件构成</b></h4>
                <div class="p1">
                    <p id="46">龙骨成型机通信系统硬件由5G Wi-Fi路由器、工控机、松下PLC组成, 工控机与松下PLC接入路由器完成硬件系统连接。松下PLC提供AFPX-COM5模块与RS232模块。RS232串口通信距离较短, 通信质量不稳定, 易受外部环境干扰, 为保证通信质量与效率, 提高通信距离, 采用RS232转以太网模块接入基于Wi-Fi的以太网总线。松下PLC通过AFPX-COM5模块在以太网中与工控机完成加工指令的接收与执行;通过RS232转以太网模块将传感器数据与现场工况传回工控机。相应硬件组成示意图如图3所示<citation id="146" type="reference"><link href="120" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。</p>
                </div>
                <div class="area_img" id="47">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 通信系统硬件组成示意图" src="Detail/GetImg?filename=images/JYRJ201906019_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 通信系统硬件组成示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_047.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="48" name="48" class="anchor-tag"><b>2 通信方案的比较与分析</b></h3>
                <h4 class="anchor-tag" id="49" name="49"><b>2.1 单进程的通信方案</b></h4>
                <div class="p1">
                    <p id="50">以龙骨成型机加工过程为例, 工控机解析工艺数据, 生成加工指令后发送到下位机, 下位机指令执行结束后将执行状况反馈给工控机, 确保上一条指令执行完毕后, 工控机继续生成下一条加工指令并传输<citation id="147" type="reference"><link href="122" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。加工过程中单条指令创建与执行过程如图4所示。</p>
                </div>
                <div class="area_img" id="51">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_05100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 加工指令过程" src="Detail/GetImg?filename=images/JYRJ201906019_05100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 加工指令过程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_05100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="52">若多次发送与接收指令, Socket只需创建一次, 创建Socket过程如下:</p>
                </div>
                <div class="area_img" id="105">
                                <img alt="" src="Detail/GetImg?filename=images/JYRJ201906019_10500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="63">创建名为tcpCliSocket的Socket套接字, AF_INET指定使用IPv4, SOCK_STREAM为流式套接字。使用Connect方法建立Socket, 连接到本地地址, 使用settimeout设置连接超时时间。Socket通过Send () 方法发送数据data_send;通过Recv () 方法从缓冲区接收数据data_recv;使用close () 函数断开Socket连接。其中, ADDR为地址, HOST为服务器的主机名, PORT是端口号, BUFSIZ为设置的缓冲区大小。</p>
                </div>
                <div class="p1">
                    <p id="64">本方案为同步通信方式, 主界面与通信主界面与通信进程在一个进程中, 采用try/except语句处理程序正常执行过程中出现的一些异常情况, 减少Socket阻塞状态的出现。龙骨成型机为顺序加工, 加工进程需要等待通信数据, 加工中会出现卡顿现象, 效率较低。</p>
                </div>
                <h4 class="anchor-tag" id="65" name="65"><b>2.2 使用多线程的通信方案</b></h4>
                <div class="p1">
                    <p id="66">由前述通信方式可知, 工控机同时完成对加工指令的下发与下位机各参数的实时反馈, 应采用异步方式提高效率。利用不同线程间的自动切换, 在后台交替运行处理数据, 多线程的使用无疑能够充分有效地提高程序执行<citation id="148" type="reference"><link href="124" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>, 使龙骨成型机的通信、跟踪、检测等功能同时进行。本通信方案流程图如图5所示<citation id="149" type="reference"><link href="126" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。</p>
                </div>
                <div class="area_img" id="67">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 使用多线程的通信方案" src="Detail/GetImg?filename=images/JYRJ201906019_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 使用多线程的通信方案  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="68">多线程通信方案设计思路:创建线程池, 设置线程池允许运行的线程函数个数, 建立Socket连接。将读写的功能函数分别包装为线程函数, 使用实例化队列Queue作为线程函数的参数, 将界面进程的数据通过队列Queue的put () 函数传入线程函数, 在线程函数中通过队列Queue的get () 函数取出数据, 完成数据的传入。</p>
                </div>
                <div class="p1">
                    <p id="69">采用信号与槽, 传出线程函数中数据, 将数据从通信线程中传到工控机界面进程。首先声明信号变量, 设置其参数类型为str字符串类型, 创建信号与槽函数的连接。传出数据时, emit信号, 触发信号与槽机制, 执行槽函数, data作为参数输出到界面进程中, 工控机主界面根据data数据判断工况并实现加工过程跟踪。其中, self.slot为槽函数名称, data为线程中需传出的数据。实现方法如下:</p>
                </div>
                <div class="p1">
                    <p id="70">signal=pyqtSignal (str) </p>
                </div>
                <div class="p1">
                    <p id="71">signal.connect (self.slot) </p>
                </div>
                <div class="p1">
                    <p id="72">signal.emit (data) </p>
                </div>
                <div class="p1">
                    <p id="73">本方案中龙骨成型机在加工时无需等待通信数据, 龙骨加工与工控状态监测并行处理, 通信数据读写与界面更新同时进行, 提高加工速度, 缺点是线程函数较多时, 影响CPU的处理效率, 实际生产中数据传输频率较高时, 偶尔有卡顿现象, 而且由于Python存在GIL, 需要防止线程死锁情况的发生<citation id="150" type="reference"><link href="126" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。</p>
                </div>
                <h4 class="anchor-tag" id="74" name="74"><b>2.3 多线程与多进程相结合的通信方案</b></h4>
                <div class="p1">
                    <p id="75">考虑到前述多线程方案的不足, 单独设置不影响主界面进程的通信进程能大大提高系统的扩展性和稳定性<citation id="151" type="reference"><link href="128" rel="bibliography" /><link href="130" rel="bibliography" /><sup>[<a class="sup">12</a>,<a class="sup">13</a>]</sup></citation>。本方案采用多线程与多进程相结合, 借助Python的future模块, 绕开GIL, 利用主进程之外的CPU核心。基于生产者消费者模型, 多进程负责生产数据, 由于进程间无法通过信号槽机制通信, 借助线程安全的队列Queue共享数据, 引入多线程负责查询和读取Queue, 并通过信号槽机制传递给主界面, 实现生产者与消费者的解耦合, 提高程序的整体处理数据的速度与效率<citation id="152" type="reference"><link href="132" rel="bibliography" /><link href="134" rel="bibliography" /><sup>[<a class="sup">14</a>,<a class="sup">15</a>]</sup></citation>, 数据传输路线图如图6所示。</p>
                </div>
                <div class="area_img" id="76">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906019_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 数据传输路线图" src="Detail/GetImg?filename=images/JYRJ201906019_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 数据传输路线图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906019_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="77">将读写的功能包装为进程函数, 队列Queue作为参数, 读写指令通过Queue的入队出队, 完成与PLC间数据的交换。使用如下方法创建进程, 其中w=work () , 实例化通信进程类, w.communication调用实例化类中通信函数, 并完成龙骨加工状态信息的指令编码解码, q_Processwrite, q_Processread为实例化队列Queue, 分别作为参数传入进程。q_Processwrite作为写入队列, 存放龙骨成型机加工指令;q_Processread作为为获取队列, 存放获取加工状态指令。</p>
                </div>
                <div class="p1">
                    <p id="78">p=Process (target=w.communication, args= (q_Processwrite, q_Processread) ) </p>
                </div>
                <div class="p1">
                    <p id="79">p.start () </p>
                </div>
                <div class="p1">
                    <p id="80">进程间使用多线程中转程序完成数据的传输与交换。多线程中转程序创建线程池, 借助信号和槽机制, 在加工中每有一个数据出队时, 线程发送包含数据的信号给槽函数, 将加工状态和信息反馈到主界面进程, 完成龙骨成型机UI界面对加工过程的实时跟踪<citation id="153" type="reference"><link href="136" rel="bibliography" /><sup>[<a class="sup">16</a>]</sup></citation>。主界面将需加工数据入队, 通过线程函数生成加工指令, 将加工指令存入进程函数参数, 完成数据的传入。线程池创建方法如下:</p>
                </div>
                <div class="p1">
                    <p id="81">pool=ThreadPoolExecutor (2) </p>
                </div>
                <div class="p1">
                    <p id="82">t_write=pool.submit (fun_write, q_write) </p>
                </div>
                <div class="p1">
                    <p id="83">t_read=pool.submit (fun_read, q_read) </p>
                </div>
                <div class="p1">
                    <p id="84">其中, t_write为获取数据的线程函数, t_read为发送数据的线程函数, fun_read、fun_write分别为读写函数。fun_write根据q_write传入的龙骨加工数据 (孔距、加工序列等) 放入q_Processwrite。fun_read利用信号与槽机制将q_read中的工况数据emit到主界面进程中, 实现加工监测。</p>
                </div>
                <div class="p1">
                    <p id="85">本方案中主界面进程与通信进程相互独立, 充分利用CPU多核优势, 避免通信延迟。结合多线程中转, 龙骨加工进程无需等待数据。数据获取快速高效, 主界面不卡顿。</p>
                </div>
                <div class="p1">
                    <p id="86">根据上述三种方案在实际生产中的效果分析, 龙骨加工时, 使用多线程与多进程相结合的通信方式, 加工过程无卡顿, 工况最稳定, 符合预期要求。在通信环境较为恶劣的情况下, 前两种方案卡顿明显, 方案三无明显卡顿, 能够满足生产需要。因此最终采用多线程与多进程相结合的通信方案。</p>
                </div>
                <h3 id="87" name="87" class="anchor-tag"><b>3 结 语</b></h3>
                <div class="p1">
                    <p id="88">本文介绍了龙骨成型机的系统结构与加工过程, 基于Wi-Fi通信, 提出了三种通信方案, 并使用Python语言实现。经过实验测试与分析, 最终采用了基于Mewtocol协议的多线程与多进程相结合的通信方案。实验结果标明, 该通信方案结合多线程与多进程优点, 规避缺点, 能够按照“生产者与消费者模式”实现既定的通信与加工同时进行, 稳定可靠, 数据传输迅速, 实际生产出的龙骨完全可装配为轻钢别墅, 生产过程简单可靠便捷。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="106">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JRKR201006132&amp;v=MjUxNjFIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01Mei9BZkxHNEg5SE1xWTVHWm9RS0Q=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 汪海峰.钢结构住宅的发展及技术研究[J].今日科苑, 2010 (6) :143.
                            </a>
                        </p>
                        <p id="108">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JZJI200903003&amp;v=MTk4MTZaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZsVXI3TUx6ZkJaN0c0SHRqTXJJOUY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 李悦, 吴玉生, 周孝军, 等.轻钢住宅体系的国内外发展与应用现状[J].建筑技术, 2009, 40 (3) :204-207.
                            </a>
                        </p>
                        <p id="110">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=MKSJ201204008&amp;v=MjQzMTdJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dmxVcjdNS0NiWVpMRzRIOVBNcTQ5RmI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 卢伟, 李锡文, 史铁林.基于WIFI的煤矿机车调度通信系统设计 [J].煤炭工程, 2012, 1 (4) :20-22, 26.
                            </a>
                        </p>
                        <p id="112">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013011921.nh&amp;v=MTgzODdUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01WRjI2SGJPNUg5ak9ycEViUElRS0RIODR2UjQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 李会民.基于WiFi的井下无线语音监控系统[D].武汉:华中科技大学, 2012.
                            </a>
                        </p>
                        <p id="114">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JXZZ201603014&amp;v=MTI2MDNSZExHNEg5Zk1ySTlFWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01Melg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 范营营, 田雨.基于Socket通讯多线程技术的工业无线数据服务软件设计[J].机械设计与制造工程, 2016, 45 (3) :61-64.
                            </a>
                        </p>
                        <p id="116">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=KJIG201607018&amp;v=MjEzMDNDYWJHNEg5Zk1xSTlFYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01MaWY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 王新忠, 杨波.基于SOCKET的数据传输安全技术研究——以JAVA SOCKET为例[J].科技广场, 2016 (176) :72-75.
                            </a>
                        </p>
                        <p id="118">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201805043&amp;v=MTM1MzA1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bFVyN01JU1BSZmJHNEg5bk1xbzlCWjRRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 徐鹏.基于Socket的无线数据传输的驱动程序设计与实现[J].电脑知识与技术, 2018, 14 (5) :105-109.
                            </a>
                        </p>
                        <p id="120">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JCYY201816033&amp;v=MjExNDg2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZsVXI3TUx5N1NkN0c0SDluTnFZOUdaNFFLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 陈凯聪, 周任杰, 朱志松.基于Python实现的工控数据交换 [J].机床与液压, 2018, 46 (16) :112-114, 125.
                            </a>
                        </p>
                        <p id="122">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Implementation of Dynamic Display of Machining Process based on PyQt">

                                <b>[9]</b> Zhou R J, Zhu Z S, Liu J, et al.Implementation of Dynamic Display of Machining Process based on PyQt[C]//2017 International Conference on Electronic, Control, Automation and Mechanical Engineering (ECAME 2017) , 2017:27-33.
                            </a>
                        </p>
                        <p id="124">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017078521.nh&amp;v=MDk0ODIyNkdiTy9GdFRPcnBFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dmxVcjdNVkY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 左文康.基于多线程技术的水泥企业生产数据采集系统[D].长沙:湖南大学, 2017.
                            </a>
                        </p>
                        <p id="126">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CPFD&amp;filename=YNKX201711003108&amp;v=MDM5ODZvUEJCTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZaZVp2RnlubVU3eklJVjhRUENQQWRyRzRIOWJOcm85Rlor&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b> 代亚卫, 杨林艳.基于Python和Shapefile库的多进程与多线程空间数据处理探究[C]//云南省测绘地理信息学会2017年学术年会论文集, 2017:747-750.
                            </a>
                        </p>
                        <p id="128">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201520041&amp;v=MTUyODNVUjdxZlp1WnRGeXZsVXI3TVBTblBaTEc0SDlUT3I0OUJaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 席永光, 付成伟.基于Socket通讯的多电源管理系统[J]现代电子技术, 2012, 38 (20) :137-139.
                            </a>
                        </p>
                        <p id="130">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The offloading of socketinformation for TCP/IP offload engine">

                                <b>[13]</b> Kim S, Park C, Kim S, et al.The offloading of socket information for TCP/IP offload engine[C]//International Conference on Advanced Communication Technology.GIRI, 2009.
                            </a>
                        </p>
                        <p id="132">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJN200605021&amp;v=MDAxNDlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dmxVcjdNTHo3QllMRzRIdGZNcW85SFpZUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b> 任继平, 朱超平.基于Unix 域的Socket 进程间通信机制的研究[J].网络与电子商务, 2006 (5) :68-70.
                            </a>
                        </p>
                        <p id="134">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA200211003&amp;v=Mjg4NzZaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZsVXI3TUx6N0JiN0c0SHRQTnJvOUY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 李小群, 赵慧斌, 孙玉芳.进程间通信机制的分析与比较[J].计算机科学, 2002, 29 (11) :16-19.
                            </a>
                        </p>
                        <p id="136">
                            <a id="bibliography_16" >
                                    <b>[16]</b>
                                 王帅.基于Socket的Python数据通信设计[D].南通:南通大学, 2018.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201906019" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201906019&amp;v=MTM5NjRSN3FmWnVadEZ5dmxVcjdNTHpUWlpMRzRIOWpNcVk5RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
