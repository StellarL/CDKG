<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135766486690000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201905003%26RESULT%3d1%26SIGN%3dycsZhRWWK1bJUS3n7QCF%252b8xAdsk%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201905003&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201905003&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201905003&amp;v=MzIxMTJxbzlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN01MelRaWkxHNEg5ak0=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#23" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#27" data-title="&lt;b&gt;1 系统技术思想&lt;/b&gt; "><b>1 系统技术思想</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#33" data-title="&lt;b&gt;2 地形处理及整平&lt;/b&gt; "><b>2 地形处理及整平</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#34" data-title="&lt;b&gt;2.1 地形处理&lt;/b&gt;"><b>2.1 地形处理</b></a></li>
                                                <li><a href="#44" data-title="&lt;b&gt;2.2 地形整平&lt;/b&gt;"><b>2.2 地形整平</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#48" data-title="&lt;b&gt;3 古建筑规则设计&lt;/b&gt; "><b>3 古建筑规则设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#56" data-title="&lt;b&gt;3.1 屋顶设计&lt;/b&gt;"><b>3.1 屋顶设计</b></a></li>
                                                <li><a href="#72" data-title="&lt;b&gt;3.2 门窗设计&lt;/b&gt;"><b>3.2 门窗设计</b></a></li>
                                                <li><a href="#77" data-title="&lt;b&gt;3.3 分层设计&lt;/b&gt;"><b>3.3 分层设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#106" data-title="&lt;b&gt;4 动态布局设计&lt;/b&gt; "><b>4 动态布局设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#107" data-title="&lt;b&gt;4.1 绿化密度动态设计&lt;/b&gt;"><b>4.1 绿化密度动态设计</b></a></li>
                                                <li><a href="#116" data-title="&lt;b&gt;4.2 位置动态布局&lt;/b&gt;"><b>4.2 位置动态布局</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#124" data-title="&lt;b&gt;5 三维虚拟技术分析&lt;/b&gt; "><b>5 三维虚拟技术分析</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#133" data-title="&lt;b&gt;6 结 语&lt;/b&gt; "><b>6 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#30" data-title="图1 古建筑的建模流程">图1 古建筑的建模流程</a></li>
                                                <li><a href="#43" data-title="图2 地形处理效果">图2 地形处理效果</a></li>
                                                <li><a href="#47" data-title="图3 地形整平前后效果">图3 地形整平前后效果</a></li>
                                                <li><a href="#70" data-title="图4 屋顶生成示意图">图4 屋顶生成示意图</a></li>
                                                <li><a href="#70" data-title="图4 屋顶生成示意图">图4 屋顶生成示意图</a></li>
                                                <li><a href="#76" data-title="图5 门窗分割效果图">图5 门窗分割效果图</a></li>
                                                <li><a href="#105" data-title="图6 古建筑分层设计实现过程">图6 古建筑分层设计实现过程</a></li>
                                                <li><a href="#115" data-title="图7 树的密度变换">图7 树的密度变换</a></li>
                                                <li><a href="#123" data-title="图8 路灯、树木动态布局效果">图8 路灯、树木动态布局效果</a></li>
                                                <li><a href="#128" data-title="图9 SketchUP中破面现象">图9 SketchUP中破面现象</a></li>
                                                <li><a href="#130" data-title="图10 贴图消失情况">图10 贴图消失情况</a></li>
                                                <li><a href="#132" data-title="图11 阆中古城三维虚拟平台展示">图11 阆中古城三维虚拟平台展示</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="146">


                                    <a id="bibliography_1" title=" 谢衍忆, 黄良平, 陈元增, 等.基于CityEngine的城市三维快速建模方法及应用[J].地理空间信息, 2016 (2) :39-40." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DXKJ201602014&amp;v=MDUxNjBJVFhBWkxHNEg5Zk1yWTlFWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN00=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         谢衍忆, 黄良平, 陈元增, 等.基于CityEngine的城市三维快速建模方法及应用[J].地理空间信息, 2016 (2) :39-40.
                                    </a>
                                </li>
                                <li id="148">


                                    <a id="bibliography_2" title=" 赵明月, 吴健平.基于CityEngine的建筑物自动化建模[J].测绘地理信息, 2017, 42 (5) :92-95." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHXG201705027&amp;v=MTg3MTR6Z1ZyN01KaVhUYWJHNEg5Yk1xbzlIWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         赵明月, 吴健平.基于CityEngine的建筑物自动化建模[J].测绘地理信息, 2017, 42 (5) :92-95.
                                    </a>
                                </li>
                                <li id="150">


                                    <a id="bibliography_3" title=" 赵雨琪, 牟乃夏, 张灵先.利用CityEngine进行三维校园参数化精细建模[J].测绘通报, 2017 (1) :83-86." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201701019&amp;v=MTQ2ODhadVp0Rnl6Z1ZyN01KaVhmYkxHNEg5Yk1ybzlFYllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         赵雨琪, 牟乃夏, 张灵先.利用CityEngine进行三维校园参数化精细建模[J].测绘通报, 2017 (1) :83-86.
                                    </a>
                                </li>
                                <li id="152">


                                    <a id="bibliography_4" title=" 刘媛, 邓运员, 刘立生, 等.CityEngine CGA支持下的传统民居复杂屋顶建模及优化——以衡阳市中田村为例[J].测绘通报, 2016 (3) :98-102." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201603028&amp;v=MDMwNTF0Rnl6Z1ZyN01KaVhmYkxHNEg5Zk1ySTlIYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         刘媛, 邓运员, 刘立生, 等.CityEngine CGA支持下的传统民居复杂屋顶建模及优化——以衡阳市中田村为例[J].测绘通报, 2016 (3) :98-102.
                                    </a>
                                </li>
                                <li id="154">


                                    <a id="bibliography_5" title=" 李昕娟, 王加胜.CityEngine CGA支持下的苗族特色民居三维建模[J].测绘通报, 2017 (12) :112-116." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201712027&amp;v=MzA3NjJDVVI3cWZadVp0Rnl6Z1ZyN01KaVhmYkxHNEg5Yk5yWTlIWTRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         李昕娟, 王加胜.CityEngine CGA支持下的苗族特色民居三维建模[J].测绘通报, 2017 (12) :112-116.
                                    </a>
                                </li>
                                <li id="156">


                                    <a id="bibliography_6" title=" 何鸿杰, 颉耀文, 翟世常, 等, 规则的兰州古城三维建模方法[J], 测绘科学, 2018, 43 (8) :116-121." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHKD201808019&amp;v=MjQwNjJYQWFyRzRIOW5NcDQ5RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNSmk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         何鸿杰, 颉耀文, 翟世常, 等, 规则的兰州古城三维建模方法[J], 测绘科学, 2018, 43 (8) :116-121.
                                    </a>
                                </li>
                                <li id="158">


                                    <a id="bibliography_7" title=" 李永强, 牛路标, 杨莎莎, 等.大型仿古建筑三维精细建模方法研究[J].河南理工大学学报 (自然科学版) , 2015, 34 (5) :640-644." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JGXB201505009&amp;v=MjcxOTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXpnVnI3TUx5clRiTEc0SDlUTXFvOUZiWVE=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         李永强, 牛路标, 杨莎莎, 等.大型仿古建筑三维精细建模方法研究[J].河南理工大学学报 (自然科学版) , 2015, 34 (5) :640-644.
                                    </a>
                                </li>
                                <li id="160">


                                    <a id="bibliography_8" title=" 李玲, 李俊.试论中国古建筑和谐理念的形成轨迹[J].云南大学学报 (社会科学版) , 2014 (4) :106-110." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YNXS201404017&amp;v=MDUxMDRmYkc0SDlYTXE0OUVZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXpnVnI3TVBDUFQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         李玲, 李俊.试论中国古建筑和谐理念的形成轨迹[J].云南大学学报 (社会科学版) , 2014 (4) :106-110.
                                    </a>
                                </li>
                                <li id="162">


                                    <a id="bibliography_9" title=" 陈明晶, 方源敏, 孔璧.三维Delaunay三角剖分快速点定位算法[J].测绘科学, 2018, 43 (6) :1-6." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHKD201806001&amp;v=MjE2MTVGWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN01KaVhBYXJHNEg5bk1xWTk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         陈明晶, 方源敏, 孔璧.三维Delaunay三角剖分快速点定位算法[J].测绘科学, 2018, 43 (6) :1-6.
                                    </a>
                                </li>
                                <li id="164">


                                    <a id="bibliography_10" title=" 龚雨, 刘媛, 王亮, 等.CGA参数化快速建模的研究与实现——以雨母山古寺庙建筑群为例[J].测绘通报, 2017 (4) :112-115." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201704028&amp;v=MDgwNTFNcTQ5SGJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNSmlYZmJMRzRIOWI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         龚雨, 刘媛, 王亮, 等.CGA参数化快速建模的研究与实现——以雨母山古寺庙建筑群为例[J].测绘通报, 2017 (4) :112-115.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(05),7-14 DOI:10.3969/j.issn.1000-386x.2019.05.002            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>面向规则的三维古城虚拟技术的研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E6%98%9F%E6%8D%B7&amp;code=41287809&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王星捷</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%8D%AB%E5%AE%88%E6%9E%97&amp;code=10997749&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">卫守林</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%A0%B8%E5%B7%A5%E4%B8%9A%E8%A5%BF%E5%8D%97%E7%89%A9%E7%90%86%E7%A0%94%E7%A9%B6%E9%99%A2&amp;code=1005089&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">核工业西南物理研究院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%88%90%E9%83%BD%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=1749782&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">成都理工大学工程技术学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%98%86%E6%98%8E%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E4%BF%A1%E6%81%AF%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AD%A6%E9%99%A2&amp;code=0242668&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">昆明理工大学信息工程与自动化学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>随着三维数字技术的发展, 三维虚拟技术逐渐向古建筑领域迈进。但目前对于古建筑建模学术研究较少, 研究的大多古建筑的虚拟技术, 都以三维建模软件为主。由于三维建模软件的局限性、建设模型数据量大, 在大区域的三维虚拟化的应用中, 无法体现地形, 模型精度不高, 位置精度有一定偏差。采用基于CityEngine的面向规则的三维虚拟技术, 以阆中古城为对象, 对地形处理、地形整平、古建筑结构分析、几何形状分析、空间位置分析、平移和旋转算法设计、附属设施的空间动态布局算法设计、规则编码等进行研究, 实现了阆中古城的三维虚拟平台。通过实验证明了该技术的优越性, 对今后古建筑的三维虚拟化建设提供了一种技术方法。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%B8%89%E7%BB%B4%E8%99%9A%E6%8B%9F%E6%8A%80%E6%9C%AF&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">三维虚拟技术;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=CityEngine&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">CityEngine;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%9D%A2%E5%90%91%E8%A7%84%E5%88%99&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">面向规则;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%87%A0%E4%BD%95%E5%BD%A2%E7%8A%B6%E5%88%86%E6%9E%90&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">几何形状分析;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%A7%84%E5%88%99%E7%BC%96%E7%A0%81&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">规则编码;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    王星捷, 副教授, 主研领域:数字城市, 智慧城市, 三维空间数据处理, 大数据应用。;
                                </span>
                                <span>
                                    卫守林, 讲师。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-14</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金项目 (11403009);</span>
                    </p>
            </div>
                    <h1><b>RULE-ORIENTED 3D ANCIENT CITY VIRTUAL TECHNOLOGY</b></h1>
                    <h2>
                    <span>Wang Xingjie</span>
                    <span>Wei Shoulin</span>
            </h2>
                    <h2>
                    <span>Center for Fusion Science of Southwestern Institute of Physics</span>
                    <span>College of Engineering Technical, Chengdu University of Technology</span>
                    <span>Faculty of Information Engineering and Automation, Kunming University of Science and Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>With the development of 3D digital technology, 3D virtual technology is gradually moving to the ancient buildings, but there is little academic research on ancient building modeling at present. The virtual technology of most ancient buildings studied is mainly based on 3D modeling software. Due to the limitations of the 3D modeling software, the large amount of data of the construction model, the application of 3D virtualization in large areas can not reflect the terrain, the accuracy of the model is not high, and the positional accuracy has some deviations. We adopted the rule-oriented 3D virtual technology based on CityEngine. Taking LangZhong ancient city as the object, we studied the terrain handling, terrain leveling, ancient building structure analysis, geometry analysis, space analysis, translation and rotation algorithm design, ancillary facilities space dynamic layout algorithm design, rules of coding, etc. 3D virtual platform of LangZhong ancient city was achieved. The advantages of this technology are proved by the experiment. The technology provides a technical method for 3D virtualization construction of ancient buildings in the future.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=3D%20virtual%20technology&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">3D virtual technology;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=CityEngine&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">CityEngine;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Rule-oriented&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Rule-oriented;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Geometric%20shape%20analysis&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Geometric shape analysis;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Rule%20coding&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Rule coding;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-12-14</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="23" name="23" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="24">随着三维虚拟技术的不断发展, 面向规则的三维建模技术的应用越来越多, 国内基于CityEngine的规则建模研究也不断深入, 如文献<citation id="166" type="reference">[<a class="sup">1</a>,<a class="sup">2</a>,<a class="sup">3</a>]</citation>说明了如何运用CGA语法快速建模, 还原场景真实度, 但所建模型均为现代化建筑。</p>
                </div>
                <div class="p1">
                    <p id="25">关于古建筑的研究上, 刘媛等<citation id="167" type="reference"><link href="152" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>介绍了如何构建古建筑模型, 内容主要是屋顶如何编写, 在门窗怎样设计上提出建设的方法, 没有对屋体及分层的结构进行讲解。李昕娟等<citation id="168" type="reference"><link href="154" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>描述了如何建立房屋整体, 但缺乏门、窗等细节的讲解, 在实现圆柱中, 采用了外部模型的替换, 说明对规则的研究只针对了矩形面的规则模型。何鸿杰等<citation id="169" type="reference"><link href="156" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>对古城三维建模技术描述较少, 只是大体讲解了建模的方法, 没有进行细化研究, 对于精细的模型采用的是3D MAX的制作方法。纵观国内三维建模技术的覆盖方面, 目前基于CityEngine规则建模的研究方式在涉及古建筑建模方面相比于现代建筑较为稀少, 所实现的技术方法都是常规的拉伸、平移、替换等规则模型的处理函数方法, 复杂的模型都采用了外部模型替代, 并没有采用旋转等方法实现不规则的模型, 使用的地形几乎都是平面, 缺乏三维地形的处理, 也没有涉及到绿化、路灯的动态布局。</p>
                </div>
                <div class="p1">
                    <p id="26">本文以阆中古城为研究对象, 通过遥感影像、DEM获取地形和矢量数据。采用Delaunay三角剖分算法进行地形处理, 采用三角网法对地形进行整平处理, 采用CityEngine建模的规则语句, 根据古建筑和古城的附属建筑的不同建筑的风格和几何形状特性, 分析了结构形状, 设计了规则语义算法, 实现三维建模。针对绿化、路灯的分布, 根据其动态分布的规律, 设计了算法, 自动批量地实现分布, 实现阆中古城的三维虚拟平台。</p>
                </div>
                <h3 id="27" name="27" class="anchor-tag"><b>1 系统技术思想</b></h3>
                <div class="p1">
                    <p id="28">获取阆中古镇地区的遥感影像图, 利用地形处理原理进行底图的制作与分离, 首先在ArcGIS里面将其底图导入, 做出相对应的规划和设计, 再将规划好的类别进行分类型建立矢量数据, 对不同的矢量数据添加属性。将矢量数据处理完毕后, 将采集到的二维数据通过与栅格数据进行整平操作, 最终导出需要的DEM数据。CityEngine与ArcGIS有很好的兼容性, 所以将在ArcGIS里面处理好的栅格数据和矢量数据导入到CityEngine软件中。</p>
                </div>
                <div class="p1">
                    <p id="29">中国古建筑住宅具有院落式布局, 主要建筑物都在纵轴线上, 次要建筑采取左右对称的方式<citation id="170" type="reference"><link href="158" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>, 然后围墙和回廊组成院落周围, 形成矩形庭院。阆中古城古建筑的建模思路是先进行总体建模, 然后分块, 最后分层, 如图1所示。</p>
                </div>
                <div class="area_img" id="30">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 古建筑的建模流程" src="Detail/GetImg?filename=images/JYRJ201905003_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 古建筑的建模流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="31">首先是对阶基的设计, 阶基是整个房屋的底座, 是整栋建筑的受力部分, 它所发挥的建模作用是整体建筑该如何设计规划。由于中国古建筑具有礼制性<citation id="171" type="reference"><link href="160" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>, 一般是以中轴线向纵深发展, 左右对称, 它的个体造型不突出, 建筑重复率较高, 所以在阶基平面上要依据中轴对称原理进行分割, 然后进行分块建模, 在造型一致的单体建筑上命名相同, 使得建筑整体有对称效果, 这也保证了古建筑重复率高的特点, 又提高了建模效率。屋身规则的编写中, 屋身的设计包括楼层拉伸高度、建筑层数、斗拱样式、每层门窗和墙体特点该如何展示, 该部分是规则编写最繁琐的地方, 也是区分其他建筑物的重要部分, 涉及的函数、设计样式、命名名称较多, 是规则进行优化的重要方面。其次是屋顶的建立, 屋顶是古建筑最明显的特征, 本文所研究的样式为悬山、歇山、重檐。</p>
                </div>
                <div class="p1">
                    <p id="32">在CityEngine软件中利用CGA语言规则直接建模, 结合几何算法, 方便地通过旋转、偏移、拉伸等实现多种特殊效果的建筑和一些附属物的动态布局等, 如动态地布局路灯、垃圾桶, 改变植物的密度等, 可以进行批量动态布局。</p>
                </div>
                <h3 id="33" name="33" class="anchor-tag"><b>2 地形处理及整平</b></h3>
                <h4 class="anchor-tag" id="34" name="34"><b>2.1 地形处理</b></h4>
                <div class="p1">
                    <p id="35">在地形的生成中, 有很多生成TIN的算法:经典的Delaunay算法、Delaunay三角网凸壳生成算法和Delaunay三角剖分算法等。本文对Delaunay三角剖分算法<citation id="172" type="reference"><link href="162" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>改进后用于阆中古城的地形高程图TIN的创立, 生成的TIN精度更高。</p>
                </div>
                <div class="p1">
                    <p id="36">改进后的逐点插入算法的思想:将前期提取出来的信息中没有经过处理的点放在已经创建好的Delaunay三角网中, 然后进行所在点与三角形的对比判断。如果该点已经在三角形的内部, 而且都已经连接该点与三角形的每个顶点, 则利用Delaunay三角剖分准则找出影响区, 将影响区域里面的边, 利用算法将影响区进行三角形的重建, 一直重复该种算法, 直到区域里面所包含的全部点都加入在最后的三角网里面。最后利用算法对该三角网进行优化操作。</p>
                </div>
                <div class="p1">
                    <p id="37">操作步骤:</p>
                </div>
                <div class="p1">
                    <p id="38"> (1) 创立一个初始多边形, 该三角形应该包括所有数据点, 即凸包, 然后在凸包中建造初始Delaunay三角网。</p>
                </div>
                <div class="p1">
                    <p id="39"> (2) 将前期提取到的数据点加入到三角网中。</p>
                </div>
                <div class="p1">
                    <p id="40"> (3) 利用算法搜索含有这个点的三角形, 并将这个点和这个三角形的三个顶点相连, 构成三个三角形。</p>
                </div>
                <div class="p1">
                    <p id="41"> (4) 利用改进后的Delaunay三角网剖分法, 找出影响区域, 并删除影响三角形的公共边, 最后连接插入点与该三角形的全部顶点。</p>
                </div>
                <div class="p1">
                    <p id="42">最后利用LOP算法从里到外更新一遍所有生成的三角形, 并对三角网进行优化处理操作, 处理效果如图2所示。</p>
                </div>
                <div class="area_img" id="43">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_043.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 地形处理效果" src="Detail/GetImg?filename=images/JYRJ201905003_043.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 地形处理效果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_043.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="44" name="44"><b>2.2 地形整平</b></h4>
                <div class="p1">
                    <p id="45">阆中古城的地形的实现, 最主要的是将数据转换为TIN模型。TIN与矢量数据的整平方法是利用截面法中形成三角形的原理, 不断将三角形细微化, 然后利用挖方填方原理, 计算出该地需要进行填平整平操作还是挖方整平操作。实际最终是将高程数据通过连接字段使矢量数据具有高程, 利用矢量数据对地形进行整平操作, 最终使地形呈现平整的面, 使在其上建立的建筑物、植被等不会产生倾斜与倒塌的效果。整平前后效果对比如图3所示。</p>
                </div>
                <div class="area_img" id="47">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_04700.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 地形整平前后效果" src="Detail/GetImg?filename=images/JYRJ201905003_04700.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 地形整平前后效果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_04700.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="48" name="48" class="anchor-tag"><b>3 古建筑规则设计</b></h3>
                <div class="p1">
                    <p id="49">CityEngine中的规则语言CGA<citation id="173" type="reference"><link href="164" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>形状语法属于建筑设计编程语言的一种, 定义为4种组件:形状、属性、操作及语法规则。其生成的建筑物模型, 拥有高视觉质量以及几何细节的特点。</p>
                </div>
                <div class="p1">
                    <p id="50">形状操作包括4种类型:</p>
                </div>
                <div class="p1">
                    <p id="51"> (1) 重复操作, 在给定方向上重复操作几何形状。</p>
                </div>
                <div class="p1">
                    <p id="52"> (2) 范围操作, 平移t、旋转r和缩放s。</p>
                </div>
                <div class="p1">
                    <p id="53"> (3) 分割操作, 沿给定的x轴或y轴并设置分割尺寸进行分割。</p>
                </div>
                <div class="p1">
                    <p id="54"> (4) 组件分割操作, 点、边、面的分割操作。</p>
                </div>
                <div class="p1">
                    <p id="55">形状语法规则可以替换和修改形状, 从平面开始, 首先生成立体三维模型, 再不断使用形状语法规则, 逐步细化三维建筑模型形状, 生成最终需要的形状。本文依据以上规则, 进行规则算法代码设计, 实现三维建模。</p>
                </div>
                <h4 class="anchor-tag" id="56" name="56"><b>3.1 屋顶设计</b></h4>
                <div class="p1">
                    <p id="57">古建筑建模的难度在于屋顶的设计, 屋顶主要可分为双面坡、四面坡和歇山顶。</p>
                </div>
                <div class="p1">
                    <p id="58">双面坡的规则语法为roofGable, 四面坡的语法为roofHip, 歇山顶是两者的结合体。语法的作用是快速把一个平面衍生出多个平面, 对aslant所形成的面根据右手法则判断方向, 进行平行于屋脊正脊方向的分割, 对吻兽的存放位置进行预留, 然后按垂直于正脊的方向进行分割。</p>
                </div>
                <div class="p1">
                    <p id="59">而对于双面坡的平面衍生方式有两种, 一是通过将三角形进行平移, 从一端移动到另一端而形成的立体图形, 所涉及的平移公式如下:</p>
                </div>
                <div class="area_img" id="60">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JYRJ201905003_06000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="62">式中:<i>x</i>、<i>y</i>、<i>z</i>为起始点的坐标, <i>x</i>′、<i>y</i>′、<i>z</i>′为终点的坐标, <i>m</i>、<i>n</i>、<i>p</i>分别为起始点在x、y、z方向上的移动距离, 双面坡屋顶生成示意图如图4 (a) 所示, 是三角形从屋身顶部的一端移动到另一端, 且只有一个方向上的移动, 平移距离相同, 即<i>m</i>=<i>n</i>=<i>p</i>=屋身长度。</p>
                </div>
                <div class="p1">
                    <p id="63">第二种双面坡屋顶平面衍生方式为屋身顶部矩形向上逐步迭代完成, 但由于屋顶在一个平面内的缩放矩阵易于求解, 先运用式 (1) , 得出竖直方向的距离矩阵, 然后在平移后的平面上逐步缩放迭代, 这也是四面坡屋顶面的衍生方式, 迭代算法如下:</p>
                </div>
                <div class="p1">
                    <p id="64"><b><i>X</i></b><sub><i>k</i>+1</sub>=<i>A</i><b><i>X</i></b><sub><i>k</i></sub>+<b><i>F</i></b>      (2) </p>
                </div>
                <div class="p1">
                    <p id="65">式中:<i>k</i>值为1, 2, …, <b><i>X</i></b>为基础矩形顶点坐标的矩阵, <b><i>F</i></b>为平移矩阵, <i>A</i>缩放因子, 所运用缩放原理如下:</p>
                </div>
                <div class="p1">
                    <p id="66" class="code-formula">
                        <mathml id="66"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>m</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mi>n</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mi>p</mi><msub><mrow></mrow><mn>1</mn></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>m</mi><msub><mrow></mrow><mn>0</mn></msub></mtd><mtd><mi>n</mi><msub><mrow></mrow><mn>0</mn></msub></mtd><mtd><mi>p</mi><msub><mrow></mrow><mn>0</mn></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>Τ</mi><msub><mrow></mrow><mi>x</mi></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>Τ</mi><msub><mrow></mrow><mi>y</mi></msub></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mi>Τ</mi><msub><mrow></mrow><mi>z</mi></msub></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>3</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="67">式中:<i>T</i><sub>x</sub>、<i>T</i><sub>y</sub>、<i>T</i><sub>z</sub>为基础点在x、y、z方向上缩放比例因子, 先向上平移矩形, 如图4 (b) 屋顶生成平移示意图, 得到平移矩阵, 再通过缩放公式将平面向内圈缩放, 如图4 (c) 屋顶生成缩放示意图由于此时竖直方向无改变, 在式 (3) 中<i>T</i><sub>z</sub>=1, 即<i>p</i><sub>1</sub>=<i>p</i><sub>0</sub>, 得到缩放矩阵, 最后运用迭代原理, <i>k</i>值不断增加, 直到矩形变成一条直线。</p>
                </div>
                <div class="area_img" id="70">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_07000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 屋顶生成示意图" src="Detail/GetImg?filename=images/JYRJ201905003_07000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 屋顶生成示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_07000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="70">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_07001.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 屋顶生成示意图" src="Detail/GetImg?filename=images/JYRJ201905003_07001.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 屋顶生成示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_07001.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="71">歇山顶式的屋顶编写基本原理是:屋顶下部分使用四面坡语法, 上部分使用双面坡语法。</p>
                </div>
                <h4 class="anchor-tag" id="72" name="72"><b>3.2 门窗设计</b></h4>
                <div class="p1">
                    <p id="73">门窗作为一个空间单元, 是房屋的从属部分, 它的建筑风格与主体房屋一致, 彰显了其和谐性。在屋身编写时, 运用分割函数按照需要设置的门的宽度将门的区域在中轴线位置留出, 其余部分是墙体与窗户的设计空间。在门的位置运用分割函数, 分出门槛与门, 然后对其进行适宜的厚度处理, 即拉伸函数的运用, 这是对一般房屋门的规则编写方法。而对于房屋内部有一定样式设计的精细房屋门的制作而言, 为了展示其内部结构与门的真实空间感, 可以在运用分割函数时, 将其分为两扇或三扇, 然后将门进行适当的旋转操作。</p>
                </div>
                <div class="p1">
                    <p id="74">在对平面进行分割时要确定该平面是以x轴, y轴, 还是z轴组成, 这关系到分割的起始方向, 但一个立体图形都符合坐标系的右手法则, 拇指代表x轴正方向, 食指代表y轴正方向, 中指代表z轴正方向。</p>
                </div>
                <div class="p1">
                    <p id="75">图5为门窗分割效果图, 拉伸后根据右手法则判定该面的分割竖直正方向为右下角向左, 水平分割正方向为右下角向上。</p>
                </div>
                <div class="area_img" id="76">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 门窗分割效果图" src="Detail/GetImg?filename=images/JYRJ201905003_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 门窗分割效果图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_076.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="77" name="77"><b>3.3 分层设计</b></h4>
                <div class="p1">
                    <p id="78">首先将基础面按右手法则确定出分割方向, 将平面的四个角进行分割, 运用式 (1) 把四个小正方形的四条边按距离公式原理向上拉伸, 形成柱础与柱子, 柱础高度<i>t</i>=2, 柱子的高度<i>T</i>=9。图6 (a) 为柱子与柱础生成示意图。</p>
                </div>
                <div class="p1">
                    <p id="79">四个小角之间的细小平面通过中轴对称原理进行分割, 为建立撑拱需配合旋转公式, 图中所示位置是绕z轴旋转, 公式如下:</p>
                </div>
                <div class="p1">
                    <p id="80" class="code-formula">
                        <mathml id="80"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mi>y</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mi>z</mi><msub><mrow></mrow><mn>2</mn></msub></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mi>y</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mi>z</mi><msub><mrow></mrow><mn>1</mn></msub></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>cos</mi><mi>θ</mi></mtd><mtd><mi>sin</mi><mi>θ</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mo>-</mo><mi>sin</mi><mi>θ</mi></mtd><mtd><mi>cos</mi><mi>θ</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>4</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="81">旋转角度<i>θ</i>=28°, 再向上平移并拉伸, 形成如图6 (b) 撑拱效果图。四周撑拱形成主要代码如下:</p>
                </div>
                <div class="area_img" id="145">
                                <img alt="" src="Detail/GetImg?filename=images/JYRJ201905003_14500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="97">在一层屋顶基础面通过式 (2) 向上平移柱子的高度, 即<i>n</i>=<i>T</i>=9, 运用矩形迭代的方式形成四面坡屋顶, 将倾斜面按平行与正脊的方向分割, 以便吻兽的建立。将horizontal形成的面进行异名复制, 一个作为二层地板面, 另一个作为楼层基础建立面, 公式如下:</p>
                </div>
                <div class="area_img" id="98">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JYRJ201905003_09800.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="p1">
                    <p id="100">可以进行平面内的矩形缩放, 由于该面是由x、y所构成的平面, 其中<i>z</i>=<i>z</i><sub>0</sub>×<i>T</i><sub>z</sub>可视为<i>T</i><sub>z</sub>=0, 走廊形成示意图如图6 (c) 所示, 是将x、y方向上的缩放量设置成小于0的数, 使平面向内缩小, 把四周围栏位置留出进行设计, <i>T</i><sub>x</sub>、<i>T</i><sub>y</sub>同时设置为0.8。</p>
                </div>
                <div class="p1">
                    <p id="101">通过上述的设计思想, 分层的进行编码实现, 最终实现的古建筑效果如图6 (d) 所示。</p>
                </div>
                <div class="area_img" id="105">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_10500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 古建筑分层设计实现过程" src="Detail/GetImg?filename=images/JYRJ201905003_10500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 古建筑分层设计实现过程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_10500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="106" name="106" class="anchor-tag"><b>4 动态布局设计</b></h3>
                <h4 class="anchor-tag" id="107" name="107"><b>4.1 绿化密度动态设计</b></h4>
                <div class="p1">
                    <p id="108">绿化地区生成树木可以通过置换模型和散乱点的生成来实现, 由扩展函数生成的树的类型和大小是相同的, 并且树的数目是相同的。为了使树更逼真, 可以使用fileRandom随机生成模型树, 然后使用rand函数重新设计树的高度来创建不同的高度。一个地块内的树木模型的数量可以通过该地区树木的密度来获得。树密度变换包括伸长变换、缩放变换、旋转变换和剪切变换的复合, 并用三列式矩阵表示, 该矩阵将原坐标更换为新坐标。</p>
                </div>
                <div class="p1">
                    <p id="109"> (1) 将每点的纵坐标和横坐标相应增大 (减小) 至<i>wy</i>倍, 增大 (减小) 到<i>wx</i>倍, 得到的缩放变换的矩阵如下:</p>
                </div>
                <div class="p1">
                    <p id="110" class="code-formula">
                        <mathml id="110"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><msup><mi>x</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd><msup><mi>y</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>w</mi><mi>x</mi></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>w</mi><mi>y</mi></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><mo>⋅</mo><mi>w</mi><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi><mo>⋅</mo><mi>w</mi><mi>y</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mi>W</mi><mo stretchy="false"> (</mo><mi>w</mi><mi>x</mi><mo>, </mo><mi>x</mi><mi>y</mi><mo stretchy="false">) </mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>6</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="111">当<i>wx</i>=<i>wy</i>时为比例缩放, 否则为拉伸变换。</p>
                </div>
                <div class="p1">
                    <p id="112"> (2) 将各个点移动到 (<i>x</i>+<i>jx</i>, <i>y</i>+<i>jy</i>) , 得到的矩阵如下:</p>
                </div>
                <div class="p1">
                    <p id="113" class="code-formula">
                        <mathml id="113"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><msup><mi>x</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd><msup><mi>y</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mi>j</mi><mi>x</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mi>j</mi><mi>y</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi><mo>+</mo><mi>j</mi><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi><mo>+</mo><mi>j</mi><mi>y</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mo>=</mo><mi>J</mi><mo stretchy="false"> (</mo><mi>j</mi><mi>x</mi><mi>j</mi><mi>y</mi><mo stretchy="false">) </mo><mrow><mo>[</mo><mrow><mtable><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>]</mo></mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mtext> </mtext><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>7</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="114">通过树的平移, 缩放等操作后, 实现效果如图7所示。</p>
                </div>
                <div class="area_img" id="115">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_11500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 树的密度变换" src="Detail/GetImg?filename=images/JYRJ201905003_11500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 树的密度变换  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_11500.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="116" name="116"><b>4.2 位置动态布局</b></h4>
                <div class="p1">
                    <p id="117">路灯、树、垃圾桶等附位置属模型的位置布局采用移动立方体法以及特殊的逐点插入法, 相当于循环移动的方法, 主要采用了递归逐点插入法的思想。</p>
                </div>
                <div class="p1">
                    <p id="118"> (1) 首先建立三角网, 并求出已知点集的矩形包容矩形框 (<i>X</i><sub>min</sub>, <i>X</i><sub>max</sub>, <i>Y</i><sub>min</sub>, <i>Y</i><sub>max</sub>) , 然后以对角线为基准将此矩形框拆分为两个初始三角形。</p>
                </div>
                <div class="p1">
                    <p id="119"> (2) 定位三角形:先从点集中选出一个目标, 再在已经形成的三角网中找到含有这个目标点的三角形。</p>
                </div>
                <div class="p1">
                    <p id="120"> (3) 确定影响域:从包含这个目标点的三角形开始, 基于记录的拓扑信息, 再利用外接圆检测的方法来找出外接圆包含当前插入点的三角形集, 三角形集的直径所在的外边界即是下个点的位置。然后依次对下个点进行相同操作, 其中空外接圆检测按如下式所示。实现的效果如图8所示。</p>
                </div>
                <div class="area_img" id="121">
                            <div class="imgformula">
                                <img class="pFormula" alt="" src="Detail/GetImg?filename=images/JYRJ201905003_12100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                <p class="formula_seq"></p>
                            </div>

                </div>
                <div class="area_img" id="123">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_123.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 路灯、树木动态布局效果" src="Detail/GetImg?filename=images/JYRJ201905003_123.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 路灯、树木动态布局效果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_123.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="124" name="124" class="anchor-tag"><b>5 三维虚拟技术分析</b></h3>
                <div class="p1">
                    <p id="125">三维建模技术已经非常成熟, 常用软件建模的技术有3D MAX、SketchUP等三维建模软件。结合GIS技术的三维虚拟软件平台有SuperMap、MapGIS、CityEngine等。</p>
                </div>
                <div class="p1">
                    <p id="126">3D MAX建模周期长、模型精度高、模型数据大;由于数据量大, 许多GIS软件平台无法支持数据量较大的模型, 不适合城市规模的建模, 只适合小区域模型的展示。</p>
                </div>
                <div class="p1">
                    <p id="127">SketchUP的建模方式制图效率低下, 而且通过SketchUP当中的模型分析, 发现场景中植物的表现效果很差, 它的植物很多都是二维形式的, 从俯视图看就是很薄的一片, 不具有立体效果。在SketchUP中, 由于建筑建模时是先把建筑部件创建完成, 然后对所完成的建筑部件进行拼接才能将整个建筑对象完整地展示出来, 这就导致当建筑层面过多或观看视角较远时, 建筑就会出现破面现象, 如图9所示。</p>
                </div>
                <div class="area_img" id="128">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_128.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 SketchUP中破面现象" src="Detail/GetImg?filename=images/JYRJ201905003_128.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 SketchUP中破面现象  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_128.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="129">在SuperMap和MapGIS建模过程过程中, 对每种类型的建筑需单独建立图层, 以方便对建筑推出高度的设置, 而且对于它的贴图不像在本次设计中对每一面的贴图门窗单独分割。对建筑面一面整体贴图, 不能显示出模型的精细度, 对于复杂建筑需要导入外部模型进行场景优化, 这样很容易出现贴图消失的情况。而且场景呈现时由于建筑拉伸没有立体厚度感, 对于远处建筑群有一种半透明状态的视角感, 出现如图10所示的贴图消失的情况。而且地形处理的效果差, 真实度不高。许多精细的模型需要用外部三维软件建模后导入。导入的控制点是通过人工操作, 必然会有一定偏差, 这就导致最终模型不够精确。</p>
                </div>
                <div class="area_img" id="130">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 贴图消失情况" src="Detail/GetImg?filename=images/JYRJ201905003_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图10 贴图消失情况  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="131">CityEngine将三维建模技术和三维虚拟技术融为一体, 三维建模技术采用了灵活性好、复用性高的面向规则的三维建模语言实现。可以通过分析各种几何特性和几何形状算法, 进行模型设计。减少了对外部三维软件的依赖, 同时减少了模型的数据量, 便于数据的加载和发布。在导入的原始矢量图中建模, 位置精准。模型通过分层设计, 对墙体、窗户、柱子等能精确控制, 保证了模型的精度和真实度, 同时也便于后期的维护。在处理树木、路灯、垃圾桶等模型时, 通过算法可以实现等距的动态布局插入, 不用进行人工的插入操作。对于规则相同的区域, 可以通过规则批量生成模型, 对于相似的建筑模型, 门、窗、屋顶等规则进行复用, 减化了整个建模的过程和周期。在建模前期需要对各种模型进行精确的分析, 在后期维护的过程中只需对照代码进行调整, 维护过程简便。采用面向规则三维虚拟技术实现的阆中古城虚拟平台展示效果如图11所示。</p>
                </div>
                <div class="area_img" id="132">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905003_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 阆中古城三维虚拟平台展示" src="Detail/GetImg?filename=images/JYRJ201905003_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图11 阆中古城三维虚拟平台展示  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905003_132.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="133" name="133" class="anchor-tag"><b>6 结 语</b></h3>
                <div class="p1">
                    <p id="134">本文采用了CityEngine基于面向规则的三维虚拟技术对阆中古城进行了虚拟平台的建设, 研究了遥感影像数据制作地形数据的技术和地形整平技术, 分析了古建筑的建筑结构、空间位置、几何形状、屋顶形状、门窗分布的特点, 设计了几何特性的算法、平移和旋转的规则, 完成了古建筑的建模。针对特殊形状的建筑如灯笼等, 研究了旋转曲线以及旋转的过程, 设计了规则算法。对于树木的密度、路灯等附属物的布局等, 根据其变化的特性, 设计了对应的算法, 实现了动态的位置布局和树木密度的增减。在实现过程中, 自动化程度高, 相同的模型, 通过统一的规则进行批量生成;相似的模型通过屋顶、门窗等局部部件规则的复用, 得以快速实现。实现的三维虚拟系统精度高、数据量小、减少了对外部模型的依赖, 便于后续的维护和修改。</p>
                </div>
                <div class="p1">
                    <p id="135">本文采用的面向规则三维虚拟技术有一定的不足: (1) 在设计规则的前期, 需要花大量的时间对建筑结构进行详细分析、分层找规则、分析几何特性、设计对应的算法; (2) 对于不规则的建筑或者其他模型, 需要通过构造复杂的几何曲线和旋转规则, 实现过程复杂。针对不足之处提出建议: (1) 复杂的建筑, 由规则和不规则的形状构成。对于规则部分, 可以用规则完成规则部, 部分不规则的修饰模型可以用外部建模软件实现, 采用替代函数进行替换, 可以提高建模的速度。 (2) 养成良好的编程风格, 以面向对象的思想来设计规则, 为了提高规则代码的复用率, 将门窗、屋顶等部件单独写规则, 便于相似建筑代码的复用。</p>
                </div>
                <div class="p1">
                    <p id="136">基于CityEngine面向规则三维虚拟技术, 虽然存在不足, 但是在三维建模上有了技术性的突破, 打破了传统的建模技术的思想, 不依靠三维建模软件, 不需要额外学习三维建模软件技术。通过对建筑结构的分析、形状的研究, 用规则代码实现三维建模, 让三维建模变得更灵活性、更智能化、更高的自动化程度、更强的维护性, 在三维古镇、古城的建设中, 有着极大的应用前景。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="146">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DXKJ201602014&amp;v=MDIzODZxZlp1WnRGeXpnVnI3TUlUWEFaTEc0SDlmTXJZOUVZSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 谢衍忆, 黄良平, 陈元增, 等.基于CityEngine的城市三维快速建模方法及应用[J].地理空间信息, 2016 (2) :39-40.
                            </a>
                        </p>
                        <p id="148">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHXG201705027&amp;v=MjI5NDR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN01KaVhUYWJHNEg5Yk1xbzlIWTRRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 赵明月, 吴健平.基于CityEngine的建筑物自动化建模[J].测绘地理信息, 2017, 42 (5) :92-95.
                            </a>
                        </p>
                        <p id="150">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201701019&amp;v=MTMwMjhIOWJNcm85RWJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNSmlYZmJMRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 赵雨琪, 牟乃夏, 张灵先.利用CityEngine进行三维校园参数化精细建模[J].测绘通报, 2017 (1) :83-86.
                            </a>
                        </p>
                        <p id="152">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201603028&amp;v=MTE0NjJYZmJMRzRIOWZNckk5SGJJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNSmk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 刘媛, 邓运员, 刘立生, 等.CityEngine CGA支持下的传统民居复杂屋顶建模及优化——以衡阳市中田村为例[J].测绘通报, 2016 (3) :98-102.
                            </a>
                        </p>
                        <p id="154">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201712027&amp;v=MTY3NzMzenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN01KaVhmYkxHNEg5Yk5yWTlIWTRRS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 李昕娟, 王加胜.CityEngine CGA支持下的苗族特色民居三维建模[J].测绘通报, 2017 (12) :112-116.
                            </a>
                        </p>
                        <p id="156">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHKD201808019&amp;v=MDA0NTR6cXFCdEdGckNVUjdxZlp1WnRGeXpnVnI3TUppWEFhckc0SDluTXA0OUViWVFLREg4NHZSNFQ2ajU0TzM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 何鸿杰, 颉耀文, 翟世常, 等, 规则的兰州古城三维建模方法[J], 测绘科学, 2018, 43 (8) :116-121.
                            </a>
                        </p>
                        <p id="158">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JGXB201505009&amp;v=Mjk4MTN5emdWcjdNTHlyVGJMRzRIOVRNcW85RmJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 李永强, 牛路标, 杨莎莎, 等.大型仿古建筑三维精细建模方法研究[J].河南理工大学学报 (自然科学版) , 2015, 34 (5) :640-644.
                            </a>
                        </p>
                        <p id="160">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=YNXS201404017&amp;v=MTM2MzFNcTQ5RVk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNUENQVGZiRzRIOVg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 李玲, 李俊.试论中国古建筑和谐理念的形成轨迹[J].云南大学学报 (社会科学版) , 2014 (4) :106-110.
                            </a>
                        </p>
                        <p id="162">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHKD201806001&amp;v=MjAxNzQ5RlpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5emdWcjdNSmlYQWFyRzRIOW5NcVk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 陈明晶, 方源敏, 孔璧.三维Delaunay三角剖分快速点定位算法[J].测绘科学, 2018, 43 (6) :1-6.
                            </a>
                        </p>
                        <p id="164">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CHTB201704028&amp;v=MTUxMTdyN01KaVhmYkxHNEg5Yk1xNDlIYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1Y=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 龚雨, 刘媛, 王亮, 等.CGA参数化快速建模的研究与实现——以雨母山古寺庙建筑群为例[J].测绘通报, 2017 (4) :112-115.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201905003" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201905003&amp;v=MzIxMTJxbzlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl6Z1ZyN01MelRaWkxHNEg5ak0=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
