<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135647285100000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201906025%26RESULT%3d1%26SIGN%3dXLEoyHWvjeP81aPCpktfqfcoM%252fc%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201906025&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201906025&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201906025&amp;v=MjE1NDBMelRaWkxHNEg5ak1xWTlIWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bVY3M0k=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#33" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#35" data-title="&lt;b&gt;1 CAN总线应用层协议设计&lt;/b&gt; "><b>1 CAN总线应用层协议设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#36" data-title="&lt;b&gt;1.1 协议模式选择&lt;/b&gt;"><b>1.1 协议模式选择</b></a></li>
                                                <li><a href="#39" data-title="&lt;b&gt;1.2 PeliCAN模式数据帧定义&lt;/b&gt;"><b>1.2 PeliCAN模式数据帧定义</b></a></li>
                                                <li><a href="#42" data-title="&lt;b&gt;1.3 报文标识设计&lt;/b&gt;"><b>1.3 报文标识设计</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;1.4 接收滤波器设计&lt;/b&gt;"><b>1.4 接收滤波器设计</b></a></li>
                                                <li><a href="#67" data-title="&lt;b&gt;1.5 数据包结构设计&lt;/b&gt;"><b>1.5 数据包结构设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#71" data-title="&lt;b&gt;2 总线网络负载&lt;/b&gt; "><b>2 总线网络负载</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#77" data-title="&lt;b&gt;3 结 语&lt;/b&gt; "><b>3 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#41" data-title="&lt;b&gt;表1 PeliCAN模式扩展数据帧格式&lt;/b&gt;"><b>表1 PeliCAN模式扩展数据帧格式</b></a></li>
                                                <li><a href="#44" data-title="&lt;b&gt;表2 报文标识分段设计格式&lt;/b&gt;"><b>表2 报文标识分段设计格式</b></a></li>
                                                <li><a href="#47" data-title="&lt;b&gt;表3 优先级分类格式&lt;/b&gt;"><b>表3 优先级分类格式</b></a></li>
                                                <li><a href="#50" data-title="&lt;b&gt;表4 源节点分类格式&lt;/b&gt;"><b>表4 源节点分类格式</b></a></li>
                                                <li><a href="#53" data-title="&lt;b&gt;表5 目标节点分类格式 (非点对点通信&lt;/b&gt;) "><b>表5 目标节点分类格式 (非点对点通信</b>) </a></li>
                                                <li><a href="#56" data-title="&lt;b&gt;表6 通信类型定义&lt;/b&gt;"><b>表6 通信类型定义</b></a></li>
                                                <li><a href="#64" data-title="图1 节点双滤波器模式配置示意图">图1 节点双滤波器模式配置示意图</a></li>
                                                <li><a href="#66" data-title="图2 非点对点通信模式示意图">图2 非点对点通信模式示意图</a></li>
                                                <li><a href="#69" data-title="&lt;b&gt;表7 单帧数据格式&lt;/b&gt;"><b>表7 单帧数据格式</b></a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;表8 多帧数据格式&lt;/b&gt;"><b>表8 多帧数据格式</b></a></li>
                                                <li><a href="#76" data-title="&lt;b&gt;表9 总线负载情况&lt;/b&gt;"><b>表9 总线负载情况</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="86">


                                    <a id="bibliography_1" title=" 汪阳雄, 张向文.基于MK60DN512ZVLQ10纯电动汽车BMS上位机模块设计与实现[J].计算机工程与应用, 2018 (54) :232-238." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG201807037&amp;v=MjE4NDhIOW5NcUk5R1k0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dm1WNzNJTHo3TWFiRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         汪阳雄, 张向文.基于MK60DN512ZVLQ10纯电动汽车BMS上位机模块设计与实现[J].计算机工程与应用, 2018 (54) :232-238.
                                    </a>
                                </li>
                                <li id="88">


                                    <a id="bibliography_2" title=" 单桂军, 王国俊, 戴永前, 等.汽车控制系统CAN总线的网络演算建模及分析[J].微电子学与计算机, 2013 (11) :123-125." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201311030&amp;v=MDY2NzJybzlHWklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bVY3M0lNalhTWkxHNEg5TE4=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         单桂军, 王国俊, 戴永前, 等.汽车控制系统CAN总线的网络演算建模及分析[J].微电子学与计算机, 2013 (11) :123-125.
                                    </a>
                                </li>
                                <li id="90">


                                    <a id="bibliography_3" title=" 李滨, 秦贵和, 赵睿, 等.基于CAN总线和互联网的被动无钥匙进入系统[J].计算机工程与设计, 2016, 37 (4) :897-901." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SJSJ201604012&amp;v=MDcwNzF0Rnl2bVY3M0lOaWZZWkxHNEg5Zk1xNDlFWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         李滨, 秦贵和, 赵睿, 等.基于CAN总线和互联网的被动无钥匙进入系统[J].计算机工程与设计, 2016, 37 (4) :897-901.
                                    </a>
                                </li>
                                <li id="92">


                                    <a id="bibliography_4" title=" 邱贺.基于CAN总线的地热井温度探测与评估系统[J].现代电子技术, 2017, 40 (11) :155-158." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201711041&amp;v=MjgwODk5Yk5ybzlCWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bVY3M0lQU25QWkxHNEg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         邱贺.基于CAN总线的地热井温度探测与评估系统[J].现代电子技术, 2017, 40 (11) :155-158.
                                    </a>
                                </li>
                                <li id="94">


                                    <a id="bibliography_5" title=" Burje P R, Karande K J, Jagadale A B.Embedded on-board diagnostics system using CAN network[C]//2014 IEEE Global Conference on Wireless Computing &amp;amp; Networking (GCWCN) .IEEE, 2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Embedded on-board diagnostics system using CAN network">
                                        <b>[5]</b>
                                         Burje P R, Karande K J, Jagadale A B.Embedded on-board diagnostics system using CAN network[C]//2014 IEEE Global Conference on Wireless Computing &amp;amp; Networking (GCWCN) .IEEE, 2015.
                                    </a>
                                </li>
                                <li id="96">


                                    <a id="bibliography_6" >
                                        <b>[6]</b>
                                     李孝同, 施思寒.小卫星星务管理技术[M].北京:中国宇航出版社, 2014.</a>
                                </li>
                                <li id="98">


                                    <a id="bibliography_7" title=" Kimm H, Jarrell M.Controller Area Network for fault tolerant small satellite system design[C]//IEEE International Symposium on Industrial Electronics.2014." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Controller Area Network for fault tolerant small satellite system design">
                                        <b>[7]</b>
                                         Kimm H, Jarrell M.Controller Area Network for fault tolerant small satellite system design[C]//IEEE International Symposium on Industrial Electronics.2014.
                                    </a>
                                </li>
                                <li id="100">


                                    <a id="bibliography_8" title=" De Andrade R, Hodel K N, Justo J F, et al.Analytical and Experimental Performance Evaluations of CAN-FD Bus[J].IEEE Access, 2018, 6:21287-21295." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Analytical and Experimental Performance Evaluations of CAN-FDBus">
                                        <b>[8]</b>
                                         De Andrade R, Hodel K N, Justo J F, et al.Analytical and Experimental Performance Evaluations of CAN-FD Bus[J].IEEE Access, 2018, 6:21287-21295.
                                    </a>
                                </li>
                                <li id="102">


                                    <a id="bibliography_9" title=" Shin J W, Oh J H, Lee S M, et al.CAN FD controller for in-vehicle system[C]//2016 International SoC Design Conference (ISOCC) .IEEE, 2016." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=CAN FD controller for in-vehicle system">
                                        <b>[9]</b>
                                         Shin J W, Oh J H, Lee S M, et al.CAN FD controller for in-vehicle system[C]//2016 International SoC Design Conference (ISOCC) .IEEE, 2016.
                                    </a>
                                </li>
                                <li id="104">


                                    <a id="bibliography_10" title=" Zago G M, de Freitas E P.A Quantitative Performance Study on CAN and CAN FD Vehicular Networks[J].IEEE Transactions on Industrial Electronics, 2018, 65 (5) :4413-4422." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Quantitative Performance Study on CAN and CAN FD Vehicular Networks">
                                        <b>[10]</b>
                                         Zago G M, de Freitas E P.A Quantitative Performance Study on CAN and CAN FD Vehicular Networks[J].IEEE Transactions on Industrial Electronics, 2018, 65 (5) :4413-4422.
                                    </a>
                                </li>
                                <li id="106">


                                    <a id="bibliography_11" title=" Cena G, Bertolotti I C, Hu T, et al.Improving compatibility between CAN FD and legacy CAN devices[C]//IEEE International Forum on Research &amp;amp; Technologies for Society &amp;amp; Industry Leveraging A Better Tomorrow.IEEE, 2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Improving compatibility between CAN FD and legacy CAN devices">
                                        <b>[11]</b>
                                         Cena G, Bertolotti I C, Hu T, et al.Improving compatibility between CAN FD and legacy CAN devices[C]//IEEE International Forum on Research &amp;amp; Technologies for Society &amp;amp; Industry Leveraging A Better Tomorrow.IEEE, 2015.
                                    </a>
                                </li>
                                <li id="108">


                                    <a id="bibliography_12" title=" 刘超, 李军站, 黄伟.流程加工CAN测控网络的应用层协议研究[J].计算机工程, 2014, 40 (9) :130-133." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201409027&amp;v=MjQ5MDViRzRIOVhNcG85SFk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dm1WNzNJTHo3QmI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[12]</b>
                                         刘超, 李军站, 黄伟.流程加工CAN测控网络的应用层协议研究[J].计算机工程, 2014, 40 (9) :130-133.
                                    </a>
                                </li>
                                <li id="110">


                                    <a id="bibliography_13" title=" 陶志刚, 李晴.小卫星星载CAN总线的应用层传输方法研究[J].航天器工程, 2011, 20 (3) :103-107." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201103021&amp;v=MTU5ODI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZtVjczSUxUbk1iYkc0SDlETXJJOUhaWVFLREg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[13]</b>
                                         陶志刚, 李晴.小卫星星载CAN总线的应用层传输方法研究[J].航天器工程, 2011, 20 (3) :103-107.
                                    </a>
                                </li>
                                <li id="112">


                                    <a id="bibliography_14" title=" 陈海燕, 刘思远, 袁春柱, 等.支持多主通信的星载CAN总线应用协议设计[J].航天器工程, 2014, 23 (4) :72-76." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201404013&amp;v=MjQzNzBYTXE0OUVaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeXZtVjczSUxUbk1iYkc0SDk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                         陈海燕, 刘思远, 袁春柱, 等.支持多主通信的星载CAN总线应用协议设计[J].航天器工程, 2014, 23 (4) :72-76.
                                    </a>
                                </li>
                                <li id="114">


                                    <a id="bibliography_15" title=" 何熊文, 朱剑冰, 程博文, 等.星载标准接口业务在航天器中的应用方法[J].航天器工程, 2015, 24 (6) :52-58." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201506010&amp;v=MzAwMTFNcVk5RVpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dm1WNzNJTFRuTWJiRzRIOVQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[15]</b>
                                         何熊文, 朱剑冰, 程博文, 等.星载标准接口业务在航天器中的应用方法[J].航天器工程, 2015, 24 (6) :52-58.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(06),120-123+127 DOI:10.3969/j.issn.1000-386x.2019.06.024            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>小卫星载荷PeliCAN模式总线协议设计</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%A8%E7%92%8B&amp;code=41500238&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">杨璋</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E8%A5%BF%E5%8D%97%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=0244805&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国西南电子技术研究所</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>传统的小卫星CAN总线应用层协议支持网络节点数量较少, 可实现的节点间通信模式较单一, 难以满足较复杂载荷的组网要求。设计基于PeliCAN模式的载荷通信总线协议, 在CAN总线应用层协议开放性的基础上, 对报文标识符进行分段设计, 便于总线节点实现多主通信, 使总线组网更加灵活, 容纳更多网络节点;总线节点采用双滤波器设置, 使总线节点之间能同时实现点对点、广播、组播、子播的混合通信模式, 能满足复杂的应用环境;定义通用的单帧和多帧格式, 便于节点对混合帧的解析。通过计算表明, 该协议的网络负载峰值为24.05%, 满足小卫星载荷组网要求。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%BD%BD%E8%8D%B7%E6%80%BB%E7%BA%BF%E5%8D%8F%E8%AE%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">载荷总线协议;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PeliCAN&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PeliCAN;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E6%AE%B5%E6%A0%87%E8%AF%86%E7%AC%A6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分段标识符;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8F%8C%E6%BB%A4%E6%B3%A2%E5%99%A8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">双滤波器;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B7%B7%E5%90%88%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">混合通信模式;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%80%9A%E7%94%A8%E5%B8%A7%E6%A0%BC%E5%BC%8F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">通用帧格式;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    杨璋, 工程师, 主研领域:小卫星载荷技术。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-02-17</p>

            </div>
                    <h1><b>DESIGN OF PELICAN MODE BUS PROTOCOL FOR SMALL SATELLITE PAYLOAD</b></h1>
                    <h2>
                    <span>Yang Zhang</span>
            </h2>
                    <h2>
                    <span>Southwest China Institute of Electronic Technology</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>The traditional CAN bus application layer protocol of small satellite supports fewer network nodes, and the communication mode between nodes is relatively single, which makes it difficult to meet the networking requirements of complex loads. This paper designed a communication bus protocol of payload based on PeliCAN. The message identifier section was detached to many subsections base on CAN bus application layer protocol. It was easy to realize multi-master communication, and networking was more flexible and contained more nodes. Bus node adopted double filter setttings, and it achieved point to point communication, broadcast communication, group communication, sub-group communication mode. It could satisfy complex application environment. The general format for single frame and multiple frame was designed to parse mixed multiple frame. The calculation shows that the peak load of this bus protocol is 24.05%, which meets the requirement of small satellite load networking.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Payload%20bus%20protocol&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Payload bus protocol;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=PeliCAN&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">PeliCAN;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Segmental%20identifier&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Segmental identifier;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Double%20filter%20mode&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Double filter mode;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Hybrid%20communication%20mode&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Hybrid communication mode;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Universal%20frame%20format&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Universal frame format;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-02-17</p>
                            </div>


        <!--brief start-->
                        <h3 id="33" name="33" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="34">CAN总线作为现场总线中的重要代表, 最早由Bosch公司提出并应用在汽车领域, CAN总线的组网简单、性能可靠、实时性好、功耗较低, 并自带校验机制和纠错机制, 使其逐渐在工业、医疗、航空、航天等诸多行业中得到了广泛的应用<citation id="119" type="reference"><link href="86" rel="bibliography" /><link href="88" rel="bibliography" /><link href="90" rel="bibliography" /><link href="92" rel="bibliography" /><link href="94" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>,<a class="sup">3</a>,<a class="sup">4</a>,<a class="sup">5</a>]</sup></citation>, 小卫星平台上普遍采用CAN总线作为数据通信的主要手段<citation id="120" type="reference"><link href="96" rel="bibliography" /><link href="98" rel="bibliography" /><sup>[<a class="sup">6</a>,<a class="sup">7</a>]</sup></citation>。近年来速率更高的CAN FD被提出用以升级替换CAN<citation id="121" type="reference"><link href="100" rel="bibliography" /><link href="102" rel="bibliography" /><link href="104" rel="bibliography" /><sup>[<a class="sup">8</a>,<a class="sup">9</a>,<a class="sup">10</a>]</sup></citation>, 但由于其兼容性、成本、可靠性等问题仍待完善<citation id="116" type="reference"><link href="106" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>, 目前CAN FD还未得到大规模应用, CAN总线依然是各类工程应用的主流。按照网络分层结构的定义, CAN总线网络分为三层:物理层、数据链路层和应用层, 其中标准的CAN网络架构仅定义了物理层和数据链路层, 应用层需要用户自行定义<citation id="117" type="reference"><link href="108" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>。一些行业标准陆续出台, 如CAN总线应用层协议 (CAL) 、汽车工程协会协议 (SAE) 等。各小卫星平台也根据其系统设计特点, 形成了各自独特的CAN总线应用层协议标准<citation id="122" type="reference"><link href="110" rel="bibliography" /><link href="112" rel="bibliography" /><sup>[<a class="sup">13</a>,<a class="sup">14</a>]</sup></citation>, 开展了星载标准接口的研究<citation id="118" type="reference"><link href="114" rel="bibliography" /><sup>[<a class="sup">15</a>]</sup></citation>。载荷搭载卫星平台时, 其分系统内部的CAN总线协议设计普遍参照平台协议标准执行。随着载荷设备低成本、小型化、智能化、快速响应的趋势, 载荷数量急增, 系统功能更复杂, 数据交互方式更灵活, 开发周期更短, 完全参照平台协议很难满足现有设计需求, 本文针对小卫星载荷工作特点, 设计了基于PeliCAN模式的载荷CAN总线协议。该协议支持灵活的通信方式, 能满足较为复杂的节点组网方式, 具备一定的通用性, 网络负载满足载荷组网要求。</p>
                </div>
                <h3 id="35" name="35" class="anchor-tag"><b>1 CAN总线应用层协议设计</b></h3>
                <h4 class="anchor-tag" id="36" name="36"><b>1.1 协议模式选择</b></h4>
                <div class="p1">
                    <p id="37">小卫星平台普遍选用CAN控制器芯片SJA1000, 支持两种CAN总线模式, 一种是BasicCAN模式, 支持CAN2.0A协议, 采用11 bit报文标识符的标准帧;另一种是PeliCAN模式, 支持CAN2.0B协议, 可采用29 bit报文标识符的扩展帧。小卫星平台的通信总线采用分层多级的方式设计, 与星务平台直接通信的设备较少, 因此基于BasicCAN模式的CAN总线设计已经能够满足需求, 各个小卫星平台均有标准的CAN应用层协议, 搭载的载荷总线普遍参照执行。近年来载荷分系统功能复杂度逐渐增加, 使载荷分系统内部CAN总线节点数量急增, 采用BasicCAN模式进行应用层协议设计, 已经不能很好地满足载荷内部通信组网的需求。</p>
                </div>
                <div class="p1">
                    <p id="38">PeliCAN模式作为BasicCAN模式的改进版本, 增加了报文标识符的位数, 支持双滤波器设置 (屏蔽和验收滤波器) , 并增强了对CAN总线错误的检测 (可操作的错误计数器) , 使得基于PeliCAN模式扩展帧进行载荷分系统内部CAN总线协议设计支持更多的节点数量, 节点之间的通信方式更灵活。本设计选用PeliCAN模式扩展数据帧作为信息传输模式。</p>
                </div>
                <h4 class="anchor-tag" id="39" name="39"><b>1.2 PeliCAN模式数据帧定义</b></h4>
                <div class="p1">
                    <p id="40">PeliCAN模式下的扩展数据帧中用户可编程的数据帧共13字节, 分为6部分:帧格式 (FF) ;帧类型 (RTR) ;保留位 (XX) ;帧长度 (DLC) ;报文标识符 (ID) ;数据场 (DATE) 。本设计中, FF=1表示扩展帧, RTR=0表示数据帧, 具体定义如表 1所示, 其中用户主要通过设计报文标识符和滤波器来控制总线各个节点之间的通信方式。</p>
                </div>
                <div class="area_img" id="41">
                    <p class="img_tit"><b>表1 PeliCAN模式扩展数据帧格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="41" border="1"><tr><td>字序</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr><tr><td><br />1</td><td>FF</td><td>RTR</td><td>保留</td><td></td><td>DLC</td><td></td><td></td><td></td></tr><tr><td><br />2</td><td colspan="8">报文标识符 (ID.28-ID.21) </td></tr><tr><td><br />3</td><td colspan="8">报文标识符 (ID.20-ID.13) </td></tr><tr><td><br />4</td><td colspan="8">报文标识符 (ID.12-ID.5) </td></tr><tr><td><br />5</td><td colspan="8">报文标识符 (ID.4-ID.0) 保留</td></tr><tr><td><br />6～13</td><td colspan="8">数据场 (DATE1～DATE8) </td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="42" name="42"><b>1.3 报文标识设计</b></h4>
                <div class="p1">
                    <p id="43">PeliCAN模式下扩展数据帧的报文标识符 (ID) 共29 bit (ID.28-ID.0) , 通过对报文标识的分段设计, 能够实现数据帧优先级仲裁, 点对点、广播、组播、子播通信模式。报文分段设计具体格式如表 2所示, 分别对标识符各段进行设计。</p>
                </div>
                <div class="area_img" id="44">
                    <p class="img_tit"><b>表2 报文标识分段设计格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="44" border="1"><tr><td>ID<br />28<br />|<br />26</td><td>ID<br />25<br />|<br />21</td><td>ID<br />20<br />|<br />16</td><td>ID<br />15<br /> |<br />13</td><td>ID<br />12<br /> |<br />5</td><td>ID<br />4<br />|<br />2</td><td>ID<br />1<br />|<br />0</td></tr><tr><td><br />PRI<br />信息<br />优先级</td><td>SID<br />源节<br />点ID</td><td>DID<br />目标<br />节点ID</td><td>BTYPE<br />通信<br />类型</td><td>TITLE<br />数据<br />类型</td><td>RES<br />保留</td><td>SRE<br />帧类型</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="45" name="45"><b>1.3.1 信息优先级</b></h4>
                <div class="p1">
                    <p id="46">信息优先级 (PRI) 共3 bit, 定义数据帧的优先级, 最多支持7种信息优先等级 (全1不使用) , 数值越小优先级越高, 当多种类型的数据帧同时发送时, 优先级高的数据帧最先获得总线使用权。将指令参数等重要数据类型设为最高优先级, 遥测轮询次之, 广播设为相对低优先级, 具体设置如表 3所示。</p>
                </div>
                <div class="area_img" id="47">
                    <p class="img_tit"><b>表3 优先级分类格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="47" border="1"><tr><td><br />ID.28-ID.26</td><td>数据类型</td><td>优先级 (高到低) </td></tr><tr><td><br />001B</td><td>指令、工作参数</td><td>1</td></tr><tr><td><br />010B</td><td>子播、组播、握手</td><td>2</td></tr><tr><td><br />011B</td><td>遥测、广播、数据包</td><td>3</td></tr><tr><td><br />100B</td><td>结果汇报</td><td>4</td></tr><tr><td><br />101B</td><td>测试信息</td><td>5</td></tr><tr><td><br />其他</td><td>保留</td><td></td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="48" name="48"><b>1.3.2 源节点ID</b></h4>
                <div class="p1">
                    <p id="49">源节点ID (SID) 共5 bit, 定义总线上各节点发送数据帧的优先级, 最多支持32种节点优先等级, 数值越小优先级越高, 当出现总线冲突时, 优先级高的节点最先获得总线使用权。主控机优先级最高, 分控机优先级次之, 前端机优先级低, 测试机优先级最低, 分控机、前端机和测试机等同类型多台设备间按照业务重要等级设置同类设备优先级, 源节点优先级格式如表 4所示。</p>
                </div>
                <div class="area_img" id="50">
                    <p class="img_tit"><b>表4 源节点分类格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="50" border="1"><tr><td><br />ID.25-ID.21</td><td>设备类型</td><td>优先级 (高到低) </td></tr><tr><td><br />00000B</td><td>主控机</td><td>1</td></tr><tr><td><br />00001B</td><td>处理机1</td><td>2</td></tr><tr><td><br />00010B</td><td>处理机2</td><td>3</td></tr><tr><td><br />︙</td><td>︙</td><td>︙</td></tr><tr><td><br /></td><td>前端机1</td><td></td></tr><tr><td><br /></td><td>前端机2</td><td></td></tr><tr><td><br /></td><td>︙</td><td></td></tr><tr><td><br /></td><td>测试机1</td><td></td></tr><tr><td><br /></td><td>测试机2</td><td></td></tr><tr><td><br /></td><td>︙</td><td><i>n</i></td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="51" name="51"><b>1.3.3 目标节点ID</b></h4>
                <div class="p1">
                    <p id="52">目标节点ID (DID) 共5 bit, 定义节点站地址, 最多支持32个节点地址。目标节点ID配合各节点的屏蔽和验收滤波器参数, 实现总线上各节点对数据帧的筛选接收。点对点通信时, 用于指示滤波器只接收本节点数据帧, 目标节点ID的具体格式定义与源节点ID定义类似。非点对点模式时, 用于指示滤波器区分组播内的子播组, 最多支持10个子播组, 具体定义如表 5所示。</p>
                </div>
                <div class="area_img" id="53">
                    <p class="img_tit"><b>表5 目标节点分类格式 (非点对点通信</b>)  <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="53" border="1"><tr><td><br />ID.20-ID.16</td><td>组类型</td><td>说明</td></tr><tr><td><br />11111B</td><td>广播<br />组播</td><td>通信类型为广播时其它所有节点均接收;<br />通信类型为组播组<i>n</i>时, 组播组<i>n</i>的所有子播组节点接收。</td></tr><tr><td><br />00011B</td><td>子播组1</td><td>通信类型为广播时所有组播组的子播组1接收;<br />通信类型为组播组<i>n</i>时, 组播组<i>n</i>的子播组1的所有节点接收</td></tr><tr><td><br />00110B</td><td>子播组2</td><td>同上类似</td></tr><tr><td><br />︙</td><td>︙</td><td>同上类似</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="54" name="54"><b>1.3.4 通信类型</b></h4>
                <div class="p1">
                    <p id="55">通信类型 (BTYPE) 共3 bit, 定义数据帧是否为点对点通信, 最多支持3种通信分类, 点对点通信。非组播类型数据帧由节点的滤波器1匹配, 组播类型数据帧由节点的滤波器2匹配, 能够实现节点同时筛选多种组播和非组播类型的数据帧。具体定义如表6所示。</p>
                </div>
                <div class="area_img" id="56">
                    <p class="img_tit"><b>表6 通信类型定义</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="56" border="1"><tr><td><br />ID.15-ID.13</td><td>通信类型</td><td>说明</td></tr><tr><td><br />000B</td><td>点对点通信</td><td>1个节点接收</td></tr><tr><td><br />111B</td><td>广播</td><td>其他所有节点均接收</td></tr><tr><td><br />001B</td><td>组播组1</td><td>组播组1的所有子播组节点接收</td></tr><tr><td><br />010B</td><td>组播组2</td><td>组播组2的所有子播组节点接收</td></tr><tr><td><br />100B</td><td>组播组3</td><td>组播组3的所有子播组节点接收</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="57" name="57"><b>1.3.5 数据类型</b></h4>
                <div class="p1">
                    <p id="58">数据类型 (TITLE) 共8 bit, 定义每个数据帧的信息类型, 当总线上进行多主通信时, 可能出现不同信息类型帧混合, 接收节点可根据帧TITLE区分不同信息类型数据帧, 从而分别缓存拼接, 实现混合帧解析。</p>
                </div>
                <h4 class="anchor-tag" id="59" name="59"><b>1.3.6 帧类型</b></h4>
                <div class="p1">
                    <p id="60">帧类型 (SRE) 共2 bit, 定义数据帧为多帧还是单帧, 节点接收到数据帧后, 将多帧或单帧恢复为完整的信息数据包。</p>
                </div>
                <h4 class="anchor-tag" id="61" name="61"><b>1.4 接收滤波器设计</b></h4>
                <div class="p1">
                    <p id="62">总线上各节点在接收数据帧时, 使用自身滤波器参数与数据帧报文标识进行匹配, 只有通过匹配的数据帧才能被节点接收, 从而实现节点对CAN总线上大量数据的选择性接收。数据帧中的ID.28-ID.13共16 bit作为滤波仲裁位参与筛选。接收滤波包括2种:验收屏蔽滤波器定义哪些ID位需要进行仲裁;验收代码滤波器定义ID位的具体仲裁值。</p>
                </div>
                <div class="p1">
                    <p id="63">本设计中为满足系统要求的多种组合通信方式, 总线节点全部采用双滤波器模式, 滤波器1接收点对点的通信数据, 滤波器2接收非点对点的通信数据。数据帧中的报文标识符ID只要通过任意1个滤波器的仲裁, 就能被节点接收。双滤波器的配置如图1所示。</p>
                </div>
                <div class="area_img" id="64">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906025_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 节点双滤波器模式配置示意图" src="Detail/GetImg?filename=images/JYRJ201906025_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 节点双滤波器模式配置示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906025_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="65">通过各个节点的滤波器配置结合各种数据帧的报文标识符, 总线节点之间同时实现点对点、广播、组播、子播等多种通信模式, 系统非点对点的通信模式示意图如图 2所示。</p>
                </div>
                <div class="area_img" id="66">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201906025_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 非点对点通信模式示意图" src="Detail/GetImg?filename=images/JYRJ201906025_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 非点对点通信模式示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201906025_066.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="67" name="67"><b>1.5 数据包结构设计</b></h4>
                <div class="p1">
                    <p id="68">CAN总线上传输的有效数据包设计为单帧数据包和多帧数据包2种, 其通用格式设计如表 7、表 8所示。为区分结束帧, 多帧数据包的最后一包必须小于8字节, 若最后一帧刚好8字节, 则需要发送一帧空帧 (只包含Index, 无数据内容) , 其中DLC表示帧长度, ID表示报文标识符, Index表示帧序号, Len表示数据长度, Title表示数据类型, W<sub>1</sub>-W<sub>n</sub>表示数据内容, SUM表示校验位。</p>
                </div>
                <div class="area_img" id="69">
                    <p class="img_tit"><b>表7 单帧数据格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="69" border="1"><tr><td colspan="5"><br />仲裁场、控制场</td><td colspan="3">数据场</td></tr><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7～12</td><td>13</td></tr><tr><td><br />DLC</td><td>ID</td><td>ID</td><td>ID</td><td>ID</td><td>Title</td><td>W<sub>1</sub>-W<sub>n</sub></td><td>SUM</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="70">
                    <p class="img_tit"><b>表8 多帧数据格式</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="70" border="1"><tr><td colspan="2"><br />仲裁场、控制场</td><td colspan="5">数据场</td></tr><tr><td>1</td><td>2～5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10～13</td></tr><tr><td>DLC</td><td>ID</td><td>Index</td><td colspan="2">Len</td><td>Title</td><td>W<sub>1</sub></td></tr><tr><td><br />DLC</td><td>ID</td><td>Index</td><td colspan="2"></td><td>…</td><td></td></tr><tr><td><br />DLC</td><td>ID</td><td>Index</td><td colspan="2"></td><td>…</td><td></td></tr><tr><td>DLC</td><td>ID</td><td>Index</td><td>W<sub>n</sub></td><td>SUM</td><td></td><td></td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="71" name="71" class="anchor-tag"><b>2 总线网络负载</b></h3>
                <div class="p1">
                    <p id="72">为保证CAN总线上数据通信稳定, 总线网络负载须限制在30%以内, CAN总线的网络负载表示为:</p>
                </div>
                <div class="p1">
                    <p id="73"><mathml id="74"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>B</mi><msub><mrow></mrow><mrow><mtext>l</mtext><mtext>o</mtext><mtext>a</mtext><mtext>d</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>S</mi><msub><mrow></mrow><mtext>c</mtext></msub></mrow><mrow><mi>S</mi><msub><mrow></mrow><mtext>a</mtext></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>S</mi><msub><mrow></mrow><mrow><mtext>s</mtext><mtext>t</mtext><mtext>d</mtext></mrow></msub><mo stretchy="false"> (</mo><mi>n</mi><msub><mrow></mrow><mrow><mtext>p</mtext><mtext>e</mtext><mtext>r</mtext><mtext>i</mtext><mtext>o</mtext><mtext>d</mtext></mrow></msub><mo>+</mo><mi>n</mi><msub><mrow></mrow><mrow><mtext>e</mtext><mtext>n</mtext><mtext>e</mtext><mtext>n</mtext><mtext>t</mtext></mrow></msub><mo stretchy="false">) </mo></mrow><mrow><mi>S</mi><msub><mrow></mrow><mtext>a</mtext></msub></mrow></mfrac></mrow></math></mathml>      (1) </p>
                </div>
                <div class="p1">
                    <p id="75">式中:<i>S</i><sub>c</sub>表示单位时间实际传输数据的位数, <i>S</i><sub>a</sub>表示单位时间理论可传输数据的位数, <i>S</i><sub>std</sub>表示1帧扩展帧的位数, <i>n</i><sub>period</sub>表示单位时间周期型数据的帧数, <i>n</i><sub>event</sub>表示单位时间事件型数据的帧数, 总线采用500 kb/s的速率, 多帧间隔200 μs, 总线负载情况如表9所示, 总线负载峰值为24.05%, 满足设计规范要求。</p>
                </div>
                <div class="area_img" id="76">
                    <p class="img_tit"><b>表9 总线负载情况</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="76" border="1"><tr><td>数据类型</td><td>帧数量</td><td>更新周期/s</td><td>最大负载/%</td></tr><tr><td><br />遥测1</td><td>3×16</td><td>4</td><td>1.21</td></tr><tr><td><br />遥测2</td><td>8×16</td><td>32</td><td>3.22</td></tr><tr><td><br />时间广播1</td><td>3</td><td>1</td><td>0.08</td></tr><tr><td><br />时间广播2</td><td>2</td><td>8</td><td>0.05</td></tr><tr><td><br />时间广播3</td><td>2</td><td>1</td><td>0.05</td></tr><tr><td><br />导航广播1</td><td>32</td><td>1</td><td>1.21</td></tr><tr><td><br />导航广播2</td><td>32</td><td>1</td><td>1.21</td></tr><tr><td><br />信息广播</td><td>3</td><td>4</td><td>0.08</td></tr><tr><td><br />指令</td><td>3×16</td><td>事件触发 (≥1) </td><td>1.21</td></tr><tr><td><br />数据包</td><td>36×16</td><td>事件触发 (≥1) </td><td>14.52</td></tr><tr><td><br />信息上报</td><td>3×16</td><td>事件触发 (≥1) </td><td>1.21</td></tr><tr><td><br />总计</td><td></td><td></td><td>24.05</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="77" name="77" class="anchor-tag"><b>3 结 语</b></h3>
                <div class="p1">
                    <p id="78">随着小卫星载荷集成化与智能化水平不断提高, 载荷设备数量急剧增加, 总线数据交互更加灵活, 采用BasicCAN模式的协议设计逐渐不能满足要求。本文设计了一种基于PeliCAN模式的载荷CAN总线协议, 相比于传统总线协议, 能容纳更多的网络节点, 能同时实现点对点、广播、组播和子播多种通信方式。通用帧格式便于实现多主通信和混合帧解析, 具有一定通用性。通过对总线网络负载分析, 基于本协议实现的总线网络负载峰值满足行业要求, 该设计方法已经在小卫星型号项目上得到成功应用。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="86">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSGG201807037&amp;v=MTAwNjNVUjdxZlp1WnRGeXZtVjczSUx6N01hYkc0SDluTXFJOUdZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 汪阳雄, 张向文.基于MK60DN512ZVLQ10纯电动汽车BMS上位机模块设计与实现[J].计算机工程与应用, 2018 (54) :232-238.
                            </a>
                        </p>
                        <p id="88">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201311030&amp;v=MjM3OTh0R0ZyQ1VSN3FmWnVadEZ5dm1WNzNJTWpYU1pMRzRIOUxOcm85R1pJUUtESDg0dlI0VDZqNTRPM3pxcUI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 单桂军, 王国俊, 戴永前, 等.汽车控制系统CAN总线的网络演算建模及分析[J].微电子学与计算机, 2013 (11) :123-125.
                            </a>
                        </p>
                        <p id="90">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=SJSJ201604012&amp;v=MDc5NDlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5dm1WNzNJTmlmWVpMRzRIOWZNcTQ5RVpvUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 李滨, 秦贵和, 赵睿, 等.基于CAN总线和互联网的被动无钥匙进入系统[J].计算机工程与设计, 2016, 37 (4) :897-901.
                            </a>
                        </p>
                        <p id="92">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XDDJ201711041&amp;v=MDcwNjU3cWZadVp0Rnl2bVY3M0lQU25QWkxHNEg5Yk5ybzlCWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 邱贺.基于CAN总线的地热井温度探测与评估系统[J].现代电子技术, 2017, 40 (11) :155-158.
                            </a>
                        </p>
                        <p id="94">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Embedded on-board diagnostics system using CAN network">

                                <b>[5]</b> Burje P R, Karande K J, Jagadale A B.Embedded on-board diagnostics system using CAN network[C]//2014 IEEE Global Conference on Wireless Computing &amp; Networking (GCWCN) .IEEE, 2015.
                            </a>
                        </p>
                        <p id="96">
                            <a id="bibliography_6" >
                                    <b>[6]</b>
                                 李孝同, 施思寒.小卫星星务管理技术[M].北京:中国宇航出版社, 2014.
                            </a>
                        </p>
                        <p id="98">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Controller Area Network for fault tolerant small satellite system design">

                                <b>[7]</b> Kimm H, Jarrell M.Controller Area Network for fault tolerant small satellite system design[C]//IEEE International Symposium on Industrial Electronics.2014.
                            </a>
                        </p>
                        <p id="100">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Analytical and Experimental Performance Evaluations of CAN-FDBus">

                                <b>[8]</b> De Andrade R, Hodel K N, Justo J F, et al.Analytical and Experimental Performance Evaluations of CAN-FD Bus[J].IEEE Access, 2018, 6:21287-21295.
                            </a>
                        </p>
                        <p id="102">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=CAN FD controller for in-vehicle system">

                                <b>[9]</b> Shin J W, Oh J H, Lee S M, et al.CAN FD controller for in-vehicle system[C]//2016 International SoC Design Conference (ISOCC) .IEEE, 2016.
                            </a>
                        </p>
                        <p id="104">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Quantitative Performance Study on CAN and CAN FD Vehicular Networks">

                                <b>[10]</b> Zago G M, de Freitas E P.A Quantitative Performance Study on CAN and CAN FD Vehicular Networks[J].IEEE Transactions on Industrial Electronics, 2018, 65 (5) :4413-4422.
                            </a>
                        </p>
                        <p id="106">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Improving compatibility between CAN FD and legacy CAN devices">

                                <b>[11]</b> Cena G, Bertolotti I C, Hu T, et al.Improving compatibility between CAN FD and legacy CAN devices[C]//IEEE International Forum on Research &amp; Technologies for Society &amp; Industry Leveraging A Better Tomorrow.IEEE, 2015.
                            </a>
                        </p>
                        <p id="108">
                            <a id="bibliography_12" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJC201409027&amp;v=MjI5NjBGckNVUjdxZlp1WnRGeXZtVjczSUx6N0JiYkc0SDlYTXBvOUhZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[12]</b> 刘超, 李军站, 黄伟.流程加工CAN测控网络的应用层协议研究[J].计算机工程, 2014, 40 (9) :130-133.
                            </a>
                        </p>
                        <p id="110">
                            <a id="bibliography_13" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201103021&amp;v=MjAzODl1WnRGeXZtVjczSUxUbk1iYkc0SDlETXJJOUhaWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[13]</b> 陶志刚, 李晴.小卫星星载CAN总线的应用层传输方法研究[J].航天器工程, 2011, 20 (3) :103-107.
                            </a>
                        </p>
                        <p id="112">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201404013&amp;v=MTUwNDRSN3FmWnVadEZ5dm1WNzNJTFRuTWJiRzRIOVhNcTQ5RVo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b> 陈海燕, 刘思远, 袁春柱, 等.支持多主通信的星载CAN总线应用协议设计[J].航天器工程, 2014, 23 (4) :72-76.
                            </a>
                        </p>
                        <p id="114">
                            <a id="bibliography_15" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=HTGC201506010&amp;v=MTQ2ODl1WnRGeXZtVjczSUxUbk1iYkc0SDlUTXFZOUVaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[15]</b> 何熊文, 朱剑冰, 程博文, 等.星载标准接口业务在航天器中的应用方法[J].航天器工程, 2015, 24 (6) :52-58.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201906025" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201906025&amp;v=MjE1NDBMelRaWkxHNEg5ak1xWTlIWVlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0Rnl2bVY3M0k=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ28xeDVteFZmK0p3enVSVkNoMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
