<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135738098877500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201905004%26RESULT%3d1%26SIGN%3dAspTWRj9zG5QvE34DYaoGNIbuDg%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201905004&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201905004&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201905004&amp;v=MDAwNDFyQ1VSN3FmWnVadEZ5M2hWTHJQTHpUWlpMRzRIOWpNcW85RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#19" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#23" data-title="&lt;b&gt;1 档案大数据的特征&lt;/b&gt; "><b>1 档案大数据的特征</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#35" data-title="&lt;b&gt;2 档案数据管理现状及问题&lt;/b&gt; "><b>2 档案数据管理现状及问题</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#36" data-title="&lt;b&gt;2.1 结构化数据的存储模式&lt;/b&gt;"><b>2.1 结构化数据的存储模式</b></a></li>
                                                <li><a href="#41" data-title="&lt;b&gt;2.2 非结构化数据的存储模式&lt;/b&gt;"><b>2.2 非结构化数据的存储模式</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#45" data-title="&lt;b&gt;3 相关技术&lt;/b&gt; "><b>3 相关技术</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#46" data-title="&lt;b&gt;3.1 MongoDB&lt;/b&gt;"><b>3.1 MongoDB</b></a></li>
                                                <li><a href="#49" data-title="&lt;b&gt;3.2 FastDFS&lt;/b&gt;"><b>3.2 FastDFS</b></a></li>
                                                <li><a href="#56" data-title="&lt;b&gt;3.3 Elasticsearch&lt;/b&gt;"><b>3.3 Elasticsearch</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#61" data-title="&lt;b&gt;4 方案设计与实现&lt;/b&gt; "><b>4 方案设计与实现</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#62" data-title="&lt;b&gt;4.1 总体框架&lt;/b&gt;"><b>4.1 总体框架</b></a></li>
                                                <li><a href="#65" data-title="&lt;b&gt;4.2 集群构架&lt;/b&gt;"><b>4.2 集群构架</b></a></li>
                                                <li><a href="#89" data-title="&lt;b&gt;4.3 数据模型设计&lt;/b&gt;"><b>4.3 数据模型设计</b></a></li>
                                                <li><a href="#125" data-title="&lt;b&gt;4.4 存储与检索流程的实现&lt;/b&gt;"><b>4.4 存储与检索流程的实现</b></a></li>
                                                <li><a href="#135" data-title="&lt;b&gt;4.5 原型系统搭建&lt;/b&gt;"><b>4.5 原型系统搭建</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#149" data-title="&lt;b&gt;5 结 语&lt;/b&gt; "><b>5 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#64" data-title="图1 总体框架设计">图1 总体框架设计</a></li>
                                                <li><a href="#68" data-title="图2 MongoDB 集群构架">图2 MongoDB 集群构架</a></li>
                                                <li><a href="#77" data-title="图3 FastDFS集群构架">图3 FastDFS集群构架</a></li>
                                                <li><a href="#87" data-title="图4 Elasticsearch集群构架">图4 Elasticsearch集群构架</a></li>
                                                <li><a href="#130" data-title="图5 数据存储流程">图5 数据存储流程</a></li>
                                                <li><a href="#134" data-title="图6 数据检索流程">图6 数据检索流程</a></li>
                                                <li><a href="#137" data-title="&lt;b&gt;表1 服务器角色配置表&lt;/b&gt;"><b>表1 服务器角色配置表</b></a></li>
                                                <li><a href="#140" data-title="图7 系统主界面">图7 系统主界面</a></li>
                                                <li><a href="#145" data-title="图8 数据查询功能">图8 数据查询功能</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" >
                                        <b>[1]</b>
                                     闫政.运用大数据贡献大作为[N].中国档案报, 2016-11-24.</a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 周跃, 臧斌宇.分布式NoSQL系统写操作性能优化设计与实现[J].计算机应用与软件, 2014, 31 (11) :25-28." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201411007&amp;v=MTg0NjdmWnVadEZ5M2hWTHJQTHpUWlpMRzRIOVhOcm85Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         周跃, 臧斌宇.分布式NoSQL系统写操作性能优化设计与实现[J].计算机应用与软件, 2014, 31 (11) :25-28.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 付世娇, 吴传, 廖小莉.NOSQL技术在档案检索中的应用探索[J].国土资源信息化, 2013 (4) :69-72." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GTZX201304021&amp;v=MDYzMzR6cXFCdEdGckNVUjdxZlp1WnRGeTNoVkxyUElqblJkckc0SDlMTXE0OUhaWVFLREg4NHZSNFQ2ajU0TzM=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         付世娇, 吴传, 廖小莉.NOSQL技术在档案检索中的应用探索[J].国土资源信息化, 2013 (4) :69-72.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 刘俊强.基于FastDFS云存储系统的研究与设计[D].成都:电子科技大学, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016176023.nh&amp;v=MjY1MDBGckNVUjdxZlp1WnRGeTNoVkxyUFZGMjZHTEsvR05IT3JKRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEc=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         刘俊强.基于FastDFS云存储系统的研究与设计[D].成都:电子科技大学, 2016.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" Chodorow K.MongoDB权威指南[M].2版.人民邮电出版社, 2014." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787115341082000&amp;v=MTkxNjlIN24zeEU5ZmJ2bktyaWZaZVp2RnlubVU3ck1KMXNUWEZxekdiSzVHOUxJcm85Tlp1c1BEQk04enhVU21EZDlT&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         Chodorow K.MongoDB权威指南[M].2版.人民邮电出版社, 2014.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 余庆.分布式文件系统FastDFS架构剖析[J].程序员, 2010 (11) :63-65." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ITSJ201011038&amp;v=MTU3MjRaTEc0SDlITnJvOUdiSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeTNoVkxyUExEblk=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         余庆.分布式文件系统FastDFS架构剖析[J].程序员, 2010 (11) :63-65.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 李城, 童彬, 刘应波, 等.分布式检索在异构科技信息资源中的应用及优化[J].计算机应用与软件, 2017, 34 (10) :78-84, 156." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201710013&amp;v=MTE0NzhRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnkzaFZMclBMelRaWkxHNEg5Yk5yNDlFWjQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         李城, 童彬, 刘应波, 等.分布式检索在异构科技信息资源中的应用及优化[J].计算机应用与软件, 2017, 34 (10) :78-84, 156.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" Gormley C, Tong Z.Elasticsearch:The Definitive Guide [M].O&#39;Reilly Media, 2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Elasticsearch:The Definitive Guide">
                                        <b>[8]</b>
                                         Gormley C, Tong Z.Elasticsearch:The Definitive Guide [M].O&#39;Reilly Media, 2015.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(05),15-20 DOI:10.3969/j.issn.1000-386x.2019.05.003            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于分布式NoSQL数据库的档案大数据存储与检索方案研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%96%BD%E6%99%93%E5%B3%B0&amp;code=37207418&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">施晓峰</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%B5%A6%E4%B8%9C%E6%96%B0%E5%8C%BA%E6%A1%A3%E6%A1%88%E5%B1%80&amp;code=0457724&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">浦东新区档案局</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>随着数字档案资源体系建设的不断加快, 档案数据的种类日趋丰富, 数量迅猛增长, 呈现出大数据的特征。传统关系型数据库与集中式存储在档案大数据处理方面存在着适应性、可靠性和扩展性不足的问题。针对当前遇到的问题, 通过分析传统档案数据存储模式的局限性, 将分布式NoSQL数据库、分布式文件系统、分布式搜索引擎应用于档案大数据的管理。设计一套基于分布式NoSQL数据库的档案大数据存储与检索方案, 并开发原型系统进行验证。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%A1%A3%E6%A1%88&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">档案;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%A4%A7%E6%95%B0%E6%8D%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">大数据;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=NoSQL&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">NoSQL;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分布式数据库;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    施晓峰, 工程师, 主研领域:档案信息化。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-10-24</p>

            </div>
                    <h1><b>ARCHIVES BIG DATA STORAGE AND RETRIEVAL SCHEME BASED ON DISTRIBUTED NOSQL DATABASE</b></h1>
                    <h2>
                    <span>Shi Xiaofeng</span>
            </h2>
                    <h2>
                    <span>Pudong New Area Archives Bureau</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>With the continuous acceleration of the construction of digital archives resource system, the types of archives data are becoming increasingly abundant, and the number of archives data is growing rapidly, showing the characteristics of large data. The traditional relational database and centralized storage have the problems of insufficient adaptability, reliability and expansibility in archives big data processing. Aiming at these problems, by analyzing the limitations of traditional archives data storage mode, the distributed NoSQL database, distributed file system and distributed search engine were applied to the management of archives big data. We designed a set of archives big data storage and retrieval scheme based on distributed NoSQL database, and developed a prototype system for verification.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Archives&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Archives;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Big%20data&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Big data;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=NoSQL&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">NoSQL;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Distributed%20database&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Distributed database;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-10-24</p>
                            </div>


        <!--brief start-->
                        <h3 id="19" name="19" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="20">随着档案馆资源体系建设步伐不断加快及档案信息化建设的不断深入, 数字档案资源的种类和容量都在快速增长, 呈现出海量、多类型与高价值的大数据特征。新技术的发展给档案大数据的管理带来了新的机遇和挑战。如何更好地收集、保管和利用档案信息, 是一个值得认真思考的课题<citation id="152" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="21">相对于传统关系型数据库, 分布式NoSQL数据库性能高、成本低、更灵活, 结合分布式系统抗单点故障能力和 NoSQL 的天然水平伸缩性特点, 能够从容应对海量数据的挑战<citation id="153" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="22">本文通过分析传统档案数据管理中存在的问题, 以分布式NoSQL数据库为基础, 制定了可行的档案大数据存储与检索方案, 并采用业界当前的主流技术, 开发了原型系统进行验证。</p>
                </div>
                <h3 id="23" name="23" class="anchor-tag"><b>1 档案大数据的特征</b></h3>
                <div class="p1">
                    <p id="24">在当前高度信息化的社会环境下, 包括档案行业在内的各个领域都在业务工作中都积累了海量的电子数据。</p>
                </div>
                <div class="p1">
                    <p id="25">这些数据主要分为三种:第一种是结构化数据, 可以用二维关系表结构表示, 一般存储在关系型数据库中;第二种是半结构化数据, 例如XML、JSON;第三种是非结构化数据, 包括各种格式的电子文件 (TXT、Word、PDF) 、图片、音频、视频等。随着社会信息技术的发展, 档案馆接收的数据内容也在发生着变化, 半结构和非结构化的数据越来越多, 各类电子文件、多媒体文件正在成为馆藏的重要来源。</p>
                </div>
                <div class="p1">
                    <p id="26">通过分析档案馆的数据资源, 我们发现档案大数据具有以下几个特征:</p>
                </div>
                <div class="p1">
                    <p id="27"> (1) 格式多样。既有纸质档案的数字化副本、接收进馆的电子文件、档案著录信息、OCR的成果文本、声像资料, 也有用户信息、利用记录、架体位置等各种业务数据。</p>
                </div>
                <div class="p1">
                    <p id="28"> (2) 结构复杂。档案目录数据同时具有结构化和半结构化的特征, 每条记录包含几十个字段, 有一部分是共用的字段, 其他字段则随着档案类型的不同而变化。</p>
                </div>
                <div class="p1">
                    <p id="29"> (3) 规模庞大。无论是目录数据还是电子文件的数量, 都可达到千万级以上, 容量可达几十TB。</p>
                </div>
                <div class="p1">
                    <p id="30">此外, 在实际业务工作中, 档案馆的数据还具有以下特性:</p>
                </div>
                <div class="p1">
                    <p id="31"> (1) 数据大批量集中写入多, 一旦导入, 很少发生更改操作。</p>
                </div>
                <div class="p1">
                    <p id="32"> (2) 数据之间的关联关系较少。</p>
                </div>
                <div class="p1">
                    <p id="33"> (3) 需要支持多种查询方式, 要有很好的查询性能, 但实时性和并发访问要求不高。</p>
                </div>
                <div class="p1">
                    <p id="34"> (4) 随着档案类别的不断增多, 要求数据库具有很好的可扩展性。</p>
                </div>
                <h3 id="35" name="35" class="anchor-tag"><b>2 档案数据管理现状及问题</b></h3>
                <h4 class="anchor-tag" id="36" name="36"><b>2.1 结构化数据的存储模式</b></h4>
                <div class="p1">
                    <p id="37">档案的结构化与半结构化数据一般是指档案的元数据。档案元数据是一组用来描述数字档案内容与其他特性的元素集, 包括传统的档案著录要素, 例如档号、题名、责任者等, 也包括文件的产生背景、形成过程、结构格式等, 是组织与管理数字档案资源的基础数据。</p>
                </div>
                <div class="p1">
                    <p id="38">关系型数据库具有很强的安全性、良好的数学基础支撑, 在许多需要保证事务一致性的行业, 如电信、银行等的关键业务系统中应用广泛。当前, 采用成熟的关系型数据库, 集中存储和管理档案元数据是业界的主流模式。</p>
                </div>
                <div class="p1">
                    <p id="39">但是随着社会的发展, 档案的门类不断扩展, 各门类档案既有统一的管理要求, 又有各自个性化的需求, 档案元数据也在不断地更新与变化, 半结构化的趋势愈加明显。</p>
                </div>
                <div class="p1">
                    <p id="40">关系数据库的模型不灵活、横向扩展能力较差, 使用传统关系型数据库进行档案检索正面临越来越严峻的挑战, 检索速度慢、结果质量低<citation id="154" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, 已经难以满足数据快速增长带来的更新和查询需求了。</p>
                </div>
                <h4 class="anchor-tag" id="41" name="41"><b>2.2 非结构化数据的存储模式</b></h4>
                <div class="p1">
                    <p id="42">档案的非结构化数据主要包括纸质档案的数字化副本、电子文件归档形成的电子档案、照片、音视频等。目前, 档案的非结构化数据主要采取以下两种存储方式:</p>
                </div>
                <div class="p1">
                    <p id="43"> (1) 直接将非结构化数据以二进制大对象 (BLOB) 的形式存储在关系型数据库中。采用这种方式的优势在于可以依靠数据库自身来保障数据的安全性、事务的一致性等。但其劣势在于, 用关系型数据库存储非结构化数据时, 不断增加的文件数量会导致数据库的体积不断增大, 读写性能持续下降。在进行数据库备份和还原时, 速度也会变得非常缓慢。</p>
                </div>
                <div class="p1">
                    <p id="44"> (2) 将非结构化数据通过文件系统直接存储在文件服务器中。数据文件按一定规则存放于服务器的指定目录下, 需要访问数据时, 应用系统通过保存在关系型数据库中的存储路径读取服务器上的文件。这种模式的可扩展性较差, 不支持数据复制, 不具备负载均衡等特性, 文件高并发访问性能不理想<citation id="155" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>, 容易出现系统瓶颈。随着档案数字资源量剧增、业务需求激增, 传统文件系统提供的数据存储能力和性能已经不能满足应用的需要, 也无法更好地解决海量小文件的索引、查找、统计、备份等一系列问题。</p>
                </div>
                <h3 id="45" name="45" class="anchor-tag"><b>3 相关技术</b></h3>
                <h4 class="anchor-tag" id="46" name="46"><b>3.1 MongoDB</b></h4>
                <div class="p1">
                    <p id="47">NoSQL (Not Only SQL) 是对非传统关系型数据库的统称, 具有快速读写、动态伸缩、模式灵活、高可靠低成本等特点。主要可以分为以下5类: (1) 键值 (Key-value) 数据库, 例如Dynamo、Redis; (2) 面向文档 (Document) 数据库, 例如MongoDB、CouchDB; (3) 面向列 (Column) 数据库, 例如BigTabe、HBase; (4) 图形 (Graph) 数据库, 例如AllegroGraph、Neo4j; (5) 多模型 (Multi-model) 数据库, 例如ArangoDB、OrientDB。</p>
                </div>
                <div class="p1">
                    <p id="48">MongoDB是一款面向文档的分布式NoSQL数据库, 功能十分丰富, 易部署、易使用, 并且保留了很多关系型数据库的特性。MongoDB使用BSON作为数据存储和传输的格式, 支持内嵌的文档对象和数组对象, 仅用一条记录就能表示复杂的层次关系, 十分灵活<citation id="156" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。MongoDB支持集群部署、数据分片, 具有高性能、可扩展的特点。</p>
                </div>
                <h4 class="anchor-tag" id="49" name="49"><b>3.2 FastDFS</b></h4>
                <div class="p1">
                    <p id="50">FastDFS是一款开源的分布式文件系统, 用C语言编写, 支持Linux、FreeBSD、AIX等UNIX系统<citation id="157" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>, 提供文件的存储、同步、访问等管理功能, 已在包括淘宝、京东、迅雷等众多国内互联网公司中得到广泛应用。主要包括以下特性:</p>
                </div>
                <div class="p1">
                    <p id="51"> (1) 能够在不中断服务的情况下实现存储的线性扩展。</p>
                </div>
                <div class="p1">
                    <p id="52"> (2) 提供负载均衡, 对文件的访问可以分散到多个服务节点上。</p>
                </div>
                <div class="p1">
                    <p id="53"> (3) 避免单点故障, 系统中的所有角色都可以采用集群部署, 实现冗余。</p>
                </div>
                <div class="p1">
                    <p id="54"> (4) 文件不分块, 直接存储在文件系统中, 不会加重服务器的工作量, 适合小文件存储。</p>
                </div>
                <div class="p1">
                    <p id="55">FastDFS较好地解决了海量数据冗余备份、负载均衡、线性扩容等问题, 部署硬件成本低, 非常适合用于管理4 KB至500 MB之间的中小型文件, 与档案馆需要存储海量电子文件的使用场景十分吻合。</p>
                </div>
                <h4 class="anchor-tag" id="56" name="56"><b>3.3 Elasticsearch</b></h4>
                <div class="p1">
                    <p id="57">检索服务是档案数据管理与利用的核心。传统集中式的检索方式资源覆盖面较窄, 资源更新和维护比较困难, 检索速度也比较缓慢<citation id="158" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="58">Elasticsearch (以下简称ES) 是一个开源的、分布式搜索分析引擎, 基于Java开发并使用Lucene作为其核心来实现索引和搜索的功能, 具有近实时、高性能、高可用和易扩展等优点。</p>
                </div>
                <div class="p1">
                    <p id="59">ES能够在很短的时间内完成数据索引, 提供近乎实时的搜索体验;同时, ES可以把一个完整的索引进行分片 (Shards) 存储, 均匀分配到各个服务节点上, 并对索引和搜索做负载均衡; ES还可以设置多个索引副本 (Replicas) , 防止硬件故障造成的数据丢失;此外, ES很容易进行横向扩展, 新增的服务节点能够自动地加入集群而无需人工干预。</p>
                </div>
                <div class="p1">
                    <p id="60">目前, 很多互联网公司都使用ES来搭建自己的搜索系统。比如Github (代码管理网站) 使用 ES对1 300亿行代码进行查询;Wikipedia (维基百科) 使用 ES提供带有高亮片段的全文搜索<citation id="159" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>;百度目前也广泛使用ES作为文本数据分析, 采集服务器上的各类指标数据及用户自定义数据, 并进行多维分析展示, 给业务工作提供辅助决策。</p>
                </div>
                <h3 id="61" name="61" class="anchor-tag"><b>4 方案设计与实现</b></h3>
                <h4 class="anchor-tag" id="62" name="62"><b>4.1 总体框架</b></h4>
                <div class="p1">
                    <p id="63">本方案总体框架底层采用了虚拟化资源池, 以提高资源利用效率, 实现硬件资源的动态分配、灵活调度, 特别适合分布式系统的部署与应用。数据服务层采用MongoDB保存结构化与半结构化的档案数据, 用FastDFS存储电子文件, 用ES实现内容索引与检索, 所有服务均采用集群模式部署, 实现整体功能的负载均衡与故障转移。在通用接口层, 通过构建对外统一的数据访问与查询接口, 简化上层应用与数据服务层之间的交互流程, 如图1所示。</p>
                </div>
                <div class="area_img" id="64">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 总体框架设计" src="Detail/GetImg?filename=images/JYRJ201905004_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 总体框架设计  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_064.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="65" name="65"><b>4.2 集群构架</b></h4>
                <h4 class="anchor-tag" id="66" name="66"><b>4.2.1 MongoDB集群</b></h4>
                <div class="p1">
                    <p id="67">MongoDB的集群一般有主从, 副本集和分片三种模式, 本文采用了分片集群 (Sharded Cluster) 的方式, 如图2所示。MongoDB可以通过自动将数据分散存储到不同机器上来实现数据库的水平扩展, 这样只需要增加普通服务器就可以提高数据库的存储空间与负载性能。</p>
                </div>
                <div class="area_img" id="68">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 MongoDB 集群构架" src="Detail/GetImg?filename=images/JYRJ201905004_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 MongoDB 集群构架  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_068.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="69">这种方式主要包括三种角色:Shard、Mongos与Config Server。</p>
                </div>
                <div class="p1">
                    <p id="70">Shard:数据分片, 每个分片根据规则保存完整数据中的一部分, 通常采用副本集 (Replica Set) 的方式部署以保证安全。本研究采用三成员副本集, 每个分片包含一个主数据节点 (Primary) 和两个备份节点 (Secondary) 。主节点负责数据写入, 两个备份节点与主节点保持数据同步, 当主节点发生故障时, 其中一个备份节点会升级成主节点。</p>
                </div>
                <div class="p1">
                    <p id="71">Mongos:路由服务, 只负责把客户端的数据请求转发到对应的数据分片上, 然后把结果返回到客户端, 本身不存储数据。Mongos可以配置多个节点以实现冗余。</p>
                </div>
                <div class="p1">
                    <p id="72">Config Server:配置服务器, 存储分片集群的元数据与配置信息, 通常也采用两副本部署。</p>
                </div>
                <div class="p1">
                    <p id="73">Mongos启动时从Config Server上获取基本信息, 在接受到客户端的请求时, 路由到分片 (Shard) 服务器上, 然后将返回的数据结果发回给客户端。</p>
                </div>
                <h4 class="anchor-tag" id="74" name="74"><b>4.2.2 FastDFS集群</b></h4>
                <div class="p1">
                    <p id="75">与其他分布式文件系统相比, FastDFS的构架更加简洁, 只有Tracker Server和Storage Server两种角色。Tracker Server主要负责负载均衡和任务调度, Storage Server则负责文件数据的存储。</p>
                </div>
                <div class="p1">
                    <p id="76">本方案中, 存储服务集群采用了两个组 (Group1和Group2) , 每个组配置了三台Storage Server, 每个Server上的数据完全一致, 互为冗余。集群可以通过添加组来实现存储空间的线性扩展, 如图3所示。</p>
                </div>
                <div class="area_img" id="77">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 FastDFS集群构架" src="Detail/GetImg?filename=images/JYRJ201905004_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 FastDFS集群构架  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_077.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="78">跟踪服务集群配置了三台Tracker Server同时提供服务, Server之间的关系相互平等, 负载均衡, 不存在单点故障。</p>
                </div>
                <div class="p1">
                    <p id="79">客户端在需要时向Tracker Server发出请求, 获取到可用的Storage Server地址后, 直接与之通信, 完成文件的上传和下载。</p>
                </div>
                <div class="p1">
                    <p id="80">此外, 在每个Storage Server上还部署了Nginx, 解决组内Storage Server同步延迟导致文件暂时无法访问的问题, 同时提供HTTP访问服务。</p>
                </div>
                <h4 class="anchor-tag" id="81" name="81"><b>4.2.3 Elasticsearch集群</b></h4>
                <div class="p1">
                    <p id="82">在ES 5中, 集群的节点 (Node) 一般有三种角色:Master、Data和Ingest。</p>
                </div>
                <div class="p1">
                    <p id="83">Master:主节点, 主要用于维护集群状态和配置集群, 比如索引的创建与删除、分片的分配等。</p>
                </div>
                <div class="p1">
                    <p id="84">Data:数据节点, 保存包含索引的数据分片, 负责与数据、搜索与聚合相关的操作, 这些操作对CPU、内存和 I/O 资源的消耗较大。</p>
                </div>
                <div class="p1">
                    <p id="85">Ingest:转换节点, 执行常见的数据转换和预处理, 如果不需要则无需配置。</p>
                </div>
                <div class="p1">
                    <p id="86">默认情况下, 一个节点可以同时担任Master和Data两种角色, 但为了保证集群的可伸缩性, 建议不同的类型节点分开部署。本文采用的集群配置如图4所示。</p>
                </div>
                <div class="area_img" id="87">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 Elasticsearch集群构架" src="Detail/GetImg?filename=images/JYRJ201905004_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 Elasticsearch集群构架  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="88">设置三个主节点 (Master-only) , 负责统筹集群层面的事务, 维护数据节点的索引和分片。另外规划三节点的数据集群 (Data-only) , 专注于索引数据的存储和面向客户端的检索服务。同时, 将索引数据分为3个片, 每个分片各有2个副本分片作为备份。整个集群实现了负载均衡以及数据冗余, 避免了单点故障。</p>
                </div>
                <h4 class="anchor-tag" id="89" name="89"><b>4.3 数据模型设计</b></h4>
                <div class="p1">
                    <p id="90">在MongoDB中, 设计数据模型的关键应围绕文档的结构和应用程序如何表示数据之间的关联关系。MongoDB中有两种方式来表示这些关系:嵌入式文档和引用。</p>
                </div>
                <div class="p1">
                    <p id="91">以档案中最常见的数据对象——案卷目录与卷内目录 (按件归档时则为归档文件目录与件内文件目录) 为例, 两者为“1”对“N”的关系。案卷目录和卷内目录都可以单独进行查询、更新等操作。综合考虑, 这里采用了父引用方式建模。</p>
                </div>
                <div class="p1">
                    <p id="92">将案卷目录存放在集合Archives中, 每一条案卷目录作为一个MongoDB文档。一条案卷目录的文档如下:</p>
                </div>
                <div class="area_img" id="160">
                                <img alt="" src="Detail/GetImg?filename=images/JYRJ201905004_16000.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="109">将卷内目录存放在集合Archives_File中, 每一条卷内目录作为一个MongoDB文档。卷内目录文档中保存案卷目录文档的acode引用, 便于关联查询。一条卷内目录文档如下:</p>
                </div>
                <div class="area_img" id="161">
                                <img alt="" src="Detail/GetImg?filename=images/JYRJ201905004_16100.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="124">卷内目录对应的电子文件保存在FastDFS文件系统中, 文件索引 (FID) 由组名、虚拟磁盘路径、数据两级目录和文件名组成。</p>
                </div>
                <h4 class="anchor-tag" id="125" name="125"><b>4.4 存储与检索流程的实现</b></h4>
                <h4 class="anchor-tag" id="126" name="126"><b>4.4.1 数据存储流程</b></h4>
                <div class="p1">
                    <p id="127">结构化与半结构化的数据按照预先定义的数据模型, 通过程序接口保存到MongoDB中。</p>
                </div>
                <div class="p1">
                    <p id="128">文件对象通过程序接口直接上传到FastDFS, 服务器会将文件的索引 (FID) 返回给客户端, 客户端再将FID写入MongoDB对应的记录中, 用于以后该文件的访问。</p>
                </div>
                <div class="p1">
                    <p id="129">最后, 通过mongo-connector将MongoDB中的数据自动同步到ES中, 同步过程中elastic2_doc_manager负责将数据写入到ES, 如图5所示。</p>
                </div>
                <div class="area_img" id="130">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 数据存储流程" src="Detail/GetImg?filename=images/JYRJ201905004_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 数据存储流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_130.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="131" name="131"><b>4.4.2 数据检索流程</b></h4>
                <div class="p1">
                    <p id="132">用户通过客户端向ES发起查询请求, ES返回摘要结果, 需要查看详细结果时, 通过摘要记录的ID查找MongoDB数据库, 返回详细记录。</p>
                </div>
                <div class="p1">
                    <p id="133">需要访问对应的文件时, 根据记录中保存的文件索引 (FID) 向FastDFS发起请求, FastDFS通过解析FID, 定位到文件所在的存储服务器组与磁盘目录, 并根据文件名找到相应的文件, 最后将文件下载到客户端, 如图6所示。</p>
                </div>
                <div class="area_img" id="134">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_134.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 数据检索流程" src="Detail/GetImg?filename=images/JYRJ201905004_134.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 数据检索流程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_134.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="135" name="135"><b>4.5 原型系统搭建</b></h4>
                <div class="p1">
                    <p id="136">原型系统采用虚拟化平台进行搭建, 由于实验条件限制, 使用了2台PC服务器机, 采用简化设置, 共7个节点, 配置情况如表1所示。</p>
                </div>
                <div class="area_img" id="137">
                    <p class="img_tit"><b>表1 服务器角色配置表</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="137" border="1"><tr><td><br />服务器配置</td><td>节点IP</td><td>节点角色</td></tr><tr><td rowspan="4"><br />CPU: Xeon <br />E5-2630<br />RAM: 32 GB<br />HDD: 300 GB</td><td><br />10.141.211.42</td><td>MongoDB-Primary</td></tr><tr><td><br />10.141.211.43</td><td>MongoDB-Secondary</td></tr><tr><td><br />10.141.211.44</td><td>MongoDB-Secondary</td></tr><tr><td><br />10.141.211.50</td><td>Web Server</td></tr><tr><td rowspan="3"><br />CPU: Xeon<br /> E5-2630<br />RAM: 32GB<br />HDD: 300 GB</td><td><br />10.141.211.48</td><td>FastDFS-Tracker</td></tr><tr><td><br />10.141.211.49</td><td>FastDFS-Storage</td></tr><tr><td><br />10.141.211.46</td><td>ES – Master / Data</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="138">系统采用PHP进行开发。MongoDB对PHP支持良好, 尤其是高并发和schema-free (自由结构) 特性, 使PHP开发变得更加灵活和高效。</p>
                </div>
                <div class="p1">
                    <p id="139">系统主要包括三个功能, 如图7所示。</p>
                </div>
                <div class="area_img" id="140">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 系统主界面" src="Detail/GetImg?filename=images/JYRJ201905004_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 系统主界面  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_140.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="141" name="141"> (1) 数据导入。</h4>
                <div class="p1">
                    <p id="142">支持Access数据文件与TIFF图像的导入, 一次可以导入几万或者十几万条, 容量达到几GB甚至几十GB。</p>
                </div>
                <h4 class="anchor-tag" id="143" name="143"> (2) 数据查询。</h4>
                <div class="p1">
                    <p id="144">可以针对需要的字段进行模糊检索并显示结果列表, 如图8所示。</p>
                </div>
                <div class="area_img" id="145">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201905004_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 数据查询功能" src="Detail/GetImg?filename=images/JYRJ201905004_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 数据查询功能  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201905004_145.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="146" name="146"> (3) 数据管理。</h4>
                <div class="p1">
                    <p id="147">可以查看已导入的数据情况并进行简单管理。</p>
                </div>
                <div class="p1">
                    <p id="148">通过一段时间的测试, 原型系统运行稳定, 大批量数据的写入与检索性能优良, 达到了文本的研究目的。</p>
                </div>
                <h3 id="149" name="149" class="anchor-tag"><b>5 结 语</b></h3>
                <div class="p1">
                    <p id="150">本文首先分析了档案大数据的特征与存储现状, 然后通过对相关技术的比较和研究, 设计了一套基于分布式NoSQL数据库的档案大数据存储方案, 并开发了原型系统进行验证。</p>
                </div>
                <div class="p1">
                    <p id="151">此方案的系统构建成本低、性能强, 同时具有良好的可靠性和可扩展性, 适合作为智慧档案馆大数据管理的基础平台, 为各类档案信息化应用提供通用、开放的数据存储与检索服务, 也为今后模式识别、自然语言理解、应用知识库、可视化展示等大数据技术在智慧档案中的应用提供有力保障。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" >
                                    <b>[1]</b>
                                 闫政.运用大数据贡献大作为[N].中国档案报, 2016-11-24.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201411007&amp;v=MjkzNThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnkzaFZMclBMelRaWkxHNEg5WE5ybzlGWTQ=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 周跃, 臧斌宇.分布式NoSQL系统写操作性能优化设计与实现[J].计算机应用与软件, 2014, 31 (11) :25-28.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=GTZX201304021&amp;v=MjY5NjI4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeTNoVkxyUElqblJkckc0SDlMTXE0OUhaWVFLREg=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 付世娇, 吴传, 廖小莉.NOSQL技术在档案检索中的应用探索[J].国土资源信息化, 2013 (4) :69-72.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016176023.nh&amp;v=MjQ0NjRSN3FmWnVadEZ5M2hWTHJQVkYyNkdMSy9HTkhPckpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 刘俊强.基于FastDFS云存储系统的研究与设计[D].成都:电子科技大学, 2016.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=9787115341082000&amp;v=MDU3MDU5TElybzlOWnVzUERCTTh6eFVTbURkOVNIN24zeEU5ZmJ2bktyaWZaZVp2RnlubVU3ck1KMXNUWEZxekdiSzVH&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> Chodorow K.MongoDB权威指南[M].2版.人民邮电出版社, 2014.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ITSJ201011038&amp;v=MjgxNDVMRzRIOUhOcm85R2JJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5M2hWTHJQTERuWVo=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 余庆.分布式文件系统FastDFS架构剖析[J].程序员, 2010 (11) :63-65.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201710013&amp;v=MjMyODF6VFpaTEc0SDliTnI0OUVaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeTNoVkxyUEw=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 李城, 童彬, 刘应波, 等.分布式检索在异构科技信息资源中的应用及优化[J].计算机应用与软件, 2017, 34 (10) :78-84, 156.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Elasticsearch:The Definitive Guide">

                                <b>[8]</b> Gormley C, Tong Z.Elasticsearch:The Definitive Guide [M].O'Reilly Media, 2015.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201905004" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201905004&amp;v=MDAwNDFyQ1VSN3FmWnVadEZ5M2hWTHJQTHpUWlpMRzRIOWpNcW85RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0Y=&amp;uid=WEEvREcwSlJHSldRa1FhcTdnTnhXM3ZKQ291S0FIT2hubWNrWXI0QkNHMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
