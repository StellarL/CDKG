<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135591849846250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201909004%26RESULT%3d1%26SIGN%3dhiNTdqK8khVYwzfgiD675e9AfOg%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201909004&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201909004&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201909004&amp;v=MDA2MDhIOWpNcG85RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNTHpUWlpMRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#27" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#32" data-title="&lt;b&gt;1 抽取方法重构模式的识别&lt;/b&gt; "><b>1 抽取方法重构模式的识别</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#33" data-title="&lt;b&gt;1.1 变更代码块(hunk&lt;/b&gt;)"><b>1.1 变更代码块(hunk</b>)</a></li>
                                                <li><a href="#38" data-title="&lt;b&gt;1.2 抽取方法模式&lt;/b&gt;"><b>1.2 抽取方法模式</b></a></li>
                                                <li><a href="#41" data-title="&lt;b&gt;1.3 抽取方法模式的识别&lt;/b&gt;"><b>1.3 抽取方法模式的识别</b></a></li>
                                                <li><a href="#59" data-title="&lt;b&gt;1.4 算 法&lt;/b&gt;"><b>1.4 算 法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#83" data-title="&lt;b&gt;2 算法的实现及验证&lt;/b&gt; "><b>2 算法的实现及验证</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#86" data-title="&lt;b&gt;2.1 数据来源&lt;/b&gt;"><b>2.1 数据来源</b></a></li>
                                                <li><a href="#92" data-title="&lt;b&gt;2.2 simian参数与阈值设定&lt;/b&gt;"><b>2.2 simian参数与阈值设定</b></a></li>
                                                <li><a href="#98" data-title="&lt;b&gt;2.3 实验结果和分析&lt;/b&gt;"><b>2.3 实验结果和分析</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#101" data-title="&lt;b&gt;3 结 语&lt;/b&gt; "><b>3 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#37" data-title="图1 hunk示例">图1 hunk示例</a></li>
                                                <li><a href="#50" data-title="图2 hunk的分裂">图2 hunk的分裂</a></li>
                                                <li><a href="#95" data-title="&lt;b&gt;表1 不同simian阈值对应的结果&lt;/b&gt;"><b>表1 不同simian阈值对应的结果</b></a></li>
                                                <li><a href="#97" data-title="图3 在不同阈值下的查准率和查全率">图3 在不同阈值下的查准率和查全率</a></li>
                                                <li><a href="#100" data-title="&lt;b&gt;表2 实验结果&lt;/b&gt;"><b>表2 实验结果</b></a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 福勒.重构:改善既有代码的设计[M].北京:中国电力出版社,2003." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=0007508315014001&amp;v=MzIwNjBJbDhRVlYyN0diYTRGdExOcW85RVlPc1BEUk04enhVU21EZDlTSDduM3hFOWZidm5LcmlmWmVadkZ5bm1VNzdN&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         福勒.重构:改善既有代码的设计[M].北京:中国电力出版社,2003.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" Weiβgerber P,Diehl S.Identifying refactorings from source-code changes[C]//Proceedings of the 21st IEEE/ACM International Conference on Automated Software Engineering.IEEE,2006:231-240." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Identifying refactorings from source-code changes">
                                        <b>[2]</b>
                                         Weiβgerber P,Diehl S.Identifying refactorings from source-code changes[C]//Proceedings of the 21st IEEE/ACM International Conference on Automated Software Engineering.IEEE,2006:231-240.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" Prete K,Rachatasumrit N,Sudan N,et al.Template-based reconstruction of complex refactorings[C]//Proceedings of the 2010 IEEE International Conference on Software Maintenance.IEEE,2010." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Template-based reconstruction of complex refactorings">
                                        <b>[3]</b>
                                         Prete K,Rachatasumrit N,Sudan N,et al.Template-based reconstruction of complex refactorings[C]//Proceedings of the 2010 IEEE International Conference on Software Maintenance.IEEE,2010.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" Fokaefs M,Tsantalis N,Stroulia E,et al.Identification and application of Extract Class refactorings in object-oriented systems[J].Journal of Systems and Software,2012,85(10):2241-2260." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13012300675296&amp;v=MjEyMjFiSzdIdERPckk5Rll1d0tEblUvb0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadEZpbmxVcnpJSVZvV2F4WT1OaWZPZg==&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         Fokaefs M,Tsantalis N,Stroulia E,et al.Identification and application of Extract Class refactorings in object-oriented systems[J].Journal of Systems and Software,2012,85(10):2241-2260.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 钟林辉,黄小明,薛良波,等.基于版本的多重软件重构自动检测技术研究[J].江西师范大学学报(自然科学版),2018,42(5):464-469,472." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CAPE201805005&amp;v=MDE3NThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN01KaXpiYTdHNEg5bk1xbzlGWVk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         钟林辉,黄小明,薛良波,等.基于版本的多重软件重构自动检测技术研究[J].江西师范大学学报(自然科学版),2018,42(5):464-469,472.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 刘阳,刘秋荣,刘辉.函数抽取重构的自动检测方法[J].计算机科学,2015,42(12):105-107." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201512025&amp;v=Mjk5NTQ5SFlZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNTHo3QmI3RzRIOVROclk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         刘阳,刘秋荣,刘辉.函数抽取重构的自动检测方法[J].计算机科学,2015,42(12):105-107.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 刘复星,魏金津,任女尔.基于深度学习的代码克隆检测技术研究[J].电脑知识与技术,2018,14(18):178-179,185." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201818078&amp;v=MjA4ODhIOW5OcDQ5Q2JJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNSVNQUmZiRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         刘复星,魏金津,任女尔.基于深度学习的代码克隆检测技术研究[J].电脑知识与技术,2018,14(18):178-179,185.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" 汪敏.基于程序依赖图的代码克隆检测算法研究[D].合肥:中国科学技术大学,2018." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1018105012.nh&amp;v=MTQxNDZxZlp1WnRGeW5oVWI3TVZGMjZGcks0RzlITnJaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         汪敏.基于程序依赖图的代码克隆检测算法研究[D].合肥:中国科学技术大学,2018.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 王杰.基于序列匹配和字节码的代码克隆检测研究[D].杭州:杭州电子科技大学,2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017125715.nh&amp;v=MDA2OTA1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN01WRjI2R2JLNkc5Yk5xcEViUElRS0RIODR2UjRUNmo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         王杰.基于序列匹配和字节码的代码克隆检测研究[D].杭州:杭州电子科技大学,2017.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 林婵,李俊杰,饶飞,等.基于索引的分布式代码克隆检测[J].信息安全研究,2016,2(3):201-210." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XAQY201603003&amp;v=MDc5NDlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNUFN6YWQ3RzRIOWZNckk5Rlo0UUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         林婵,李俊杰,饶飞,等.基于索引的分布式代码克隆检测[J].信息安全研究,2016,2(3):201-210.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" Hunt J W.A fast algorithm for computing longuest common subsequences[J].Communications of the ACM,1977,20(5):350-353." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000024571&amp;v=MTI4NDNJSVZvV2F4WT1OaWZJWTdLN0h0ak5yNDlGWk9rTENYczRvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp0RmlubFVyeg==&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                         Hunt J W.A fast algorithm for computing longuest common subsequences[J].Communications of the ACM,1977,20(5):350-353.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" Fluri B,W&#252;rsch M,Pinzger M,et al.Change Distilling:Tree Differencing for Fine-Grained Source Code Change Extraction[J].IEEE Transactions on Software Engineering,2007,33(11):725-743." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Change distilling: Tree differencing for fine-grained source code change extraction">
                                        <b>[12]</b>
                                         Fluri B,W&#252;rsch M,Pinzger M,et al.Change Distilling:Tree Differencing for Fine-Grained Source Code Change Extraction[J].IEEE Transactions on Software Engineering,2007,33(11):725-743.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(09),12-15+20 DOI:10.3969/j.issn.1000-386x.2019.09.003            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于代码克隆检测的抽取方法重构模式识别</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BC%A0%E5%BF%97%E6%B5%A9&amp;code=41730817&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">张志浩</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%A8%E6%98%A5%E8%8A%B1&amp;code=34005480&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">杨春花</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E9%BD%90%E9%B2%81%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6(%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%A7%91%E5%AD%A6%E9%99%A2)%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A2&amp;code=1698679&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">齐鲁工业大学(山东省科学院)计算机科学与技术学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>抽取方法是一种常用的代码重构手段,被广泛应用到软件开发和维护中。提出一个基于克隆检测的抽取方法重构模式的识别算法。以代码变更块hunk为单位,用代码克隆检测工具simian对候选的hunk进行筛选,用语法分析对该模式进行判定。在4个开源项目上进行实验,结果表明该算法具有较高的准确率。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%87%8D%E6%9E%84%E6%A8%A1%E5%BC%8F&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">重构模式;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E9%87%8D%E6%9E%84%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">重构模式识别;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BB%A3%E7%A0%81%E5%85%8B%E9%9A%86%E6%A3%80%E6%B5%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">代码克隆检测;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BB%A3%E7%A0%81%E5%8F%98%E6%9B%B4&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">代码变更;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%8A%BD%E5%8F%96%E6%96%B9%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">抽取方法;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    张志浩,硕士生,主研领域:代码重构模式。;
                                </span>
                                <span>
                                    杨春花,教授。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2019-01-12</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金项目(61502259);</span>
                    </p>
            </div>
                    <h1><b>IDENTIFICATION OF EXTRACT METHOD REFACTORING PATTERN BASED ON CODE CLONE DETECTION</b></h1>
                    <h2>
                    <span>Zhang Zhihao</span>
                    <span>Yang Chunhua</span>
            </h2>
                    <h2>
                    <span>School of Computer Science and Technology, Qilu University of Technology(Shandong Academy of Science)</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Extract method is a common way to refactor code, which is widely used in software development and maintenance. This paper proposed a recognition algorithm of pattern refactoring based on clone detection. In the unit of code change block hunk, the candidate hunk was screened by code clone detection tool simian, and the pattern was determined by grammar analysis. Experiments on four open source projects show that the algorithm has high accuracy.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Refactoring%20pattern&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Refactoring pattern;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Refactoring%20pattern%20identification&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Refactoring pattern identification;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Code%20clone%20detection&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Code clone detection;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Code%20changes&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Code changes;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Extract%20method&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Extract method;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2019-01-12</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="27" name="27" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="28">代码重构<citation id="103" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>是指使用一系列重构手法,在不改变软件可观察行为的前提下,调整其结构,提高其可理解性、可维护性和可扩展性,降低其修改成本,是一种在结构层次上的代码整理技术。</p>
                </div>
                <div class="p1">
                    <p id="29">在现代软件开发的过程中,代码变更包括特征增加、修复bug以及代码重构等。这些不同类型的变更代码混合在一起使得阅读和理解代码变更趋于困难,如果将重构的代码变更与其他变更进行隔离,将有利于阅读和理解。</p>
                </div>
                <div class="p1">
                    <p id="30">为了实现代码重构与其他变更的隔离,应该设法对代码重构模式进行自动识别。当前,国内外学者对软件重构识别进行了深入的研究探索。主要相关的研究有:Werβgerber等<citation id="104" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>提出了基于签名分析的方法;Prete等<citation id="105" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>开发了REF-FINDER;Fokaefs等<citation id="106" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>开发了一种eclipse插件,能对一种或者几种重构模式进行识别;钟林辉等<citation id="107" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>提出了一种基于版本的多重软件重构自动检测技术;刘洋<citation id="108" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>提出了一种可以识别函数抽取的方法。但上述算法面对变更的文本时忽视了形式不同而含义相似的情况,比如说一些变更仅仅是变量名称改变,或者仅仅是字母大小写变换,含义并没有变。</p>
                </div>
                <div class="p1">
                    <p id="31">克隆代码又称为重复代码,一般指存在于程序代码中的相似或者相同的代码段,对它的检测技术称为代码克隆检测技术。当前对克隆代码检测的技术已经很成熟了,刘复星<citation id="109" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>提出一种基于深度学习的代码克隆检测方法,汪敏<citation id="110" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>提出一种基于依赖图的代码克隆检测方法,王杰<citation id="111" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>提出一种基于序列匹配和字节码的代码克隆检测方法,林蝉<citation id="112" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>提出一种基于索引的分布式代码克隆检测方法。本文提出基于代码克隆检测对重构模式进行识别,并对一种常用的重构模式——抽取方法的识别算法进行了设计与实现。此算法以代码变更块hunk为单位,用代码克隆检测筛选那些具有代码克隆关系的hunk集,然后用语法分析判定两个候选hunk之间是否属于抽取方法模式。该算法在4个开源项目上进行了验证。</p>
                </div>
                <h3 id="32" name="32" class="anchor-tag"><b>1 抽取方法重构模式的识别</b></h3>
                <h4 class="anchor-tag" id="33" name="33"><b>1.1 变更代码块(hunk</b>)</h4>
                <div class="p1">
                    <p id="34">对代码变更的抽取方法分为两类:文本型差异化代码分析和树型差异化分析。</p>
                </div>
                <div class="p1">
                    <p id="35">Gnu Differ<citation id="113" type="reference"><link href="23" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>等文本型差异化代码分析比较两个版本的源文件,通过比较它们文本上的差异,得出变更集;Change Distiller<citation id="114" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>等树形差异化分析通过比较两个版本的源文件所对应的抽象语法树之间的差异,得出变更集。</p>
                </div>
                <div class="p1">
                    <p id="36">变更代码块(hunk)是文本型差异化代码分析方法输出的基本单位。一个hunk由添加的行和删除的行构成,一般前后还各有三行未变动的上下文行。图1列出了两个hunk,它们属于项目jEdit版本9dd86c7中View.java文件的变更集。以第一个hunk为例,该文件老版本中的第607～620行是删除的行,行首为减号;新版中的第607是增加的行,行首为加号,该hunk之前的604～606行是上下文行,同理后面的三行也是上下文行。第二个hunk只含有增加的行。</p>
                </div>
                <div class="area_img" id="37">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909004_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 hunk示例" src="Detail/GetImg?filename=images/JYRJ201909004_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 hunk示例  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909004_037.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="38" name="38"><b>1.2 抽取方法模式</b></h4>
                <div class="p1">
                    <p id="39">抽取方法模式经常出现在代码重构中。当遇见一个过长的函数或者一段比较复杂、需要添加注释才能易于理解的代码时,可以采取这种重构模式,将这一段代码放到一个独立的函数中去。把大型函数分解为几个小粒度的函数,并使用易于理解的名称去命名它,这是抽取方法的一般原因和过程。</p>
                </div>
                <div class="p1">
                    <p id="40">在图1所示的代码变更中,hunk1中移走的代码(行607～620)属于方法processKeyEvent,这些代码移动到了hunk2中的新增的方法processKeyEventKeyStrokeHandling中。而且在hunk1中被移走的代码处,有对新增方法的调用语句(行607)。因此,这是一种典型的抽取方法重构。</p>
                </div>
                <h4 class="anchor-tag" id="41" name="41"><b>1.3 抽取方法模式的识别</b></h4>
                <div class="p1">
                    <p id="42">抽取方法重构模式的代码变更具有如下两个特点:</p>
                </div>
                <div class="p1">
                    <p id="43">1) 原代码中的某方法A中的部分代码转移到了变更后代码中的某个新增方法B;</p>
                </div>
                <div class="p1">
                    <p id="44">2) 变更后代码中在方法A中移走的代码处有对新增方法B的调用。</p>
                </div>
                <div class="p1">
                    <p id="45">因此,对这两个特征进行判断是识别抽取方法模式的关键。下面分别阐述这两个特点的判断方法。</p>
                </div>
                <h4 class="anchor-tag" id="46" name="46"><b>1.3.1 基于克隆检测对方法的代码移动进行判断</b></h4>
                <div class="p1">
                    <p id="47">设A中移走的代码行存在于某个hunk(设为<i>h</i><sub>1</sub>)的删除行中,B中新增的代码行存在于某个hunk(设为<i>h</i><sub>2</sub>)的添加行中,<i>h</i><sub>1</sub>和<i>h</i><sub>2</sub>可以相同,也可不同。</p>
                </div>
                <div class="p1">
                    <p id="48">因此,第一个特点可以通过检测<i>h</i><sub>1</sub>的删除行和<i>h</i><sub>2</sub>的添加行之间的克隆关系来判断。</p>
                </div>
                <div class="p1">
                    <p id="49">为方便检测,我们将每个hunk分裂为两个子hunk:lefthunk和righthunk,前者存放hunk的删除行,后者存放hunk的添加行。分裂后的两个hunk保存原hunk的id,用于后期使用。例如,图1的hunk1分裂后变为如图2所示的两个hunk:lefthunk和righthunk。</p>
                </div>
                <div class="area_img" id="50">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 hunk的分裂" src="Detail/GetImg?filename=images/JYRJ201909004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 hunk的分裂  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909004_050.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="51">因此,<i>h</i><sub>1</sub>的删除行和<i>h</i><sub>2</sub>的添加行之间的克隆关系检测转为对分裂后的两个hunk(即h<sub>1</sub>.lefthunk和h<sub>2</sub>.righthunk)之间的克隆关系的检测。</p>
                </div>
                <h4 class="anchor-tag" id="52" name="52"><b>1.3.2 对新增方法调用的判断</b></h4>
                <div class="p1">
                    <p id="53">设<i>h</i><sub><i>i</i></sub>.lefthunk和<i>h</i><sub><i>j</i></sub>.righthunk之间存在克隆关系,则需要在<i>h</i><sub><i>i</i></sub>中检测是否存在一个新增的方法调用,它调用了<i>h</i><sub><i>j</i></sub>中的新增代码行所属的方法。</p>
                </div>
                <div class="p1">
                    <p id="54">因此,首先要获得<i>h</i><sub><i>j</i></sub>之中新增代码行所属的方法名(设为B),然后获得<i>h</i><sub><i>i</i></sub>之中删除的代码行所属的方法名(设为A),最后在h<sub>i</sub>新增的代码行中查找对方法B的调用。</p>
                </div>
                <div class="p1">
                    <p id="55">例如图1中,在确定了hunk1和hunk2存在克隆关系之后,需要获得hunk2中新增的方法名processKeyEventKeyStrokeHandling(),然后在hunk1中取被抽取代码行的方法名,并检测hunk1中的新增代码行中是否存在语句或表达式调用了方法processKeyEventKeyStrokeHandling()。</p>
                </div>
                <div class="p1">
                    <p id="56">在hunk中查找方法名及方法调用语句或方法调用表达式比较困难,因为hunk是文本,不携带语法信息,因此,我们采用抽象语法树来辅助实现。具体的做法如下:</p>
                </div>
                <div class="p1">
                    <p id="57">(1) 对变更前后两个版本的源文件,分别生成其抽象语法树,然后获取每棵树中的所有方法节点。根据方法节点的行范围与hunk的行范围进行匹配来查找hunk中存在的方法名。此过程可以查找方法名A和B。</p>
                </div>
                <div class="p1">
                    <p id="58">(2) 在定位到方法A后,取变更后版本的抽象语法树中的该方法节点,对其所有子节点进行查找,确定是否存在一个方法调用节点,该节点存在于<i>h</i><sub><i>i</i></sub>的新增行范围中,且调用的方法名为B。</p>
                </div>
                <h4 class="anchor-tag" id="59" name="59"><b>1.4 算 法</b></h4>
                <div class="p1">
                    <p id="60">此算法输入变更前后两个版本的源文件<i>file</i><sub><i>l</i></sub>和<i>file</i><sub><i>r</i></sub>,输出存在抽取方法模式的hunk元组的集合<i>R</i>={&lt;<i>h</i><sub>1</sub>,<i>h</i><sub>2</sub>&gt;|<i>h</i><sub>1</sub>,<i>h</i><sub>2</sub>∈<i>H</i>},其中<i>h</i><sub>1</sub>、<i>h</i><sub>2</sub>是两个hunk,且<i>h</i><sub>1</sub>的删除行和<i>h</i><sub>2</sub>的添加行之间存在方法抽取重构模式。算法的伪代码如下:</p>
                </div>
                <div class="p1">
                    <p id="61">输入:变更前后两个版本的源文件<i>file</i><sub><i>l</i></sub>和<i>file</i><sub><i>r</i></sub></p>
                </div>
                <div class="p1">
                    <p id="62">输出:存在抽取方法模式的hunk元组的集合<i>R</i></p>
                </div>
                <div class="p1">
                    <p id="63">1 <i>H</i>←<i>getHunks</i>(<i>file</i><sub><i>l</i></sub>,<i>file</i><sub><i>r</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="64">2 (<i>H</i><sub>1</sub>,<i>H</i><sub>2</sub>)←<i>split</i>(<i>H</i>)</p>
                </div>
                <div class="p1">
                    <p id="65">3 <i>H</i><sub>sim</sub>←Ø</p>
                </div>
                <div class="p1">
                    <p id="66">4 for each <i>h</i><sub>1</sub>∈<i>H</i><sub>1</sub></p>
                </div>
                <div class="p1">
                    <p id="67">5  for each <i>h</i><sub>2</sub>∈<i>H</i><sub>2</sub></p>
                </div>
                <div class="p1">
                    <p id="68">6  if <i>checkSimilar</i>(<i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>)</p>
                </div>
                <div class="p1">
                    <p id="69">7  <i>H</i><sub>sim</sub>←<i>H</i><sub>sim</sub>∪(<i>h</i><sub>1</sub>,<i>h</i><sub>2</sub>)</p>
                </div>
                <div class="p1">
                    <p id="70">8  end if</p>
                </div>
                <div class="p1">
                    <p id="71">9  end for</p>
                </div>
                <div class="p1">
                    <p id="72">10 end for</p>
                </div>
                <div class="p1">
                    <p id="73">11 <i>t</i><sub><i>l</i></sub>←<i>createAST</i>(<i>file</i><sub><i>l</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="74">12 <i>t</i><sub><i>r</i></sub>←<i>createAST</i>(<i>file</i><sub><i>r</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="75">13 <i>M</i><sub>1</sub>←<i>getAllMethods</i>(<i>t</i><sub><i>l</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="76">14 <i>M</i><sub>2</sub>←<i>getAllMethods</i>(<i>t</i><sub><i>r</i></sub>)</p>
                </div>
                <div class="p1">
                    <p id="77">15 for each(<i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>)∈<i>H</i><sub>sim</sub></p>
                </div>
                <div class="p1">
                    <p id="78">16  if <i>checkMethodInvoc</i>(<i>M</i><sub>1</sub>, <i>M</i><sub>2</sub>, <i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>)</p>
                </div>
                <div class="p1">
                    <p id="79">17  <i>R</i>←<i>R</i>∪(<i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>)</p>
                </div>
                <div class="p1">
                    <p id="80">18  end if</p>
                </div>
                <div class="p1">
                    <p id="81">19 end for</p>
                </div>
                <div class="p1">
                    <p id="82">算法第1行通过文本型差异分析方法获取hunk集<i>H</i>;第2行将<i>H</i>按照删除行和增加行分裂为两个集合<i>H</i><sub>1</sub>和<i>H</i><sub>2</sub>,<i>H</i><sub>1</sub>中的每个hunk只含有删除行,<i>H</i><sub>2</sub>中的每个hunk只含有添加行;接下来在第4～10行检测存在克隆关系的hunk元组,其中checkSimilar(<i>h</i><sub>1</sub>,<i>h</i><sub>2</sub>)函数用来检测<i>h</i><sub>1</sub>和<i>h</i><sub>2</sub>的克隆关系;第11～14行得到两个版本源文件分别对应的抽象语法树<i>t</i><sub><i>l</i></sub>和<i>t</i><sub><i>r</i></sub>,并从中抽取其中的方法集<i>M</i><sub>1</sub>和<i>M</i><sub>2</sub>;最后第15～19行实现对候选的hunk元组进行判断,确定是否在<i>h</i><sub>1</sub>中存在对<i>h</i><sub>2</sub>中新增方法的调用,其中函数<i>checkMethodInvoc</i>(<i>M</i><sub>1</sub>,<i>M</i><sub>2</sub>,<i>h</i><sub>1</sub>,<i>h</i><sub>2</sub>)实现此判断,其具体流程在上一节已进行描述,在此不再赘述。</p>
                </div>
                <h3 id="83" name="83" class="anchor-tag"><b>2 算法的实现及验证</b></h3>
                <div class="p1">
                    <p id="84">采用Java语言实现本文算法,它读入两个连续版本的Java源文件,识别其中的抽取方法模式。在当前实现中,采用面向行的文本差异化分析工具Gun Differ来获取hunk集,采用代码克隆检测工具simian实现对候选hunk集的检测。simian可以识别Java、C、C++、Ruby、JSP等多种语言的源代码和纯文本文件中的相似代码。即使两个代码块略有不同,例如变量名称、字符大小写、修饰符、花括号、标识符、数字、字符串略有改变,simian依旧可以识别。最后,采用eclipse jdt parser来获取源文件的抽象语法树。</p>
                </div>
                <div class="p1">
                    <p id="85">基于当前的实现,我们在4个开源项目上对算法进行了验证。</p>
                </div>
                <h4 class="anchor-tag" id="86" name="86"><b>2.1 数据来源</b></h4>
                <div class="p1">
                    <p id="87">获取了4个开源项目的数据集用于对算法的验证:</p>
                </div>
                <div class="p1">
                    <p id="88">(1) eclipseJDTCore开源项目,它是一个基于Java的IDE,此次实验获取2001/06/23-2013/10/16时间段的更新数据。</p>
                </div>
                <div class="p1">
                    <p id="89">(2) maven开源项目,它是一个通过信息描述来管理项目的构建、报告和文档的一个开源的管理工具,此次实验获取了2003/09/02-2014/01/29时间段的更新数据。</p>
                </div>
                <div class="p1">
                    <p id="90">(3) jEdit是一个跨平台的文本编辑器,此次实验获取了1998/09/27-2012/08/08时间段的更新数据。</p>
                </div>
                <div class="p1">
                    <p id="91">(4) google_guice是一个轻量级的依赖注入容器。数据的获取时间段为:2006/08/23-2013/12/12。</p>
                </div>
                <h4 class="anchor-tag" id="92" name="92"><b>2.2 simian参数与阈值设定</b></h4>
                <div class="p1">
                    <p id="93">在使用本方法检测抽取方法模式的时候,对simian工具进行了包容度的设置,设置忽略了变量名字的改变、字符串的改变、数字的改变、确认符的改变、子类名的改变,以上这些改变依然会被认为是克隆代码。</p>
                </div>
                <div class="p1">
                    <p id="94">同时simian工具可以设置阈值,阈值表示simian工具对待判定代码判断为克隆代码的严格程度,阈值越大,就越严格。使用一个名为dropwizard工具的项目作为测试项目,从1到9调整simian阈值,得到的查全率和查准率如表1所示。</p>
                </div>
                <div class="area_img" id="95">
                    <p class="img_tit"><b>表1 不同simian阈值对应的结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="95" border="1"><tr><td>simian阈值</td><td>检测结果个数</td><td>为真的个数</td><td>查准率/%</td><td>查全率/%</td></tr><tr><td><br />1</td><td>29</td><td>23</td><td>79</td><td>96</td></tr><tr><td><br />2</td><td>27</td><td>22</td><td>81</td><td>91</td></tr><tr><td><br />3</td><td>26</td><td>21</td><td>80</td><td>87</td></tr><tr><td><br />4</td><td>25</td><td>21</td><td>84</td><td>87</td></tr><tr><td><br />5</td><td>24</td><td>21</td><td>87</td><td>87</td></tr><tr><td><br />6</td><td>22</td><td>19</td><td>86</td><td>79</td></tr><tr><td><br />7</td><td>19</td><td>16</td><td>84</td><td>67</td></tr><tr><td><br />8</td><td>17</td><td>15</td><td>88</td><td>63</td></tr><tr><td><br />9</td><td>15</td><td>14</td><td>93</td><td>58</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="96">图3使用折线图的形式更加直观地描绘出了阈值对查准率和查全率的影响,其中查准率和查全率在纵轴表示,simian阈值在横轴表示。可以看出查准率随阈值的增大而增大,而查全率随阈值的增大而减小,在阈值为5时达到均衡,因此以下实验取阈值为5。</p>
                </div>
                <div class="area_img" id="97">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909004_097.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 在不同阈值下的查准率和查全率" src="Detail/GetImg?filename=images/JYRJ201909004_097.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 在不同阈值下的查准率和查全率  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909004_097.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="98" name="98"><b>2.3 实验结果和分析</b></h4>
                <div class="p1">
                    <p id="99">在simian阈值取5的条件下,对4个开源项目中的数据集进行了实验,表2列出了各个项目检测到的方法抽取模式的个数并以人工检测结果作为基准进行准确率判断,计算出其查全率和查准率。可以看到其查全率在75%～88%范围内,查准率则在71%～82%之间波动。</p>
                </div>
                <div class="area_img" id="100">
                    <p class="img_tit"><b>表2 实验结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="100" border="1"><tr><td>项目名称</td><td>检测到的<br />抽取方法数</td><td>其中为真<br />的个数</td><td>人工检测<br />抽取方法数</td><td>查全<br />率/%</td><td>查准<br />率/%</td></tr><tr><td><br />eclipese</td><td>7</td><td>5</td><td>6</td><td>83</td><td>71</td></tr><tr><td><br />maven</td><td>7</td><td>22</td><td>26</td><td>85</td><td>82</td></tr><tr><td><br />googl-guice</td><td>9</td><td>7</td><td>8</td><td>88</td><td>78</td></tr><tr><td><br />jEdit</td><td>12</td><td>9</td><td>12</td><td>75</td><td>75</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h3 id="101" name="101" class="anchor-tag"><b>3 结 语</b></h3>
                <div class="p1">
                    <p id="102">本文提出了一种基于克隆代码检测的方法对存在抽取方法重构模式的hunk元组进行自动识别的算法,并在4个开源项目上进行实验,结果表明其具有较高的准确率。基于克隆代码检测的方法可应用到存在代码移动或复制的其他重构模式,如移动方法、抽取类等的识别。本文的后续工作包括继续提升算法的准确率、在更多的开源项目上验证其有效性以及推广应用到其他重构模式的识别。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CBBD&amp;filename=0007508315014001&amp;v=MjE0MzBubVU3N01JbDhRVlYyN0diYTRGdExOcW85RVlPc1BEUk04enhVU21EZDlTSDduM3hFOWZidm5LcmlmWmVadkZ5&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 福勒.重构:改善既有代码的设计[M].北京:中国电力出版社,2003.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Identifying refactorings from source-code changes">

                                <b>[2]</b> Weiβgerber P,Diehl S.Identifying refactorings from source-code changes[C]//Proceedings of the 21st IEEE/ACM International Conference on Automated Software Engineering.IEEE,2006:231-240.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Template-based reconstruction of complex refactorings">

                                <b>[3]</b> Prete K,Rachatasumrit N,Sudan N,et al.Template-based reconstruction of complex refactorings[C]//Proceedings of the 2010 IEEE International Conference on Software Maintenance.IEEE,2010.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJES&amp;filename=SJES13012300675296&amp;v=MjU2MjBGaW5sVXJ6SUlWb1dheFk9TmlmT2ZiSzdIdERPckk5Rll1d0tEblUvb0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadA==&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> Fokaefs M,Tsantalis N,Stroulia E,et al.Identification and application of Extract Class refactorings in object-oriented systems[J].Journal of Systems and Software,2012,85(10):2241-2260.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CAPE201805005&amp;v=MDA3NDg2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW5oVWI3TUppemJhN0c0SDluTXFvOUZZWVFLREg4NHZSNFQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 钟林辉,黄小明,薛良波,等.基于版本的多重软件重构自动检测技术研究[J].江西师范大学学报(自然科学版),2018,42(5):464-469,472.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201512025&amp;v=MjcwNjc0SDlUTnJZOUhZWVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW5oVWI3TUx6N0JiN0c=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 刘阳,刘秋荣,刘辉.函数抽取重构的自动检测方法[J].计算机科学,2015,42(12):105-107.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DNZS201818078&amp;v=MDQ1MzZxQnRHRnJDVVI3cWZadVp0RnluaFViN01JU1BSZmJHNEg5bk5wNDlDYklRS0RIODR2UjRUNmo1NE8zenE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 刘复星,魏金津,任女尔.基于深度学习的代码克隆检测技术研究[J].电脑知识与技术,2018,14(18):178-179,185.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1018105012.nh&amp;v=MjA3ODM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNVkYyNkZySzRHOUhOclpFYlBJUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 汪敏.基于程序依赖图的代码克隆检测算法研究[D].合肥:中国科学技术大学,2018.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017125715.nh&amp;v=MTgwMzVxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNVkYyNkdiSzZHOWJOcXBFYlBJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 王杰.基于序列匹配和字节码的代码克隆检测研究[D].杭州:杭州电子科技大学,2017.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XAQY201603003&amp;v=MzIyMjZHNEg5Zk1ySTlGWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN01QU3phZDc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 林婵,李俊杰,饶飞,等.基于索引的分布式代码克隆检测[J].信息安全研究,2016,2(3):201-210.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000024571&amp;v=MTUxODVYczRvQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp0RmlubFVyeklJVm9XYXhZPU5pZklZN0s3SHRqTnI0OUZaT2tMQw==&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b> Hunt J W.A fast algorithm for computing longuest common subsequences[J].Communications of the ACM,1977,20(5):350-353.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Change distilling: Tree differencing for fine-grained source code change extraction">

                                <b>[12]</b> Fluri B,Würsch M,Pinzger M,et al.Change Distilling:Tree Differencing for Fine-Grained Source Code Change Extraction[J].IEEE Transactions on Software Engineering,2007,33(11):725-743.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201909004" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201909004&amp;v=MDA2MDhIOWpNcG85RllJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdNTHpUWlpMRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
