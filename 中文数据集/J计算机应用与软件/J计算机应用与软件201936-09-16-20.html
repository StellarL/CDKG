<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135591891096250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201909005%26RESULT%3d1%26SIGN%3d8T4%252f96r39SWE786Tp2xVy4nDsz0%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201909005&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201909005&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201909005&amp;v=MjY0NzFNcG85RllZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBTHpUWlpMRzRIOWo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#27" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#30" data-title="&lt;b&gt;1 组件化原理&lt;/b&gt; "><b>1 组件化原理</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#34" data-title="&lt;b&gt;2 组件划分&lt;/b&gt; "><b>2 组件划分</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#36" data-title="(1) 从功能上划分。">(1) 从功能上划分。</a></li>
                                                <li><a href="#40" data-title="(2) 从业务上划分。">(2) 从业务上划分。</a></li>
                                                <li><a href="#42" data-title="(3) 从架构上划分。">(3) 从架构上划分。</a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#46" data-title="&lt;b&gt;3 组件化设计&lt;/b&gt; "><b>3 组件化设计</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#94" data-title="&lt;b&gt;4 应用程序实例&lt;/b&gt; "><b>4 应用程序实例</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#140" data-title="&lt;b&gt;5 结 语&lt;/b&gt; "><b>5 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#33" data-title="图1 组件化结构图">图1 组件化结构图</a></li>
                                                <li><a href="#38" data-title="图2 APP功能组件划分">图2 APP功能组件划分</a></li>
                                                <li><a href="#44" data-title="图3 移动应用架构层">图3 移动应用架构层</a></li>
                                                <li><a href="#96" data-title="图4 项目结构图">图4 项目结构图</a></li>
                                                <li><a href="#111" data-title="图5 工程打包与模块打包状态图">图5 工程打包与模块打包状态图</a></li>
                                                <li><a href="#114" data-title="图6 工程与组件APK">图6 工程与组件APK</a></li>
                                                <li><a href="#139" data-title="图7 路由跳转结果图">图7 路由跳转结果图</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 尹孟征.基于Android的APP开发平台综述[J].通信电源技术,2016,33(4):154-155,213." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXDY201604061&amp;v=MTk5ODZHNEg5Zk1xNDlEWllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN0FNVFhQZDc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         尹孟征.基于Android的APP开发平台综述[J].通信电源技术,2016,33(4):154-155,213.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 邹丽丽.Android若干关键技术研究与应用系统开发[D].杭州:浙江大学,2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013178025.nh&amp;v=MjAzNDRIYksvRnRIT3FwRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW5oVWI3QVZGMjY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         邹丽丽.Android若干关键技术研究与应用系统开发[D].杭州:浙江大学,2013.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" 朱晓佳.基于OSGi的Android模块动态加载技术研究[D].青岛:中国海洋大学,2014." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1014328555.nh&amp;v=MzA1MzVoVWI3QVZGMjZHckM2RnRUSnFwRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW4=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         朱晓佳.基于OSGi的Android模块动态加载技术研究[D].青岛:中国海洋大学,2014.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 苟虹雨.基于Android平台的组件化即时通信系统的设计与实现[D].北京:北京邮电大学,2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017293402.nh&amp;v=MjIzNDM0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBVkYyNkdiR3hIZFhNclpFYlBJUUtESDg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         苟虹雨.基于Android平台的组件化即时通信系统的设计与实现[D].北京:北京邮电大学,2017.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 童时中.模块化研究及实践的现状和发展[J].电子机械工程,2011,27(2):1-8." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJX201102002&amp;v=MjQyMzJGeW5oVWI3QUlUZkJkckc0SDlETXJZOUZab1FLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         童时中.模块化研究及实践的现状和发展[J].电子机械工程,2011,27(2):1-8.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" Yener M,Dundar O.Android Build System[M]// Expert Android Studio.John Wiley &amp;amp; Sons,Inc.2017." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Android Build System">
                                        <b>[6]</b>
                                         Yener M,Dundar O.Android Build System[M]// Expert Android Studio.John Wiley &amp;amp; Sons,Inc.2017.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 徐昕军,袁媛,苏剑臣,等.基于Android平台的行为分析系统研究[J].计算机应用与软件,2016,33(4):223-226." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201604053&amp;v=MDIzODdmWnVadEZ5bmhVYjdBTHpUWlpMRzRIOWZNcTQ5QVo0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         徐昕军,袁媛,苏剑臣,等.基于Android平台的行为分析系统研究[J].计算机应用与软件,2016,33(4):223-226.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" Chin E,Felt A P,Greenwood K,et al.Analyzing inter-application communication in Android[C]// Proceedings of the 9th international conference on Mobile systems,applications,and services.ACM,2011:239-252." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Analyzing inter-application communication in Android">
                                        <b>[8]</b>
                                         Chin E,Felt A P,Greenwood K,et al.Analyzing inter-application communication in Android[C]// Proceedings of the 9th international conference on Mobile systems,applications,and services.ACM,2011:239-252.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" 赵静.Android系统架构及应用程序开发研究[J].自动化与仪器仪表,2017(1):86-87,90." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZDYY201701031&amp;v=MjUxMTZxQnRHRnJDVVI3cWZadVp0RnluaFViN0FQeW5TZDdHNEg5Yk1ybzlHWllRS0RIODR2UjRUNmo1NE8zenE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         赵静.Android系统架构及应用程序开发研究[J].自动化与仪器仪表,2017(1):86-87,90.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" 宣恒.用户需求引导的移动社交型App交互设计研究[D].无锡:江南大学,2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013309454.nh&amp;v=MTUzMThRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN0FWRjI2SGJDNEY5WEpxNUViUEk=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         宣恒.用户需求引导的移动社交型App交互设计研究[D].无锡:江南大学,2013.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" 李俊晨.基于Android平台的动态加载技术的研究与实现[D].北京:北京邮电大学,2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017291148.nh&amp;v=MzA0ODk5RElwNUViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN0FWRjI2R2JHeEg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                         李俊晨.基于Android平台的动态加载技术的研究与实现[D].北京:北京邮电大学,2017.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" Buchgeher G,Weinreich R.Tool Support for Component-Based Software Architectures[C]// Asia-pacific Software Engineering Conference.IEEE Computer Society,2009." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Tool Support for Component-Based Software Architectures">
                                        <b>[12]</b>
                                         Buchgeher G,Weinreich R.Tool Support for Component-Based Software Architectures[C]// Asia-pacific Software Engineering Conference.IEEE Computer Society,2009.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(09),16-20 DOI:10.3969/j.issn.1000-386x.2019.09.004            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于Android软件开发组件化研究</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%AE%B7%E6%B6%9B&amp;code=42745787&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">殷涛</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%B4%94%E4%BD%B3%E5%86%AC&amp;code=10654039&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">崔佳冬</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%9D%AD%E5%B7%9E%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E6%96%B0%E5%9E%8B%E7%94%B5%E5%AD%90%E5%99%A8%E4%BB%B6%E4%B8%8E%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6%E6%89%80&amp;code=0073968&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">杭州电子科技大学新型电子器件与应用研究所</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>“互联网+”与智能物联网技术的兴起,促进移动应用软件开发的发展。针对当前Android软件合作开发耦合度高、版本升级效率低、工程大编译慢等问题,提出采用组件化思想优化Android工程开发。使用Android Studio自带的Modules开发功能以及阿里的ARouter路由框架,将整体工程划分为多个组件应用;使用Gradle编译插件根据全局变量控制组件的单独开发、调试与集成发布;采用ARouter在编译期生成模块路由,简化模块间通信。组件划分有利于降低工程中各个模块的耦合,提高软件的协同开发效率和工程编译速度,利用组件化还能解决资源复用问题。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Android%E5%BC%80%E5%8F%91&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Android开发;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BB%84%E4%BB%B6%E5%8C%96&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">组件化;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ARouter&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ARouter;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Gradle&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Gradle;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    殷涛,硕士生,主研领域:物联网技术与应用。;
                                </span>
                                <span>
                                    崔佳冬,副教授。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-20</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金国际(地区)合作与交流资助项目(61411136003);</span>
                                <span>杭州电子科技大学研究生核心课程建设项目(HXKC2017006);</span>
                    </p>
            </div>
                    <h1><b>RESEARCH ON COMPONENTIZATION OF SOFTWARE DEVELOPMENT BASED ON ANDROID</b></h1>
                    <h2>
                    <span>Yin Tao</span>
                    <span>Cui Jiadong</span>
            </h2>
                    <h2>
                    <span>Institute of Electron Devices and Application, Hangzhou Dianzi University</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>The rise of Internet + and intelligent Internet of things has promoted the development of mobile application software development. Aiming at the problems of high coupling, low efficiency of version upgrade and slow compilation of current Android software cooperative development, this paper proposed to optimize Android engineering development by using the idea of component. Using Android Studio's module development function and Ali's Router routing framework, the whole project was divided into several component applications. Gradle compiler plug-in was used to develop, debug and integrate components separately according to global variables. ARouter was used to generate module routing at compile time to simplify inter-module communication. Component partitioning helped to reduce the coupling of each module in engineering, improved the efficiency of software collaborative development and the speed of engineering compilation, and solved the problem of resource reuse by using component technology.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Android%20development&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Android development;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Componentization&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Componentization;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=ARouter&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">ARouter;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Gradle&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Gradle;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-12-20</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="27" name="27" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="28">Android历经十年,深受广大用户和研发人员青睐<citation id="142" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。Android版本在6.0之前,主流软件开发有Eclipse和Android Studio(AS),其中Eclipse由ADT(Android Development Tools)插件结合SDK(software development kit)完成对Android开发环境的提供<citation id="143" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。Eclipse中所有工程都并列在工程栏中,工程与工程之间的隔离并非太严格,各工程间除了映射资源无法直接引用外,其余的模块则可以通过添加库(lib)的形式依赖到主体工程使用。但Android版本6.0以后,由于官方不再提供ADT的更新,高版本Android的软件开发不得不向Eclipse过渡到AS。Studio集成开发环境(Integrated Development Environment,IDE)提供比Eclipse插件式开发更多的功能、更快的速度和高效的体验,但是AS中工程间隔离十分严格,工程间的依赖只有向主体工程中添加或新建模块的方式<citation id="144" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。附加模块无法直接提供视图等自我调试的方式,只有通过主体工程一起工作,若改动一处,所有工程都需要重新编译一遍,这严重降低开发效率。同时,单一的功能模块跟随用户需求的增长逐渐变为一个庞大的功能族群。应用业务量的增多必然导致软件开发代码量的增大,Android应用(APP)开始出现代码臃肿,耦合度高等软件开发障碍,这严重违反移动应用的开发规范。因此,接入组件化开发,是未来Android大型工程开发的趋势<citation id="145" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="29">本文提出通过组件化思想,充分利用AS提供的Modules功能和Gradle插件,降低Android软件开发的耦合性、提高软件编译速度和应用协同开发效率。讨论组件化设计,并基于组件化思想开发了组件化测试模板APP。</p>
                </div>
                <h3 id="30" name="30" class="anchor-tag"><b>1 组件化原理</b></h3>
                <div class="p1">
                    <p id="31">Android软件开发组件化设计主要使用的IDE是AS。随着Android版本的升高,Eclipse结合ADT与SDK开发Android的应用变得越来越少,而AS集成开发环境提供最新Android版本的软件开发环境,同时,IDE提供Gradle插件负责项目的编译过程,组件化的实现就是由AS集成的Modules功能与编译插件Gradle完成。</p>
                </div>
                <div class="p1">
                    <p id="32">AS工程中,除了默认创建的启动项目,即可以安装到手机系统的独立工程外,还可新建或添加依赖模块作为独立工程的依赖文件,默认情况下,依赖文件是一个lib库,只是为主工程提供功能服务和数据服务<citation id="146" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>。而IDE提供的Gradle插件是AS默认的构建工具,负责Android工程的依赖、编译、打包等过程,组件化设计使用Gradle插件在通用构建规则下,通过Groovy语言为Gradle指定新的构建规则,动态改变项目的编译过程<citation id="147" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>。在开发阶段,通过修改组件Gradle的Task、配置、编译类型和依赖等将模块改变为独立项目工程开发调试,可以在组件中添加启动视图、资源,打包APK下载安装。在调试阶段,改变Gradle文件配置,将模块作为项目依赖添加到主体工程中。组件化结构如图1所示,将一个整体的项目进行合理拆分,变为一个个小的组件,各组件间低耦合、高内聚,组件单独编译、同步开发,调试完毕后,组合各组件项目为一个大的工程,得到完整应用。</p>
                </div>
                <div class="area_img" id="33">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_033.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 组件化结构图" src="Detail/GetImg?filename=images/JYRJ201909005_033.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 组件化结构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_033.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="34" name="34" class="anchor-tag"><b>2 组件划分</b></h3>
                <div class="p1">
                    <p id="35">软件开发中,组件的划分对于Android组件化设计尤为重要。移动应用开发通常需要经历一个漫长的过程,如项目立项、需求征集、应用开发、线下测试、线上发布等<citation id="148" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>。开发初期,项目的规模并不会很大,但随着需求的增多与版本的升级,项目变得越来越大,便可以将项目从不同的角度划分为多个组件,分别开发,根据每个开发团队的开发风格,Android工程可从以下三个方向划分组件。</p>
                </div>
                <h4 class="anchor-tag" id="36" name="36">(1) 从功能上划分。</h4>
                <div class="p1">
                    <p id="37">对于同一个业务类型的移动应用,如常见的电商型APP,工具型APP,在功能上都可以将应用划分为多个组件,常见的划分方式是将用户模块、业务模块与通信模块单独分离出来,如图2所示。</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 APP功能组件划分" src="Detail/GetImg?filename=images/JYRJ201909005_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 APP功能组件划分  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="39">用户模块独立负责用户的登录、注册,用户信息管理等操作。业务模块负责具体的类型业务,如电商APP通过网络通信向后台服务端请求商品数据并在界面展示,工具型APP负责具体的业务场景等。通信模块主要包括模块内各个界面视图的通信,模块与模块之间的通信、APP与其他平台的通信等。若各组件之间不存在数据交互,如用户模块与业务模块,用户注册、登录后跳转业务界面,用户模块便已经销毁,如果业务模块需要用户信息,完全可以通过通信模块从后台或者其他通道直接获取,则组件与组件之间只需经过路由寻址即可。若存在数据交互则可以通过模块依赖或策略模式建立组件之间的相互通信。</p>
                </div>
                <h4 class="anchor-tag" id="40" name="40">(2) 从业务上划分。</h4>
                <div class="p1">
                    <p id="41">如社交类APP中的聊天业务、朋友圈业务、生活小工具等,在同一个APP下,两者业务上并不存在任何交集,分属不同的业务。通常大型APP开发除了集成必要的功能外,一些额外的附加功能也会根据用户需求隐藏在界面的某个触发按钮下,根据单点登录系统(CAS),每个组件都能获取到用户的信息<citation id="149" type="reference"><link href="17" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>。一旦开发完成,除了主体业务常更新升级外,附加业务会存在长时间不变化的状态。从业务上划分组件,可以有效地进行Android软件工程的协同开发。</p>
                </div>
                <h4 class="anchor-tag" id="42" name="42">(3) 从架构上划分。</h4>
                <div class="p1">
                    <p id="43">Android软件开发常用的架构有MVC、MVP、MVVM等<citation id="150" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>,根据软件的功能表现,将软件功能分为视图层、业务层以及连接层,如图3所示。</p>
                </div>
                <div class="area_img" id="44">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 移动应用架构层" src="Detail/GetImg?filename=images/JYRJ201909005_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 移动应用架构层  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_044.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="45">视图层负责界面的展示和用户交互,业务层有本地业务和远程业务等,连接层负责视图层和业务层的通信<citation id="151" type="reference"><link href="21" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>。各层之间通信比较紧密,因此在做组件化划分时,通常使用策略模式即接口实现各组价之间的通信<citation id="152" type="reference"><link href="23" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>。开发过程中,利用顶层架构,可直接将软件从架构分为三层或以上,从架构划分组件,是在原有架构开发的基础上,更好地做到项目的解耦。</p>
                </div>
                <h3 id="46" name="46" class="anchor-tag"><b>3 组件化设计</b></h3>
                <div class="p1">
                    <p id="47">按照组件划分结果,完成软件开发组件化设计。使用AS新建Android开发工程,在工程的基础上建立名为moduleone、moduletwo、modulethree作为整体工程的三个组件。为进行组件式开发,具体步骤如下:</p>
                </div>
                <div class="p1">
                    <p id="48">(1) 将主体工程修改为一个空壳工程,删除默认的MainActivity活动窗口和与之关联的所有路径,工程包下新建一个类继承Application负责主体应用生命周期的管理,其余内容全由其余组件填充。</p>
                </div>
                <div class="p1">
                    <p id="49">(2) 在工程下创建config.gradle全局配置文件,并在工程下的build.gradle中使用apply from: config.gradle关联使用。在config.gradle中使用四个全局变量,控制主体应用和各组件模块的加载:</p>
                </div>
                <div class="p1">
                    <p id="50">isModule=true</p>
                </div>
                <div class="p1">
                    <p id="51">isModuleOne=true</p>
                </div>
                <div class="p1">
                    <p id="52">isModuleTwo=true</p>
                </div>
                <div class="p1">
                    <p id="53">isModuleThree=true</p>
                </div>
                <div class="p1">
                    <p id="54">在Android编译时,各组件build.gradle文件中的apply plugin: ‘com.android.library‘或apply plugin: ‘com.android.application'将决定组件是依赖文件还是独立工程。因此,组件开发时根据config.gradle中的全局变量设置组件的工作方式:</p>
                </div>
                <div class="p1">
                    <p id="55">if (rootProject.ext.isModuleOne) {</p>
                </div>
                <div class="p1">
                    <p id="56">apply plugin: 'com.android.library'</p>
                </div>
                <div class="p1">
                    <p id="57">} else {</p>
                </div>
                <div class="p1">
                    <p id="58">apply plugin: 'com.android.application'</p>
                </div>
                <div class="p1">
                    <p id="59">}</p>
                </div>
                <div class="p1">
                    <p id="60">同时,通过相同的方法在Gradle依赖中建立主体工程与组件之间建立依赖:</p>
                </div>
                <div class="p1">
                    <p id="61">if (rootProject.ext.isModule) {</p>
                </div>
                <div class="p1">
                    <p id="62">implementation project(':moduleone')</p>
                </div>
                <div class="p1">
                    <p id="63">implementation project(':moduletwo')</p>
                </div>
                <div class="p1">
                    <p id="64">implementation project(':modulethree')</p>
                </div>
                <div class="p1">
                    <p id="65">}</p>
                </div>
                <div class="p1">
                    <p id="66">(3) 在各个组件中的build.gradle文件中添加动态资源配置:</p>
                </div>
                <div class="p1">
                    <p id="67">sourceSets {</p>
                </div>
                <div class="p1">
                    <p id="68">main {</p>
                </div>
                <div class="p1">
                    <p id="69">if (rootProject.ext.isModuleOne) {</p>
                </div>
                <div class="p1">
                    <p id="70">manifest.srcFile</p>
                </div>
                <div class="p1">
                    <p id="71">'src/main/AndroidManifest.xml'</p>
                </div>
                <div class="p1">
                    <p id="72">java {</p>
                </div>
                <div class="p1">
                    <p id="73">exclude '*module'</p>
                </div>
                <div class="p1">
                    <p id="74">}</p>
                </div>
                <div class="p1">
                    <p id="75">} else {</p>
                </div>
                <div class="p1">
                    <p id="76">manifest.srcFile 'src/main/module/AndroidManifest.xml'</p>
                </div>
                <div class="p1">
                    <p id="77">}}}</p>
                </div>
                <div class="p1">
                    <p id="78">由于组件开发中各组件即可单独开发也可混合开发,因此需要使用两套不同的manifest配置文件分别适配不同的环境,即组件独立开发时使用新建的manifest文件,而依赖开发时使用默认的配置文件。两个文件的主要区别在于:独立开发时,manifest配置文件中有模块独立的Application的配置,而作为组件的模块中默认使用主体工程的Application作为应用的生命周期监控。</p>
                </div>
                <div class="p1">
                    <p id="79">(4) 在每个组件的build.gradle文件中添加  resourcePrefix″xxx_″,为每个组件的资源强制添加前缀以保证资源不会出现名字重复的现象,防止各个组件之间资源名字的混淆。</p>
                </div>
                <div class="p1">
                    <p id="80">(5) 使用阿里的ARouter框架采用编译时生成代码(APT)技术建立组件之间的路由,简化组件间的通信。在模块的build.gradle文件中使用远程依赖方式,获取ARouter的依赖,代码如下:</p>
                </div>
                <div class="p1">
                    <p id="81">api ‘com.alibaba:arouter-api:x.x.x’</p>
                </div>
                <div class="p1">
                    <p id="82">api ‘com.alibaba:arouter-annotation:x.x.x’</p>
                </div>
                <div class="p1">
                    <p id="83">annotationProcessor ‘com.alibaba:arouter-compiler:x.x.x’</p>
                </div>
                <div class="p1">
                    <p id="84">并为活动窗口界面使用以下代码添加路由:</p>
                </div>
                <div class="p1">
                    <p id="85">@Route(path=”xxx”)</p>
                </div>
                <div class="p1">
                    <p id="86">工程中,ARouter在使用前必须初始化,在全局Application中初始化ARouter,使用时直接获取该类的实例并调用方法,传入路由即可。ARouter初始化方法和路由跳转代码如下:</p>
                </div>
                <div class="p1">
                    <p id="87">if (isDebug){</p>
                </div>
                <div class="p1">
                    <p id="88">ARouter.openDebug();</p>
                </div>
                <div class="p1">
                    <p id="89">ARouter.openLog();</p>
                </div>
                <div class="p1">
                    <p id="90">}</p>
                </div>
                <div class="p1">
                    <p id="91">ARouter.init(application);</p>
                </div>
                <div class="p1">
                    <p id="92">//路由跳转</p>
                </div>
                <div class="p1">
                    <p id="93">ARouter.getInstance().build(“xxx”).navigation();</p>
                </div>
                <h3 id="94" name="94" class="anchor-tag"><b>4 应用程序实例</b></h3>
                <div class="p1">
                    <p id="95">利用组件化思想完成测试工程的基本搭建,工程包括一个空壳的app模块、三个测试模块组件modulexxx和一个公共开发库component_base。工程项目结构如图4所示。</p>
                </div>
                <div class="area_img" id="96">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 项目结构图" src="Detail/GetImg?filename=images/JYRJ201909005_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 项目结构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_096.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="97">程序默认加载moduleone作为工程的启动界面,分别对app、modulexxx进行开发测试,修改config.gradle中的全局配置变量。</p>
                </div>
                <div class="p1">
                    <p id="98">(1) 测试组件单独编译安装,修改全局变量为:</p>
                </div>
                <div class="p1">
                    <p id="99">isModule=false</p>
                </div>
                <div class="p1">
                    <p id="100">isModuleOne=false</p>
                </div>
                <div class="p1">
                    <p id="101">isModuleTwo=true</p>
                </div>
                <div class="p1">
                    <p id="102">isModuleThree=true</p>
                </div>
                <div class="p1">
                    <p id="103">即单独编译moduleone,点击编译工程,出现:</p>
                </div>
                <div class="p1">
                    <p id="104">ARouter::Compiler &gt;&gt;&gt; No module name</p>
                </div>
                <div class="p1">
                    <p id="105">ARouter在组件路由中,编译时代码生成需要组件模块的模块名,在各个组件模块的build.gradle文件中添加如下代码后再编译:</p>
                </div>
                <div class="p1">
                    <p id="106">javaCompileOptions {</p>
                </div>
                <div class="p1">
                    <p id="107">annotationProcessorOptions {</p>
                </div>
                <div class="p1">
                    <p id="108">arguments=[moduleName: project.getName()]</p>
                </div>
                <div class="p1">
                    <p id="109">}}</p>
                </div>
                <div class="p1">
                    <p id="110">如图5所示,APK打包状态已由工程打包变为了组件打包。</p>
                </div>
                <div class="area_img" id="111">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_111.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 工程打包与模块打包状态图" src="Detail/GetImg?filename=images/JYRJ201909005_111.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 工程打包与模块打包状态图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_111.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="112">(2) 按照相同的方法,修改Gradle全局变量,对组件moduletwo、modulethree编译安装。</p>
                </div>
                <div class="p1">
                    <p id="113">(3) 对组件整体测试,即打包所有组件为同一个APP,修改Gradle全局变量,编译安装,得到最终由组件开发的综合而成的应用,如图6所示。图中第一个APP为整体工程编译打包而成,由三个组件构成,其余三个APP是组件模块单独编译安装生成的APK。</p>
                </div>
                <div class="area_img" id="114">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 工程与组件APK" src="Detail/GetImg?filename=images/JYRJ201909005_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 工程与组件APK  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_114.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="115">(4) 使用ARouter简单测试组件间路由功能。为每个组件的启动窗口添加如下代码,规定组件的路由:</p>
                </div>
                <div class="p1">
                    <p id="116">@Route(path=ARouterUrls.PATH_XX)</p>
                </div>
                <div class="p1">
                    <p id="117">其中ARouterUrls.PATH_XX为定义的路径全局常量字符串。工程默认加载组件moduleone,因此在moduleone中的启动界面中添加三个按钮,并对按钮设置监听,触发按钮测试组件路由跳转。由于Android的API14后,组件开发中的资源不再是常量<citation id="153" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>,因此,对于多个控件的监听,不能使用switch-case结构。控件触发路由跳转部分代码如下:</p>
                </div>
                <div class="p1">
                    <p id="118">@Override</p>
                </div>
                <div class="p1">
                    <p id="119">public void onClick(View v){</p>
                </div>
                <div class="p1">
                    <p id="120">int id=v.getId();</p>
                </div>
                <div class="p1">
                    <p id="121">if (id==R.id.bt_module_two){</p>
                </div>
                <div class="p1">
                    <p id="122">ARouterUtils.navigate(ARouterUrls.PATH_MODULE_TWO);</p>
                </div>
                <div class="p1">
                    <p id="123">}else if (id==R.id.bt_module_three){</p>
                </div>
                <div class="p1">
                    <p id="124">Bundle bundle=new Bundle();</p>
                </div>
                <div class="p1">
                    <p id="125">bundle.putString(″data″,″moduleTwo2moduleThree″);  ARouterUtils.navigate(ARouterUrls.PATH_MODULE_THREE, bundle);</p>
                </div>
                <div class="p1">
                    <p id="126">}else if (id==R.id.bt_module_four){</p>
                </div>
                <div class="p1">
                    <p id="127">ARouterUtils.navigate(ARouterUrls.PATH_MODULE_FOUR);</p>
                </div>
                <div class="p1">
                    <p id="128">}}</p>
                </div>
                <div class="p1">
                    <p id="129">其中ARouterUtils是对ARouter路由跳转代码的封装,内部代码为:</p>
                </div>
                <div class="p1">
                    <p id="130">public static void navigate(String path){</p>
                </div>
                <div class="p1">
                    <p id="131">if (TextUtils.isEmpty(path)){</p>
                </div>
                <div class="p1">
                    <p id="132">return;</p>
                </div>
                <div class="p1">
                    <p id="133">}</p>
                </div>
                <div class="p1">
                    <p id="134">ARouter.getInstance()</p>
                </div>
                <div class="p1">
                    <p id="135">.build(path)</p>
                </div>
                <div class="p1">
                    <p id="136">.navigation();</p>
                </div>
                <div class="p1">
                    <p id="137">}</p>
                </div>
                <div class="p1">
                    <p id="138">测试路由经过moduleone跳转到moduletwo(如图7(b)所示),moduleone跳转到modulethree(如图7(c)所示)。图7(d)为测试未知路由跳转,由于开启了ARouter的调试模式和日志打印功能,未知路由跳转会触发异常捕获。</p>
                </div>
                <div class="area_img" id="139">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201909005_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 路由跳转结果图" src="Detail/GetImg?filename=images/JYRJ201909005_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 路由跳转结果图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201909005_139.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="140" name="140" class="anchor-tag"><b>5 结 语</b></h3>
                <div class="p1">
                    <p id="141">基于组件化思想的Android软件开发,是未来大型移动应用开发的趋势。将Android工程划分为多个组件,每个组件独立开发,独立编译,调试成功后通过Gradle插件集成到主体工程,极大降低了程序的耦合性,提高了开发的效率。同时,由于工程划分为组件,各组件单独编译,提高了IDE的编译效率。组件之间通过ARouter的路由功能简化通信,也方便了资源的复用。因此,通过组件化思想开发Android应用,可以完全应用于商业大型移动应用的开发。通过该思想开发了Android组件化测试工程,工程测试表明了方案的有效性和实际应用性。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXDY201604061&amp;v=MTk5NTJPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBTVRYUGQ3RzRIOWZNcTQ5RFpZUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 尹孟征.基于Android的APP开发平台综述[J].通信电源技术,2016,33(4):154-155,213.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013178025.nh&amp;v=MTg4NzJPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBVkYyNkhiSy9GdEhPcXBFYlBJUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 邹丽丽.Android若干关键技术研究与应用系统开发[D].杭州:浙江大学,2013.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1014328555.nh&amp;v=MTgxNTE0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW5oVWI3QVZGMjZHckM2RnRUSnFwRWJQSVFLREg4NHZSNFQ2ajU=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 朱晓佳.基于OSGi的Android模块动态加载技术研究[D].青岛:中国海洋大学,2014.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017293402.nh&amp;v=MjY5OTg3QVZGMjZHYkd4SGRYTXJaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeW5oVWI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 苟虹雨.基于Android平台的组件化即时通信系统的设计与实现[D].北京:北京邮电大学,2017.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=DZJX201102002&amp;v=MTIzOTMzenFxQnRHRnJDVVI3cWZadVp0RnluaFViN0FJVGZCZHJHNEg5RE1yWTlGWm9RS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 童时中.模块化研究及实践的现状和发展[J].电子机械工程,2011,27(2):1-8.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Android Build System">

                                <b>[6]</b> Yener M,Dundar O.Android Build System[M]// Expert Android Studio.John Wiley &amp; Sons,Inc.2017.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201604053&amp;v=MDYzNjZHNEg5Zk1xNDlBWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnluaFViN0FMelRaWkw=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 徐昕军,袁媛,苏剑臣,等.基于Android平台的行为分析系统研究[J].计算机应用与软件,2016,33(4):223-226.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Analyzing inter-application communication in Android">

                                <b>[8]</b> Chin E,Felt A P,Greenwood K,et al.Analyzing inter-application communication in Android[C]// Proceedings of the 9th international conference on Mobile systems,applications,and services.ACM,2011:239-252.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=ZDYY201701031&amp;v=MDMwNzQ5R1pZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBUHluU2Q3RzRIOWJNcm8=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 赵静.Android系统架构及应用程序开发研究[J].自动化与仪器仪表,2017(1):86-87,90.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013309454.nh&amp;v=MTYzMTJGeW5oVWI3QVZGMjZIYkM0RjlYSnE1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 宣恒.用户需求引导的移动社交型App交互设计研究[D].无锡:江南大学,2013.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017291148.nh&amp;v=MDEzMTZVYjdBVkYyNkdiR3hIOURJcDVFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b> 李俊晨.基于Android平台的动态加载技术的研究与实现[D].北京:北京邮电大学,2017.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Tool Support for Component-Based Software Architectures">

                                <b>[12]</b> Buchgeher G,Weinreich R.Tool Support for Component-Based Software Architectures[C]// Asia-pacific Software Engineering Conference.IEEE Computer Society,2009.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201909005" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201909005&amp;v=MjY0NzFNcG85RllZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5bmhVYjdBTHpUWlpMRzRIOWo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
