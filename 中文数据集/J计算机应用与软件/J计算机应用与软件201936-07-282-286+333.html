<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135628952971250%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201907049%26RESULT%3d1%26SIGN%3dSS1pQHabh40l%252f%252bKAUdxwTJIYk9c%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201907049&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201907049&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201907049&amp;v=MjYxOTlHRnJDVVI3cWZadVp0RnlqaFZydlBMelRaWkxHNEg5ak1xSTlCYllRS0RIODR2UjRUNmo1NE8zenFxQnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#17" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#20" data-title="&lt;b&gt;1 SIMT处理器架构&lt;/b&gt; "><b>1 SIMT处理器架构</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#24" data-title="&lt;b&gt;2 基于SIMT处理器cache设计&lt;/b&gt; "><b>2 基于SIMT处理器cache设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#25" data-title="&lt;b&gt;2.1 指令cache结构设计&lt;/b&gt;"><b>2.1 指令cache结构设计</b></a></li>
                                                <li><a href="#48" data-title="&lt;b&gt;2.2 数据cache结构设计&lt;/b&gt;"><b>2.2 数据cache结构设计</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#51" data-title="&lt;b&gt;3 实验结果及分析&lt;/b&gt; "><b>3 实验结果及分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#52" data-title="&lt;b&gt;3.1 功能验证&lt;/b&gt;"><b>3.1 功能验证</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;3.2 性能分析&lt;/b&gt;"><b>3.2 性能分析</b></a></li>
                                                <li><a href="#64" data-title="&lt;b&gt;3.3 FPGA验证&lt;/b&gt;"><b>3.3 FPGA验证</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#72" data-title="&lt;b&gt;4 结 语&lt;/b&gt; "><b>4 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#23" data-title="图1 SIMT整体架构">图1 SIMT整体架构</a></li>
                                                <li><a href="#27" data-title="图2 指令cache整体结构">图2 指令cache整体结构</a></li>
                                                <li><a href="#30" data-title="图3 访问地址组成">图3 访问地址组成</a></li>
                                                <li><a href="#38" data-title="图4 icache控制模块结构图">图4 icache控制模块结构图</a></li>
                                                <li><a href="#58" data-title="图5 指令cache仿真波形图">图5 指令cache仿真波形图</a></li>
                                                <li><a href="#60" data-title="图6 数据cache仿真波形图">图6 数据cache仿真波形图</a></li>
                                                <li><a href="#63" data-title="&lt;b&gt;表1 cache具体器件占用情况&lt;/b&gt;"><b>表1 cache具体器件占用情况</b></a></li>
                                                <li><a href="#67" data-title="图7 FPGA验证平台">图7 FPGA验证平台</a></li>
                                                <li><a href="#69" data-title="图8 矩阵点积图">图8 矩阵点积图</a></li>
                                                <li><a href="#71" data-title="图9 PC机打印结果">图9 PC机打印结果</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" 石弘一.机器学习综述[J].通讯世界, 2018 (10) :253-254." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXSJ201810168&amp;v=MDY0NjU3cWZadVp0RnlqaFZydlBNVFhZWkxHNEg5bk5yNDVEYklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         石弘一.机器学习综述[J].通讯世界, 2018 (10) :253-254.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" Lindholm E, Nickolls J, Oberman S, et al.NVIDIA Tesla:A Unified Graphics and Computing Architecture[J].IEEE Micro, 2008, 28 (2) :39-55." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=NVIDIA Tesla: A Unified Graphics and Computing Architecture">
                                        <b>[2]</b>
                                         Lindholm E, Nickolls J, Oberman S, et al.NVIDIA Tesla:A Unified Graphics and Computing Architecture[J].IEEE Micro, 2008, 28 (2) :39-55.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" Kyung G, Jung C, Lee K.An implementation of a SIMT architecture-based stream processor[C]//Tencon IEEE Region 10 Conference.IEEE, 2015." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An implementation of a SIMT architecture-based stream processor">
                                        <b>[3]</b>
                                         Kyung G, Jung C, Lee K.An implementation of a SIMT architecture-based stream processor[C]//Tencon IEEE Region 10 Conference.IEEE, 2015.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" 韩峰.可重构及SIMT处理器系统架构存储映射方法研究[D].南京:南京大学, 2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1018048622.nh&amp;v=MDA4NjlqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amhWcnZQVkYyNkZyTzhGdGZPclpFYlBJUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[4]</b>
                                         韩峰.可重构及SIMT处理器系统架构存储映射方法研究[D].南京:南京大学, 2017.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 吕华智.高性价比DSP中指令Cache的研究与设计[D].湘潭:湘潭大学, 2017." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017269837.nh&amp;v=MDQ4MDBWRjI2R2JHK0Y5blBxSkViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlqaFZydlA=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         吕华智.高性价比DSP中指令Cache的研究与设计[D].湘潭:湘潭大学, 2017.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" 袁潇.DSP处理器中数据Cache的设计和验证[D].西安:西安电子科技大学, 2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013305934.nh&amp;v=MTQzNDRIYkM0RzlqUHE1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpoVnJ2UFZGMjY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         袁潇.DSP处理器中数据Cache的设计和验证[D].西安:西安电子科技大学, 2013.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 张多利, 张宇, 宋宇鲲, 等.一种多核SoC中基于Cache机制的存储结构设计[J].微电子学与计算机, 2017, 34 (10) :26-31." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201710006&amp;v=MjI1NDdmWnVadEZ5amhWcnZQTWpYU1pMRzRIOWJOcjQ5RllvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         张多利, 张宇, 宋宇鲲, 等.一种多核SoC中基于Cache机制的存储结构设计[J].微电子学与计算机, 2017, 34 (10) :26-31.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(07),282-286+333 DOI:10.3969/j.issn.1000-386x.2019.07.048            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>面向机器学习的高性能SIMT处理器cache的设计与实现</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%AE%B8%E6%99%93%E7%87%95&amp;code=42231781&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">许晓燕</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E6%B6%9B&amp;code=29357507&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李涛</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%AD%99%E5%93%B2&amp;code=42231782&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">孙哲</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%82%A2%E7%AB%8B%E5%86%AC&amp;code=39111518&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">邢立冬</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%A5%BF%E5%AE%89%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6%E7%94%B5%E5%AD%90%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=1698419&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">西安邮电大学电子工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>为了满足机器学习中大数据、并行计算及降低处理器与主存之间的差距等要求, 设计基于自主研发的SIMT处理器的流水线cache结构。依据局部性原理与LRU替换算法相结合设计专用的伪LRU替换算法, 与通用的轮询、LFU、LRU替换算法共同完成cache替换算法的可配置要求, 实现处理器与主存之间的快速交互。采用Xilinx公司virtex ultrascale系列的xcvu440-flga2892-2-e FPGA芯片对设计进行综合。结果表明该结构指令cache最大时延为2.923 ns, 数据cache最大时延为3.258 ns, 满足SIMT处理器性能要求。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=SIMT%E5%A4%84%E7%90%86%E5%99%A8&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">SIMT处理器;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%B5%81%E6%B0%B4%E7%BA%BFcache%E7%BB%93%E6%9E%84&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">流水线cache结构;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">替换算法;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    许晓燕, 硕士生, 主研领域:电路, 系统。;
                                </span>
                                <span>
                                    李涛, 教授。;
                                </span>
                                <span>
                                    孙哲, 硕士生。;
                                </span>
                                <span>
                                    邢立冬, 博士。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-23</p>

                    <p>

                            <b>基金：</b>
                                                        <span>陕西省重点研发计划项目 (2017ZDXM-GY-005);</span>
                                <span>西安市科技局项目 (201805040YD18CG24 (5) );</span>
                    </p>
            </div>
                    <h1><b>DESIGN AND IMPLEMENTATION OF HIGH PERFORMANCE SIMT PROCESSOR CACHE FOR MACHINE LEARNING</b></h1>
                    <h2>
                    <span>Xu Xiaoyan</span>
                    <span>Li Tao</span>
                    <span>Sun Zhe</span>
                    <span>Xing Lidong</span>
            </h2>
                    <h2>
                    <span>School of Electronic Engineering, Xi'an University of Posts and Telecommunications</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>In order to meet the requirements of big data, parallel computing and reduce the gap between processor and main memory in machine learning, we designed a pipeline cache structure based on self-developed SIMT processor. It was designed according to the principle of locality and LRU replacement algorithm. The dedicated pseudo LRU replacement algorithm, together with the general Round Robin, LFU, and LRU replacement algorithms, completed the configurable requirements of the cache replacement algorithm to achieve fast interaction between the processor and the main memory. The design was integrated with the xcvu440-flga2892-2-e FPGA chip of Xilinx virtex ultrascale series. The results show that the maximum latency of the structure instruction cache is 2.923 ns, and the maximum delay of the data cache is 3.258 ns, which satisfies the performance requirements of SIMT processor.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=SIMT%20processor&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">SIMT processor;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Pipelined%20cache%20structure&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Pipelined cache structure;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Replacement%20algorithm&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Replacement algorithm;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-12-23</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="17" name="17" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="18">随着大数据时代的到来, 机器学习已经应用到人类生活的各个方面。机器学习的本质是基于互联网的海量数据以及系统强大的并行运算能力, 让机器自主模拟人类学习的过程, 通过不断“学习”数据来做出智能决策行为<citation id="74" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>。为了解决机器学习中大数据、并行运算需求, 本文基于SIMT架构进行设计。SIMT概念首先被GPU制造商NVIDIA在产品微架构中提出<citation id="75" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。2006年11月, NVIDIA在其Tesla GPU架构中提出了一条指令同时驱动多个不相关线程的SIMT处理方式<citation id="76" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>。随后不久, ATI公司在2007年推出了采用类似处理架构的TeraScale引擎, 及相关产品R600 GPU芯片<citation id="77" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。SIMT架构具有多个执行流程<citation id="78" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, 可以利用多线程隐藏存储延时, 减少取指、取数开销, 而且执行时不需要将数据凑成合适的矢量长度, 便可以进行运算, 更有利于适应机器学习处理大规模数据的要求。</p>
                </div>
                <div class="p1">
                    <p id="19">本文基于自主研发的SIMT架构进行设计, 为了解决SIMT处理器与主存速度不匹配问题<citation id="79" type="reference"><link href="11" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>, 设计使用cache来改善它们之间的性能。目前cache设计有普林斯顿、哈佛两种结构。普林斯顿结构将指令cache与数据cache统一存放, 哈佛结构将指令cache和数据cache分开存放<citation id="80" type="reference"><link href="13" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>。哈佛结构相对普林斯顿结构有利于解决指令和数据冲突的问题, 便于指令cache与数据cache的并行执行, 方便对指令cache和数据cache的优化, 因此cache设计中普遍使用哈佛结构。本设计采用哈佛结构, 并根据指令cache、数据cache的局部性和连续性<citation id="81" type="reference"><link href="15" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>, 为指令cache、数据cache设置不同的参数;根据设计需求为cache设计了可配置的替换算法, 包括轮询、LFU (least frequently used) 、LRU (Least Recently Used) 和专用的伪LRU替换算法。本文重点介绍基于自主研发的SIMT架构的cache设计与实现。</p>
                </div>
                <h3 id="20" name="20" class="anchor-tag"><b>1 SIMT处理器架构</b></h3>
                <div class="p1">
                    <p id="21">该SIMT处理器最多可以包含4个区块, 每个区块可以执行相同或不同的程序;每个区块包含8个warp, 最多可以有8个warp都处于激活状态, 但每次只有一个warp可以执行, 同一个区块中的warp执行相同的程序;每个warp包含8个PE, 可以通过线程真假控制PE的执行, 每个PE执行相同的指令。运行程序可以通过配置区块个数、warp个数、初始pc、初始寄存器、替换算法有效地控制程序的执行。</p>
                </div>
                <div class="p1">
                    <p id="22">该SIMT架构由8个PE (Processing element) , 1个VPU (Vector processing unit) , 1个MMU (Memory management unit) 和1个AXI总线接口四部分组成。PE主要用于完成各类运算, VPU主要用于完成取指、译码、warp调度功能, MMU主要用于与处理器相关的指令、数据的存取, AXI总线接口用于实现AXI总线与MMU模块的交互。其中MMU包含分开的指令cache、数据cache、共享ram和mem_ctrl模块。icache模块主要满足流水线对指令访问的需求, dcache模块主要满足流水线对数据访问的需求, mem_ctrl模块主要负责SIMT处理器的访存请求, data_ram用于8个PE共享数据的访存。SIMT整体架构如图1所示。</p>
                </div>
                <div class="area_img" id="23">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_023.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 SIMT整体架构" src="Detail/GetImg?filename=images/JYRJ201907049_023.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 SIMT整体架构  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_023.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="24" name="24" class="anchor-tag"><b>2 基于SIMT处理器cache设计</b></h3>
                <h4 class="anchor-tag" id="25" name="25"><b>2.1 指令cache结构设计</b></h4>
                <div class="p1">
                    <p id="26">指令cache用于接收通过mem_ctrl模块透传过来的由取指单元传送的请求信号, 用于观察所需的指令是否在对应的RAM中, 若是, 则将对应的指令输出给取指模块, 否则向总线接口模块发出对应的请求信号, 总线接口模块返回对应的指令时, 填充对应的RAM, 同时在填充完毕时, 将对应的指令输出。指令cache分为cache的存储模块, 控制模块、替换算法模块三部分。指令cache的整体结构如图2所示。</p>
                </div>
                <div class="area_img" id="27">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 指令cache整体结构" src="Detail/GetImg?filename=images/JYRJ201907049_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 指令cache整体结构  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_027.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="28" name="28"><b>2.1.1 存储模块</b></h4>
                <div class="p1">
                    <p id="29">存储模块用于存储可供处理器运行的指令和标志。根据SIMT设计需求, 指令cache大小设计为8 KW (32 KB) , 采用16路组相联, 行大小为128字节。由于指令cache采用16路组相联, 本设计将存储矩阵设计为16块指令存储体和16块指令TAG存储体, 它们各自都具有相同的结构。其中, 指令存储体每块大小为2 KB (分成4行, 每行有512个字节) , 总共为32 KB。指令TAG存储体每块分成4行, 每行有22位。根据给定指令cache的各个参数, 可以确定地址的8～0为地址偏移位;地址的10～9为地址的索引位;地址的31～11为tag位。访问地址组成如图3所示。</p>
                </div>
                <div class="area_img" id="30">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 访问地址组成" src="Detail/GetImg?filename=images/JYRJ201907049_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 访问地址组成  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_030.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="31">inst_ram在实际存储时, 将同一路的数据存储于同一个RAM中, 并且将行内偏移地址与索引统一编址。用index位来选择cache的行索引, 用offset位来选择行内的偏移。每行存储128条指令, 共4行, 每个inst_ram深度为512。</p>
                </div>
                <div class="p1">
                    <p id="32">tag_ram中的tag位用来记录每行在主存中的位置, tag另一个作用就是与SIMT处理器发出的请求指令的地址进行比较, 来确定当前cache行中的指令是不是处理器所需要的指令, 使用tag存储体中的高21位表示。tag_ram中的第0位作为有效位用来记录当前cache行中的指令是否有效, 每行都有一个有效信号, 每个tag_ram深度为4。</p>
                </div>
                <h4 class="anchor-tag" id="33" name="33"><b>2.1.2 控制模块</b></h4>
                <div class="p1">
                    <p id="34">icache控制模块用于控制整个icache的执行, 实现cache的三级流水, 同时接收取指模块的请求, 最终输出对应的指令、对应指令的pc值、warp号码、sign标记 (标记jump、call、retn指令) 。</p>
                </div>
                <div class="p1">
                    <p id="35">第一级流水线:根据mem_ctrl模块透传过来的块号, 从对应的4个基地址中选择对应的值, 然后将该值与对应pc值相加, 即为所需指令的地址。同时根据控制信号 (rd_en) 和地址的2～10位, 从16路inst_ram中分别取出对应地址的指令;根据控制信号 (rd_en) 和地址的9～10位, 从16路tag_ram中分别取出对应地址的tag。判断新进来的指令与前一个指令是否在同一行 (line) , 并将对应的地址寄存, 用于下一级指令命中的判断。同时将对应的pc值、warp号码、sign标记寄存输出。</p>
                </div>
                <div class="p1">
                    <p id="36">第二级流水线:当控制信号 (en_tag) 为1, 首先判断第一级流水线传过来的line是否为1, 若为1, 则第二级流水线输出的miss (未命中) 信号、hit (命中) 信号以及命中的路数与寄存的结果相同;否则, 根据第一级传过来的addr (地址) 和16个tag, 将addr中的tag位与16路tag中的tag位分别进行比较, 同时判断tag中的valid位是否为1。若其中有一组比较结果相同并且对应的valid位为1, 则hit, 输出命中信号, 命中的路数 (set) 。若上述比较结果都为0, 则miss, 向mem_ctrl模块输出miss信号, 暂停指令请求, 同时保存对应miss地址。当通过总线接口模块取回对应的128条指令时, 将miss信号改为hit, 继续流水线的执行;同时寄存第一级流水线输出的指令、pc值、warp号码、sign标记。</p>
                </div>
                <div class="p1">
                    <p id="37">第三级流水线:根据第二级流水线输出的hit、set和miss信号。若miss则向总线接口模块发出请求信号和地址。miss时, 当通过总线接口模块取回对应的指令时, 将取回的第二级流水线寄存地址的对应位置的指令寄存, 寄存信号为miss_inst;若line为1, 同时将第一级流水线寄存地址的对应位置的指令寄存, 寄存信号为line_miss_inst。同时将取回的指令填充到替换算法指定的对应路的inst_ram中, 更新对应的tag_ram。若填充满, 下一时刻将miss_inst输出;若line为1, 将line_miss_inst输出;其他情况, hit为1时直接将命中路对应的指令输出。输出指令时, 将对应指令的valid、pc值、warp号码、sign标记同时输出。图4为icache控制模块结构图。</p>
                </div>
                <div class="area_img" id="38">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 icache控制模块结构图" src="Detail/GetImg?filename=images/JYRJ201907049_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 icache控制模块结构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_038.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="39" name="39"><b>2.1.3 替换算法模块</b></h4>
                <div class="p1">
                    <p id="40">轮询替换算法:算法为每一行设置一个4位的替换计数器, 每次替换时选取替换计数器指定的cache行, 替换后替换计数值加1, 当计数器计到最大值时从0开始重新计数, 命中时不改变计数器的值。</p>
                </div>
                <div class="p1">
                    <p id="41">最不经常使用算法 (LFU算法) :算法需要为每行提供64位寄存器用来存放16路计数器的值, 其中3～0位对应第0路计数器的值, 7～4对应第1路计数器的值, 依此类推, 初始寄存器64位的值设置为64’h0123456789abcdef。当miss时找到计数器中值为0的值, 即为所需替换的路数, 同时将其他路计数器值减1, 替换路计数器值变为15。命中时, 将命中路计数器值变为15, 其他路计数器比命中路计数器值小的不变, 大的则将计数器的值减1。</p>
                </div>
                <div class="p1">
                    <p id="42">最近最少使用算法 (LRU算法) :算法需要为每行提供64位寄存器用来存放16路计数器的值, 其中3～0位对应第0路计数器的值, 7～4对应第1路计数器的值, 依此类推, 初始寄存器64位的值设置为64’h0123456789abcdef。当miss时找到计数器中值为15的值, 即为所需替换的路数, 同时将其他路计数器值加1, 替换路计数器值变为0。命中时, 将命中路计数器值变为0, 其他路计数器比命中路计数器值大的不变, 小的则将计数器的值加1。</p>
                </div>
                <div class="p1">
                    <p id="43">专用伪LRU替换算法:算法将局部性原理与LRU替换算法相结合, 使用18位来存储标志位 (lru_val) 的值。因为采用16路组相联, 设计时将对应的16路分为4组, 0～3路为第一组, 4～7路为第二组, 8～b路为第三组, c～f路为第四组。将lru_val中的18位分为3部分, 17～12位用于表示选择哪一组, 11～8位表示选择对应组内的后两路还是前两路, 7～0位用于选择16路中相邻两路中的哪一路。对应位为0表示前者相对后者最近最少使用。</p>
                </div>
                <div class="p1">
                    <p id="44"> (1) 12位表示第一组相对第二组是否最近最少使用, 13位代表第一组相对第三组是否最近最少使用, 14位代表第一组相对第四组是否最近最少使用, 15位代表第二组相对第三组是否最近最少使用, 16位代表第二组相对第四组是否最近最少使用, 17位代表第三组相对第四组是否最近最少使用。</p>
                </div>
                <div class="p1">
                    <p id="45"> (2) 8位代表第一组中的后两路相对前两路是否最近最少使用, 9位代表第二组中的后两路相对前两路是否最近最少使用, 10位代表第三组中的后两路相对前两路是否最近最少使用, 11位代表第四组中的后两路相对前两路是否最近最少使用。</p>
                </div>
                <div class="p1">
                    <p id="46"> (3) 0位代表0路相对1路是否最近最少使用, 1位代表2路相对3路是否最近最少使用, 2位代表4路相对5路是否最近最少使用, 3位代表6路相对7路是否最近最少使用, 4位代表8路相对9路是否最近最少使用, 5位代表10路相对11路是否最近最少使用, 6位代表12路相对13路是否最近最少使用, 7位代表14路相对15路是否最近最少使用。</p>
                </div>
                <div class="p1">
                    <p id="47">若命中, 并且line为1, 则不需要改变lru_val的值, 若不在同一行, 则根据命中的路数以及寄存的lru_val的值, 更新lru_val。若miss, 则根据当前lru_val的值判断需要替换的路数, 同时更新lru_val的值。</p>
                </div>
                <h4 class="anchor-tag" id="48" name="48"><b>2.2 数据cache结构设计</b></h4>
                <div class="p1">
                    <p id="49">数据cache用于接收通过mem_ctrl模块透传由ldst模块传过来的请求信号, 用于观察所需的数据是否在对应的RAM中, 若是, 则将对应的数据输出给ldst模块, 否则, 向总线接口模块发出对应的请求信号, 待总线接口模块返回对应的数据时, 填充对应的RAM。填充完毕时, 将对应的数据输出。数据cache大小设计为32 KB, 采用4路组相联, 行大小为8字。因此地址的4～0位为偏移位, 12～5位为索引位, 31～13为tag位。</p>
                </div>
                <div class="p1">
                    <p id="50">数据cache与指令cache采用相同的结构, 使用3级流水线, 实现数据cache功能, 满足处理器取数请求。数据cache替换算法采用与指令cache类似的可配置的替换算法, 轮询替换算法使用2位计数器;LFU、LRU使用8位寄存器的值;专用伪LRU替换算法在设计时只需要3位的标志位 (lru_val) 即可。第0位表示第0路相对第1路是否最近最少使用, 第1位表示第2路相对第3路是否最近最少使用, 第2位代表后两路相对前两路是否最近最少使用。若命中并且line为1不改变标志的值;若line不为1, 改变标志位的值;若miss改变标志位的值, 同时根据当前标志位的值, 找到需要替换的路数。</p>
                </div>
                <h3 id="51" name="51" class="anchor-tag"><b>3 实验结果及分析</b></h3>
                <h4 class="anchor-tag" id="52" name="52"><b>3.1 功能验证</b></h4>
                <div class="p1">
                    <p id="53">对于整体cache的验证, 主要从下面几方面入手:</p>
                </div>
                <div class="p1">
                    <p id="54"> (1) 分析取指、ldst模块可能出现的各种情况, 列举各种情况的不同组合, 按照列举出来的不同情况, 使用VCS工具对指令cache。数据cache分别进行功能验证, 观察icache、dcache功能是否正确;</p>
                </div>
                <div class="p1">
                    <p id="55"> (2) 将指令cache、数据cache添加进MMU中, 使用VCS工具进行仿真, 观察整体MMU功能是否正确;</p>
                </div>
                <div class="p1">
                    <p id="56"> (3) 将MMU模块嵌进整体架构中, 使用vivado工具, 通过测试不同的程序, 检查cache功能是否满足处理器的要求。</p>
                </div>
                <div class="p1">
                    <p id="57">图5为使用8个warp、8个PE执行矩阵乘例子抓取的部分指令cache的仿真波形图。初始tag_ram中的值为0, 则icache发出miss信号, 等到接收到总线接口模块传输的128条指令时, 将对应的指令输出。若对应请求的指令在同一行时, 根据流水线思想, 一拍即可以输出一个对应的指令、pc值、warp号码、sign标记。根据抓取的波形, 显示指令cache满足设计需求。</p>
                </div>
                <div class="area_img" id="58">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 指令cache仿真波形图" src="Detail/GetImg?filename=images/JYRJ201907049_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 指令cache仿真波形图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_058.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="59">图6为使用8个warp、8个PE执行矩阵乘例子抓取的部分数据cache的仿真波形图。初始tag_ram中的值为0, 则dcache发出miss信号, 等到接收到总线接口模块传输的8个数据时, 将对应的数据输出。若对应请求的数据在同一行时, 根据流水线思想, 一拍即可以输出一个对应的数据。根据抓取的波形, 显示数据cache满足设计需求。</p>
                </div>
                <div class="area_img" id="60">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 数据cache仿真波形图" src="Detail/GetImg?filename=images/JYRJ201907049_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 数据cache仿真波形图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="61" name="61"><b>3.2 性能分析</b></h4>
                <div class="p1">
                    <p id="62">该cache结构采用Xilinx公司virtex ultrascale系列的xcvu440-flga2892-2-e FPGA芯片对设计进行综合, 该cache的最大工作速度可达307 MHz, 满足处理器设计要求。指令cache最大时延为2.923 ns, 数据cache最大时延为3.258 ns。整体cache具体器件占用情况如表1所示。</p>
                </div>
                <div class="area_img" id="63">
                    <p class="img_tit"><b>表1 cache具体器件占用情况</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="63" border="1"><tr><td><br />逻辑器件</td><td>资源利用率</td></tr><tr><td><br />LUT</td><td>177 557/2 532 960 (7.01%) </td></tr><tr><td><br />FF</td><td>549 866/5 065 920 (10.85%) </td></tr><tr><td><br />BUFG</td><td>1/1 440 (0.07%) </td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="64" name="64"><b>3.3 FPGA验证</b></h4>
                <div class="p1">
                    <p id="65">该SIMT处理器使用Xilinx公司virtex ultrascale系列的Dual VU Prodigy Logic Module开发板进行测试。搭建FPGA验证平台时, 将pcie2axi桥作为AXI总线的一个主机, 连接到AXI总线的m1端口, SIMT处理器在进行信息配置时作为AXI总线的一个从机, 连接到AXI总线的s2端口, SIMT处理器执行时作为AXI总线的一个主机, 连接到AXI总线的m2端口, 异步转换核 (DW_axi_x2x) 作为AXI总线的一个从机, 连接到AXI总线的s1端口。</p>
                </div>
                <div class="p1">
                    <p id="66">进行FPGA验证时, 首先由PC机输出对应的指令、数据、配置信息, 通过pcie2axi桥将对应的指令、数据、配置信息传输到AXI2to2总线上, SIMT处理器通过AXI2to2总线的s2端口, 将对应的配置信息传输到SIMT处理器, 异步转换核通过AXI2to2总线的s1端口将对应的指令、数据传输到ddr4, 并且匹配ddr4与AXI总线的速率。将对应的指令、数据、配置信息传输完成后, 启动SIMT处理器的执行。当SIMT处理器icache、dcache发生缺失时, 通过AXI总线的m2端口, 在读地址通道上输出对应的请求信号、地址、控制信息, 读数据通道接收到对应的数据时, 将对应的数据传输到SIMT处理器, 继续缺失数据、指令的执行。对应的程序执行完成后, SIMT处理器将对应的结果通过m2的写地址通道、写数据通道传输到ddr4。最终通过控制PC机读取相应地址的值, 在PC机上观察程序执行的最终结果, 可以判断SIMT处理器执行是否正确。图7为搭建的FPGA验证平台。</p>
                </div>
                <div class="area_img" id="67">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 FPGA验证平台" src="Detail/GetImg?filename=images/JYRJ201907049_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 FPGA验证平台  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_067.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="68">通过在FPGA上测试排序、找最大值、矩阵乘、卷积、循环、解线性方程、画线、顶点染色、FFT等例子, 并观察PC机上打印的结果, 表明该cache设计正确, 满足SIMT处理器设计要求。其中以矩阵乘为例, 该程序使用4个warp、4个PE进行矩阵乘运算。图8为矩阵点积图。</p>
                </div>
                <div class="area_img" id="69">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 矩阵点积图" src="Detail/GetImg?filename=images/JYRJ201907049_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 矩阵点积图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_069.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="70">将计算的结果转换为16进制数据, 分别为1e、46、32、3c、46、ae、72、8c、32、72、54、64、3c、8c、64、78, 通过与PC机上打印结果相比较, 表明该SIMT处理器设计正确, 满足程序设计要求。图9为PC机上打印结果。</p>
                </div>
                <div class="area_img" id="71">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907049_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 PC机打印结果" src="Detail/GetImg?filename=images/JYRJ201907049_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 PC机打印结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907049_071.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="72" name="72" class="anchor-tag"><b>4 结 语</b></h3>
                <div class="p1">
                    <p id="73">为了进一步提高处理器性能, 从而满足机器学习处理大数据、大吞吐量等要求, 本文在基于自主研发的SIMT处理器的基础上设计了指令cache、数据cache, 满足SIMT处理器的指令、数据读取要求。设计可配置的替换算法, 使用VCS工具进行仿真, 验证功能的正确性;并通过vivado综合, 结果表明该cache整体性能达到307 MHz, 指令cache最大时延为2.923 ns, 数据cache最大时延为3.258 ns, 满足SIMT处理器的性能要求, 缓解了主存与处理器的差距。现已将该cache设计应用到SIMT处理器中, 在FPGA上通过测试不同的程序对SIMT处理器进行验证, 验证结果显示该cache设计正确, 同时满足SIMT处理器要求。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=TXSJ201810168&amp;v=MjcyNTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpoVnJ2UE1UWFlaTEc0SDluTnI0NURiSVE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 石弘一.机器学习综述[J].通讯世界, 2018 (10) :253-254.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=NVIDIA Tesla: A Unified Graphics and Computing Architecture">

                                <b>[2]</b> Lindholm E, Nickolls J, Oberman S, et al.NVIDIA Tesla:A Unified Graphics and Computing Architecture[J].IEEE Micro, 2008, 28 (2) :39-55.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An implementation of a SIMT architecture-based stream processor">

                                <b>[3]</b> Kyung G, Jung C, Lee K.An implementation of a SIMT architecture-based stream processor[C]//Tencon IEEE Region 10 Conference.IEEE, 2015.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CDFD&amp;filename=1018048622.nh&amp;v=MTM1OTVxcUJ0R0ZyQ1VSN3FmWnVadEZ5amhWcnZQVkYyNkZyTzhGdGZPclpFYlBJUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[4]</b> 韩峰.可重构及SIMT处理器系统架构存储映射方法研究[D].南京:南京大学, 2017.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1017269837.nh&amp;v=MDA4NjR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlqaFZydlBWRjI2R2JHK0Y5blBxSkViUElRS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 吕华智.高性价比DSP中指令Cache的研究与设计[D].湘潭:湘潭大学, 2017.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1013305934.nh&amp;v=MTMwNzZWcnZQVkYyNkhiQzRHOWpQcTVFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amg=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 袁潇.DSP处理器中数据Cache的设计和验证[D].西安:西安电子科技大学, 2013.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201710006&amp;v=MDk2MzJPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amhWcnZQTWpYU1pMRzRIOWJOcjQ5RllvUUtESDg0dlI0VDZqNTQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 张多利, 张宇, 宋宇鲲, 等.一种多核SoC中基于Cache机制的存储结构设计[J].微电子学与计算机, 2017, 34 (10) :26-31.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201907049" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201907049&amp;v=MjYxOTlHRnJDVVI3cWZadVp0RnlqaFZydlBMelRaWkxHNEg5ak1xSTlCYllRS0RIODR2UjRUNmo1NE8zenFxQnQ=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
