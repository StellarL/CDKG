<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637135621914377500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201907004%26RESULT%3d1%26SIGN%3drvDZnQ1FW0uTnCr7uMPS0hyXMgo%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201907004&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201907004&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201907004&amp;v=MDc1MjVSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpnVjdyQUx6VFpaTEc0SDlqTXFJOUZZSVFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#138" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#145" data-title="&lt;b&gt;1 总体设计&lt;/b&gt; "><b>1 总体设计</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#155" data-title="&lt;b&gt;2 详细设计&lt;/b&gt; "><b>2 详细设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#156" data-title="&lt;b&gt;2.1 数据采集模块&lt;/b&gt;"><b>2.1 数据采集模块</b></a></li>
                                                <li><a href="#179" data-title="&lt;b&gt;2.2 数据存储模块&lt;/b&gt;"><b>2.2 数据存储模块</b></a></li>
                                                <li><a href="#188" data-title="&lt;b&gt;2.3 统计分析模块&lt;/b&gt;"><b>2.3 统计分析模块</b></a></li>
                                                <li><a href="#204" data-title="&lt;b&gt;2.4 异常报警模块&lt;/b&gt;"><b>2.4 异常报警模块</b></a></li>
                                                <li><a href="#213" data-title="&lt;b&gt;2.5 管理模块&lt;/b&gt;"><b>2.5 管理模块</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#217" data-title="&lt;b&gt;3 系统实现&lt;/b&gt; "><b>3 系统实现</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#225" data-title="&lt;b&gt;4 结 语&lt;/b&gt; "><b>4 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#147" data-title="图1 服务器资源监控系统架构图">图1 服务器资源监控系统架构图</a></li>
                                                <li><a href="#160" data-title="&lt;b&gt;表1 系统信息&lt;/b&gt;"><b>表1 系统信息</b></a></li>
                                                <li><a href="#161" data-title="&lt;b&gt;表2 CPU类信息&lt;/b&gt;"><b>表2 CPU类信息</b></a></li>
                                                <li><a href="#162" data-title="&lt;b&gt;表3 Mem类信息&lt;/b&gt;"><b>表3 Mem类信息</b></a></li>
                                                <li><a href="#165" data-title="表4 Net类信息">表4 Net类信息</a></li>
                                                <li><a href="#166" data-title="表5 Disk类信息">表5 Disk类信息</a></li>
                                                <li><a href="#167" data-title="表6 Process总体信息">表6 Process总体信息</a></li>
                                                <li><a href="#168" data-title="表7 Process详细信息">表7 Process详细信息</a></li>
                                                <li><a href="#172" data-title="图2 Telegraf组成结构图">图2 Telegraf组成结构图</a></li>
                                                <li><a href="#175" data-title="图3 Telegraf input插件开发主函数流程图">图3 Telegraf input插件开发主函数流程图</a></li>
                                                <li><a href="#177" data-title="图4 gather () 函数流程图">图4 gather () 函数流程图</a></li>
                                                <li><a href="#178" data-title="图5 getFromProc () 函数流程图">图5 getFromProc () 函数流程图</a></li>
                                                <li><a href="#181" data-title="图6 MySQL表ER图">图6 MySQL表ER图</a></li>
                                                <li><a href="#190" data-title="图7 统计分析过程图">图7 统计分析过程图</a></li>
                                                <li><a href="#192" data-title="图8 多线程数据读取逻辑图">图8 多线程数据读取逻辑图</a></li>
                                                <li><a href="#194" data-title="图9 OpenTSDB HTTP协议访问流程图">图9 OpenTSDB HTTP协议访问流程图</a></li>
                                                <li><a href="#197" data-title="图10 分级统计逻辑图">图10 分级统计逻辑图</a></li>
                                                <li><a href="#200" data-title="图11 统计分析模块实现流程图">图11 统计分析模块实现流程图</a></li>
                                                <li><a href="#207" data-title="图12 异常报警模块架构图">图12 异常报警模块架构图</a></li>
                                                <li><a href="#209" data-title="&lt;b&gt;表8 默认报警规则表&lt;/b&gt;"><b>表8 默认报警规则表</b></a></li>
                                                <li><a href="#211" data-title="图13 异常报警模块逻辑图">图13 异常报警模块逻辑图</a></li>
                                                <li><a href="#215" data-title="图14 系统管理模块功能结构图">图14 系统管理模块功能结构图</a></li>
                                                <li><a href="#220" data-title="图15 硬件指标数据实时显示">图15 硬件指标数据实时显示</a></li>
                                                <li><a href="#222" data-title="图16 报警规则配置界面">图16 报警规则配置界面</a></li>
                                                <li><a href="#224" data-title="图17 系统管理模块界面">图17 系统管理模块界面</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="118">


                                    <a id="bibliography_1" title=" 杨靖琦, 胡勋.多云平台监控系统的设计与实现[J].微型机与应用, 2017, 36 (10) :102-105." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXJY201710030&amp;v=MzA1NDFqWEJkN0c0SDliTnI0OUdaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpnVjdyQU0=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                         杨靖琦, 胡勋.多云平台监控系统的设计与实现[J].微型机与应用, 2017, 36 (10) :102-105.
                                    </a>
                                </li>
                                <li id="120">


                                    <a id="bibliography_2" title=" 张倩, 何汉东.基于私有云平台的云主机资源监控方案[J].计算机系统应用, 2017, 26 (8) :71-76." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYY201708012&amp;v=MDgyMjNTZDdHNEg5Yk1wNDlFWm9RS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlqZ1Y3ckFQVG4=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         张倩, 何汉东.基于私有云平台的云主机资源监控方案[J].计算机系统应用, 2017, 26 (8) :71-76.
                                    </a>
                                </li>
                                <li id="122">


                                    <a id="bibliography_3" title=" 孙荣燕, 罗乐, 王宇韬, 等.利用主机监控系统实现服务器集中管理的研究和实践[J].信息安全与技术, 2013, 4 (6) :54-57." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=AQJS201306019&amp;v=MjIxMzc3ckFKRHpCZmJHNEg5TE1xWTlFYllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlqZ1Y=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[3]</b>
                                         孙荣燕, 罗乐, 王宇韬, 等.利用主机监控系统实现服务器集中管理的研究和实践[J].信息安全与技术, 2013, 4 (6) :54-57.
                                    </a>
                                </li>
                                <li id="124">


                                    <a id="bibliography_4" title=" Zabbix[OL].http://www.zabbix.com/." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Zabbix[OL]">
                                        <b>[4]</b>
                                         Zabbix[OL].http://www.zabbix.com/.
                                    </a>
                                </li>
                                <li id="126">


                                    <a id="bibliography_5" title=" Telegraf[OL].https://www.influxdata.com/time-series-platform/telegraf/." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Telegraf[OL]">
                                        <b>[5]</b>
                                         Telegraf[OL].https://www.influxdata.com/time-series-platform/telegraf/.
                                    </a>
                                </li>
                                <li id="128">


                                    <a id="bibliography_6" title=" 陶海鹏, 王勇, 俸皓.云环境下的Linux进程监控的设计与实现[J].微电子学与计算机, 2017, 34 (7) :137-140." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201707029&amp;v=MjU1MTJxSTlIYllRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVp0RnlqZ1Y3ckFNalhTWkxHNEg5Yk0=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[6]</b>
                                         陶海鹏, 王勇, 俸皓.云环境下的Linux进程监控的设计与实现[J].微电子学与计算机, 2017, 34 (7) :137-140.
                                    </a>
                                </li>
                                <li id="130">


                                    <a id="bibliography_7" title=" 支连意.云环境中集群监控数据采集与分析系统的研究与实现[D].南京:东南大学, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016328512.nh&amp;v=MDkwNDRSN3FmWnVadEZ5amdWN3JBVkYyNkdMQzZGdFROclpFYlBJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1U=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         支连意.云环境中集群监控数据采集与分析系统的研究与实现[D].南京:东南大学, 2016.
                                    </a>
                                </li>
                                <li id="132">


                                    <a id="bibliography_8" title=" 曾庚.信息安全运维审计系统集群监控的设计与实现[D].北京:华北电力大学, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016270380.nh&amp;v=MDE3NTM1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpnVjdyQVZGMjZHTEcvSHRMRXI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                         曾庚.信息安全运维审计系统集群监控的设计与实现[D].北京:华北电力大学, 2016.
                                    </a>
                                </li>
                                <li id="134">


                                    <a id="bibliography_9" title=" 李贝贝.虚拟化数据中心的集群监控管理系统研究[D].济南:山东大学, 2016." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016203910.nh&amp;v=MTEzMDBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amdWN3JBVkYyNkdMRzRIZGpOcjVFYlBJUUs=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[9]</b>
                                         李贝贝.虚拟化数据中心的集群监控管理系统研究[D].济南:山东大学, 2016.
                                    </a>
                                </li>
                                <li id="136">


                                    <a id="bibliography_10" title=" 郭启立.主机系统性能监控管理平台[D].西安:西安电子科技大学, 2013." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1014327793.nh&amp;v=MjYyMDl1WnRGeWpnVjdyQVZGMjZHckM2R2RiRnJKRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                         郭启立.主机系统性能监控管理平台[D].西安:西安电子科技大学, 2013.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(07),14-20 DOI:10.3969/j.issn.1000-386x.2019.07.003            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>数据中心服务器资源监控系统的设计与实现</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%8F%B0%E5%AE%AA%E9%9D%92&amp;code=39220901&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">台宪青</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%90%B4%E6%A2%A6%E6%82%A6&amp;code=40717947&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">吴梦悦</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%A9%AC%E7%8E%89%E5%B3%B0&amp;code=40550294&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">马玉峰</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%B5%B5%E6%97%A6%E8%B0%B1&amp;code=40549407&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">赵旦谱</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E4%B8%AD%E5%9B%BD%E7%A7%91%E5%AD%A6%E9%99%A2%E7%94%B5%E5%AD%90%E5%AD%A6%E7%A0%94%E7%A9%B6%E6%89%80%E8%8B%8F%E5%B7%9E%E7%A0%94%E7%A9%B6%E9%99%A2&amp;code=0227399&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">中国科学院电子学研究所苏州研究院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%B1%9F%E8%8B%8F%E7%89%A9%E8%81%94%E7%BD%91%E7%A0%94%E7%A9%B6%E5%8F%91%E5%B1%95%E4%B8%AD%E5%BF%83&amp;code=1733829&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">江苏物联网研究发展中心</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>服务器是数据中心的核心组成部分, 对服务器中的资源进行监控是保障数据中心正常运行的必要手段之一。随着数据中心设备数量和数据存储规模的不断增加, 直观、高效地对服务器资源进行监控已经是一个亟待解决的问题。设计并实现一套服务器资源监控系统, 实时监控服务器的计算、信息、服务资源运行状态, 实现海量监控数据的实时处理和统计分析, 满足数据中心服务器资源的全面监控和安全保障要求, 并展示了监控系统的运行效果。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%B5%84%E6%BA%90%E7%9B%91%E6%8E%A7&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">服务器资源监控;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时序数据;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分布式集群;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    台宪青, 研究员, 主研领域:计算机应用。;
                                </span>
                                <span>
                                    吴梦悦, 硕士生。;
                                </span>
                                <span>
                                    马玉峰, 高工。;
                                </span>
                                <span>
                                    赵旦谱, 副研究员。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-12-04</p>

                    <p>

                            <b>基金：</b>
                                                        <span>中国科学院A类战略性先导科技专项 (XDA19080203);</span>
                    </p>
            </div>
                    <h1><b>DESIGN AND IMPLEMENTATION OF SERVER RESOURCE MONITORING SYSTEM IN DATA CENTER</b></h1>
                    <h2>
                    <span>Tai Xianqing</span>
                    <span>Wu Mengyue</span>
                    <span>Ma Yufeng</span>
                    <span>Zhao Danpu</span>
            </h2>
                    <h2>
                    <span>Institute of Electronics, Chinese Academy of Sciences</span>
                    <span>Jiangsu R&D Center for Internet of Things</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Server is the core part of the data center, so it is necessary to monitor the server resource to ensure the normal operation of the data center. With the increase of the number of devices and the scale of data storage in the data center, monitoring the server resource intuitively and efficiently has become a challenge issue. This paper designed and implemented a server resource monitoring system, which could monitor the status of the computing resources, information resources, and service resources in the data center. It achieved the real-time processing and statistical analysis for the massive data, and satisfied the requirements of both monitoring and security. Finally, it shows the operation of the monitoring system and it works well.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Server%20resource%20monitoring&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Server resource monitoring;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Timing%20data&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Timing data;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Distributed%20cluster&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Distributed cluster;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-12-04</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="138" name="138" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="139">当前, 随着云、分布式、虚拟化等技术的发展, 多层级、分布式、多中心的服务体系架构已经普遍存在于公司、企业、政府等多种单位机构中。服务器在服务体系架构中扮演着重要的角色, 并且会影响该体系架构的服务质量。因此, 为了保障服务体系架构的稳定运行, 运维人员需要通过对服务器进行监控的方式, 时刻记录服务器资源的状态信息<citation id="227" type="reference"><link href="118" rel="bibliography" /><link href="120" rel="bibliography" /><link href="122" rel="bibliography" /><sup>[<a class="sup">1</a>,<a class="sup">2</a>,<a class="sup">3</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="140">然而, 随着服务体系架构的不断扩大, 对服务器集群的运维和监管变得日益复杂。另外, 由于服务器集群上的数据量巨大, 对服务器状态的监控和故障定位已然给运维人员带来了很大的难度<citation id="228" type="reference"><link href="124" rel="bibliography" /><link href="126" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">5</a>]</sup></citation>, 导致投在运维上的人力物力成本逐渐加大。此时, 如何设计一种直观、高效的服务器资源监控系统, 从而规范、合理的管理服务器集群, 已经是一个亟待解决的问题<citation id="229" type="reference"><link href="128" rel="bibliography" /><link href="130" rel="bibliography" /><link href="132" rel="bibliography" /><link href="134" rel="bibliography" /><sup>[<a class="sup">6</a>,<a class="sup">7</a>,<a class="sup">8</a>,<a class="sup">9</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="141">本文考虑了数据中心中服务器资源的有效监控问题, 并结合中科院先导科技专项 (编号:XDA19000000) 软件平台对数据中心服务器集群的监控需求, 建立一套完整的实时针对分布式集群服务器资源的监控系统。该系统可以实现如下功能:</p>
                </div>
                <div class="p1">
                    <p id="142"> (1) 统一管理数据中心的用户权限、服务器及相关设备;</p>
                </div>
                <div class="p1">
                    <p id="143"> (2) 实时采集服务器运行的状态信息, 并进行统计分析和异常报警;</p>
                </div>
                <div class="p1">
                    <p id="144"> (3) 全面掌控应用系统的进程状态和计算资源使用情况, 以便第一时间察觉服务宕机等情况的发生, 减少服务失效造成的损失。</p>
                </div>
                <h3 id="145" name="145" class="anchor-tag"><b>1 总体设计</b></h3>
                <div class="p1">
                    <p id="146">本系统主要由六个模块组成:① 数据采集模块, ② 数据存储模块, ③ 统计分析模块, ④ 异常报警模块, ⑤ 系统管理模块, ⑥数据可视化模块。系统架构图如图1所示。</p>
                </div>
                <div class="area_img" id="147">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_147.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 服务器资源监控系统架构图" src="Detail/GetImg?filename=images/JYRJ201907004_147.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 服务器资源监控系统架构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_147.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="148">每个模块的功能概括如下:</p>
                </div>
                <div class="p1">
                    <p id="149">① 数据采集模块:该模块负责实时采集服务器资源状态信息, 并将信息发送到存储模块进行长期保存。为了减少采集代理对宿主机产生大负载, 本系统的采集模块将基于轻量级的采集工具Telegraf进行开发<citation id="230" type="reference"><link href="136" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="150">② 数据存储模块:该模块用于接收采集模块的数据并进行持久化存储。本系统设计将根据业务需求, 采用关系数据库MySQL和时序数据库OpenTSDB组合的方式, 对服务器进行实时监控。MySQL主要用于存储用户权限、机房设备等基本数据, 而OpenTSDB主要用于存储实时监控数据, 并提供高并发访问特性。</p>
                </div>
                <div class="p1">
                    <p id="151">③ 统计分析模块:该模块对数据存储模块 (OpenTSDB) 中的实时数据进行多个维度 (比如物理维度、时间维度等) 的统计和处理。统计分析的结果主要用于分析服务器的资源使用特性和规律, 并为服务器的异常判断提供依据。</p>
                </div>
                <div class="p1">
                    <p id="152">④ 异常报警模块:该模块将对采集的数据进行实时的异常检测, 并对硬件资源和进程状态异常进行实时报警, 避免服务器长时间故障和受到安全威胁造成的损失。</p>
                </div>
                <div class="p1">
                    <p id="153">⑤ 系统管理模块:该模块将对中心机房设备、应用服务进程、用户权限等信息进行统一管理, 提高机房管理人员的监管效率。</p>
                </div>
                <div class="p1">
                    <p id="154">⑥ 数据可视化模块:该模块提供多维、直观的可视化效果, 用户可依据自己的需求来定制化配置界面。</p>
                </div>
                <h3 id="155" name="155" class="anchor-tag"><b>2 详细设计</b></h3>
                <h4 class="anchor-tag" id="156" name="156"><b>2.1 数据采集模块</b></h4>
                <div class="p1">
                    <p id="157">由于数据中心的数据量巨大, 为了不影响数据中心的整体性能, 数据采集模块将基于占用内存小、对宿主机器产生负荷小的Telegraf采集器进行开发。首先介绍采集模块需要采集的信息项, 然后详细地介绍基于Telegraf的采集插件开发。</p>
                </div>
                <h4 class="anchor-tag" id="158" name="158"><b>2.1.1 采集信息项</b></h4>
                <div class="p1">
                    <p id="159">本监控系统需要从数据中心服务器中采集到的详细信息如表1-表7所示。这些信息主要分为三种类型:系统信息 (表1) 、计算资源状态信息 (表2-表5) 、服务进程信息 (表6和表7) 。</p>
                </div>
                <div class="area_img" id="160">
                    <p class="img_tit"><b>表1 系统信息</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="160" border="1"><tr><td><br />服务器ip</td><td>ip</td></tr><tr><td><br />服务器名</td><td>hostname</td></tr><tr><td><br />最近一分钟负载</td><td>load1</td></tr><tr><td><br />最近5分钟负载</td><td>load5</td></tr><tr><td><br />最近15分钟负载</td><td>load15</td></tr><tr><td><br />操作系统名称</td><td>os_name</td></tr><tr><td><br />用户数</td><td>n_users</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="161">
                    <p class="img_tit"><b>表2 CPU类信息</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="161" border="1"><tr><td><br />CPU个数</td><td>n_cpu</td></tr><tr><td><br />CPU使用率</td><td>cpu_used_per</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="162">
                    <p class="img_tit"><b>表3 Mem类信息</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="162" border="1"><tr><td><br />内存总量</td><td>mem_total</td></tr><tr><td><br />空闲内存量</td><td>mem_free</td></tr><tr><td><br />内存使用率</td><td>mem_used</td></tr><tr><td><br />可用内存量</td><td>mem_avaiable</td></tr><tr><td><br />缓冲区内存量</td><td>mem_buffered</td></tr><tr><td><br />缓存区内存量</td><td>mem_cached</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="163"><b>续表3</b></p>
                </div>
                <div class="area_img" id="164">
                    <p class="img_tit"> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="164" border="1"><tr><td><br />内存总量</td><td>mem_total</td></tr><tr><td><br />近期访问过的对象内存量</td><td>mem_active</td></tr><tr><td><br />长期未访问对象内存量</td><td>mem_inactive</td></tr><tr><td><br />内存使用率</td><td>mem_used_per</td></tr><tr><td><br />内存空闲率</td><td>mem_free_per</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="165">
                    <p class="img_tit">表4 Net类信息 <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="165" border="1"><tr><td><br />网络发送速率</td><td>net_send_rate</td></tr><tr><td><br />网络接收速率</td><td>net_recv_rate</td></tr><tr><td><br />网络发送字节数</td><td>net_send_bytes</td></tr><tr><td><br />网络接收字节数</td><td>net_recv_bytes</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="166">
                    <p class="img_tit">表5 Disk类信息 <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="166" border="1"><tr><td><br />磁盘空间总量</td><td>disk_total</td></tr><tr><td><br />磁盘使用量</td><td>disk_avaiable</td></tr><tr><td><br />磁盘空闲量</td><td>disk_free</td></tr><tr><td><br />磁盘使用率</td><td>disk_free_per</td></tr><tr><td><br />disk读出数据大小</td><td>disk_read_bytes</td></tr><tr><td><br />disk写入数据大小</td><td>disk_write_bytes</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="167">
                    <p class="img_tit">表6 Process总体信息 <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="167" border="1"><tr><td><br />进程总数</td><td>processes_total</td></tr><tr><td><br />线程总数</td><td>processes_running</td></tr><tr><td><br />休眠状态进程数</td><td>processes_sleeping</td></tr><tr><td><br />阻塞状态进程数</td><td>processes_bloked</td></tr><tr><td><br />终止状态进程数</td><td>processes_stopped</td></tr><tr><td><br />僵尸进程数</td><td>processes_zombies</td></tr><tr><td><br />死亡进程数</td><td>processes_dead</td></tr><tr><td><br />换页进程数</td><td>processes_paging</td></tr><tr><td><br />未知进程数</td><td>processes_unknowing</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="168">
                    <p class="img_tit">表7 Process详细信息 <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="168" border="1"><tr><td><br />进程名</td><td>process_name</td></tr><tr><td><br />进程id</td><td>pid</td></tr><tr><td><br />进程状态</td><td>process_status</td></tr><tr><td><br />所属用户</td><td>process_user</td></tr><tr><td><br />CPU利用率</td><td>process_cpu_per</td></tr><tr><td><br />内存利用率</td><td>process_mem_per</td></tr><tr><td><br />磁盘写入数据大小</td><td>process_disk_write</td></tr><tr><td><br />磁盘读出数据大小</td><td>process_disk_read</td></tr><tr><td><br />网络发出数据大小</td><td>process_net_send</td></tr><tr><td><br />网络接收数据大小</td><td>process_net_receive</td></tr><tr><td><br />运行时间</td><td>process_running_time</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="169">计算资源状态信息包括CPU、内存、网络、磁盘的相关运行状态信息。服务进程信息包括服务器进程总体信息和进程的详细信息, 其中进程总体信息是指系统进程总数以及处在各种状态的进程数量;详细进程信息是指单个进程信息的进程名、进程ID以及计算资源利用率。</p>
                </div>
                <h4 class="anchor-tag" id="170" name="170"><b>2.1.2 采集器Telegraf插件化开发</b></h4>
                <div class="p1">
                    <p id="171">Telegraf结构由Input、Processor、Aggreator和Output四个模块组成, 如图2所示。其中, Input是数据输入端, 支持多种协议方式的数据采集;Processor对采集的数据进行简单的格式化、编码和过滤;Aggregator提供数据的简单聚合功能, 如最大值、最小值操作;Output是数据输出端, 主要用于将采集到的数据发送到存储端, 能够支持的多种类型的数据库和存储方式, 如关系数据库、时序数据库、文件系统等。</p>
                </div>
                <div class="area_img" id="172">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_172.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 Telegraf组成结构图" src="Detail/GetImg?filename=images/JYRJ201907004_172.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 Telegraf组成结构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_172.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="173">由于Telegraf仅支持服务器端的系统信息和计算资源状态信息采集, 而不支持应用进程相关信息的采集, 所以, 为了能够采集到服务器的进程信息, 我们需要在Input插件模块中添加“process”插件。</p>
                </div>
                <div class="p1">
                    <p id="174">图3是Process插件的主函数开发流程图。在该流程中, 首先, 调用Init () 函数初始化Input插件, 将其命名为“process”。然后, 定义Description () 函数对其功能、属性进行描述;定义SampleConfig () 函数对其参数进行配置。最后, 创建核心函数Gather () 用来进行监控数据的统计, 统计好的数据在Gather () 函数中进行封装, 并回到主函数中完成插件的注册。</p>
                </div>
                <div class="area_img" id="175">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_175.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 Telegraf input插件开发主函数流程图" src="Detail/GetImg?filename=images/JYRJ201907004_175.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 Telegraf input插件开发主函数流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_175.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="176">Gather () 函数的开发流程如图4所示。首先, 传入参数acc。接着, 获取空的fields数组进行属性定义。然后, 通过runtime.GOOS获取系统类型, 并调用getFromProc () 函数 (图5) 读取服务器/proc目录下的内核信息进行进程信息的统计, 最后对measurement、fields数组封装。</p>
                </div>
                <div class="area_img" id="177">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_177.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 gather () 函数流程图" src="Detail/GetImg?filename=images/JYRJ201907004_177.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 gather () 函数流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_177.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="178">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_178.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 getFromProc () 函数流程图" src="Detail/GetImg?filename=images/JYRJ201907004_178.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 getFromProc () 函数流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_178.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="179" name="179"><b>2.2 数据存储模块</b></h4>
                <div class="p1">
                    <p id="180">本监控系统的存储模块主要用于存储两类信息:静态的基本信息和动态的监控信息。基本信息包括用户、权限、机房、机柜、服务器、应用服务等, 多为结构化数据, 主要用于联表查询, 因此采用关系数据库MySQL来存储。MySQL中包含的表ER图如图6所示。</p>
                </div>
                <div class="area_img" id="181">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_181.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 MySQL表ER图" src="Detail/GetImg?filename=images/JYRJ201907004_181.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 MySQL表ER图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_181.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="182">监控信息多为海量连续的时间序列数据信息。为了提高该种类型数据的存储效率, 采用基于HBASE改进的OpenTSDB时序数据库来对监控信息数据进行存储。在该数据库的执行过程中, 为了提高存储和传输效率, 采用key-Value的存储形式, 以此来减少传输和存储过程中所占用的空间大小, 其中key的值可以结合具体应用场景来设置为时间、机器编号等值。监控信息的数据存储格式如下所示:</p>
                </div>
                <div class="p1">
                    <p id="183">metric:cpu_usage</p>
                </div>
                <div class="p1">
                    <p id="184">timestamp:1234567890</p>
                </div>
                <div class="p1">
                    <p id="185">value:0.42</p>
                </div>
                <div class="p1">
                    <p id="186">tags:host=web42, pool=static</p>
                </div>
                <div class="p1">
                    <p id="187">其中:metric表示监控信息名称;timestamp表示数据产生的时间;value表示监控信息 (metric) 的具体值;tags是对监控数据的描述, 通过tags可实现数据的快速定位、检索和统计分析。</p>
                </div>
                <h4 class="anchor-tag" id="188" name="188"><b>2.3 统计分析模块</b></h4>
                <div class="p1">
                    <p id="189">统计分析模块对数据分析过程分为三部分:数据读取、聚合分析、数据存储, 如图7所示。首先, 读取OpenTSDB中存储的原始数据。然后, 进行多维度的计算分析, 依靠服务协调来保证计算过程的准确性、实时性、扩展性, 获取数据的周期特性和统计特性, 便于管理人员和运维人员掌握数据中心服务器总体资源的概况。最后, 将统计结果存入到OpenTSDB数据库。</p>
                </div>
                <div class="area_img" id="190">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_190.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 统计分析过程图" src="Detail/GetImg?filename=images/JYRJ201907004_190.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 统计分析过程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_190.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="191">在数据的读取过程中, 采集器以秒级频率采集数据。由于单线程读取数据的时间效率很低, 当时间跨度较大时, 读取过程采用多线程方式。而当时间长度大于小时级别时, 为进一步提高读取效率, 对时间间隔进行划分, 采用低粒度的时间间隔读取数据, 每一个小的时间间隔用一个线程来读取, 读取的数据发送到统计分析服务器进行分析处理。数据读取逻辑如图8所示。</p>
                </div>
                <div class="area_img" id="192">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 多线程数据读取逻辑图" src="Detail/GetImg?filename=images/JYRJ201907004_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 多线程数据读取逻辑图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="193">另外, OpenTSDB支持http接口协议, 对服务器IP、时间戳、监控信息项进行封装, 通过httpClient向OpenTSDB发出请求, 其将结果通过同样的格式返回, 统计分析模块对结果进行Json解析, 最后以Java对象格式获取数据。HTTP请求OpenTSDB逻辑如图9所示。</p>
                </div>
                <div class="area_img" id="194">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_194.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 OpenTSDB HTTP协议访问流程图" src="Detail/GetImg?filename=images/JYRJ201907004_194.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 OpenTSDB HTTP协议访问流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_194.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="195">聚合分析模块使用HTTP接口从OpenTSDB读取监控信息进行分析处理, 并将结果使用HTTP接口写回时序数据库, 以备前段页面进行展示和历史纪录查询。</p>
                </div>
                <div class="p1">
                    <p id="196">聚合分析主要是对一段时间内各类监控信息数据求均值, 用于资源状态的评估。对于秒级和分钟级的聚合操作直接利用时序数据库的高并发特性聚合读取, 而对于小时、日、月、年等级别的数据聚合则要通过数据分级统计, 粗粒度时间聚合在细粒度数据聚合基础之上进行计算。分级统计逻辑如图10所示。</p>
                </div>
                <div class="area_img" id="197">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_197.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 分级统计逻辑图" src="Detail/GetImg?filename=images/JYRJ201907004_197.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图10 分级统计逻辑图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_197.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="198">在图10中, 分级统计采用双队列多线程池方式, 细时间粒度的数据完成自身数据的聚合操作, 同时将数据存入数据库作为粗时间粒度数据聚合的基础, 实现一次数据读取、多次数据处理的效果。同时计算型线程和IO型线程分离, 提高了统计分析的效率。</p>
                </div>
                <div class="p1">
                    <p id="199">本系统需支持多个机房百台至千台级别服务器的监控, 实时采集周期最小支持为1秒, 监控信息项为60条, 统计分析维度达10个维度。为满足海量数据的实时处理要求, 系统采用分布式集群方式对监控信息进行处理, 通过服务协调来保障新增服务器数据被处理、且只被单个统计服务实例处理。其中为防止统计分析服务实例宕机造成的个别服务器数据不被处理, 使用Hash取模法对服务器id进行计算, 获得该服务器所属的服务实例。当出现服务实例宕机的状况便对所有服务器id进行重Hash计算。统计分析模块实现流程图如图11所示。</p>
                </div>
                <div class="area_img" id="200">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图11 统计分析模块实现流程图" src="Detail/GetImg?filename=images/JYRJ201907004_200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图11 统计分析模块实现流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="201">各个统计服务是并行计算的, 统计服务实例可以根据监控服务器数量增加或减少, 实现了统计服务的弹性部署, 合理利用资源。</p>
                </div>
                <div class="p1">
                    <p id="202">采用zookeeper集群监控当前在线的统计服务实例的运行状态, 当一台统计服务器上线时, 会向其注册临时节点, 该临时节点的值为当前服务器的IP地址和端口号构成的可路由的地址, 当一台统计服务实例下线的时候, 临时节点便被删除。当服务器增加或者服务器减少, zookeeper集群都会通知协调分配服务, 重新进行任务的划分。</p>
                </div>
                <div class="p1">
                    <p id="203">协调分配服务通过watcher监听器监听服务器的变化, 更新本地缓存表并对新增加的服务器进行编号, 利用Hash算法对服务器id进行取模计算, 获取对应的统计服务实例, 或者删除某服务器id。</p>
                </div>
                <h4 class="anchor-tag" id="204" name="204"><b>2.4 异常报警模块</b></h4>
                <div class="p1">
                    <p id="205">进程挂机或者资源占用异常会影响服务器的处理速度或提供服务的能力, 因此需要设定报警规则对异常事件进行报警。异常报警模块将提供报警规则设定和管理、历史报警事件记录的功能。</p>
                </div>
                <div class="p1">
                    <p id="206">本文主要针对系统负载、计算资源和服务状态三个方面进行异常检测和报警通知。其报警模块架构图如图12所示。</p>
                </div>
                <div class="area_img" id="207">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图12 异常报警模块架构图" src="Detail/GetImg?filename=images/JYRJ201907004_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图12 异常报警模块架构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_207.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="208">在本系统的报警规则中, 当各个指标满足一定的报警条件时, 报警模块将根据不同的阈值触发不同级别的报警。表8定义了warning和critical两种默认的报警级别。</p>
                </div>
                <div class="area_img" id="209">
                    <p class="img_tit"><b>表8 默认报警规则表</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="209" border="1"><tr><td>指标</td><td>报警条件</td><td>阈值</td><td>报警级别</td></tr><tr><td><br />cpu_usage</td><td>连续5次</td><td>75%/90%</td><td>Warning/critical</td></tr><tr><td><br />mem_usage</td><td>连续5次</td><td>70%/80%</td><td>Warning/critical</td></tr><tr><td><br />disk_usage</td><td>连续5次</td><td>80%/90%</td><td>Warning/critical</td></tr><tr><td><br />mem_usage</td><td>连续5次</td><td> (0.8/0.95) *BW</td><td>Warning/critical</td></tr><tr><td><br />sys_load</td><td>最近15 min</td><td>70%</td><td>critical</td></tr><tr><td><br />p_zombies</td><td>实时</td><td>1</td><td>warning</td></tr><tr><td><br />p_stopped</td><td>实时</td><td>1</td><td>warning</td></tr><tr><td><br />p_blocked</td><td>实时</td><td>5</td><td>warning</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="210">另外, 本系统还提供报警规则配置接口, 供用户进行规则的自定义。异常报警模块的原理如图13所示。</p>
                </div>
                <div class="area_img" id="211">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图13 异常报警模块逻辑图" src="Detail/GetImg?filename=images/JYRJ201907004_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图13 异常报警模块逻辑图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="212">从OpenTSDB数据库中读取最新采集到的数据经过预处理操作, 并和redis缓存的报警阈值数据进行对比, 对于连续超过阈值和限定次数的事件判定为异常, 可为各种报警方式提供触发信息。</p>
                </div>
                <h4 class="anchor-tag" id="213" name="213"><b>2.5 管理模块</b></h4>
                <div class="p1">
                    <p id="214">系统管理模块包括对用户权限信息管理和中心机房设备管理两部分, 如图14所示。</p>
                </div>
                <div class="area_img" id="215">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_215.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图14 系统管理模块功能结构图" src="Detail/GetImg?filename=images/JYRJ201907004_215.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图14 系统管理模块功能结构图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_215.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="216">在用户权限的管理中, 系统根据用户的角色和所属机构进行角色权限访问控制。在机房设备管理中, 系统采用树形层级结构来管理中心机房中的所有设备, 以便维护人员可以根据层级关系查看总体概况。</p>
                </div>
                <h3 id="217" name="217" class="anchor-tag"><b>3 系统实现</b></h3>
                <div class="p1">
                    <p id="218">在本节中, 我们将依次展示所开发的资源监控系统在数据采集、异常报警和系统管理方面的效果。</p>
                </div>
                <div class="p1">
                    <p id="219">图15展示了系统在部分硬件指标上的数据采集结果。通过可视化分析工具, 我们可以通过文字、柱状图、折线图等多种方式, 直观、清晰地发现服务器在CPU、磁盘以及网络方面的实时状态结果。</p>
                </div>
                <div class="area_img" id="220">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_220.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图15 硬件指标数据实时显示" src="Detail/GetImg?filename=images/JYRJ201907004_220.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图15 硬件指标数据实时显示  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_220.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="221">图16展示了报警规则设置界面, 供用户根据实际情况进行报警规则自定义, 用户可定义指标阈值和报警条件, 并选择报警方式。</p>
                </div>
                <div class="area_img" id="222">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_222.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图16 报警规则配置界面" src="Detail/GetImg?filename=images/JYRJ201907004_222.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图16 报警规则配置界面  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_222.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="223">图17展示了系统给操作者提供的信息管理统一接口, 以列表和表格的形式展示用户、角色、机构、权限、机房、机柜、服务器、应用服务、服务实例的信息, 用户可在界面对数据进行查看、编辑和删除操作。</p>
                </div>
                <div class="area_img" id="224">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201907004_224.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图17 系统管理模块界面" src="Detail/GetImg?filename=images/JYRJ201907004_224.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图17 系统管理模块界面  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201907004_224.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="225" name="225" class="anchor-tag"><b>4 结 语</b></h3>
                <div class="p1">
                    <p id="226">本系统针对数据中心大规模服务器资源的监控需求, 设计并实现了一套完整的解决方案。在该方案中, 采集端使用轻量级负载小的采集代理Telegraf, 对服务器系统信息、计算资源状态信息、服务进程信息进行采集, 并将采集结果发送到时序数据库OpenTSDB中存储。OpenTSDB以较小的存储空间和时序函数优越的查询性能, 保证监控时序数据的高效存储和快速处理海量数据的能力。统计分析模块采用分布式集群技术、多机协同数据处理方法和分级聚合分析算法, 对海量监控数据实现实时的分析处理。异常报警模块提供多种报警方式和报警手段。资源可视化模块提供了丰富的可视化形式和直观的监控信息展示方式。最后, 系统实现用户信息、机房设备、服务应用的统一管理, 将繁杂的信息管理系统化和条理化。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="118">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXJY201710030&amp;v=MTEzMjJDVVI3cWZadVp0RnlqZ1Y3ckFNalhCZDdHNEg5Yk5yNDlHWklRS0RIODR2UjRUNmo1NE8zenFxQnRHRnI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b> 杨靖琦, 胡勋.多云平台监控系统的设计与实现[J].微型机与应用, 2017, 36 (10) :102-105.
                            </a>
                        </p>
                        <p id="120">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=XTYY201708012&amp;v=MjU2NDY0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amdWN3JBUFRuU2Q3RzRIOWJNcDQ5RVpvUUtESDg0dlI=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 张倩, 何汉东.基于私有云平台的云主机资源监控方案[J].计算机系统应用, 2017, 26 (8) :71-76.
                            </a>
                        </p>
                        <p id="122">
                            <a id="bibliography_3" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=AQJS201306019&amp;v=MTA4MTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpnVjdyQUpEekJmYkc0SDlMTXFZOUViWVE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[3]</b> 孙荣燕, 罗乐, 王宇韬, 等.利用主机监控系统实现服务器集中管理的研究和实践[J].信息安全与技术, 2013, 4 (6) :54-57.
                            </a>
                        </p>
                        <p id="124">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Zabbix[OL]">

                                <b>[4]</b> Zabbix[OL].http://www.zabbix.com/.
                            </a>
                        </p>
                        <p id="126">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Telegraf[OL]">

                                <b>[5]</b> Telegraf[OL].https://www.influxdata.com/time-series-platform/telegraf/.
                            </a>
                        </p>
                        <p id="128">
                            <a id="bibliography_6" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=WXYJ201707029&amp;v=MTIwMDVMRzRIOWJNcUk5SGJZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amdWN3JBTWpYU1o=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[6]</b> 陶海鹏, 王勇, 俸皓.云环境下的Linux进程监控的设计与实现[J].微电子学与计算机, 2017, 34 (7) :137-140.
                            </a>
                        </p>
                        <p id="130">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016328512.nh&amp;v=MzEzMTVnVjdyQVZGMjZHTEM2RnRUTnJaRWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWo=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 支连意.云环境中集群监控数据采集与分析系统的研究与实现[D].南京:东南大学, 2016.
                            </a>
                        </p>
                        <p id="132">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016270380.nh&amp;v=MTI4NjBESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVadEZ5amdWN3JBVkYyNkdMRy9IdExFcjVFYlBJUUs=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b> 曾庚.信息安全运维审计系统集群监控的设计与实现[D].北京:华北电力大学, 2016.
                            </a>
                        </p>
                        <p id="134">
                            <a id="bibliography_9" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1016203910.nh&amp;v=MDIzODZxZlp1WnRGeWpnVjdyQVZGMjZHTEc0SGRqTnI1RWJQSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjc=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[9]</b> 李贝贝.虚拟化数据中心的集群监控管理系统研究[D].济南:山东大学, 2016.
                            </a>
                        </p>
                        <p id="136">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CMFD&amp;filename=1014327793.nh&amp;v=MjQzOTMzenFxQnRHRnJDVVI3cWZadVp0RnlqZ1Y3ckFWRjI2R3JDNkdkYkZySkViUElRS0RIODR2UjRUNmo1NE8=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b> 郭启立.主机系统性能监控管理平台[D].西安:西安电子科技大学, 2013.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201907004" />
        <input id="dpi" type="hidden" value="600" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201907004&amp;v=MDc1MjVSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnRGeWpnVjdyQUx6VFpaTEc0SDlqTXFJOUZZSVFLREg4NHY=&amp;uid=WEEvREcwSlJHSldRa1FhdkJtNEYxa3hKZG9XL1JrZXNhdGVWVEdvM0tSMD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
