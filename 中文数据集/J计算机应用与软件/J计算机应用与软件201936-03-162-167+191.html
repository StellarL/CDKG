<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637136396795127500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJYRJ201903031%26RESULT%3d1%26SIGN%3d%252feBXkDOLPFmp2yYH5X%252bBgiIFe0g%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201903031&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JYRJ201903031&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201903031&amp;v=MDQ2OTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGaURsVnIzTUx6VFpaTEc0SDlqTXJJOUdaWVE=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#27" data-title="&lt;b&gt;0 引 言&lt;/b&gt; "><b>0 引 言</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#31" data-title="&lt;b&gt;1 R-λ模型码率控制算法&lt;/b&gt; "><b>1 R-λ模型码率控制算法</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#33" data-title="&lt;b&gt;1.1 R-λ模型&lt;/b&gt;"><b>1.1 R-λ模型</b></a></li>
                                                <li><a href="#43" data-title="&lt;b&gt;1.2 比特分配&lt;/b&gt;"><b>1.2 比特分配</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#56" data-title="&lt;b&gt;2 码率控制算法设计&lt;/b&gt; "><b>2 码率控制算法设计</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#58" data-title="&lt;b&gt;2.1 HEVC的低延时编码结构分析&lt;/b&gt;"><b>2.1 HEVC的低延时编码结构分析</b></a></li>
                                                <li><a href="#61" data-title="&lt;b&gt;2.2 R-λ模型参数更新的改进&lt;/b&gt;"><b>2.2 R-λ模型参数更新的改进</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;2.3 低延时编码码率控制算法&lt;/b&gt;"><b>2.3 低延时编码码率控制算法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#101" data-title="&lt;b&gt;3 实验及结果分析&lt;/b&gt; "><b>3 实验及结果分析</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#117" data-title="&lt;b&gt;4 结 语&lt;/b&gt; "><b>4 结 语</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#60" data-title="图1 低延时编码结构">图1 低延时编码结构</a></li>
                                                <li><a href="#70" data-title="&lt;b&gt;表1 算法描述采用的符号及其含义&lt;/b&gt;"><b>表1 算法描述采用的符号及其含义</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;续表1&lt;/b&gt;"><b>续表1</b></a></li>
                                                <li><a href="#87" data-title="图2 算法流程图">图2 算法流程图</a></li>
                                                <li><a href="#108" data-title="&lt;b&gt;表2 3种码率控制算法的实验结果&lt;/b&gt;"><b>表2 3种码率控制算法的实验结果</b></a></li>
                                                <li><a href="#110" data-title="&lt;b&gt;表3 码率控制算法的性能比较&lt;/b&gt; %"><b>表3 码率控制算法的性能比较</b> %</a></li>
                                                <li><a href="#113" data-title="图3 率失真曲线对比">图3 率失真曲线对比</a></li>
                                                <li><a href="#116" data-title="图4 序列Cactus前100帧GOP的编码比特和编码帧的PSNR">图4 序列Cactus前100帧GOP的编码比特和编码帧的PSNR</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="3">


                                    <a id="bibliography_1" title=" Sullivan G J, Ohm J R, Han W J, et al. Overview of the high efficiency video coding (HEVC) standard[J]. IEEE Transactions on circuits and systems for video technology, 2012, 22 (12) :1649-1668." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Overview of the High Efficiency Video Coding (HEVC) Standard">
                                        <b>[1]</b>
                                         Sullivan G J, Ohm J R, Han W J, et al. Overview of the high efficiency video coding (HEVC) standard[J]. IEEE Transactions on circuits and systems for video technology, 2012, 22 (12) :1649-1668.
                                    </a>
                                </li>
                                <li id="5">


                                    <a id="bibliography_2" title=" 郭红伟, 朱策, 周益民. HEVC码率控制技术的研究进展[J]. 重庆邮电大学学报 (自然科学版) , 2018, 30 (2) :199-209." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CASH201802007&amp;v=MDEyNjhIOW5Nclk5Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0ZpRGxWcjNNSml6WVpyRzQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[2]</b>
                                         郭红伟, 朱策, 周益民. HEVC码率控制技术的研究进展[J]. 重庆邮电大学学报 (自然科学版) , 2018, 30 (2) :199-209.
                                    </a>
                                </li>
                                <li id="7">


                                    <a id="bibliography_3" title=" Choi H, Yoo J, Nam J, et al. Pixel-wise unified rate-quantization model for multi-level rate control[J]. IEEE Journal of Selected Topics in Signal Processing, 2013, 7 (6) : 1112-1123." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Pixel-Wise Unified Rate-Quantization Model for Multi-Level Rate Control">
                                        <b>[3]</b>
                                         Choi H, Yoo J, Nam J, et al. Pixel-wise unified rate-quantization model for multi-level rate control[J]. IEEE Journal of Selected Topics in Signal Processing, 2013, 7 (6) : 1112-1123.
                                    </a>
                                </li>
                                <li id="9">


                                    <a id="bibliography_4" title=" Li B, Li H, Li L, et al. λ domain rate control algorithm for high efficiency video coding[J]. IEEE transactions on Image Processing, 2014, 23 (9) : 3841-3854." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=λdomain rate control algorithm for high efficiency video coding">
                                        <b>[4]</b>
                                         Li B, Li H, Li L, et al. λ domain rate control algorithm for high efficiency video coding[J]. IEEE transactions on Image Processing, 2014, 23 (9) : 3841-3854.
                                    </a>
                                </li>
                                <li id="11">


                                    <a id="bibliography_5" title=" 陈伟国, 陈芬, 金德富, 等. 基于复杂度分析的HEVC帧内码率控制算法[J]. 计算机应用与软件, 2017, 34 (1) :143-148, 174." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201701026&amp;v=MjI5MzdvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0ZpRGxWcjNNTHpUWlpMRzRIOWJNcm85SFk=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[5]</b>
                                         陈伟国, 陈芬, 金德富, 等. 基于复杂度分析的HEVC帧内码率控制算法[J]. 计算机应用与软件, 2017, 34 (1) :143-148, 174.
                                    </a>
                                </li>
                                <li id="13">


                                    <a id="bibliography_6" title=" Li S, Xu M, Deng X, et al. Weight-based R-λ rate control for perceptual HEVC coding on conversational videos[J]. Signal Processing: Image Communication, 2015, 38: 127-140." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Weight-based R-λrate control for perceptual HEVC coding on conversational videos">
                                        <b>[6]</b>
                                         Li S, Xu M, Deng X, et al. Weight-based R-λ rate control for perceptual HEVC coding on conversational videos[J]. Signal Processing: Image Communication, 2015, 38: 127-140.
                                    </a>
                                </li>
                                <li id="15">


                                    <a id="bibliography_7" title=" 周建政. 一种HEVC码率控制改进算法[J]. 计算机应用与软件, 2016, 33 (8) :183-184, 259." target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201608042&amp;v=MTkwODVMRzRIOWZNcDQ5QlpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3FmWnVac0ZpRGxWcjNNTHpUWlo=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[7]</b>
                                         周建政. 一种HEVC码率控制改进算法[J]. 计算机应用与软件, 2016, 33 (8) :183-184, 259.
                                    </a>
                                </li>
                                <li id="17">


                                    <a id="bibliography_8" title=" Wang M, Ngan K N, Li H. Low-delay rate control for consistent quality using distortion-based lagrange multiplier[J].IEEE Transactions on Image Processing, 2016, 25 (7) :2943-2955." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Low-delay rate control for consistent quality using distortion based lagrange multiplier">
                                        <b>[8]</b>
                                         Wang M, Ngan K N, Li H. Low-delay rate control for consistent quality using distortion-based lagrange multiplier[J].IEEE Transactions on Image Processing, 2016, 25 (7) :2943-2955.
                                    </a>
                                </li>
                                <li id="19">


                                    <a id="bibliography_9" title=" Li L, Li B, Li H, et al. λ domain optimal bit allocation algorithm for high efficiency video coding[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2018, 28 (1) :130-142." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=λDomain Optimal Bit Allocation Algorithm for High Efficiency Video Coding">
                                        <b>[9]</b>
                                         Li L, Li B, Li H, et al. λ domain optimal bit allocation algorithm for high efficiency video coding[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2018, 28 (1) :130-142.
                                    </a>
                                </li>
                                <li id="21">


                                    <a id="bibliography_10" title=" Li S, Xu M, Wang Z, et al. Optimal bit allocation for CTU level rate control in HEVC[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2017, 27 (11) : 2409-2424." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Optimal Bit Allocation for CTU Level Rate Control in HEVC">
                                        <b>[10]</b>
                                         Li S, Xu M, Wang Z, et al. Optimal bit allocation for CTU level rate control in HEVC[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2017, 27 (11) : 2409-2424.
                                    </a>
                                </li>
                                <li id="23">


                                    <a id="bibliography_11" title=" Fiengo A, Chierchia G, Cagnazzo M, et al. Rate allocation in predictive video coding using a convex optimization framework[J]. IEEE Transactions on Image Processing, 2017, 26 (1) :479-489." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Rate allocation in predictive video coding using a convex optimization framework">
                                        <b>[11]</b>
                                         Fiengo A, Chierchia G, Cagnazzo M, et al. Rate allocation in predictive video coding using a convex optimization framework[J]. IEEE Transactions on Image Processing, 2017, 26 (1) :479-489.
                                    </a>
                                </li>
                                <li id="25">


                                    <a id="bibliography_12" title=" Bossen F. Common test conditions and software reference configurations[C]//Joint Collaborative Team on Video Coding (JCT-VC) of ITU-T SG16 WP3 and ISO/IEC JTC1/SC29/WG11, 5th meeting, Jan. 2011." target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Common test conditions and software reference configura tions">
                                        <b>[12]</b>
                                         Bossen F. Common test conditions and software reference configurations[C]//Joint Collaborative Team on Video Coding (JCT-VC) of ITU-T SG16 WP3 and ISO/IEC JTC1/SC29/WG11, 5th meeting, Jan. 2011.
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JYRJ" target="_blank">计算机应用与软件</a>
                2019,36(03),162-167+191 DOI:10.3969/j.issn.1000-386x.2019.03.030            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>一种HEVC低延时编码码率控制算法</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%83%AD%E7%BA%A2%E4%BC%9F&amp;code=10541278&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">郭红伟</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%88%98%E5%B8%85&amp;code=21789551&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">刘帅</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E7%BA%A2%E6%B2%B3%E5%AD%A6%E9%99%A2%E5%B7%A5%E5%AD%A6%E9%99%A2&amp;code=0085055&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">红河学院工学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E4%BF%A1%E6%81%AF%E4%B8%8E%E9%80%9A%E4%BF%A1%E5%B7%A5%E7%A8%8B%E5%AD%A6%E9%99%A2&amp;code=0178313&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">电子科技大学信息与通信工程学院</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>传统码率控制方法常常引起视频编码器的率失真性能降底。为了在满足码率控制精度的同时改善编码器率失真性能, 提出一种基于改进R-λ模型的帧级码率控制算法。根据帧率把待编码视频序列划分成多个控制单元, 并为当前控制单元分配目标比特;根据控制单元层的可用比特数为当前GOP分配目标比特;根据GOP层的可用比特数为当前待编码帧分配目标比特, 再利用改进的R-λ模型计算得到拉格朗日乘子λ进行编码。在通用测试条件下的实验结果显示, 该算法具有较高的码率控制精度, 同时改善了编码器的率失真性能。其平均码率相对误差为0.095%;以不开启码率控制的HM16.7作为基准, 平均码率节省 (BD-Rate) 达到了2.6%。</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%A7%86%E9%A2%91%E7%BC%96%E7%A0%81&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">视频编码;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%A0%81%E7%8E%87%E6%8E%A7%E5%88%B6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">码率控制;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%AF%94%E7%89%B9%E5%88%86%E9%85%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">比特分配;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%AF%94%E7%89%B9%E7%8E%87%E6%8E%A7%E5%88%B6&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">比特率控制;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%8E%87%E5%A4%B1%E7%9C%9F%E6%A8%A1%E5%9E%8B&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">率失真模型;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    郭红伟, 副教授, 主研领域:视频编码与通信, 多媒体信号处理。;
                                </span>
                                <span>
                                    刘帅, 教授。;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2018-10-28</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家自然科学基金项目 (41761079);</span>
                                <span>云南省教育厅科学研究基金项目 (2018JS475);</span>
                    </p>
            </div>
                    <h1><b>RATE CONTROL FOR LOW DELAY CODING IN HEVC</b></h1>
                    <h2>
                    <span>Guo Hongwei</span>
                    <span>Liu Shuai</span>
            </h2>
                    <h2>
                    <span>School of Engineering, Honghe University</span>
                    <span>School of Information and Communication Engineering, University of Electronic Science and Technology of China</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Traditional rate control methods often cause degradation for the rate distortion performance of video coders. In order to improve rate distortion performace of encoder while meeting the accuracy of rate control, we proposed a frame-level rate control algorithm based on an improved R-λ model. The video sequence to be coded was divided into several control units according to the frame rate, and the target bits were allocated to the current control unit. Target bits were allocated according to the number of available bits in the control unit layer for the current GOP. Target bits were allocated according to the number of available bits in GOP layer for the current frame to be coded. We adopted the improved R-λ model to calculate the Lagrange multiplier λ for coding the current frame. Experiment was performed under the common test conditions. The test results show that the proposed method maintains high accuracy in bit rate control and achieves better rate-distortion performance. The relative error of the average bit rate is 0.095%. With HM16.7 anchor without rate control, the average bit rate saving (BD-Rate) reaches 2.6%.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Video%20coding&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Video coding;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Rate%20control&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Rate control;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Bit%20allocation&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Bit allocation;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Bit%20rate%20control&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Bit rate control;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=Rate%20distortion%20model&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">Rate distortion model;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                                            </p>
                                    <p><b>Received：</b> 2018-10-28</p>
                                    <p>
                                            </p>
            </div>


        <!--brief start-->
                        <h3 id="27" name="27" class="anchor-tag"><b>0 引 言</b></h3>
                <div class="p1">
                    <p id="28">高效视频编码HEVC (High Efficiency Video Coding) 是ISO-IEC/MPEG和ITU-T/VCEG两大国际标准化组织联合制定的新一代视频编码标准<citation id="119" type="reference"><link href="3" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>, 其基准档次已于2013年1月正式发布。尽管其沿用了传统视频编码标准的混合视频编码基本框架, 但在各个编码模块上都进行了改进和革新。编码的视频在同等主观质量情况下, HEVC相比于上一代编码标准H.264/AVC节省约一半的码率。在视频编码的研究过程中, 通常是事先设定量化参数QP进行编码, 根据编码器输出对各种编码工具和编码优化技术进行定量分析比较。而在实际应用中, 要根据存储设备可提供的存储空间、传输信道可提供的传输带宽及传输延迟的限制等设定编码器的输出码率。所以实际应用中的编码器必须包含码率控制模块, 每一代视频编码标准的制定过程中都推荐了相应的码率控制算法<citation id="120" type="reference"><link href="5" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>。</p>
                </div>
                <div class="p1">
                    <p id="29">HEVC标准制定过程中主要推荐了两种码率控制算法, 即URQ (Unified Rate-Quantization) 模型码率控制算法<citation id="121" type="reference"><link href="7" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>和R-λ模型码率控制算法<citation id="122" type="reference"><link href="9" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>。URQ模型是最早被采纳进HEVC通用测试软件HM的码率控制算法, 其利用已有带宽、帧率、编码结构、图像组GOP大小等相关参数确定各个GOP、编码帧、最大编码单元LCU的目标比特数。然后通过URQ模型计算编码帧或LCU级的量化参数QP进行编码。该算法的最终效果不太理想, 通常编码后生成的码率与给定的目标码率之间误差较大, 且编码视频的质量明显下降。文献<citation id="123" type="reference">[<a class="sup">4</a>]</citation>提出双曲模型能最好地描述HEVC编码器的率失真关系。并基于双曲模型设计了全新的Lambda域码率控制算法, 在码率控制精度和率失真性能上都较URQ模型码率控制有较大提高。HEVC标准发布后, 针对HEVC标准实际应用的优化和码率控制持续成为研究关注的重点, 已有许多改进的码率控制算法被提出<citation id="130" type="reference"><link href="11" rel="bibliography" /><link href="13" rel="bibliography" /><link href="15" rel="bibliography" /><link href="17" rel="bibliography" /><link href="19" rel="bibliography" /><link href="21" rel="bibliography" /><sup>[<a class="sup">5</a>,<a class="sup">6</a>,<a class="sup">7</a>,<a class="sup">8</a>,<a class="sup">9</a>,<a class="sup">10</a>]</sup></citation>。文献<citation id="124" type="reference">[<a class="sup">5</a>]</citation>利用梯度来表征待编码帧的复杂度, 在R-λ模型框架下提出基于复杂度分析的Intra帧码率控制算法。针对会话通信视频编码, 文献<citation id="125" type="reference">[<a class="sup">6</a>]</citation>根据视觉感兴趣区域提出改善主观编码质量的码率控制算法。由于视频场景切换时常引起码率和编码质量的激烈波动, 文献<citation id="126" type="reference">[<a class="sup">7</a>]</citation>提出在场景切换发生时对码率控制的参数以及编码结构做出相应调整, 以改善R-λ模型码率控制算法的性能。为了减小因码率控制引起的输出视频质量波动, 文献<citation id="127" type="reference">[<a class="sup">8</a>]</citation>提出恒定视频质量的码率控制。然而, 以上改进方法在率失真性能方面的提升都比较有限。为了在实施码率控制的同时获得更好的编码器率失真性能, 文献<citation id="131" type="reference">[<a class="sup">9</a>,<a class="sup">10</a>,<a class="sup">11</a>]</citation>从全局率失真最优化视角, 提出R-λ模型下的最优比特分配方法。目前, 测试软件HM中集成的码率控制算法是文献<citation id="128" type="reference">[<a class="sup">4</a>]</citation>与文献<citation id="129" type="reference">[<a class="sup">9</a>]</citation>相结合的方法。</p>
                </div>
                <div class="p1">
                    <p id="30">针对HEVC的低延时编码结构, 本文提出一种Lambda域的三层 (控制单元层、GOP层、帧层) 码率控制算法。相比较测试软件HM中两层 (GOP层、帧层) 的码率控制, 本文算法在码率控制精度和率失真性能两个方面都有显著提高;相比较测试软件HM中三层 (GOP层、帧层、LCU层) 的码率控制, 本文算法在码率控制精度上略有降低, 但极大地改善了编码器的率失真性能。</p>
                </div>
                <h3 id="31" name="31" class="anchor-tag"><b>1 R-λ模型码率控制算法</b></h3>
                <div class="p1">
                    <p id="32">码率控制通常包括两个步骤:比特分配和比特率控制。比特分配过程是根据缓存器充盈度和视频序列特性为每一个GOP、待编码帧或待编码基本单元分配适当的目标比特;比特率控制过程是利用码率模型根据目标比特计算量化参数进行编码, 使编码器输出比特数尽可能等于预先分配的目标比特。</p>
                </div>
                <h4 class="anchor-tag" id="33" name="33"><b>1.1 R-λ模型</b></h4>
                <div class="p1">
                    <p id="34">视频编码中, 量化参数QP直接决定预测残差的编码比特数, 是影响编码器输出码率的主要参数。编码同一视频序列时, QP设置越大, 则输出码率越小;反之, QP设置越小, 则输出码率越大。然而, 由于HEVC采用灵活的四叉树CU和TU划分结构及其他越来越复杂的编码工具, 码流中模式和运动等非残差信息所占比特开销越来越大, 而量化仅对残差信息有效。因此在HEVC中建立QP与码率R的模型进行比特控制不够精确。根据视频编码的率失真理论, 拉格朗日乘子λ是编码视频率失真曲线上某一点的切线的斜率的绝对值。理论上每一个拉格朗日乘子唯一的对应一组码率和失真, 能极好地用于控制编码比特数。</p>
                </div>
                <div class="p1">
                    <p id="35">文献<citation id="132" type="reference">[<a class="sup">4</a>]</citation>提出, 在HEVC编码标准中双曲函数形式的率失真函数能较好地描述编码器率失真特性, 即:</p>
                </div>
                <div class="p1">
                    <p id="36"><i>D</i> (<i>R</i>) =<i>CR</i><sup>-<i>K</i></sup>      (1) </p>
                </div>
                <div class="p1">
                    <p id="37">式中:<i>D</i>是编码失真, 用均方误差MSE (Mean Square Error) 表示;<i>R</i>是编码比特数, 用每像素消耗比特bpp (bits per pixel) 表示;<i>C</i>和<i>K</i>是与序列特性相关的模型参数。如前文所述, 拉格朗日乘子<i>λ</i>是R-D曲线的斜率的绝对值, 由式 (1) 得:</p>
                </div>
                <div class="p1">
                    <p id="38"><mathml id="39"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>λ</mi><mo>=</mo><mrow><mo>|</mo><mrow><mfrac><mrow><mo>∂</mo><mi>D</mi></mrow><mrow><mo>∂</mo><mi>R</mi></mrow></mfrac></mrow><mo>|</mo></mrow><mo>=</mo><mi>C</mi><mi>Κ</mi><mo>⋅</mo><mi>R</mi><msup><mrow></mrow><mrow><mo>-</mo><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msup><munderover><mo stretchy="true" symmetric="false">=</mo><mrow></mrow><mo>△</mo></munderover><mi>α</mi><mi>R</mi><msup><mrow></mrow><mi>β</mi></msup></mrow></math></mathml>      (2) </p>
                </div>
                <div class="p1">
                    <p id="40">式中:α和β是与序列内容和编码结构相关的参数, 初始值设为3.200 3和-1.367, 编码过程中, 根据已编码帧的信息进行更新。</p>
                </div>
                <div class="p1">
                    <p id="41">获得拉格朗日乘子λ后, 计算量化参数<i>QP</i>进行编码:</p>
                </div>
                <div class="p1">
                    <p id="42">QP=4.200 5×<i>ln</i> (λ) +13.712 2      (3) </p>
                </div>
                <h4 class="anchor-tag" id="43" name="43"><b>1.2 比特分配</b></h4>
                <div class="p1">
                    <p id="44">HEVC推荐的R-λ模型码率控制方法可执行在帧级或LCU级, 设目标码率为、帧率为, 则平均每帧可用的比特数表示为:</p>
                </div>
                <div class="p1">
                    <p id="45"><mathml id="46"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext><mtext>A</mtext><mtext>v</mtext><mtext>g</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext></mrow></msub></mrow><mrow><mi>F</mi><mi>R</mi></mrow></mfrac></mrow></math></mathml>      (4) </p>
                </div>
                <div class="p1">
                    <p id="47">分配给待编码GOP的目标比特数如下:</p>
                </div>
                <div class="p1">
                    <p id="48"><mathml id="49"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext><mtext>A</mtext><mtext>v</mtext><mtext>g</mtext></mrow></msub><mo>×</mo><mo stretchy="false"> (</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>c</mtext><mtext>o</mtext><mtext>d</mtext><mtext>e</mtext><mtext>d</mtext></mrow></msub><mo>+</mo><mi>S</mi><mi>W</mi><mo stretchy="false">) </mo><mo>-</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>c</mtext><mtext>o</mtext><mtext>d</mtext><mtext>e</mtext><mtext>d</mtext></mrow></msub></mrow><mrow><mi>S</mi><mi>W</mi></mrow></mfrac><mo>×</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub></mrow></math></mathml>      (5) </p>
                </div>
                <div class="p1">
                    <p id="50">式中:SW是用于平滑比特分配的滑动窗。</p>
                </div>
                <div class="p1">
                    <p id="51">当前GOP中分配给待编码帧的目标比特数如下:</p>
                </div>
                <div class="p1">
                    <p id="52"><mathml id="53"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo>-</mo><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub></mrow><mrow><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mo stretchy="false">{</mo><mi>A</mi><mi>l</mi><mi>l</mi><mi>Ν</mi><mi>o</mi><mi>t</mi><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><mi>Ρ</mi><mi>i</mi><mi>c</mi><mi>s</mi><mo stretchy="false">}</mo></mrow></munder><mi>ω</mi></mstyle><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub></mrow></mfrac><mo>×</mo><mi>ω</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext><mtext>C</mtext><mtext>u</mtext><mtext>r</mtext><mtext>r</mtext></mrow></msub></mrow></math></mathml>      (6) </p>
                </div>
                <div class="p1">
                    <p id="54">式中:<i>ω</i><sub>Pic</sub>表示编码帧比特分配权重;<i>Coded</i><sub>GOP</sub>表示编码当前GOP已消耗的比特数。</p>
                </div>
                <div class="p1">
                    <p id="55">测试软件HM中帧层的比特分配有三种可选方式, 即等比特分配、固定比率的比特分配和自适应比特分配。其中:等比特分配时, GOP中每一帧的比特分配权重相等;固定比率比特分配时, 根据帧级的目标bpp和编码结构, GOP中每一帧的比特分配权重为某一固定比例值。由文献<citation id="133" type="reference">[<a class="sup">9</a>]</citation>提出的自适应比特分配方式则根据帧级的目标bpp、编码结构和待编码帧的特性自适应调整每一个GOP中帧级的比特分配权重, 其码率控制精度和编码性能是三种比特分配中最好的。</p>
                </div>
                <h3 id="56" name="56" class="anchor-tag"><b>2 码率控制算法设计</b></h3>
                <div class="p1">
                    <p id="57">针对不同视频业务的应用, HEVC编码器的编码配置可选择全I帧AI (All-intra) 结构、低延时LD (Low-delay) 结构、随机介入RA (Random-access) 结构。由于不同编码配置具有不同的编码参考结构, 相应的码率控制应充分考虑其率失真依赖性, 使码率控制下的编码视频失真最小。本文讨论低延时编码配置下的码率控制。</p>
                </div>
                <h4 class="anchor-tag" id="58" name="58"><b>2.1 HEVC的低延时编码结构分析</b></h4>
                <div class="p1">
                    <p id="59">如图1所示, HEVC的低延时编码结构中, GOP的大小默认设置为4, 序列起始帧编码为I帧, 并被作为一个单独的GOP处理, 其余GOP中为B/P帧, 帧的层级为3、2、3、1, 其中层级为1的帧称为关键帧。图1中的箭头表示参考关系, 在分级编码结构中, 当前编码帧会选择其前一已编码帧和其他最邻近的3个已编码关键帧作为参考帧。然而, 编码刚开始时由于可参考的已编码帧数不足4帧, 起始帧后的第一个GOP中非关键帧 (层级为2和3的帧) 将被3次作为参考帧, 第二个GOP中的非关键帧会被2次作为参考帧, 之后的GOP中的非关键帧则只会被其后一帧参考1次。因此, 从编码中时域失真传播的视角考虑, 改善视频起始帧和前两个GOP中编码帧的编码质量, 将有利于提高编码视频的整体率失真性能。</p>
                </div>
                <div class="area_img" id="60">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201903031_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 低延时编码结构" src="Detail/GetImg?filename=images/JYRJ201903031_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 低延时编码结构  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201903031_060.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="61" name="61"><b>2.2 R-λ模型参数更新的改进</b></h4>
                <div class="p1">
                    <p id="62">编码过程中, 由于编码帧复杂度及参考结构的变化, 每一编码帧的R-λ模型参数 (<i>α</i>和<i>β</i>) 并不相同。在编码下一帧前还不能得到它的率失真关系, R-λ码率控制算法中<citation id="134" type="reference"><link href="9" rel="bibliography" /><link href="19" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">9</a>]</sup></citation>, 待编码帧的R-λ模型参数采用与其属于同一层级且最邻近的已编码帧信息进行估算。由于传统方法的模型参数更新只利用了已编码帧的实际编码比特<i>R</i><sub>real</sub>和拉格朗日乘子<i>λ</i><sub>real</sub>, 其参数更新的收敛速度和准确度都不够理想, 从而影响了码率控制的性能。实际上, 编码完一帧后, 可以获得已编码帧的信息包括实际编码比特<i>R</i><sub>real</sub>、拉格朗日乘子<i>λ</i><sub>real</sub>还有编码失真<i>D</i><sub>real</sub>。鉴于此, 由式 (1) 、式 (2) 的R-D函数和R-λ函数可直接推导得更新后的R-D模型参数为:</p>
                </div>
                <div class="p1">
                    <p id="63"><mathml id="64"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>C</mi><msub><mrow></mrow><mrow><mtext>n</mtext><mtext>e</mtext><mtext>w</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>D</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub></mrow><mrow><mi>R</mi><msubsup><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow><mrow><mo>-</mo><mi>λ</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub><mo>⋅</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub><mo>/</mo><mi>D</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub></mrow></msubsup></mrow></mfrac></mrow></math></mathml>      (7) </p>
                </div>
                <div class="p1">
                    <p id="65"><mathml id="66"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Κ</mi><msub><mrow></mrow><mrow><mtext>n</mtext><mtext>e</mtext><mtext>w</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mi>λ</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub><mo>⋅</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub></mrow><mrow><mi>D</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mtext>e</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub></mrow></mfrac></mrow></math></mathml>      (8) </p>
                </div>
                <div class="p1">
                    <p id="67">然后, <i>R</i>-<i>λ</i>模型参数α<sub><i>new</i></sub>=C<sub><i>new</i></sub>·K<sub><i>new</i></sub>、β<sub><i>new</i></sub>=-K<sub><i>new</i></sub>-1。</p>
                </div>
                <h4 class="anchor-tag" id="68" name="68"><b>2.3 低延时编码码率控制算法</b></h4>
                <div class="p1">
                    <p id="69">通常码率控制由GOP层、帧层和基本单元层的比特控制组成, 基本单元层的比特控制是为了达到更高的比特控制精度。然而由于基本单元层的码率模型参数的估计误差较大, 编码过程中经常由于图像中前面编码的基本单元消耗太多比特使后面编码的基本单元预算不足, 导致编码帧质量下降, 影响了整个视频序列的编码质量。因此, 本文的码率控制算法不使用基本单元层的比特控制。本文码率控制算法采用控制单元层、GOP层和帧层的比特率控制。为了便于描述, 表1列出本节中所使用的符号及其含义。</p>
                </div>
                <div class="area_img" id="70">
                    <p class="img_tit"><b>表1 算法描述采用的符号及其含义</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="70" border="1"><tr><td><br />符号</td><td>含义</td></tr><tr><td><br /><i>CW</i></td><td>一个控制单元的帧数</td></tr><tr><td><br /><i>FR</i></td><td>帧率</td></tr><tr><td><br /><i>N</i><sub>GOP</sub></td><td>一个GOP的帧数</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="area_img" id="71">
                    <p class="img_tit"><b>续表1</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="71" border="1"><tr><td><br />符号</td><td>含义</td></tr><tr><td><br /><i>T</i><sub>CW</sub></td><td>一个控制单元的目标比特数</td></tr><tr><td><br /><i>R</i><sub>tar</sub></td><td>序列的目标码率</td></tr><tr><td><br /><i>N</i><sub>total</sub></td><td>序列的总帧数</td></tr><tr><td><br /><i>Coded</i><sub>First</sub></td><td>编码序列起始帧消耗的比特数</td></tr><tr><td><br /><i>R</i><sub>LeftPreCW</sub></td><td>编码前一控制单元的比特消耗误差</td></tr><tr><td><br /><i>T</i><sub>GOP</sub></td><td>一个GOP的目标比特数</td></tr><tr><td><br /><i>N</i><sub>CWCoded</sub></td><td>控制单元中已编码的帧数</td></tr><tr><td><br /><i>Coded</i><sub>CW</sub></td><td>控制单元中已消耗的比特数</td></tr><tr><td><br /><i>N</i><sub>Left</sub></td><td>序列中未编码的帧数</td></tr><tr><td><br /><i>N</i><sub>CWLeft</sub></td><td>控制单元中未编码的帧数</td></tr><tr><td><br /><i>T</i><sub>Pic</sub></td><td>一帧的目标比特数</td></tr><tr><td><br /><i>Coded</i><sub>GOP</sub></td><td>GOP中已消耗的比特数</td></tr><tr><td><br /><i>T</i><sub>APic</sub></td><td>编码完一帧后为下一帧分配的目标比特</td></tr><tr><td><br /><i>ω</i><sub>Pic</sub></td><td>GOP中各帧的比特分配权重</td></tr><tr><td><br /><i>ω</i><sub>PicCurr</sub></td><td>当前帧的比特分配权重</td></tr><tr><td><br /><i>T</i><sub>BPic</sub></td><td>编码GOP前各帧的预分配目标比特</td></tr><tr><td><br /><i>R</i><sub>ActPic</sub></td><td>编码一帧消耗的实际比特数</td></tr><tr><td><br /><i>R</i><sub>ActGOP</sub></td><td>编码一个GOP消耗的实际比特数</td></tr><tr><td><br /><i>R</i><sub>ActCW</sub></td><td>编码一个控制单元消耗的实际比特数</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="72">编码起始帧后, 视频剩余序列被划分为多个连续的控制单元, 一个控制单元大小约为视频一秒钟的帧数。用<i>CW</i>表示控制单元大小, 则:</p>
                </div>
                <div class="p1">
                    <p id="73"><i>CW</i>=<i>FR</i>%<i>N</i><sub>GOP</sub>==0 <i>FR</i>: (<i>FR</i>/<i>N</i><sub>GOP</sub>) ×<i>N</i><sub>GOP</sub>      (9) </p>
                </div>
                <div class="p1">
                    <p id="74">式 (9) 使控制单元大小等于GOP大小的整数倍, 用了程序语言表述。控制单元层和GOP层的比特分配如下:</p>
                </div>
                <div class="p1">
                    <p id="75"><mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>C</mtext><mtext>W</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mfrac><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext></mrow></msub></mrow><mrow><mi>F</mi><mi>R</mi></mrow></mfrac><mo>×</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>o</mtext><mtext>t</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub><mo>-</mo><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><msub><mrow></mrow><mrow><mtext>F</mtext><mtext>i</mtext><mtext>r</mtext><mtext>s</mtext><mtext>t</mtext></mrow></msub></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>o</mtext><mtext>t</mtext><mtext>a</mtext><mtext>l</mtext></mrow></msub><mo>-</mo><mn>1</mn></mrow></mfrac><mo>×</mo><mi>C</mi><mi>W</mi><mo>+</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>L</mtext><mtext>e</mtext><mtext>f</mtext><mtext>t</mtext><mtext>Ρ</mtext><mtext>r</mtext><mtext>e</mtext><mtext>C</mtext><mtext>W</mtext></mrow></msub></mrow></math></mathml>      (10) </p>
                </div>
                <div class="p1">
                    <p id="77" class="code-formula">
                        <mathml id="77"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mtext> </mtext><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mfrac><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>C</mtext><mtext>W</mtext></mrow></msub></mrow><mrow><mi>C</mi><mi>W</mi></mrow></mfrac><mo>×</mo><mo stretchy="false"> (</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>C</mtext><mtext>W</mtext><mtext>c</mtext><mtext>o</mtext><mtext>d</mtext><mtext>e</mtext><mtext>d</mtext></mrow></msub><mo>+</mo><mi>S</mi><mi>W</mi><mo stretchy="false">) </mo><mo>-</mo><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><msub><mrow></mrow><mrow><mtext>C</mtext><mtext>W</mtext></mrow></msub></mrow><mrow><mi>S</mi><mi>W</mi></mrow></mfrac><mo>×</mo><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mrow><mtext> </mtext><mtext> </mtext><mtext> </mtext></mrow><mo stretchy="false"> (</mo><mn>1</mn><mn>1</mn><mo stretchy="false">) </mo></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="78">编码完一个控制单元后, 其比特消耗误差会加到下一个控制单元, 从而使编码整个序列的比特等于预算的总比特。若为第一个控制单元, 则R<sub><i>LeftPreCW</i></sub>等于0;若为最后一个控制单元, 则CW=<i>min</i>{CW, N<sub><i>Left</i></sub>}。由于编码一个<i>GOP</i>消耗的实际比特不可能恰好等于预算值, 若采用和控制单元层一样的方式直接把已编码<i>GOP</i>的比特消耗误差加到下一个<i>GOP</i>的比特预算, 会使<i>GOP</i>级比特出现较大波动。因此, 式 (11) 中的滑动窗<i>SW</i>用于平滑<i>GOP</i>层比特分配, 使得编码比特消耗变化和编码图片的质量更加平滑。本文算法中, SW设置为16, 且SW=<i>min</i>{SW, N<sub><i>CWLeft</i></sub>}。帧层的比特分配方式采用文献<citation id="135" type="reference">[<a class="sup">9</a>]</citation>的自适应比特分配方法, 当前<i>GOP</i>中各帧的比特分配权重ω<sub><i>Pic</i></sub>由上一已编码<i>GOP</i>的编码信息计算得到, 但本文算法中使用了2.2节描述的改进<i>R</i>-<i>λ</i>模型。待编码帧的目标比特由编码当前<i>GOP</i>前预分配的目标比特和编码前一帧后预分配的目标比特加权确定:</p>
                </div>
                <div class="p1">
                    <p id="79">T<sub><i>Pic</i></sub>=θ×T<sub><i>APic</i></sub>+ (1-θ) ×T<sub><i>BPic</i></sub> θ∈[0, 1]      (12) </p>
                </div>
                <div class="p1">
                    <p id="80">式中:</p>
                </div>
                <div class="p1">
                    <p id="81"><mathml id="82"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>A</mtext><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub><mo>=</mo><mo stretchy="false"> (</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo>-</mo><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo stretchy="false">) </mo><mo>×</mo><mfrac><mrow><mi>ω</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext><mtext>C</mtext><mtext>u</mtext><mtext>r</mtext><mtext>r</mtext></mrow></msub></mrow><mrow><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mo stretchy="false">{</mo><mi>A</mi><mi>l</mi><mi>l</mi><mi>Ν</mi><mi>o</mi><mi>t</mi><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>d</mi><mi>Ρ</mi><mi>i</mi><mi>c</mi><mo stretchy="false">}</mo></mrow></munder><mi>ω</mi></mstyle><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub></mrow></mfrac></mrow></math></mathml>      (13) </p>
                </div>
                <div class="p1">
                    <p id="83"><mathml id="84"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>B</mtext><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub><mo>=</mo><mi>Τ</mi><msub><mrow></mrow><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></msub><mo>×</mo><mfrac><mrow><mi>ω</mi><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext><mtext>C</mtext><mtext>u</mtext><mtext>r</mtext><mtext>r</mtext></mrow></msub></mrow><mrow><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mtext>G</mtext><mtext>Ο</mtext><mtext>Ρ</mtext></mrow></munder><mi>ω</mi></mstyle><msub><mrow></mrow><mrow><mtext>Ρ</mtext><mtext>i</mtext><mtext>c</mtext></mrow></msub></mrow></mfrac></mrow></math></mathml>      (14) </p>
                </div>
                <div class="p1">
                    <p id="85">控制单元内剩余未编码帧<i>N</i><sub>CWLeft</sub>多于8帧时, 式 (12) 中常数<i>θ</i>取值为0.5;当<i>N</i><sub>CWLeft</sub>小于或等于8帧时, 取值为1。</p>
                </div>
                <div class="p1">
                    <p id="86">算法流程如图2所示。</p>
                </div>
                <div class="area_img" id="87">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201903031_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 算法流程图" src="Detail/GetImg?filename=images/JYRJ201903031_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 算法流程图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201903031_087.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="88">具体的步骤描述为:</p>
                </div>
                <div class="p1">
                    <p id="89"> (1) 读取编码器配置文件及输入视频序列, 并对码率控制参数初始化。</p>
                </div>
                <div class="p1">
                    <p id="90"> (2) 编码视频序列起始帧。</p>
                </div>
                <div class="p1">
                    <p id="91"> (3) 由式 (10) 进行控制单元层比特分配, 并初始化控制单元层参数<i>N</i><sub>CWcoded</sub>=0, <i>Coded</i><sub>CW</sub>=0。</p>
                </div>
                <div class="p1">
                    <p id="92"> (4) 由式 (11) 进行GOP层比特分配, 采用改进的R-λ模型和文献<citation id="136" type="reference">[<a class="sup">9</a>]</citation>的方法确定GOP中各帧的比特分配权重<i>ω</i><sub>Pic</sub>, 根据式 (14) 预分配编码前GOP中各帧目标比特, 初始化GOP层参数使<i>Coded</i><sub>GOP</sub>=0。</p>
                </div>
                <div class="p1">
                    <p id="93"> (5) 由式 (12) 、式 (13) 进行帧层比特分配。</p>
                </div>
                <div class="p1">
                    <p id="94"> (6) 由式 (2) 计算待编码帧的拉格朗日乘子<i>λ</i>, 由式 (3) 计算待编码帧的量化参数QP。</p>
                </div>
                <div class="p1">
                    <p id="95"> (7) 编码一帧, 并根据式 (7) 、式 (8) 更新R-λ模型参数, 更新GOP层参数<i>Coded</i><sub>GOP</sub>=<i>Coded</i><sub>GOP</sub>+<i>R</i><sub>ActPic</sub>。</p>
                </div>
                <div class="p1">
                    <p id="96"> (8) 判断已编码帧是否是GOP中最后一帧, 若不是则跳转至步骤 (5) ;若是则跳转至步骤 (9) 。</p>
                </div>
                <div class="p1">
                    <p id="97"> (9) 更新控制单元层参数<i>N</i><sub>CWcoded</sub>=<i>N</i><sub>CWcoded</sub>+<i>N</i><sub>GOP</sub>, <i>Coded</i><sub>CW</sub>=<i>Coded</i><sub>CW</sub>+<i>R</i><sub>ActGOP</sub>。</p>
                </div>
                <div class="p1">
                    <p id="98"> (10) 判断已编码GOP是否是控制单元中最后一个GOP, 若不是则跳转至步骤 (4) ;若是则跳转至步骤 (11) 。</p>
                </div>
                <div class="p1">
                    <p id="99"> (11) 判断已编码控制单元是否是序列中最后一个控制单元, 若不是则计算控制单元比特误差<i>R</i><sub>LeftPreCW</sub>=<i>T</i><sub>CW</sub>-<i>R</i><sub>ActCW</sub>, 并跳转至步骤 (3) ;若是则跳转至步骤 (12) 。</p>
                </div>
                <div class="p1">
                    <p id="100"> (12) 编码结束。</p>
                </div>
                <h3 id="101" name="101" class="anchor-tag"><b>3 实验及结果分析</b></h3>
                <div class="p1">
                    <p id="102">将本文码率控制算法集成到HEVC编码器的参考软件HM16.7 中, 以验证算法的性能。测试选用提案JCTVC-L1100<citation id="137" type="reference"><link href="25" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>建议的ClassB、ClassC、ClassD、ClassE中全部16个视频序列, 编码器配置文件采用encoder_lowdelay_main.cfg。参考软件HM16.7在不开启码率控制情况下, 以固定量化参数QP等于37、32、27、22编码各测试序列, 每个被编码测试序列输出从低到高的4个码率作为码率控制实验的目标码率。</p>
                </div>
                <div class="p1">
                    <p id="103">码率控制的目标是要使编码器输出码率近似等于目标码率情况下, 编码视频失真最小。所以码率精确性和率失真性能是评价码率控制的两个主要性能指标。码率精确性用码率相对误差描述, 定义为:</p>
                </div>
                <div class="p1">
                    <p id="104"><mathml id="105"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>E</mtext><mtext>r</mtext><mtext>r</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mo stretchy="false">|</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext></mrow></msub><mo>-</mo><mi>R</mi><msub><mrow></mrow><mrow><mtext>a</mtext><mtext>c</mtext><mtext>t</mtext></mrow></msub><mo stretchy="false">|</mo></mrow><mrow><mi>R</mi><msub><mrow></mrow><mrow><mtext>t</mtext><mtext>a</mtext><mtext>r</mtext></mrow></msub></mrow></mfrac><mo>×</mo><mn>1</mn><mn>0</mn><mn>0</mn><mi>%</mi></mrow></math></mathml>      (15) </p>
                </div>
                <div class="p1">
                    <p id="106">式中:R<sub><i>tar</i></sub>是目标码率;R<sub><i>act</i></sub>是实际编码码率;R<sub><i>Err</i></sub>越小, 表示码率控制精确性越好。本实验比较的算法是<i>HM</i>16.7中采用自适应比特分配的<i>R</i>-<i>λ</i>码率控制算法<citation id="138" type="reference"><link href="19" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>。其中:不开启<i>LCU</i>层比特控制记作<i>HEVC</i>帧层率控;开启<i>LCU</i>层比特控制时记作<i>HEVC LCU</i>层率控。</p>
                </div>
                <div class="p1">
                    <p id="107">表2给出了从4种不同的分辨率中选取的4个测试视频序列在3种码率控制方法下的实验数据, 表中第4列、第7列和第10列分别是3种算法编码视频<i>Y</i>分量的<i>PSNR</i>值。在相同目标码率下, 本文算法编码视频的<i>PSNR</i>最大。另外, 本文算法的平均码率误差是0.054%, 低于<i>HEVC LCU</i>层率控的平均码率误差0.075%和<i>HEVC</i>帧层率控的平均码率误差0.127%。</p>
                </div>
                <div class="area_img" id="108">
                    <p class="img_tit"><b>表2 3种码率控制算法的实验结果</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="108" border="1"><tr><td rowspan="2">序列</td><td rowspan="2">目标<br />码率<br /><i>QP</i></td><td colspan="2"><br /><i>HEVC LCU</i><br />层率控<sup>[9]</sup></td><td colspan="2"><br /><i>HEVC</i>帧层<br />率控<sup>[9]</sup></td><td colspan="2"><br />本文算法</td></tr><tr><td><br /><i>PSNR</i><br />/<i>dB</i></td><td><i>R</i><sub><i>Err</i></sub><br />/%</td><td><br /><i>PSNR</i><br />/<i>dB</i></td><td><i>R</i><sub><i>Err</i></sub><br />/%</td><td><br /><i>PSNR</i><br />/<i>dB</i></td><td><i>R</i><sub><i>Err</i></sub><br />/%</td></tr><tr><td><br /><br /><br /><br /><i>Cactus</i><br />1 920×1 080</td><td>22</td><td>38.63</td><td>0.018</td><td>38.68</td><td>0.012</td><td>38.68</td><td>0.003</td></tr><tr><td><br /></td><td>27</td><td>36.70</td><td>0.003</td><td>36.77</td><td>0.031</td><td>36.81</td><td>0.045</td></tr><tr><td><br /></td><td>32</td><td>34.62</td><td>0.003</td><td>34.71</td><td>0.042</td><td>34.76</td><td>0.018</td></tr><tr><td><br /></td><td>37</td><td>32.49</td><td>0.002</td><td>32.60</td><td>0.014</td><td>32.65</td><td>0.006</td></tr><tr><td><br /><br /><br /><br /><br /><i>RaceHor<br />ses</i><br />832×480</td><td>22</td><td>39.86</td><td>0.052</td><td>39.95</td><td>0.040</td><td>39.96</td><td>0.003</td></tr><tr><td><br /></td><td>27</td><td>36.29</td><td>0.001</td><td>36.38</td><td>0.058</td><td>36.42</td><td>0.038</td></tr><tr><td><br /></td><td>32</td><td>33.03</td><td>0.004</td><td>33.13</td><td>0.028</td><td>33.17</td><td>0.073</td></tr><tr><td><br /></td><td>37</td><td>30.05</td><td>0.001</td><td>30.12</td><td>0.065</td><td>30.15</td><td>0.002</td></tr><tr><td><br /><br /><br /><br /><br /><i>Basketba<br />llPass</i><br />416×240</td><td>22</td><td>41.05</td><td>0.588</td><td>41.03</td><td>0.552</td><td>41.14</td><td>0.024</td></tr><tr><td><br /></td><td>27</td><td>37.26</td><td>0.432</td><td>37.27</td><td>0.382</td><td>37.31</td><td>0.082</td></tr><tr><td><br /></td><td>32</td><td>33.74</td><td>0.013</td><td>33.76</td><td>0.248</td><td>33.81</td><td>0.233</td></tr><tr><td><br /></td><td>37</td><td>30.74</td><td>0.009</td><td>30.79</td><td>0.359</td><td>30.85</td><td>0.277</td></tr><tr><td><br /><br /><br /><br /><br /><i>KristenAnd<br />Sara</i><br />1 280×720</td><td>22</td><td>43.22</td><td>0.009</td><td>43.17</td><td>0.014</td><td>43.20</td><td>0.005</td></tr><tr><td><br /></td><td>27</td><td>41.00</td><td>0.013</td><td>40.85</td><td>0.077</td><td>41.17</td><td>0.043</td></tr><tr><td><br /></td><td>32</td><td>38.68</td><td>0.016</td><td>38.51</td><td>0.062</td><td>38.82</td><td>0.008</td></tr><tr><td><br /></td><td>37</td><td>36.18</td><td>0.037</td><td>36.17</td><td>0.054</td><td>36.46</td><td>0.007</td></tr><tr><td><br />平均</td><td>--</td><td>36.47</td><td>0.075</td><td>36.49</td><td>0.127</td><td>36.59</td><td>0.054</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="109">为了公平地比较算法的率失真性能, 以不开启码率控制的<i>HM</i>16.7为基准, 计算三种码率控制算法的<i>BD</i>-<i>Rate</i>。<i>BD</i>-<i>Rate</i>表示在同样的客观质量下, 测试算法相对于基准的码率节省, <i>BD</i>-<i>Rate</i>值为负, 则说明码率节省;<i>BD</i>-<i>Rate</i>值为正, 则说明码率增加。由于篇幅所限, 这里不单独列出16个序列的测试结果, 表3给出了<i>ClassB</i>、<i>ClassC</i>、<i>ClassD</i>、<i>ClassE</i>数据平均值。<i>HEVC</i> 帧层率控的平均<i>BD</i>-<i>Rate</i>为0.3%, 小于<i>HEVC LCU</i>层率控的0.6%, 这与前文所述一致。<i>LCU</i>层比特控制能达到更高的码率控制精度, 但降低了编码器率失真性能。本文算法对<i>ClassB</i>、<i>ClassC</i>、<i>ClassD</i>、<i>ClassE</i>的<i>BD</i>-<i>Rate</i>均是负值, 平均为-2.6%, 说明本文算法的率失真性能不仅优于<i>HEVC</i>帧层率控和<i>HEVC LCU</i>层率控, 而且还优于不开启码率控制时的<i>HM</i>16.7。码率控制精确性方面, 本文算法和<i>HEVC LCU</i>层率控的平均码率相对误差均小于0.1%, 而<i>HEVC</i>帧层率控的平均码率相对误差是0.185%。</p>
                </div>
                <div class="area_img" id="110">
                    <p class="img_tit"><b>表3 码率控制算法的性能比较</b> % <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"></p>
                    <p class="img_note"></p>
                    <table id="110" border="1"><tr><td rowspan="2">序列</td><td colspan="2"><br />HEVC LCU<br />层率控<sup>[9]</sup></td><td colspan="2"><br />HEVC 帧层<br />率控<sup>[9]</sup></td><td colspan="2"><br />本文算法</td></tr><tr><td><br />BD-Rate</td><td><i>R</i><sub>Err</sub></td><td><br />BD-Rate</td><td><i>R</i><sub>Err</sub></td><td><br />BD-Rate</td><td><i>R</i><sub>Err</sub></td></tr><tr><td>ClassB</td><td>3.6</td><td>0.005</td><td>0.2</td><td>0.510</td><td>-0.7</td><td>0.209</td></tr><tr><td><br />ClassC</td><td>-2.4</td><td>0.008</td><td>-3.3</td><td>0.030</td><td>-3.9</td><td>0.044</td></tr><tr><td><br />ClassD</td><td>-1.0</td><td>0.073</td><td>-2.0</td><td>0.127</td><td>-2.0</td><td>0.075</td></tr><tr><td><br />ClassE</td><td>2.2</td><td>0.009</td><td>6.6</td><td>0.072</td><td>-3.9</td><td>0.052</td></tr><tr><td><br />平均</td><td>0.6</td><td>0.024</td><td>0.3</td><td>0.185</td><td>-2.6</td><td>0.095</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <div class="p1">
                    <p id="111">另外, 图3中是测试序列Kimono和 Johnny的R-D曲线。可以看到, 本文算法从低码率到高码率均具有最好的率失真性能。</p>
                </div>
                <div class="area_img" id="113">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201903031_11300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 率失真曲线对比" src="Detail/GetImg?filename=images/JYRJ201903031_11300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 率失真曲线对比  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201903031_11300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <div class="p1">
                    <p id="114">图4给出了测试序列Cactus前100帧GOP编码比特和编码帧PSNR的比较。本文算法和HEVC帧层率控对序列起始帧的编码策略一致, 故两种方法编码的第0 GOP或第0帧消耗比特数和PSNR相同。然而, HEVC帧层率控对前几个GOP分配较少的比特, 致使其编码帧PSNR急剧下降, 造成较大的时域质量波动。本文算法考虑了低延时编码结构中前两个GOP编码质量对后续编码帧具有更重要的率失真依赖性, 从而为其分配了相对较多的比特, 不仅提高了编码视频的率失真性能, 同时减小了编码视频的时域质量波动。</p>
                </div>
                <div class="area_img" id="116">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JYRJ201903031_11600.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 序列Cactus前100帧GOP的编码比特和编码帧的PSNR" src="Detail/GetImg?filename=images/JYRJ201903031_11600.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 序列Cactus前100帧GOP的编码比特和编码帧的PSNR  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JYRJ201903031_11600.jpg&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit"></p>

                </div>
                <h3 id="117" name="117" class="anchor-tag"><b>4 结 语</b></h3>
                <div class="p1">
                    <p id="118">码率控制作为视频编码控制中的重要环节, 是编码器不可缺少的组成部分, 合理有效的码率控制方法能够在保证视频质量的同时提高信道的利用率或满足存储需求。本文首先回顾了HEVC推荐的基于R-λ模型码率控制算法, 然后提出一种HEVC低延时编码码率控制算法。本文算法在比特分配过程中充分考虑了低延时编码结构的时域率失真依赖关系, 并采用控制单元层、GOP层和帧层的比特控制策略, R-λ模型的参数更新利用了已编码帧的实际比特、拉格朗日乘子和编码失真等信息。控制单元层的比特控制通过调整下一个控制单元的目标比特数来填补已编码控制单元的比特误差, 从而使视频的实际编码码率近似等于目标码率。实验结果证明, 本文算法在码率精度和R-D性能方面都取得了较好的效果。</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="3">
                            <a id="bibliography_1" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Overview of the High Efficiency Video Coding (HEVC) Standard">

                                <b>[1]</b> Sullivan G J, Ohm J R, Han W J, et al. Overview of the high efficiency video coding (HEVC) standard[J]. IEEE Transactions on circuits and systems for video technology, 2012, 22 (12) :1649-1668.
                            </a>
                        </p>
                        <p id="5">
                            <a id="bibliography_2" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=CASH201802007&amp;v=MDM3MDdmWnVac0ZpRGxWcjNNSml6WVpyRzRIOW5Nclk5Rlk0UUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSN3E=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[2]</b> 郭红伟, 朱策, 周益民. HEVC码率控制技术的研究进展[J]. 重庆邮电大学学报 (自然科学版) , 2018, 30 (2) :199-209.
                            </a>
                        </p>
                        <p id="7">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Pixel-Wise Unified Rate-Quantization Model for Multi-Level Rate Control">

                                <b>[3]</b> Choi H, Yoo J, Nam J, et al. Pixel-wise unified rate-quantization model for multi-level rate control[J]. IEEE Journal of Selected Topics in Signal Processing, 2013, 7 (6) : 1112-1123.
                            </a>
                        </p>
                        <p id="9">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=λdomain rate control algorithm for high efficiency video coding">

                                <b>[4]</b> Li B, Li H, Li L, et al. λ domain rate control algorithm for high efficiency video coding[J]. IEEE transactions on Image Processing, 2014, 23 (9) : 3841-3854.
                            </a>
                        </p>
                        <p id="11">
                            <a id="bibliography_5" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201701026&amp;v=MDUxMjR2UjRUNmo1NE8zenFxQnRHRnJDVVI3cWZadVpzRmlEbFZyM01MelRaWkxHNEg5Yk1ybzlIWW9RS0RIODQ=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[5]</b> 陈伟国, 陈芬, 金德富, 等. 基于复杂度分析的HEVC帧内码率控制算法[J]. 计算机应用与软件, 2017, 34 (1) :143-148, 174.
                            </a>
                        </p>
                        <p id="13">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Weight-based R-λrate control for perceptual HEVC coding on conversational videos">

                                <b>[6]</b> Li S, Xu M, Deng X, et al. Weight-based R-λ rate control for perceptual HEVC coding on conversational videos[J]. Signal Processing: Image Communication, 2015, 38: 127-140.
                            </a>
                        </p>
                        <p id="15">
                            <a id="bibliography_7" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201608042&amp;v=MDM2NzlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGaURsVnIzTUx6VFpaTEc0SDlmTXA0OUJab1E=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[7]</b> 周建政. 一种HEVC码率控制改进算法[J]. 计算机应用与软件, 2016, 33 (8) :183-184, 259.
                            </a>
                        </p>
                        <p id="17">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Low-delay rate control for consistent quality using distortion based lagrange multiplier">

                                <b>[8]</b> Wang M, Ngan K N, Li H. Low-delay rate control for consistent quality using distortion-based lagrange multiplier[J].IEEE Transactions on Image Processing, 2016, 25 (7) :2943-2955.
                            </a>
                        </p>
                        <p id="19">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=λDomain Optimal Bit Allocation Algorithm for High Efficiency Video Coding">

                                <b>[9]</b> Li L, Li B, Li H, et al. λ domain optimal bit allocation algorithm for high efficiency video coding[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2018, 28 (1) :130-142.
                            </a>
                        </p>
                        <p id="21">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Optimal Bit Allocation for CTU Level Rate Control in HEVC">

                                <b>[10]</b> Li S, Xu M, Wang Z, et al. Optimal bit allocation for CTU level rate control in HEVC[J]. IEEE Transactions on Circuits and Systems for Video Technology, 2017, 27 (11) : 2409-2424.
                            </a>
                        </p>
                        <p id="23">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Rate allocation in predictive video coding using a convex optimization framework">

                                <b>[11]</b> Fiengo A, Chierchia G, Cagnazzo M, et al. Rate allocation in predictive video coding using a convex optimization framework[J]. IEEE Transactions on Image Processing, 2017, 26 (1) :479-489.
                            </a>
                        </p>
                        <p id="25">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Common test conditions and software reference configura tions">

                                <b>[12]</b> Bossen F. Common test conditions and software reference configurations[C]//Joint Collaborative Team on Video Coding (JCT-VC) of ITU-T SG16 WP3 and ISO/IEC JTC1/SC29/WG11, 5th meeting, Jan. 2011.
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JYRJ201903031" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JYRJ201903031&amp;v=MDQ2OTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdxZlp1WnNGaURsVnIzTUx6VFpaTEc0SDlqTXJJOUdaWVE=&amp;uid=WEEvREcwSlJHSldRa1FhcEFLUmVhZDN5c2Q1VWdqSmZRZ2l1bjJRM2RRZz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
