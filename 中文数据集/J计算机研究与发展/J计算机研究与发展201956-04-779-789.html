

<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>

</head>

<body>

    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637129043253087500%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJFYZ201904010%26RESULT%3d1%26SIGN%3d5Uh4l57mCmMyXPlI1sN9%252bJotVtk%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JFYZ201904010&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JFYZ201904010&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>


    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201904010&amp;v=MjMxMDRkTEc0SDlqTXE0OUVaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUnFGQ25oV3JyTUx5dlM=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#42" data-title="&lt;b&gt;1 相关工作&lt;/b&gt; "><b>1 相关工作</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#53" data-title="&lt;b&gt;2 虚拟机资源分配系统模型&lt;/b&gt; "><b>2 虚拟机资源分配系统模型</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#56" data-title="&lt;b&gt;2.1 虚拟机资源分配模型&lt;/b&gt;"><b>2.1 虚拟机资源分配模型</b></a></li>
                                                <li><a href="#68" data-title="&lt;b&gt;2.2 虚拟机放置模型&lt;/b&gt;"><b>2.2 虚拟机放置模型</b></a></li>
                                                <li><a href="#73" data-title="&lt;b&gt;2.3 虚拟机资源分配方法&lt;/b&gt;"><b>2.3 虚拟机资源分配方法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#84" data-title="&lt;b&gt;3 虚拟机放置策略&lt;/b&gt; "><b>3 虚拟机放置策略</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#86" data-title="&lt;b&gt;3.1 下次适应 (NF) 算法&lt;/b&gt;"><b>3.1 下次适应 (NF) 算法</b></a></li>
                                                <li><a href="#105" data-title="&lt;b&gt;3.2 降序首次适应 (FFD) 算法&lt;/b&gt;"><b>3.2 降序首次适应 (FFD) 算法</b></a></li>
                                                <li><a href="#125" data-title="&lt;b&gt;3.3 降序最佳适应 (BFD) 算法&lt;/b&gt;"><b>3.3 降序最佳适应 (BFD) 算法</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#146" data-title="&lt;b&gt;4 虚拟机分配方案的评价指标&lt;/b&gt; "><b>4 虚拟机分配方案的评价指标</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#148" data-title="&lt;b&gt;4.1 物理机的消耗数量&lt;/b&gt;"><b>4.1 物理机的消耗数量</b></a></li>
                                                <li><a href="#150" data-title="&lt;b&gt;4.2 物理机的累积资源利用率&lt;/b&gt;"><b>4.2 物理机的累积资源利用率</b></a></li>
                                                <li><a href="#173" data-title="&lt;b&gt;4.3 总体资源冲突率&lt;/b&gt;"><b>4.3 总体资源冲突率</b></a></li>
                                                <li><a href="#176" data-title="&lt;b&gt;4.4 综合有效性指标&lt;/b&gt;"><b>4.4 综合有效性指标</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#182" data-title="&lt;b&gt;5 实验与分析&lt;/b&gt; "><b>5 实验与分析</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#185" data-title="&lt;b&gt;5.1 物理机的消耗数量&lt;/b&gt;"><b>5.1 物理机的消耗数量</b></a></li>
                                                <li><a href="#190" data-title="&lt;b&gt;5.2 物理机的累积资源利用率&lt;/b&gt;"><b>5.2 物理机的累积资源利用率</b></a></li>
                                                <li><a href="#194" data-title="&lt;b&gt;5.3 总体冲突率&lt;/b&gt;"><b>5.3 总体冲突率</b></a></li>
                                                <li><a href="#198" data-title="&lt;b&gt;5.4 综合有效性&lt;/b&gt;"><b>5.4 综合有效性</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#202" data-title="&lt;b&gt;6 结果与讨论&lt;/b&gt; "><b>6 结果与讨论</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#205" data-title="&lt;b&gt;7 总 结&lt;/b&gt; "><b>7 总 结</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#55" data-title="&lt;b&gt;表1 符号和含义&lt;/b&gt;"><b>表1 符号和含义</b></a></li>
                                                <li><a href="#187" data-title="图1 虚拟机分配消耗的物理机数量">图1 虚拟机分配消耗的物理机数量</a></li>
                                                <li><a href="#192" data-title="图2 物理机的累积资源利用率">图2 物理机的累积资源利用率</a></li>
                                                <li><a href="#196" data-title="图3 物理机平均资源冲突率">图3 物理机平均资源冲突率</a></li>
                                                <li><a href="#200" data-title="&lt;b&gt;表2 综合有效性对比&lt;/b&gt; %"><b>表2 综合有效性对比</b> %</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>
                                    <dd class="subnode">
                                        <h6>
                                            <a href="#a_footnote">注释</a>

                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="235">


                                    <a id="bibliography_1" title="Barham P, Dragovic B, Fraser K, et al.Xen and the art of virtualization[J].ACM SIGOPS Operating Systems Review, 2003, 37 (5) :164-177" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000054826&amp;v=MTk5ODVWb2RieFk9TmlmSVk3SzdIdGpOcjQ5RlpPNExCSDQvb0JNVDZUNFBRSC9pclJkR2VycVFUTW53WmVadUh5am1VTHZMSQ==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                        Barham P, Dragovic B, Fraser K, et al.Xen and the art of virtualization[J].ACM SIGOPS Operating Systems Review, 2003, 37 (5) :164-177
                                    </a>
                                </li>
                                <li id="237">


                                    <a id="bibliography_2" title="Meng Xiaoqiao, Isci C, Kephart J, et al.Efficient resource provisioning in compute clouds via VM multiplexing[C]//Proc of the 7th ACM Int Conf on Autonomic Computing.New York:ACM, 2010:11-20" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Efficient resource provisioning in compute clouds via VM multiplexing">
                                        <b>[2]</b>
                                        Meng Xiaoqiao, Isci C, Kephart J, et al.Efficient resource provisioning in compute clouds via VM multiplexing[C]//Proc of the 7th ACM Int Conf on Autonomic Computing.New York:ACM, 2010:11-20
                                    </a>
                                </li>
                                <li id="239">


                                    <a id="bibliography_3" title="Mylavarapu S, Sukthankar V, Banerjee P.An optimized capacity planning approach for virtual infrastructure exhibiting stochastic workload[C]//Proc of the ACM Symp on Applied Computing.New York:ACM, 2010:386-390" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=An optimized capacity planning approach for virtual infrastructure exhibiting stochastic workload">
                                        <b>[3]</b>
                                        Mylavarapu S, Sukthankar V, Banerjee P.An optimized capacity planning approach for virtual infrastructure exhibiting stochastic workload[C]//Proc of the ACM Symp on Applied Computing.New York:ACM, 2010:386-390
                                    </a>
                                </li>
                                <li id="241">


                                    <a id="bibliography_4" title="Xu Jing, Zhao Ming, Fortes J, et al.On the use of fuzzy modeling in virtualized data center management[C]//Proc of the 4th IEEE Int Conf on Autonomic Computing.Piscataway, NJ:IEEE, 2007:25-35" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=On the use of fuzzy modeling in virtualized data center management">
                                        <b>[4]</b>
                                        Xu Jing, Zhao Ming, Fortes J, et al.On the use of fuzzy modeling in virtualized data center management[C]//Proc of the 4th IEEE Int Conf on Autonomic Computing.Piscataway, NJ:IEEE, 2007:25-35
                                    </a>
                                </li>
                                <li id="243">


                                    <a id="bibliography_5" title="Xu Jing, Fortes J.Multi-objective virtual machine placement in virtualized data center environments[C]//Proc of the IEEE/ACM Int Conf on Computing and Communications&amp;amp;on Cyber, Physical and Social Computing.Piscataway, NJ:IEEE, 2010:179-188" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Multi-objective virtual machine placement in virtualized data center environments">
                                        <b>[5]</b>
                                        Xu Jing, Fortes J.Multi-objective virtual machine placement in virtualized data center environments[C]//Proc of the IEEE/ACM Int Conf on Computing and Communications&amp;amp;on Cyber, Physical and Social Computing.Piscataway, NJ:IEEE, 2010:179-188
                                    </a>
                                </li>
                                <li id="245">


                                    <a id="bibliography_6" title="Beloglazov A, Buyya R.Energy efficient allocation of virtual machines in cloud data centers[C]//Proc of the 10th IEEE/ACM Int Conf on Cluster, Cloud and Grid Computing (CCGrid) .Piscataway, NJ:IEEE, 2010:577-578" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Energy Efficient Allocation of Virtual Machines in Cloud Data Centers">
                                        <b>[6]</b>
                                        Beloglazov A, Buyya R.Energy efficient allocation of virtual machines in cloud data centers[C]//Proc of the 10th IEEE/ACM Int Conf on Cluster, Cloud and Grid Computing (CCGrid) .Piscataway, NJ:IEEE, 2010:577-578
                                    </a>
                                </li>
                                <li id="247">


                                    <a id="bibliography_7" title="Speitkamp B, Bichler M.A mathematical programming approach for server consolidation problems in virtualized data centers[J].IEEE Transactions on Services Computing, 2010, 3 (4) :266-278" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A Mathematical Programming Approach for Server Consolidation Problems in Virtualized Data Centers">
                                        <b>[7]</b>
                                        Speitkamp B, Bichler M.A mathematical programming approach for server consolidation problems in virtualized data centers[J].IEEE Transactions on Services Computing, 2010, 3 (4) :266-278
                                    </a>
                                </li>
                                <li id="249">


                                    <a id="bibliography_8" title="Li Qiang, Hao Qinfen, Xiao Limin, et al.Adaptive management and multi-objective optimization for virtual machine placement in cloud computing[J].Chinese Journal of Computers, 2011, 34 (12) :2253-2264 (in Chinese) (李强, 郝沁汾, 肖利民, 等.云计算中虚拟机放置的自适应管理与多目标优化[J].计算机学报, 2011, 34 (12) :2253-2264) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201112002&amp;v=MDUzNzVxcUJ0R0ZyQ1VSTE9lWmVScUZDbmhXcnJNTHo3QmRyRzRIOUROclk5RlpvUUtESDg0dlI0VDZqNTRPM3o=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[8]</b>
                                        Li Qiang, Hao Qinfen, Xiao Limin, et al.Adaptive management and multi-objective optimization for virtual machine placement in cloud computing[J].Chinese Journal of Computers, 2011, 34 (12) :2253-2264 (in Chinese) (李强, 郝沁汾, 肖利民, 等.云计算中虚拟机放置的自适应管理与多目标优化[J].计算机学报, 2011, 34 (12) :2253-2264) 
                                    </a>
                                </li>
                                <li id="251">


                                    <a id="bibliography_9" title="Gupta M K, Amgoth T.Resource-aware virtual machine placement algorithm for IaaS cloud[J].The Journal of Supercomputing, 2018, 74 (1) :122-140" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Resource-aware virtual machine placement algorithm for IaaS cloud">
                                        <b>[9]</b>
                                        Gupta M K, Amgoth T.Resource-aware virtual machine placement algorithm for IaaS cloud[J].The Journal of Supercomputing, 2018, 74 (1) :122-140
                                    </a>
                                </li>
                                <li id="253">


                                    <a id="bibliography_10" title="Sharma O, Saini H.SLA and performance efficient heuristics for virtual machines placement in cloud data centers[J].International Journal of Grid and High Performance Computing, 2017, 9 (3) :17-33" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SJIG&amp;filename=SJIG94296A88F4EBCB2293B31E1EC909D80C&amp;v=MjY4MjJOdkZTaVdXcjdKSUZwbWFCdUhZZk9HUWxmQ3BiUTM1TnhpeGJ5Mnhhdz1OaWZDYWJxOEhOakszb2RORXU5NmZnOUx6UlFhNlUxK1NRcmoyV0U4ZWJ2Z1RicnNDTw==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[10]</b>
                                        Sharma O, Saini H.SLA and performance efficient heuristics for virtual machines placement in cloud data centers[J].International Journal of Grid and High Performance Computing, 2017, 9 (3) :17-33
                                    </a>
                                </li>
                                <li id="255">


                                    <a id="bibliography_11" title="Wei Wei, Liu Yang, Yang Weidong.A fast approximation algorithm for the general resource placement problem in cloud computing platform[J].Journal of Computer Research and Development, 2016, 53 (3) :697-703 (in Chinese) (魏蔚, 刘扬, 杨卫东.一种通用云计算资源调度问题的快速近似算法[J].计算机研究与发展, 2016, 53 (3) :697-703) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201603020&amp;v=MDEyMDJ2U2RMRzRIOWZNckk5SFpJUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVScUZDbmhXcnJNTHk=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[11]</b>
                                        Wei Wei, Liu Yang, Yang Weidong.A fast approximation algorithm for the general resource placement problem in cloud computing platform[J].Journal of Computer Research and Development, 2016, 53 (3) :697-703 (in Chinese) (魏蔚, 刘扬, 杨卫东.一种通用云计算资源调度问题的快速近似算法[J].计算机研究与发展, 2016, 53 (3) :697-703) 
                                    </a>
                                </li>
                                <li id="257">


                                    <a id="bibliography_12" title="Ajiro Y, Tanaka A.Improving packing algorithms for server consolidation[C]//Proc of the 33rd Int Conf of Computer Measurement Group (CMG) .Turnersville, NJ:CMG, 2007:399-406" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Improving packing algorithms for server consolidation">
                                        <b>[12]</b>
                                        Ajiro Y, Tanaka A.Improving packing algorithms for server consolidation[C]//Proc of the 33rd Int Conf of Computer Measurement Group (CMG) .Turnersville, NJ:CMG, 2007:399-406
                                    </a>
                                </li>
                                <li id="259">


                                    <a id="bibliography_13" title="Gupta R, Bose S K, Sundarrajan S, et al.A two stage heuristic algorithm for solving the server consolidation problem with item-item and bin-item incompatibility constraints[C]//Proc of the IEEE Int Conf on Services Computing.Piscataway, NJ:IEEE, 2008:39-46" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=A two stageheuristic algorithm for solving the server consolidation problem withitem-item and bin-item incompatibility constraints">
                                        <b>[13]</b>
                                        Gupta R, Bose S K, Sundarrajan S, et al.A two stage heuristic algorithm for solving the server consolidation problem with item-item and bin-item incompatibility constraints[C]//Proc of the IEEE Int Conf on Services Computing.Piscataway, NJ:IEEE, 2008:39-46
                                    </a>
                                </li>
                                <li id="261">


                                    <a id="bibliography_14" title="Agrawal S, Bose S K, Sundarrajan S.Grouping genetic algorithm for solving the serverconsolidation problem with conflicts[C]//Proc of the 1st ACM/SIGEVO Summit on Genetic and Evolutionary Computation.New York:ACM, 2009:1-8" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Grouping genetic algorithm for solving the serverconsolidation with conflicts">
                                        <b>[14]</b>
                                        Agrawal S, Bose S K, Sundarrajan S.Grouping genetic algorithm for solving the serverconsolidation problem with conflicts[C]//Proc of the 1st ACM/SIGEVO Summit on Genetic and Evolutionary Computation.New York:ACM, 2009:1-8
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JFYZ" target="_blank">计算机研究与发展</a>
                2019,56(04),779-789 DOI:10.7544/issn1000-1239.2019.20170831            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于历史数据的虚拟机资源分配方法</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="javascript:;">王海涛</a>
                                <a href="javascript:;">李战怀</a>
                                <a href="javascript:;">张晓</a>
                                <a href="javascript:;">卜海龙</a>
                                <a href="javascript:;">孔兰昕</a>
                                <a href="javascript:;">赵晓南</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E8%A5%BF%E5%8C%97%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E9%99%A2&amp;code=0085569&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">西北工业大学计算机学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%B7%A5%E4%BF%A1%E9%83%A8%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E7%AE%A1%E7%90%86%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4(%E8%A5%BF%E5%8C%97%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6)&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">工信部大数据存储与管理重点实验室(西北工业大学)</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>云数据中心中广泛应用虚拟化技术以实现资源的按需分配, 从而减小运营成本, 提高数据中心的灵活性和可扩展性.然而, 虚拟化技术的这些特性也带来了如何在保证虚拟机按需分配的同时, 充分利用物理资源而又减小资源冲突率的问题.针对这个问题提出了2种基于历史负载数据的虚拟机资源分配方法, 并结合常用的虚拟机放置策略, 与现有的常用虚拟机资源分配方法进行对比分析.同时, 针对现有的独立评价指标具有片面性的问题, 提出1个综合有效性指标, 能够结合虚拟机的分配所消耗的物理机数量、物理机的资源利用率以及资源冲突率3方面的指标来综合评价方案的有效性.最后通过实际的云计算负载测试, 证明了提出的基于历史数据的虚拟机资源分配方法整体上优于常用的虚拟机资源分配方法, 并且综合有效性指标能够合理地从整体上评估虚拟机分配方案的有效性.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E4%BA%91%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">云数据中心;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%99%9A%E6%8B%9F%E6%9C%BA&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">虚拟机;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">资源分配;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">历史数据;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">统计分析;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%94%BE%E7%BD%AE%E7%AD%96%E7%95%A5&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">放置策略;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E7%BB%BC%E5%90%88%E6%9C%89%E6%95%88%E6%80%A7%E6%8C%87%E6%A0%87&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">综合有效性指标;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    *张晓 (zhangxiao@nwpu.edu.cn) ;
                                </span>
                                <span>
                                    王海涛, wanght@mail.nwpu.edu.cn;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2017-11-03</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家重点研发计划项目 (2016YFB1000703);</span>
                                <span>国家自然科学基金面上项目 (61472323) ;国家自然科学基金青年科学基金项目 (61502392);</span>
                    </p>
            </div>
                    <h1><b>Virtual Machine Resources Allocation Methods Based on History Data</b></h1>
                    <h2>
                    <span>Wang Haitao</span>
                    <span>Li Zhanhuai</span>
                    <span>Zhang Xiao</span>
                    <span>Bu Hailong</span>
                    <span>Kong Lanxin</span>
                    <span>Zhao Xiaonan</span>
            </h2>
                                    <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>Virtualization technology is widely used in cloud datacenters to realize on-demand resources allocation so as to lower operating costs. Moreover, the technology can also improve the flexibility and scalability of datacenters. Despite various merits, these features of virtualization technology also introduce an issue about how to allocate the virtual machines to make the best of physical resources while reducing the resource collision rate in the meantime. To this end, this paper proposes two resource allocation methods for virtual machines based on statistical analysis of history data. Combined with commonly-used placement strategies, these two methods are more effective compared with some state-of-art virtual machine resource allocation methods. In addition, existing independent indicators are incomplete to reflect the overall effectiveness of allocation methods. In order to solve the issue, this paper also proposes an integrated effectiveness indicator which combines different indicators from three separate aspects including the number of consumed physical machines, resource utilization and resource collision of physical machines to evaluate the effectiveness of allocation schemes. In the end, through tests of realistic cloud computing overhead, we prove that the proposed allocation methods of virtual machines are superior to common methods, and the integrated effectiveness indicator can reasonably evaluate the overall effectiveness of virtual machine allocation schemes.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=cloud%20datacenter&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">cloud datacenter;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=virtual%20machine&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">virtual machine;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=resource%20allocation&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">resource allocation;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=history%20data&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">history data;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=statistical%20analysis&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">statistical analysis;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=placement%20strategy&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">placement strategy;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=integrated%20effectiveness%20indicator&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">integrated effectiveness indicator;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    Wang Haitao, born in 1990.PhD candidate. Student member of CCF. His main research interests include big data, cloud computing and massive data storage.<image id="221" type="" href="images/JFYZ201904010_22100.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Li Zhanhuai, born in 1961.PhD, professor, PhD supervisor.Senior member of CCF. His  main  research  interests  include database theory and massive data storage. (lizhh@nwpu.edu.cn) <image id="223" type="" href="images/JFYZ201904010_22300.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Zhang Xiao, born in 1978.PhD, associate professor, master supervisor.Senior member of CCF. His main research interests include computer network, massive data storage and distributed file system.<image id="225" type="" href="images/JFYZ201904010_22500.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Bu Hailong, born in 1989.Master.His main research interests include cloud computing and cloud storage. (919523192 @qq.com) <image id="227" type="" href="images/JFYZ201904010_22700.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Kong Lanxin, born in 1994. Master candidate.Student member of CCF.Her main research interests include big data and cloud storage. (947350795@qq.com) <image id="229" type="" href="images/JFYZ201904010_22900.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Zhao Xiaonan, born in 1979.PhD and lecturer. Member of CCF. Her main research interests include massive data storage and hierarchical storage. (zhaoxn@ nwpu.edu.cn ) <image id="231" type="" href="images/JFYZ201904010_23100.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2017-11-03</p>
                                    <p>
                            <b>Fund：</b>
                                                        <span>supported by the National Key Research and Development Program of China (2016YFB1000703);</span>
                                <span>the General Program of the National Natural Science Foundation of China (61472323) , the National Natural Science Foundation of China for Young Scientists (61502392);</span>
                    </p>
            </div>


        <!--brief start-->
                        <div class="p1">
                    <p id="39">为了应对大数据的爆发式增长, 目前云数据中心广泛应用了虚拟化技术<citation id="263" type="reference"><link href="235" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>以实现服务系统的横向扩展.虚拟化技术使得单个物理机 (physical machine, PM) 的资源可以分配给多个虚拟机 (virtual machine, VM) , 从而产生若干个相互隔离的运行环境以部署不同类型的应用.与传统的技术相比, 虚拟化技术使得云数据中心在基本维持原有服务能力的前提下, 能够提高数据中心的整体资源利用率, 同时达到减少硬件成本以及运营成本、节约物理空间等目的.然而, 虚拟化技术的灵活性和扩展性同时也带来了新的资源管理问题, 即虚拟机如何进行合理地分配和管理的问题.</p>
                </div>
                <div class="p1">
                    <p id="40">一般云数据中心的应用场景中, 虚拟化技术为用户提供一个共享的物理资源池, 该资源池中可能包含上千台物理服务器, 各台服务器的CPU、内存以及网络等资源可能是异构或者同构的, 这些资源的分配通常以虚拟机为单位.当用户需要在虚拟平台上部署自己的应用时, 就会向该资源池提出申请, 数据中心根据用户需求为其分配带有适当资源量的虚拟机, 用户在该虚拟机上运行应用.数据中心的资源管理和调度模块必须能够及时地为数量庞大且不断变化的用户请求创建虚拟机, 并为这些虚拟机分配适量的资源, 以及确定虚拟机放置的目标物理机.这就需要有合适的虚拟机分配方案 (即虚拟机资源分配方法和虚拟机放置策略) .不合适的方案可能造成2种后果:1) 物理机负载过重, 导致虚拟机资源冲突率升高, 降低用户体验;2) 物理机的资源利用率过低, 导致物理资源的浪费, 增加运营成本.这2种结果都会造成数据中心的收益下降, 应该尽量设法避免.因此, 合理地进行虚拟机资源的分配和虚拟机的放置对于云数据中心至关重要.</p>
                </div>
                <div class="p1">
                    <p id="41">针对上述问题, 本文提出了2种基于历史数据统计分析的虚拟机资源分配方法, 能够根据虚拟机的历史数据统计结果为其分配合适的资源, 从而减少需要开启的物理机数量, 提高物理资源的整体利用率, 并尽量保证较低的物理资源冲突率.此外, 针对现有的评价指标无法全面评估虚拟机分配方案有效性的问题, 提出了1个综合有效性指标, 从消耗的物理机数量、物理资源的利用率以及冲突率3个方面综合评估虚拟机分配方案的有效性.最后通过实际的负载实验, 证明了本文提出的综合有效性指标能够合理地评估虚拟机分配方案的整体有效性, 并且本文提出的虚拟机资源分配方法优于现有的常用方法.</p>
                </div>
                <h3 id="42" name="42" class="anchor-tag"><b>1 相关工作</b></h3>
                <div class="p1">
                    <p id="43">在虚拟机资源分配和放置方面, Meng等人<citation id="264" type="reference"><link href="237" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>提出一种配对分配的方法, 即首先通过分析虚拟机的历史负载, 预测其未来一段时间的负载, 根据负载预测值为虚拟机分配资源, 然后选取2个负载模式负相关的虚拟机进行配对, 将这对虚拟机分配到同一物理机上, 从而提高物理机的资源利用率、减小冲突率.这种方法要求虚拟机的负载必须有较明显的周期性或者趋势性, 否则预测效果会很差, 造成虚拟机资源分配量不适当.此外, 只能通过2个虚拟机进行配对, 如果这对虚拟机的负载正相关, 则会造成物理机资源冲突升高.</p>
                </div>
                <div class="p1">
                    <p id="44">Mylavarapu等人<citation id="265" type="reference"><link href="239" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>考虑了虚拟机负载的随机性, 根据历史负载的平均值作为虚拟机资源分配值, 利用遗传算法确定虚拟机的放置位置, 并且在物理机上保留一定的空闲资源, 目的是在保证服务水平协议 (service level agreement, SLA) 的前提下减少物理机使用量.Xu等人<citation id="266" type="reference"><link href="241" rel="bibliography" /><link href="243" rel="bibliography" /><sup>[<a class="sup">4</a>,<a class="sup">5</a>]</sup></citation>提出了一个2层资源管理系统, 通过位于虚拟容器层的本地控制器管理虚拟机资源, 位于资源池层的全局管理器管理物理资源.本地控制器使用模糊逻辑的方法, 将测量到的当前工作负载输入模糊模型, 再将负载映射到需要分配给虚拟机的资源量上, 然后向全局控制器请求资源.全局控制器将资源的分配视为多目标优化问题, 使用分组遗传算法查找最优迁移策略, 减小物理资源浪费、运行功耗以及热耗散.虚拟机的初始放置使用的是装箱策略, 包括降序首次适应策略 (first fit decreasing, FFD) 和降序最佳适应策略 (best fit decreasing, BFD) .</p>
                </div>
                <div class="p1">
                    <p id="45">Beloglazov等人<citation id="267" type="reference"><link href="245" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>提出了一种改进的降序最佳适应策略, 周期性地对物理机上的虚拟机进行重新分配, 实际上相当于一种虚拟机迁移算法, 目标是尽量减少物理机使用量, 关闭空闲节点以节约能耗.Speitkamp等人<citation id="268" type="reference"><link href="247" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>提出一种服务器整合方法, 结合了历史工作负载的数据变化分析以及虚拟机的放置算法, 目标是最小化物理机使用数量.该方法在进行虚拟机资源分配的时候, 参考的是采样周期中的历史负载峰值, 在进行虚拟机放置的时候使用的是分枝限界策略、首次适应策略 (first fit, FF) 以及降序首次适应策略 (FFD) .</p>
                </div>
                <div class="p1">
                    <p id="46">李强等人<citation id="269" type="reference"><link href="249" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>提出了一个云计算中虚拟机放置的自适应管理框架, 通过带SLA约束的虚拟机放置多目标优化遗传算法来制定虚拟机放置策略.算法综合考虑了虚拟机放置策略中物理机消耗量以及虚拟机迁移次数2个目标, 在保证满足SLA的情况下, 能够有效减少物理机消耗量和虚拟机迁移次数, 但是忽略了物理机的资源利用率问题.Gupta等人<citation id="270" type="reference"><link href="251" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>提出了一种资源感知的虚拟机放置算法.目标是通过减小虚拟机放置所消耗的物理机数量来节约能耗, 同时尽量保证各个物理机上的负载均衡.但是没有考虑虚拟机负载的动态变化及其导致的资源冲突问题.</p>
                </div>
                <div class="p1">
                    <p id="47">Sharma等人<citation id="271" type="reference"><link href="253" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>提出了3种不同的启发式算法, 用于为虚拟机选择合适的物理机进行放置以提高整体的资源利用率, 但针对的是虚拟机迁移而非分配的问题;魏蔚等人<citation id="272" type="reference"><link href="255" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>提出了一种通用云计算资源调度问题的快速近似算法, 利用非线性规划的数学方法, 通过对资源需求分布函数以及资源总量的一系列反函数、求导等数学运算得出近似最优的资源分配方案, 但是其中涉及到的复杂数学运算会增加调度延迟.</p>
                </div>
                <div class="p1">
                    <p id="48">综上所述, 对于虚拟机资源的分配, 现有的研究主要使用虚拟机历史负载的峰值或者平均值来确定虚拟机需要分配的资源量.而对于虚拟机的放置, 常用的是降序首次适应策略 (FFD) 、降序最佳适应策略 (BFD) 以及下次适应策略 (next fit, NF) 还有遗传算法和非线性规划等.这些方法的目标一般是减少虚拟机分配策略的物理机消耗量, 从而节约物理资源并降低能耗.</p>
                </div>
                <div class="p1">
                    <p id="49">然而, 在实际场景中, 云数据中心虚拟机负载可能变化率很大, 不一定有明显的周期性.因此, 通过历史负载数据的峰值进行分配容易造成物理资源的浪费, 增大物理机消耗量, 导致运营成本增高;而使用历史负载的平均值进行分配则可能造成虚拟机的资源不足, 进而导致用户体验下降.遗传算法和非线性规划算法的计算比较复杂, 且在负载多变的场景下得出的最优方案容易失效, 不适应大量实时请求的处理.此外, 现有的研究大多通过单一的指标来确定分配方法的有效性, 例如比较分配方法的物理机消耗量或者对比资源冲突率, 缺乏一种全面的综合性指标.过于强调节省物理机数量, 可能造成物理机上虚拟机数量过多, 使得资源竞争严重, 进一步导致冲突率升高.反之, 过于强调减小资源冲突率可能需要为虚拟机多分配过量资源, 导致物理机利用率在大部分时间都比较空闲, 从而造成资源浪费.</p>
                </div>
                <div class="p1">
                    <p id="50">针对上述问题, 本文提出了2种新的基于历史数据的虚拟机分配方法以及1个综合有效性评价指标.简而言之, 本文的主要贡献有2方面:</p>
                </div>
                <div class="p1">
                    <p id="51">1) 提出了2种新的基于历史负载统计的资源分配方法, 并与常用的峰值分配法和平均值分配法进行了对比, 整体上优于现有的分配方法.</p>
                </div>
                <div class="p1">
                    <p id="52">2) 提出了1个综合有效性指标, 将物理机数量、资源利用率以及冲突率综合起来进行考虑, 能够合理地评估不同方案 (虚拟机分配方法+虚拟机放置策略) 的整体有效性, 得出最优方案.</p>
                </div>
                <h3 id="53" name="53" class="anchor-tag"><b>2 虚拟机资源分配系统模型</b></h3>
                <div class="p1">
                    <p id="54">本节定义了虚拟机资源 (本文指CPU) 分配以及虚拟机放置的系统模型, 以便于分配算法的实现和验证.表1列出经常要用到的符号以及对应的含义.</p>
                </div>
                <div class="area_img" id="55">
                    <p class="img_tit"><b>表1 符号和含义</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Notation and Meaning</b></p>
                    <p class="img_note"></p>
                    <table id="55" border="1"><tr><td><br />Notation</td><td>Meaning</td></tr><tr><td><br /><i>N</i><sub>v</sub></td><td>The number of virtual machines which need to be allocated</td></tr><tr><td><br /><i>N</i><sub>p</sub></td><td>The number of available physical machines</td></tr><tr><td><br /><i>N</i><sub>s</sub></td><td>The number of sampling values during a time interval</td></tr><tr><td><br /><i>N</i><sub>c</sub></td><td>The number of physical machines consumed by virtual machine allocation</td></tr><tr><td><br /><i>m</i><sub>v, <i>i</i></sub></td><td>The <i>i</i>th virtual machine in the request queue</td></tr><tr><td><br /><i>w</i><sub><i>i</i></sub></td><td>The history overhead data (i.e., CPU utilization) of <i>m</i><sub>v, <i>i</i></sub></td></tr><tr><td><br /><i>w</i><sub><i>i</i>, <i>j</i></sub></td><td>The overhead sampling data of <i>m</i><sub>v, <i>i</i></sub> at the given time <i>j</i></td></tr><tr><td><br /><i>m</i><sub>p, <i>i</i></sub></td><td>The <i>i</i>th physical machine in the physical machine queue</td></tr><tr><td><br /><b><i>V</i></b><sub>r</sub></td><td>The result vector of virtual machine resource allocation</td></tr><tr><td><br /><b><i>V</i></b><sub>p</sub></td><td>The position vector of virtual machines, i.e., the index list of target physical machines</td></tr><tr><td><br /><i>r</i><sub><i>i</i></sub></td><td>The <i>i</i>th element of <b><i>V</i></b><sub>r</sub>, i.e., the resource utilization allocated to <i>m</i><sub>v, <i>i</i></sub></td></tr><tr><td><br /><i>p</i><sub><i>i</i></sub></td><td>The <i>i</i>th element of <b><i>V</i></b><sub>p</sub>, i.e., the index number of target physical machine that hosts <i>m</i><sub>v, <i>i</i></sub></td></tr><tr><td><br /><i>T</i></td><td>The physical resource utilization threshold value which are used to calculate the cumulative resource utilization</td></tr><tr><td><br /><i>P</i><sub><i>T</i></sub></td><td>The cumulative resource utilization of physical machine after the allocation of virtual machines</td></tr><tr><td><br /><i>P</i><sub>c</sub></td><td>The overall resource collision rate of physical machine after the allocation of virtual machines</td></tr><tr><td><br /><i>S</i><sub><i>i</i></sub></td><td>The <i>i</i>th interval of history overhead data</td></tr><tr><td><br /><i>P</i><sub><i>i</i>, <i>j</i></sub></td><td>The possibility that <i>w</i><sub><i>i</i></sub> is in the <i>S</i><sub><i>j</i></sub> interval</td></tr><tr><td><br /><i>N</i><sub>v, <i>i</i></sub></td><td>The number of virtual machines that locate in <i>m</i><sub>p, <i>i</i></sub></td></tr><tr><td><br /><i>N</i><sub><i>T</i>, <i>i</i></sub></td><td>The times when resource utilization of <i>m</i><sub>p, <i>i</i></sub> reaches threshold <i>T</i></td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="56" name="56"><b>2.1 虚拟机资源分配模型</b></h4>
                <div class="p1">
                    <p id="57">假设系统中目前有<i>N</i><sub>p</sub>个可用的物理机、<i>N</i><sub>v</sub>个需要分配的虚拟机.每个虚拟机的历史负载有<i>N</i><sub>s</sub>个采样值, 每个采样值表示该虚拟机在该采样时刻的CPU资源利用率值.虚拟机资源分配的目的是根据每个虚拟机的历史负载数据确定其需要分配的CPU资源量, 模型为</p>
                </div>
                <div class="p1">
                    <p id="58">1) 现有的虚拟机集合为<mathml id="59"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>C</mi><msub><mrow></mrow><mtext>v</mtext></msub><mo>=</mo><mstyle displaystyle="true"><munder><mo>∪</mo><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>Ν</mi><msub><mrow></mrow><mtext>v</mtext></msub></mrow></munder><mrow><mrow><mo>{</mo><mrow><mi>m</mi><msub><mrow></mrow><mrow><mtext>v</mtext><mo>, </mo><mi>i</mi></mrow></msub></mrow><mo>}</mo></mrow></mrow></mstyle><mo>;</mo></mrow></math></mathml></p>
                </div>
                <div class="p1">
                    <p id="60">2) 虚拟机的历史数据集合为<mathml id="61"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>C</mi><msub><mrow></mrow><mtext>w</mtext></msub><mo>=</mo><mstyle displaystyle="true"><munder><mo>∪</mo><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>Ν</mi><msub><mrow></mrow><mtext>v</mtext></msub></mrow></munder><mrow><mrow><mo>{</mo><mrow><mi>w</mi><msub><mrow></mrow><mi>i</mi></msub></mrow><mo>}</mo></mrow></mrow></mstyle></mrow></math></mathml>, 其中, <mathml id="62"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>w</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mstyle displaystyle="true"><munder><mo>∪</mo><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></munder><mrow><mrow><mo>{</mo><mrow><mi>w</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub></mrow><mo>}</mo></mrow></mrow></mstyle><mo>, </mo><mn>0</mn><mo>≤</mo><mi>w</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub><mo>≤</mo><mn>1</mn><mn>0</mn><mn>0</mn><mo>;</mo></mrow></math></mathml></p>
                </div>
                <div class="p1">
                    <p id="63">3) 系统可用的物理机集合为<mathml id="64"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>C</mi><msub><mrow></mrow><mtext>p</mtext></msub><mo>=</mo><mstyle displaystyle="true"><munder><mo>∪</mo><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></munder><mo stretchy="false">{</mo></mstyle><mi>m</mi><msub><mrow></mrow><mrow><mtext>p</mtext><mo>, </mo><mi>i</mi></mrow></msub><mo stretchy="false">}</mo></mrow></math></mathml>;</p>
                </div>
                <div class="p1">
                    <p id="65">4) 资源分配 (<i>F</i><sub>r</sub>) 的目标为</p>
                </div>
                <div class="p1">
                    <p id="66"><i>F</i><sub>r</sub> (<i>C</i><sub>w</sub>) =<b><i>V</i></b><sub>r</sub>, (1) </p>
                </div>
                <div class="p1">
                    <p id="67"><b><i>V</i></b><sub>r</sub>= (<i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, …, <i>r</i><sub><i>n</i></sub>) . (2) </p>
                </div>
                <h4 class="anchor-tag" id="68" name="68"><b>2.2 虚拟机放置模型</b></h4>
                <div class="p1">
                    <p id="69">虚拟机放置的目标是将具有一定资源需求的虚拟机放置到合适的物理机上, 尽量使得分配之后物理机的整体资源冲突率最小并且资源利用率最大.虚拟机放置的模型为</p>
                </div>
                <div class="p1">
                    <p id="70"><i>F</i><sub><i>a</i></sub> (<b><i>V</i></b><sub>r</sub>, <i>T</i>) = (<b><i>V</i></b><sub>p</sub>, <i>N</i><sub>c</sub>, <i>P</i><sub><i>T</i></sub>, <i>P</i><sub>c</sub>) , (3) </p>
                </div>
                <div class="p1">
                    <p id="71"><b><i>V</i></b><sub>p</sub>= (<i>p</i><sub>1</sub>, <i>p</i><sub>2</sub>, …, <i>p</i><sub><i>n</i></sub>) , (4) </p>
                </div>
                <div class="p1">
                    <p id="72">其中, <i>F</i><sub><i>a</i></sub>为虚拟机放置策略, 输入参数是虚拟机的资源利用率需求向量<b><i>V</i></b><sub>r</sub>以及资源利用率阈值<i>T</i>.经过该策略作用之后, 输出结果是虚拟机分配需要的物理机数量<i>N</i><sub>c</sub>、虚拟机位置向量<b><i>V</i></b><sub>p</sub>、虚拟机放置完成之后物理机的总体资源利用率达到阈值<i>T</i>的概率<i>P</i><sub><i>T</i></sub> (即4.2节所述的累积资源利用率) , 以及总体物理资源冲突率<i>P</i><sub>c</sub>.其中<i>N</i><sub>c</sub>, <i>P</i><sub><i>T</i></sub>, <i>P</i><sub>c</sub>将作为评价虚拟机分配方案 (即虚拟机资源分配方法与虚拟机放置策略的组合) 有效性的指标, 本文第4节将进行详细论述.</p>
                </div>
                <h4 class="anchor-tag" id="73" name="73"><b>2.3 虚拟机资源分配方法</b></h4>
                <div class="p1">
                    <p id="74">虚拟机资源分配的方法有多种, 常用的是根据历史数据的峰值或者平均值确定虚拟机需要的资源量<citation id="273" type="reference"><link href="237" rel="bibliography" /><link href="239" rel="bibliography" /><link href="247" rel="bibliography" /><link href="249" rel="bibliography" /><sup>[<a class="sup">2</a>,<a class="sup">3</a>,<a class="sup">7</a>,<a class="sup">8</a>]</sup></citation>, 本文分别用WMAX和WMEAN表示.为了解决现有方法资源分配有效性不高的问题, 本文提出了通过负载分布概率以及期望值进行资源分配的方法.参照表1, 令<i>r</i><sub><i>i</i></sub>表示虚拟机<i>m</i><sub>v, <i>i</i></sub>分配到的物理资源利用率, <i>w</i><sub><i>i</i>, <i>j</i></sub>表示虚拟机<i>m</i><sub>v, <i>i</i></sub>在采样时刻<i>j</i>的负载值, <i>N</i><sub>s</sub>为虚拟机负载采样值的数量, 则各种资源分配方法的数学描述为</p>
                </div>
                <div class="p1">
                    <p id="75">1) 基于负载峰值的资源分配 (WMAX) , 即<mathml id="76"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo></mrow><munder><mstyle mathsize="140%" displaystyle="true"><mrow><mi>max</mi></mrow></mstyle><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></munder><mi>w</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub></mrow></math></mathml>, 表示使用历史负载的峰值作为该虚拟机下一阶段的资源分配值;</p>
                </div>
                <div class="p1">
                    <p id="77">2) 基于负载平均值的资源分配 (WMEAN) , 即<mathml id="78"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><msub><mrow></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></munderover><mi>w</mi></mstyle><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub></mrow></math></mathml>, 表示使用历史负载的平均值作为该虚拟机下一阶段虚拟机资源分配值;</p>
                </div>
                <div class="p1">
                    <p id="79">3) 基于负载分布概率的资源分配 (WMIR) , 即<i>r</i><sub><i>i</i></sub>=<i>d</i>×<i>s</i>且<mathml id="80"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>s</mi></mrow></msub><mo>=</mo><munder><mstyle mathsize="140%" displaystyle="true"><mrow><mi>max</mi></mrow></mstyle><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mi>d</mi></mrow></munder><mspace width="0.25em" /><mi>Ρ</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub></mrow></math></mathml>, 表示将历史负载数据平均分为<i>d</i>个区间, <i>s</i>是数据量最大的区间编号, <i>d</i>×<i>s</i>是数据分布概率最大的区间右端点值, 将其作为虚拟机的下一阶段资源分配值, 本文中<i>d</i>=10;</p>
                </div>
                <div class="p1">
                    <p id="81">4) 基于负载期望值的资源分配 (WEX) , 即 <i>r</i><sub><i>i</i></sub>=<mathml id="82"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></munderover><mrow><mrow><mo> (</mo><mrow><mfrac><mrow><mi>d</mi><mo>×</mo><mo stretchy="false"> (</mo><mi>j</mi><mo>-</mo><mn>1</mn><mo stretchy="false">) </mo><mo>+</mo><mi>d</mi><mo>×</mo><mi>j</mi></mrow><mn>2</mn></mfrac></mrow><mo>) </mo></mrow></mrow></mstyle><mo>×</mo><mi>Ρ</mi><msub><mrow></mrow><mrow><mi>i</mi><mo>, </mo><mi>j</mi></mrow></msub></mrow></math></mathml>, 表示使用历史负载各个区间的中点值与该区间概率值乘积之和, 作为历史负载的总体期望值.用该期望值作为虚拟机的下一阶段资源分配值, 本文中<i>d</i>=10.</p>
                </div>
                <div class="p1">
                    <p id="83">在实际应用场景下, 历史数据会随时间不断积累, 所以需要周期性地进行计算, 根据新的分析结果调整虚拟机的放置.这可能会引入虚拟机的迁移工作, 这一部分的讨论不在本文范围内.本文的目标是尽量使得虚拟机的初始分配能够适应负载的变化, 提高物理资源的整体利用率, 同时减小冲突率.</p>
                </div>
                <h3 id="84" name="84" class="anchor-tag"><b>3 虚拟机放置策略</b></h3>
                <div class="p1">
                    <p id="85">根据虚拟机的负载请求为虚拟机分配资源之后, 需要将虚拟机以一定的策略放置到具体的物理机上.通常将该问题抽象为装箱问题, 将物理机看作是固定大小的箱子, 而虚拟机看作是具有不同体积的物品.如果在进行虚拟机放置时考虑多种资源限制, 比如CPU利用率、内存利用率以及磁盘利用率等, 则可抽象为多维装箱问题.多维装箱问题较为复杂, 因此目前许多相关工作将其简化为1维装箱问题<citation id="274" type="reference"><link href="257" rel="bibliography" /><link href="259" rel="bibliography" /><link href="261" rel="bibliography" /><sup>[<a class="sup">12</a>,<a class="sup">13</a>,<a class="sup">14</a>]</sup></citation>, 通常考虑的维度是CPU利用率.在1维装箱问题中, 常用的装箱算法有下次适应 (NF) 算法、降序首次适应 (FFD) 算法以及降序最佳适应算法 (BFD) 等.本文中, 物品对应的是虚拟机, 物品的尺寸即虚拟机的CPU利用率负载;箱子对应的是物理机, 箱子的尺寸即物理机的CPU利用率阈值.当虚拟机分配请求到来后, 组成1个虚拟机资源请求队列<b><i>L</i></b><sub>v</sub> (队列成员值为各虚拟机的物理CPU资源需求) 以及可用的物理机队列<b><i>L</i></b><sub>p</sub> (队列成员值为各物理机CPU已使用率) .本节描述了这种场景下的常用虚拟机放置算法.</p>
                </div>
                <h4 class="anchor-tag" id="86" name="86"><b>3.1 下次适应 (NF) 算法</b></h4>
                <div class="p1">
                    <p id="87">从虚拟机资源请求队列的队首开始分配, 只要该虚拟机的CPU利用率请求没有超过物理机的CPU阈值, 就将其分配到物理机队列的第1个物理机中, 然后处理第2个虚拟机请求.如果第2个虚拟机请求可以分配到第1个物理机中而不超过其空闲CPU利用率, 则将其分配到第1个物理机中, 否则启用第2个物理机来放置虚拟机, 而第1个物理机将不再考虑放置剩余的虚拟机, 如此循环, 直到<b><i>L</i></b><sub>v</sub>中所有虚拟机都被分配为止.算法伪代码如算法1:</p>
                </div>
                <div class="area_img" id="232">
                                <img alt="" src="Detail/GetImg?filename=images/JFYZ201904010_23200.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="105" name="105"><b>3.2 降序首次适应 (FFD) 算法</b></h4>
                <div class="p1">
                    <p id="106">FFD算法首先将虚拟机按照资源请求降序排列为虚拟机资源请求队列<b><i>L</i></b><sub>v</sub>, 然后通过首次适应 (FF) 算法进行分配.具体过程是:先顺序扫描物理机队列<b><i>L</i></b><sub>p</sub>, 将当前虚拟机请求放入第1个能够容纳它的物理机中.如果当前打开的物理机不能容纳该虚拟机, 则打开1个新的物理机进行放置, 如此循环直至所有虚拟机放置完.算法伪代码如算法2:</p>
                </div>
                <div class="area_img" id="233">
                                <img alt="" src="Detail/GetImg?filename=images/JFYZ201904010_23300.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <div class="area_img" id="233">
                                <img alt="" src="Detail/GetImg?filename=images/JFYZ201904010_23301.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <h4 class="anchor-tag" id="125" name="125"><b>3.3 降序最佳适应 (BFD) 算法</b></h4>
                <div class="p1">
                    <p id="126">BFD算法首先将虚拟机请求降序排列为虚拟机资源请求队列<b><i>L</i></b><sub>v</sub>, 然后按照排好的顺序通过最佳适应 (BF) 算法进行分配.具体过程是:放置虚拟机时先按顺序扫描已经打开的物理机, 将其放入第1个能够容纳该虚拟机且放置之后空闲利用率最小的物理机中, 如果当前打开的物理机不能容纳该虚拟机, 则打开1个新的物理机进行放置, 如此循环直至所有虚拟机放置完.算法伪代码如算法3:</p>
                </div>
                <div class="area_img" id="234">
                                <img alt="" src="Detail/GetImg?filename=images/JFYZ201904010_23400.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                            <p class="img_tit"></p>

                </div>
                <h3 id="146" name="146" class="anchor-tag"><b>4 虚拟机分配方案的评价指标</b></h3>
                <div class="p1">
                    <p id="147">第3节描述了多种虚拟机资源分配方法和放置策略, 如何合理地评价这些方案的有效性是一个关键问题.单纯地使用某一方面的指标来评价方案的有效性比较片面.例如消耗的物理机数量少不一定表示该分配方法很有效, 因为这样有可能造成每个物理机上的资源竞争比较激烈, 导致资源冲突率升高.因此, 本文认为:从虚拟机的分配所消耗的物理机数量、物理机的资源利用率以及总体冲突率3个方面来综合评价虚拟机分配方案会更合理.下面分别对这3个指标进行说明.</p>
                </div>
                <h4 class="anchor-tag" id="148" name="148"><b>4.1 物理机的消耗数量</b></h4>
                <div class="p1">
                    <p id="149">物理机的消耗数量指的是服务所有虚拟机请求需要开启的物理机数量.显然, 在虚拟机请求量一定的情况下, 分配方案消耗的物理机数量越少, 则能源消耗越小.反过来讲, 使用的物理机少也意味着每个物理机上平均承载的虚拟机数量多, 这样能够提高物理资源的利用率, 但是却容易增大物理机上的资源冲突率.</p>
                </div>
                <h4 class="anchor-tag" id="150" name="150"><b>4.2 物理机的累积资源利用率</b></h4>
                <div class="p1">
                    <p id="151">在云环境中, 平均资源利用率并不能有效表示物理机的资源利用情况.主要原因在于, 虚拟机的负载会随着时间变化, 导致物理机资源利用率的时变性较大.例如物理机在时刻<i>t</i><sub>1</sub>的资源利用率为70%, 到了时刻<i>t</i><sub>2</sub>可能会变为20%.所以使用一般的资源利用率统计值表示物理机的资源利用情况, 容易造成资源分配出现较大的偏差, 导致物理机过载或低载.</p>
                </div>
                <div class="p1">
                    <p id="152">为了解决这个问题, 本文提出了基于概率分布的累积资源利用率来表示物理机在一段时间内的资源利用情况.以CPU资源利用率为例, 累积资源利用率定义为</p>
                </div>
                <div class="p1">
                    <p id="153">1) 设物理机资源利用率的阈值为<i>T</i>, 表示希望物理机的资源利用率能够达到<i>T</i>值以上, 以确保物理资源得到充分利用.</p>
                </div>
                <div class="p1">
                    <p id="154">2) 设物理机<i>x</i>的CPU资源利用率矩阵为</p>
                </div>
                <div class="p1">
                    <p id="155" class="code-formula">
                        <mathml id="155"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi mathvariant="bold-italic">U</mi><msub><mrow></mrow><mi>x</mi></msub><mo>=</mo><mrow><mo> (</mo><mrow><mtable><mtr><mtd><mi>u</mi><msub><mrow></mrow><mrow><mn>1</mn><mo>, </mo><mn>1</mn></mrow></msub></mtd><mtd><mo>⋯</mo></mtd><mtd><mi>u</mi><msub><mrow></mrow><mrow><mn>1</mn><mo>, </mo><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></msub></mtd></mtr><mtr><mtd><mo>⋮</mo></mtd><mtd></mtd><mtd><mo>⋮</mo></mtd></mtr><mtr><mtd><mi>u</mi><msub><mrow></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>v</mtext><mo>, </mo><mi>i</mi></mrow></msub><mo>, </mo><mn>1</mn></mrow></msub></mtd><mtd><mo>⋯</mo></mtd><mtd><mi>u</mi><msub><mrow></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>v</mtext><mo>, </mo><mi>i</mi></mrow></msub><mo>, </mo><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></msub></mtd></mtr></mtable></mrow><mo>) </mo></mrow></mrow></math></mathml>
                    </p>
                </div>
                <div class="p1">
                    <p id="157">其中, <i>u</i><sub><i>i</i>, <i>j</i></sub>表示该物理机上第<i>i</i>个虚拟机在第<i>j</i>个采样时刻的负载值, 物理机<i>x</i>的资源利用率达到<i>T</i>以上的概率表示为</p>
                </div>
                <div class="p1">
                    <p id="158"><mathml id="159"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>x</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>x</mi></mrow></msub></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></mfrac></mrow></math></mathml>, (5) </p>
                </div>
                <div class="p1">
                    <p id="160"><mathml id="161"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>x</mi></mrow></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub></mrow></munderover><mi>Ι</mi></mstyle><mrow><mo> (</mo><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mrow><mtext>v</mtext><mo>, </mo><mi>x</mi></mrow></msub></mrow></munderover><mi>U</mi></mstyle><msub><mrow></mrow><mrow><mo>⋅</mo><mi>j</mi></mrow></msub><mo>&gt;</mo><mi>Τ</mi></mrow><mo>) </mo></mrow></mrow></math></mathml>, (6) </p>
                </div>
                <div class="p1">
                    <p id="162">其中, <i>I</i> (<i>A</i>) 为指示函数, 当条件<i>A</i>成立时<i>I</i> (<i>A</i>) =1, 否则<i>I</i> (<i>A</i>) =0;<i>N</i><sub><i>T</i>, <i>x</i></sub>表示采样周期内, 物理机<i>x</i>的CPU资源利用率 (即其上的所有虚拟机分配到的物理CPU利用率之和) 达到阈值<i>T</i>及以上的次数.</p>
                </div>
                <div class="p1">
                    <p id="163">当对比物理机资源利用率时, 需要将所有已开启的物理机当作一个整体来看.假设物理机的资源向量为<b><i>P</i></b><sub>r</sub>= (<i>p</i><sub>r, 1</sub>, <i>p</i><sub>r, 2</sub>, …, <i>p</i><sub>r, <i>N</i><sub>p</sub></sub>) , 其中<i>p</i><sub>r, <i>i</i></sub>表示第<i>i</i>个物理机的最大CPU利用率, <i>N</i><sub>p</sub>表示消耗的物理机总数.因此, 当物理机资源利用率阈值为<i>T</i>时, 定义累积资源利用率<i>P</i><sub><i>T</i></sub>为</p>
                </div>
                <div class="p1">
                    <p id="164"><mathml id="165"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msub><mrow></mrow><mi>Τ</mi></msub><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></munderover><mi>Ρ</mi></mstyle><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>i</mi></mrow></msub><mo>×</mo><mi>p</mi><msub><mrow></mrow><mrow><mtext>r</mtext><mo>, </mo><mi>i</mi></mrow></msub></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></munderover><mi>p</mi></mstyle><msub><mrow></mrow><mrow><mtext>r</mtext><mo>, </mo><mi>i</mi></mrow></msub></mrow></mfrac></mrow></math></mathml>. (7) </p>
                </div>
                <div class="p1">
                    <p id="166">为了简化问题, 将物理机的资源利用率进行归一化, 以机器上的物理CPU数量为缩放因子, 使得每个物理机的最大CPU利用率标准化为100%, 因此对任意<i>i</i>, <i>j</i>有<i>p</i><sub>r, <i>i</i></sub>=<i>p</i><sub>r, <i>j</i></sub>=100%, 则式 (7) 可以简化为</p>
                </div>
                <div class="p1">
                    <p id="167"><mathml id="168"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msub><mrow></mrow><mi>Τ</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></munderover><mi>Ρ</mi></mstyle><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>i</mi></mrow></msub></mrow></math></mathml>. (8) </p>
                </div>
                <div class="p1">
                    <p id="169">将式 (5) 代入式 (8) , 化简之后可得出</p>
                </div>
                <div class="p1">
                    <p id="170"><mathml id="171"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>Ρ</mi><msub><mrow></mrow><mi>Τ</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>s</mtext></msub><mo>×</mo><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow></munderover><mi>Ν</mi></mstyle><msub><mrow></mrow><mrow><mi>Τ</mi><mo>, </mo><mi>i</mi></mrow></msub></mrow></math></mathml>. (9) </p>
                </div>
                <div class="p1">
                    <p id="172">由式 (9) 可以看出, 在需要分配的虚拟机数量以及虚拟机资源请求确定的前提下, 最终物理机总体的累积资源利用率与虚拟机资源分配方法和虚拟机放置策略都有关系, 前者主要影响<i>N</i><sub><i>T</i>, <i>i</i></sub>的值, 后者主要影响<i>N</i><sub>p</sub>值.</p>
                </div>
                <h4 class="anchor-tag" id="173" name="173"><b>4.3 总体资源冲突率</b></h4>
                <div class="p1">
                    <p id="174">总体资源冲突率指的是某台物理机上的所有虚拟机在某一时间段内的资源冲突率.由于目前的主流虚拟平台 (如Xen, VMWare) 都支持虚拟机之间的物理资源共享, 所以各个虚拟机的资源需求总和可能超过物理资源总量, 此时就会造成资源冲突.例如某台物理机上分配了2个虚拟机<i>A</i>和<i>B</i>, 初始CPU资源利用率都是40%, 则物理机CPU总利用率为80%, 此时没有资源冲突.假如一段时间之后, 虚拟机<i>A</i>的CPU利用率需求增长为80%, 此时虚拟机<i>A</i>和<i>B</i>所需要的CPU资源总利用率达到120%, 超过了物理机的CPU总利用率, 从而导致资源冲突, 进一步造成虚拟机的性能下降, 影响用户体验.为了描述资源冲突的可能性, 定义总体资源冲突率为采样周期内物理机资源利用率超过100%的概率, 其计算方法与<i>P</i><sub><i>T</i></sub>相同, 只是将阈值<i>T</i>设为100, 即:</p>
                </div>
                <div class="p1">
                    <p id="175"><i>P</i><sub>c</sub>=<i>P</i><sub><i>T</i></sub> (<i>T</i>=100) . (10) </p>
                </div>
                <h4 class="anchor-tag" id="176" name="176"><b>4.4 综合有效性指标</b></h4>
                <div class="p1">
                    <p id="177">第4节第1段已经论述过, 单独通过某一指标评估虚拟机分配方法的有效性具有片面性.本文认为, 在比较各种虚拟机分配方法时, 需要考虑3个指标, 即分配虚拟机资源请求需要的物理机数量<i>N</i><sub>p</sub>、虚拟机放置之后物理机的累积资源利用率<i>P</i><sub><i>T</i></sub>以及总体资源冲突率<i>P</i><sub>c</sub>.为了从整体上考虑这3个指标, 本文提出了一个虚拟机分配方法的综合有效性指标<i>E</i>, 其计算方法为</p>
                </div>
                <div class="p1">
                    <p id="178"><mathml id="179"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>E</mi><mo>=</mo><mi>α</mi><mo>×</mo><mi>Ρ</mi><msub><mrow></mrow><mi>Τ</mi></msub><mo>+</mo><mi>β</mi><mo>×</mo><mrow><mo> (</mo><mrow><mn>1</mn><mo>-</mo><mfrac><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>p</mtext></msub></mrow><mrow><mi>Ν</mi><msub><mrow></mrow><mtext>v</mtext></msub></mrow></mfrac></mrow><mo>) </mo></mrow><mo>+</mo><mi>γ</mi><mo>×</mo><mo stretchy="false"> (</mo><mn>1</mn><mo>-</mo><mi>Ρ</mi><msub><mrow></mrow><mtext>c</mtext></msub><mo stretchy="false">) </mo></mrow></math></mathml>, (11) </p>
                </div>
                <div class="p1">
                    <p id="180">其中, <i>N</i><sub>v</sub>为需要分配的虚拟机请求的数量;<i>N</i><sub>c</sub>为虚拟机请求消耗的物理机数量;<i>α</i>, <i>β</i>, <i>γ</i>∈ (0, 1) 表示各个指标的权重值, 且<i>α</i>+<i>β</i>+<i>γ</i>=1;<i>E</i>∈ (0, 1) .</p>
                </div>
                <div class="p1">
                    <p id="181">式 (11) 的含义是, 当需要分配的虚拟机请求数量一定时, <i>E</i>越接近1, 则方法的综合有效性越好.实际意义是, 综合有效性高表示物理机资源利用率高, 消耗的物理机数量少, 同时资源冲突率小, 分配方案总体上更优.对于不同的应用场景, 主要关注的指标可能有所不同, 可根据实际需求调整上述3个权重值.</p>
                </div>
                <h3 id="182" name="182" class="anchor-tag"><b>5 实验与分析</b></h3>
                <div class="p1">
                    <p id="183">为了验证综合有效性指标的可行性, 并对比虚拟机分配方案的有效性, 本节使用4.4节所述的数学模型, 利用真实的虚拟机负载进行实验评估.简而言之, 首先通过Matlab程序实现了第2节的数学模型和第3节的放置策略, 然后设置不同的参数调用各种虚拟机分配方案对应的函数来处理实际的虚拟机负载, 输出第4节描述的各项指标, 最后通过这些指标来评估虚拟机分配方案.实验使用的虚拟机负载集来自PlanetLab<citation id="277" type="note"><link href="275" rel="footnote" /><sup>①</sup></citation>项目, 这些负载数据都是真实的虚拟机所占用的物理CPU利用率数据.该数据集共有10天的虚拟机负载, 每一天的虚拟机数目都是1 000左右, 每个虚拟机每天的负载数据包含288个采样值 (每5 min采样1次) .评估的目标包括3种常用的虚拟机放置策略 (NF, FFD, BFD) 以及4种资源分配方法 (WMAX, WMEAN, WMIR, WEX) .评估的指标是第4节叙述的虚拟机分配消耗的平均物理机数量、物理机累积资源利用率、资源冲突率以及综合有效性.</p>
                </div>
                <div class="p1">
                    <p id="184">一般来说, 历史数据越充分, 统计结果就越有代表性, 为虚拟机分配的资源应该越合理.但是, 实时统计大量数据会增大调度系统的延迟.因此, 没有必要统计所有历史数据, 选择部分近期的数据作为代表也可以反映虚拟机近期的负载情况.本文的实验中使用1/8的负载数据作为历史数据, 以此为基础为虚拟机分配资源.对于云数据中心来说, 最关键的目标是满足客户的需求, 在此前提下充分利用物理机资源.因此, 一般来说, 资源冲突率指标 (<i>γ</i>) 占的权值最大, 资源利用率 (<i>α</i>) 次之.所以本实验设置式 (11) 的有效性指标各部分权值为:<i>α</i>=0.3, <i>β</i>=0.2, <i>γ</i>=0.5, 设置物理机CPU利用率阈值<i>T</i>=80%.下面从4个方面分别讨论实验结果.</p>
                </div>
                <h4 class="anchor-tag" id="185" name="185"><b>5.1 物理机的消耗数量</b></h4>
                <div class="p1">
                    <p id="186">图1展示了不同虚拟机资源分配方法与虚拟机 (VM) 放置策略的组合导致的平均物理机 (PM) 消耗量 (越低越好) .</p>
                </div>
                <div class="area_img" id="187">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201904010_187.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 虚拟机分配消耗的物理机数量" src="Detail/GetImg?filename=images/JFYZ201904010_187.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 虚拟机分配消耗的物理机数量  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201904010_187.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 1 The number of PMs consumed by VMs’ allocation</p>

                </div>
                <div class="p1">
                    <p id="188">从图1可以看出, 不论采用何种放置策略, WMAX方法消耗的物理机数量最多.这是因为WMAX方法根据虚拟机历史负载的峰值进行资源分配, 使得每个物理机上能够放置的虚拟机数量最少, 因此消耗的物理机最多.WMEAN方法消耗的物理机数量最少, 这主要因为这些虚拟机大部分时候的负载都比较小, 因此根据历史负载计算出的平均负载也比较小, 使得每个物理机上分配到的虚拟机数量较多, 消耗的物理机数量少.WMIR和WEX计算出的资源需求量接近, 因此消耗的物理机数量接近, 都略高于WMEAN (不超过20%) , 但是相对于WMAX的物理机消耗数量大幅减少了约60%.</p>
                </div>
                <div class="p1">
                    <p id="189">3种虚拟机放置策略消耗的物理机数量差别较小.在WMAX方法下, NF策略消耗的物理机明显多一些, 而在其他方法下则差别不明显.BFD策略消耗的物理机数量最少, FFD策略消耗的物理机数量略多.这是因为BFD策略放置虚拟机的时候中心思想是尽量把每个物理机都放置满, 每一轮放置都要扫描剩余的所有虚拟机, 找到最接近剩余容量的虚拟机请求, 这样使得物理机上的虚拟机放置在这3种策略里面最“紧凑”, 从而消耗的物理机数量最少.因此, 从物理机消耗量来看, WMAX方法代价太大, 不推荐使用, BFD策略最节约, 应该优先考虑.单独从节省物理机资源的角度来看, 使用BFD+WEX, BFD+WMEAN基本是最优的.</p>
                </div>
                <h4 class="anchor-tag" id="190" name="190"><b>5.2 物理机的累积资源利用率</b></h4>
                <div class="p1">
                    <p id="191">图2展示了在设置物理机资源利用率阈值为80%时, 不同虚拟机资源分配方法与虚拟机放置策略的组合对应的累积资源利用率对比 (越高越好) .</p>
                </div>
                <div class="area_img" id="192">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201904010_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 物理机的累积资源利用率" src="Detail/GetImg?filename=images/JFYZ201904010_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 物理机的累积资源利用率  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201904010_192.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 2 The cumulative resource utilization of PMs</p>

                </div>
                <div class="p1">
                    <p id="193">从图2可以看出, WMAX方法下物理机的累积资源利用率很小 (0.1以下) , 原因是该方法使得物理机上分配的虚拟机较少, 且由于虚拟机的负载较小, 因此无法充分利用物理资源, 造成比较严重的浪费.这种情况在虚拟机负载变化率大时会更严重.WMEAN方法整体上的累积资源利用率最高, 其次为WEX, 接着是WMIR.这3种方法的累积资源利用率高于WMAX的原因是, 能够在一定程度上规避少量突发大负载对资源分配的影响, 尽量根据负载的整体水平来分配资源.在3种虚拟机放置策略中, NF策略的资源利用率最高, FFD略高于BFD.所以从资源利用率方面来看, 接近最优的方案应该是NF+WMEAN, NF+WEX次之.</p>
                </div>
                <h4 class="anchor-tag" id="194" name="194"><b>5.3 总体冲突率</b></h4>
                <div class="p1">
                    <p id="195">图3展示了不同虚拟机资源分配方法与虚拟机放置策略的组合导致的总体冲突率, 即物理机平均资源冲突率对比 (越低越好) .</p>
                </div>
                <div class="area_img" id="196">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201904010_196.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 物理机平均资源冲突率" src="Detail/GetImg?filename=images/JFYZ201904010_196.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 物理机平均资源冲突率  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201904010_196.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 3 The average resource collision rate of PMs</p>

                </div>
                <div class="p1">
                    <p id="197">从图3可以看出, WMAX的冲突率最小 (不超过0.05) , 而WMEAN的冲突率最大, WMIR与WEX则介于2者之间.结合图2和图3可知, 累积资源利用率与总体冲突率之间存在一定程度的正相关关系.正如5.2节的分析, 由于WMAX策略使得每个物理机上分配的虚拟机数量最少, 因此其总体的累积资源利用率最小, 这种情况下发生资源冲突的概率最小.而其他3种分配方法虽然提升了资源利用率, 却由于物理机上的虚拟机分配较多, 更容易造成资源冲突.此外, NF策略造成的冲突率比其他虚拟机放置策略大约高1倍.所以从资源冲突率来看, 首选方案应该是BFD+WMIR, FFD+WMIR次之.</p>
                </div>
                <h4 class="anchor-tag" id="198" name="198"><b>5.4 综合有效性</b></h4>
                <div class="p1">
                    <p id="199">结合图1、图2以及图3可以得出, 关注的指标不同会导致不同的最优方案.在实际环境中, 负载模式的差别也会造成最优方案的不同.然而, 云数据中心需要有能够兼顾3个指标的方案, 使得在满足用户需求的同时能够充分利用现有物理资源, 减小消耗的物理机数量, 从而降低成本.本文提出的综合有效性指标可以将3种指标统一起来, 便于为云数据中心选择合适的虚拟机分配方案.本文实验设置3个指标的权重为:<i>α</i>=0.3, <i>β</i>=0.2, <i>γ</i>=0.5, 根据式 (11) 计算不同分配方案的有效性指标<i>E</i>值, 得出表2:</p>
                </div>
                <div class="area_img" id="200">
                    <p class="img_tit"><b>表2 综合有效性对比</b> % <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 2 Integrated Effectiveness Comparison</b></p>
                    <p class="img_note"></p>
                    <table id="200" border="1"><tr><td rowspan="2"><br />Placement<br />Strategy</td><td colspan="4"><br />Resource Allocation Methods for VMs</td></tr><tr><td><br />WMAX</td><td>WMEAN</td><td>WMIR</td><td>WEX</td></tr><tr><td><br />NF</td><td>59</td><td>55</td><td>65</td><td>60</td></tr><tr><td><br />BFD</td><td>61</td><td>68</td><td><b>71</b></td><td>69</td></tr><tr><td><br />FFD</td><td>61</td><td>68</td><td>70</td><td>68</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note">Notes: Bold value means BFD+WMIR scheme is able to get the highest integrated effectiveness.</p>
                </div>
                <div class="p1">
                    <p id="201">由表2可以看出, 在PlanetLab的应用场景下, 使用BFD+WMIR方案能够达到最高的综合有效性, FFD+WMIR次之.这表明, BFD+WMIR方案最能够在充分利用物理资源的同时减少消耗的物理机数量, 并降低资源冲突率.结合图1、图2以及图3可以发现, 该结论与5.1节、5.2节以及5.3节的分析相吻合, 也就是说综合有效性指标能够合理地综合评价虚拟机分配方案.但是要注意的是, 如果应用的需求发生变化, 则需相应调整<i>α</i>, <i>β</i>, <i>γ</i>的值, 得出的最优组合会相应地变化.虽然粗略看来, 综合有效性指标的通用性似乎较小.但实际上这样的灵活性对于负载多变的数据中心来说更加有利.数据中心可根据实际需求设置综合有效性指标的各部分权值, 选择最合适的虚拟机分配方案, 从而减少成本、增加收益.</p>
                </div>
                <h3 id="202" name="202" class="anchor-tag"><b>6 结果与讨论</b></h3>
                <div class="p1">
                    <p id="203">从实验结果来看, 首先, 本文提出的综合有效性指标能够从整体上合理地评估虚拟机分配方案, 且具有较强的灵活性.其次, 本文提出的虚拟机资源分配方法WEX和WMIR的综合有效性都高于常用的方法WMAX和WMEAN.因此, 在要求提高物理机资源利用率同时减少资源冲突率的场景下, 本文提出的WMIR方法以及WEX方法表现比常用的虚拟机资源分配方法更优异.</p>
                </div>
                <div class="p1">
                    <p id="204">需要注意的是, 不同的应用场景要求的指标权重值有所不同, 得出的最优策略也不尽相同, 不能一概而论.实际上, 在确定应用需求后, 就可以大致设置这3个评价指标的权重, 然后根据虚拟机的历史负载数据通过仿真测试得出最优方案, 再按照最优方案进行实际的虚拟机分配.这种思路具有很大的灵活性和可操作性, 可应用在数据中心进行自适应的虚拟机最优分配.通过这样的一个自适应机制, 就可以动态地根据虚拟机负载的变化以及用户的需求进行方案的调整, 从而达到节约物理资源、减小成本、提高收益的目的.当然, 本文是基于PlanetLab的应用场景进行的实验, 与生产环境中的云数据中心场景有所不同.在实际应用时还需针对相应的平台进行改进, 这也是作者未来的研究方向之一.</p>
                </div>
                <h3 id="205" name="205" class="anchor-tag"><b>7 总 结</b></h3>
                <div class="p1">
                    <p id="206">本文提出了2种根据历史数据统计信息进行虚拟机资源分配的方法以及1个综合有效性指标, 能够从整体上评估物理机消耗量、资源利用率以及冲突率3方面的指标, 得出整体最优的方案.通过实际的虚拟机负载实验验证, 本文提出的资源分配方法在3种常用的虚拟机放置策略下能够达到整体最优.本文提出的根据历史数据统计信息进行虚拟机资源分配的方法以及综合有效性指标能够应用于云数据中心的虚拟机分配, 在满足用户服务需求的同时, 达到提高资源利用率并降低冲突率的目标.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="235">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJCM&amp;filename=SJCM13091000054826&amp;v=MzA4MDdJWTdLN0h0ak5yNDlGWk80TEJINC9vQk1UNlQ0UFFIL2lyUmRHZXJxUVRNbndaZVp1SHlqbVVMdkxJVm9kYnhZPU5pZg==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b>Barham P, Dragovic B, Fraser K, et al.Xen and the art of virtualization[J].ACM SIGOPS Operating Systems Review, 2003, 37 (5) :164-177
                            </a>
                        </p>
                        <p id="237">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Efficient resource provisioning in compute clouds via VM multiplexing">

                                <b>[2]</b>Meng Xiaoqiao, Isci C, Kephart J, et al.Efficient resource provisioning in compute clouds via VM multiplexing[C]//Proc of the 7th ACM Int Conf on Autonomic Computing.New York:ACM, 2010:11-20
                            </a>
                        </p>
                        <p id="239">
                            <a id="bibliography_3" target="_blank" href="http://scholar.cnki.net/result.aspx?q=An optimized capacity planning approach for virtual infrastructure exhibiting stochastic workload">

                                <b>[3]</b>Mylavarapu S, Sukthankar V, Banerjee P.An optimized capacity planning approach for virtual infrastructure exhibiting stochastic workload[C]//Proc of the ACM Symp on Applied Computing.New York:ACM, 2010:386-390
                            </a>
                        </p>
                        <p id="241">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=On the use of fuzzy modeling in virtualized data center management">

                                <b>[4]</b>Xu Jing, Zhao Ming, Fortes J, et al.On the use of fuzzy modeling in virtualized data center management[C]//Proc of the 4th IEEE Int Conf on Autonomic Computing.Piscataway, NJ:IEEE, 2007:25-35
                            </a>
                        </p>
                        <p id="243">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Multi-objective virtual machine placement in virtualized data center environments">

                                <b>[5]</b>Xu Jing, Fortes J.Multi-objective virtual machine placement in virtualized data center environments[C]//Proc of the IEEE/ACM Int Conf on Computing and Communications&amp;on Cyber, Physical and Social Computing.Piscataway, NJ:IEEE, 2010:179-188
                            </a>
                        </p>
                        <p id="245">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Energy Efficient Allocation of Virtual Machines in Cloud Data Centers">

                                <b>[6]</b>Beloglazov A, Buyya R.Energy efficient allocation of virtual machines in cloud data centers[C]//Proc of the 10th IEEE/ACM Int Conf on Cluster, Cloud and Grid Computing (CCGrid) .Piscataway, NJ:IEEE, 2010:577-578
                            </a>
                        </p>
                        <p id="247">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A Mathematical Programming Approach for Server Consolidation Problems in Virtualized Data Centers">

                                <b>[7]</b>Speitkamp B, Bichler M.A mathematical programming approach for server consolidation problems in virtualized data centers[J].IEEE Transactions on Services Computing, 2010, 3 (4) :266-278
                            </a>
                        </p>
                        <p id="249">
                            <a id="bibliography_8" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJX201112002&amp;v=MjQ0NzBScUZDbmhXcnJNTHo3QmRyRzRIOUROclk5RlpvUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmU=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[8]</b>Li Qiang, Hao Qinfen, Xiao Limin, et al.Adaptive management and multi-objective optimization for virtual machine placement in cloud computing[J].Chinese Journal of Computers, 2011, 34 (12) :2253-2264 (in Chinese) (李强, 郝沁汾, 肖利民, 等.云计算中虚拟机放置的自适应管理与多目标优化[J].计算机学报, 2011, 34 (12) :2253-2264) 
                            </a>
                        </p>
                        <p id="251">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Resource-aware virtual machine placement algorithm for IaaS cloud">

                                <b>[9]</b>Gupta M K, Amgoth T.Resource-aware virtual machine placement algorithm for IaaS cloud[J].The Journal of Supercomputing, 2018, 74 (1) :122-140
                            </a>
                        </p>
                        <p id="253">
                            <a id="bibliography_10" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SJIG&amp;filename=SJIG94296A88F4EBCB2293B31E1EC909D80C&amp;v=MjMwNDBlYnZnVGJyc0NPTnZGU2lXV3I3SklGcG1hQnVIWWZPR1FsZkNwYlEzNU54aXhieTJ4YXc9TmlmQ2FicThITmpLM29kTkV1OTZmZzlMelJRYTZVMStTUXJqMldFOA==&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[10]</b>Sharma O, Saini H.SLA and performance efficient heuristics for virtual machines placement in cloud data centers[J].International Journal of Grid and High Performance Computing, 2017, 9 (3) :17-33
                            </a>
                        </p>
                        <p id="255">
                            <a id="bibliography_11" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201603020&amp;v=MTM4ODlqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVScUZDbmhXcnJNTHl2U2RMRzRIOWZNckk5SFpJUUtESDg0dlI0VDY=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[11]</b>Wei Wei, Liu Yang, Yang Weidong.A fast approximation algorithm for the general resource placement problem in cloud computing platform[J].Journal of Computer Research and Development, 2016, 53 (3) :697-703 (in Chinese) (魏蔚, 刘扬, 杨卫东.一种通用云计算资源调度问题的快速近似算法[J].计算机研究与发展, 2016, 53 (3) :697-703) 
                            </a>
                        </p>
                        <p id="257">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Improving packing algorithms for server consolidation">

                                <b>[12]</b>Ajiro Y, Tanaka A.Improving packing algorithms for server consolidation[C]//Proc of the 33rd Int Conf of Computer Measurement Group (CMG) .Turnersville, NJ:CMG, 2007:399-406
                            </a>
                        </p>
                        <p id="259">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=A two stageheuristic algorithm for solving the server consolidation problem withitem-item and bin-item incompatibility constraints">

                                <b>[13]</b>Gupta R, Bose S K, Sundarrajan S, et al.A two stage heuristic algorithm for solving the server consolidation problem with item-item and bin-item incompatibility constraints[C]//Proc of the IEEE Int Conf on Services Computing.Piscataway, NJ:IEEE, 2008:39-46
                            </a>
                        </p>
                        <p id="261">
                            <a id="bibliography_14" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Grouping genetic algorithm for solving the serverconsolidation with conflicts">

                                <b>[14]</b>Agrawal S, Bose S K, Sundarrajan S.Grouping genetic algorithm for solving the serverconsolidation problem with conflicts[C]//Proc of the 1st ACM/SIGEVO Summit on Genetic and Evolutionary Computation.New York:ACM, 2009:1-8
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
            <div class="reference anchor-tag" id="a_footnote">
 <h3>注释</h3>
                    <p>
                        <span id="275" href="javascript:void(0)">
                            <b>1</b> https://www.planet-lab.org/, PlanetLab项目将分布于全球各地的上前台服务器通过互联网连接起来, 用于在真实的全球分布式网络上测试新的服务.
                        </span>
                    </p>
            </div>
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JFYZ201904010" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201904010&amp;v=MjMxMDRkTEc0SDlqTXE0OUVaSVFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplUnFGQ25oV3JyTUx5dlM=&amp;uid=WEEvREcwSlJHSldRa1FhdXNXaEhoRFQzZ2tpSTBoVC9vc1JrQ2loSzM0UT0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>


    <link href="/kxreader/Content/css/LeftDetail?v=NLcKG8I1SJUaVFrQ0iGpF2klAT0OsmHRaVSZ1rKb5xg1" rel="stylesheet"/>

</body>
</html>

