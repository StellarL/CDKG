<!DOCTYPE html>
<html>
<head>
    <title>全文阅读--XML全文阅读--中国知网</title>
    <link rel="icon" href="/kxreader/favicon.ico" />
    <link rel="shortcut Icon" href="/kxreader/favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="文献 XML KBASE CNKI 中国知网" />
    <meta name="description" content="XML文献检索" />
    <link href="/kxreader/Content/css/detail?v=qX2z2KjRAEyQiNfAbKtl7dLnsqFoQ5Jdw3TZfDf0n1k1" rel="stylesheet"/>

    <script type="text/javascript">
        var APPPATH = '/kxreader';
    </script>
</head>

<body>
    
<script type="text/javascript" src="//login.cnki.net/TopLogin/api/loginapi/get?type=top&amp;localCSS=&amp;returnurl=%2f%2fkns.cnki.net%2f%2fKXReader%2fDetail%3fTIMESTAMP%3d637133238381065000%26DBCODE%3dCJFD%26TABLEName%3dCJFDLAST2019%26FileName%3dJFYZ201903021%26RESULT%3d1%26SIGN%3d1MR0aJxj7tg3KfvVUUaN5O0FSHM%253d"></script>

<div id="headerBox" class="header">
    <div class="topbar">
        <div class="textalign">
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JFYZ201903021&amp;align=md">
                <i class="icon-cen active" title="居中对齐"></i>
            </a>
            <a href="/kxreader/Detail?dbcode=CJFD&amp;filename=JFYZ201903021&amp;align=lt">
                <i class="icon-left " title="左对齐"></i>
            </a>
        </div>
        <h6 class="free-tip"><i class="icon"></i>HTML阅读开放试用阶段，欢迎体验！</h6>
    </div>
</div>

    



<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201903021&amp;v=MTcxNTlPTHl2U2RMRzRIOWpNckk5SFpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZ5N25VcjM=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>

    <div class="main">

        

    <div class="sidebar-a">
        <!--sidebar start-->
        <div class="sidenav">
            <div class="arrow"><span></span></div>
            <!--sidebar_list start-->
            <dl class="sidenav-list">
                    <dt class="tit">目录结构</dt>
                            <dd class="guide">
                                    <p><a href="#61" data-title="&lt;b&gt;1 相关工作&lt;/b&gt; "><b>1 相关工作</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#62" data-title="&lt;b&gt;1.1 空间索引方法&lt;/b&gt;"><b>1.1 空间索引方法</b></a></li>
                                                <li><a href="#66" data-title="&lt;b&gt;1.2 时空索引方法&lt;/b&gt;"><b>1.2 时空索引方法</b></a></li>
                                                <li><a href="#71" data-title="&lt;b&gt;1.3 现有时空系统&lt;/b&gt;"><b>1.3 现有时空系统</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#75" data-title="&lt;b&gt;2 问题定义&lt;/b&gt; "><b>2 问题定义</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#76" data-title="&lt;b&gt;2.1 时空数据定义&lt;/b&gt;"><b>2.1 时空数据定义</b></a></li>
                                                <li><a href="#78" data-title="&lt;b&gt;2.2 时空数据类型定义&lt;/b&gt;"><b>2.2 时空数据类型定义</b></a></li>
                                                <li><a href="#85" data-title="&lt;b&gt;2.3 查询模式定义&lt;/b&gt;"><b>2.3 查询模式定义</b></a></li>
                                                <li><a href="#91" data-title="&lt;b&gt;2.4 本文涉及的相关参数&lt;/b&gt;"><b>2.4 本文涉及的相关参数</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#97" data-title="&lt;b&gt;3 GRIST索引的构建&lt;/b&gt; "><b>3 GRIST索引的构建</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#99" data-title="&lt;b&gt;3.1 数据包与数据摘要&lt;/b&gt;"><b>3.1 数据包与数据摘要</b></a></li>
                                                <li><a href="#103" data-title="&lt;b&gt;3.2 GRIST时空索引概述&lt;/b&gt;"><b>3.2 GRIST时空索引概述</b></a></li>
                                                <li><a href="#108" data-title="&lt;b&gt;3.3 第1层空间索引&lt;/b&gt;"><b>3.3 第1层空间索引</b></a></li>
                                                <li><a href="#150" data-title="&lt;b&gt;3.4 第2层时间索引&lt;/b&gt;"><b>3.4 第2层时间索引</b></a></li>
                                                <li><a href="#159" data-title="&lt;b&gt;3.5 GRIST索引构建过程&lt;/b&gt;"><b>3.5 GRIST索引构建过程</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#175" data-title="&lt;b&gt;4 GRIST索引的查询&lt;/b&gt; "><b>4 GRIST索引的查询</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#189" data-title="&lt;b&gt;5 索引性能实验&lt;/b&gt; "><b>5 索引性能实验</b></a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#190" data-title="&lt;b&gt;5.1 实验说明&lt;/b&gt;"><b>5.1 实验说明</b></a></li>
                                                <li><a href="#194" data-title="&lt;b&gt;5.2 实验准备&lt;/b&gt;"><b>5.2 实验准备</b></a></li>
                                                <li><a href="#200" data-title="&lt;b&gt;5.3 GRIST相关参数实验&lt;/b&gt;"><b>5.3 GRIST相关参数实验</b></a></li>
                                                <li><a href="#212" data-title="&lt;b&gt;5.4 现有系统对比&lt;/b&gt;"><b>5.4 现有系统对比</b></a></li>
                                    </ul>
                            </dd>
                            <dd class="guide">
                                    <p><a href="#225" data-title="&lt;b&gt;6 总 结&lt;/b&gt; "><b>6 总 结</b></a><i></i></p>
                                                            </dd>
                            <dd class="guide">
                                    <p><a href="#" data-title="文内图表 ">文内图表</a><i></i></p>
                                                                    <ul class="contentbox">
                                                <li><a href="#102" data-title="图1 摘要结构示意图">图1 摘要结构示意图</a></li>
                                                <li><a href="#106" data-title="图2 空间网格与R-Tree的对应关系">图2 空间网格与R-Tree的对应关系</a></li>
                                                <li><a href="#113" data-title="图3 区域分裂示意图">图3 区域分裂示意图</a></li>
                                                <li><a href="#119" data-title="图4 编码转换规则示意图">图4 编码转换规则示意图</a></li>
                                                <li><a href="#136" data-title="图5 矩形编码算法示意图">图5 矩形编码算法示意图</a></li>
                                                <li><a href="#152" data-title="图6 时间层索引构建过程">图6 时间层索引构建过程</a></li>
                                                <li><a href="#199" data-title="&lt;b&gt;表1 索引性能实验数据规模&lt;/b&gt;"><b>表1 索引性能实验数据规模</b></a></li>
                                                <li><a href="#204" data-title="图7 包大小对导入和查询的影响实验结果">图7 包大小对导入和查询的影响实验结果</a></li>
                                                <li><a href="#211" data-title="图8 R-Tree分裂阈值对导入和查询的影响实验结果">图8 R-Tree分裂阈值对导入和查询的影响实验结果</a></li>
                                                <li><a href="#217" data-title="图9 单机系统对比实验结果">图9 单机系统对比实验结果</a></li>
                                                <li><a href="#221" data-title="图10 分布式系统对比实验结果">图10 分布式系统对比实验结果</a></li>
                                    </ul>
                            </dd>
                                    <dd class="guide">
                                        <h6>
                                            <p><a href="#a_bibliography">参考文献</a> </p>
                                        </h6>
                                    </dd>

            </dl>
        </div>
        <!--sidebar end-->
        &nbsp;
        <!--此处有一空格符 勿删-->
    </div>

                <div class="sidebar-b three-collumn" style="width:0;">
            <div class="refer" style="width: 0;">
                <div class="arrow off" title="参考文献"><span></span></div>
                <div class="js-scrollbox" >
                    
                    <div class="subbox active">
                        <h4>
                            <span class="tit">参考文献</span>
                            <a class="close" href="javascript:void(0)">x</a>
                        </h4>
                        <div class="side-scroller">
                            <ul class="refer-list">
                                <li id="265">


                                    <a id="bibliography_1" title="Zhang Lin, Tang Daquan, Zhang Chong. Evolvement and process of spatio-temporal index[J]. Computer Science, 2010, 37 (4) : 15- 26 (in Chinese) (张林, 汤大权, 张翀. 时空索引的演变与发展[J]. 计算机科学, 2010, 37 (4) : 15- 20) " target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201004004&amp;v=MjI2OTlLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUkxPZVplVnZGeTduVXIzT0x6N0JiN0c0SDlITXE0OUZZSVE=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[1]</b>
                                        Zhang Lin, Tang Daquan, Zhang Chong. Evolvement and process of spatio-temporal index[J]. Computer Science, 2010, 37 (4) : 15- 26 (in Chinese) (张林, 汤大权, 张翀. 时空索引的演变与发展[J]. 计算机科学, 2010, 37 (4) : 15- 20) 
                                    </a>
                                </li>
                                <li id="267">


                                    <a id="bibliography_2" title="Mokbel M F, Ghanem T M, Aref W G. Spatio-temporal access methods[J]. IEEE Data Engineering Bulletin, 2003, 26 (2) : 40- 49" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal Access Methods">
                                        <b>[2]</b>
                                        Mokbel M F, Ghanem T M, Aref W G. Spatio-temporal access methods[J]. IEEE Data Engineering Bulletin, 2003, 26 (2) : 40- 49
                                    </a>
                                </li>
                                <li id="269">


                                    <a id="bibliography_3" >
                                        <b>[3]</b>
                                    Pfoser D, Jensen C S, Theodoridis Y. Novel Approaches in query processing for moving object trajectories[C] //Proc of the 26th Int Conf on Very Large Data Bases. San Francisco: Morgan Kaufmann, 2000: 395- 406</a>
                                </li>
                                <li id="271">


                                    <a id="bibliography_4" title="Theoderidis Y, Vazirgiannis M, Sellis T. Spatio-temporal indexing for large multimedia applications[C] //Proc of the 3rd IEEE Int Conf on IEEE Multimedia Computing and Systems. Piscataway, NJ: IEEE, 1996: 441- 448" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal indexing for large multimedia applications">
                                        <b>[4]</b>
                                        Theoderidis Y, Vazirgiannis M, Sellis T. Spatio-temporal indexing for large multimedia applications[C] //Proc of the 3rd IEEE Int Conf on IEEE Multimedia Computing and Systems. Piscataway, NJ: IEEE, 1996: 441- 448
                                    </a>
                                </li>
                                <li id="273">


                                    <a id="bibliography_5" title="Nascimento M A, Silva J R O. Towards historical R-Trees[C] //Proc of the 13rd ACM Symp on Applied Computing. New York: ACM, 1998: 235- 240" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Towards historical R-trees">
                                        <b>[5]</b>
                                        Nascimento M A, Silva J R O. Towards historical R-Trees[C] //Proc of the 13rd ACM Symp on Applied Computing. New York: ACM, 1998: 235- 240
                                    </a>
                                </li>
                                <li id="275">


                                    <a id="bibliography_6" title="Abdelguerfi M, Givaudan J, Shaw K, et al. The 2-3TR-Tree, a trajectory-oriented index structure for fully evolving valid-time spatio-temporal datasets[C] //Proc of the 10th ACM Int Symp on Advances in Geographic Information Systems. New York: ACM, 2002: 29- 34" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=The 2-3 TR-tree: A Trajectory-Oriented Index Structure for Fully Evolving Valid-time Spatio-temporal Datasets">
                                        <b>[6]</b>
                                        Abdelguerfi M, Givaudan J, Shaw K, et al. The 2-3TR-Tree, a trajectory-oriented index structure for fully evolving valid-time spatio-temporal datasets[C] //Proc of the 10th ACM Int Symp on Advances in Geographic Information Systems. New York: ACM, 2002: 29- 34
                                    </a>
                                </li>
                                <li id="277">


                                    <a id="bibliography_7" title="Saltenis S, Jensen C S, Leutenegger S T, Lopez M A. Indexing the positions of continuously moving objects[C] //Proc of the 19th ACM SIGMOD Int Conf on Management of Data. New York: ACM, 2000: 331- 342" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Indexing the positions of continuously moving objects">
                                        <b>[7]</b>
                                        Saltenis S, Jensen C S, Leutenegger S T, Lopez M A. Indexing the positions of continuously moving objects[C] //Proc of the 19th ACM SIGMOD Int Conf on Management of Data. New York: ACM, 2000: 331- 342
                                    </a>
                                </li>
                                <li id="279">


                                    <a id="bibliography_8" title="Eldawy A, Mokbel M F. SpatialHadoop: A MapReduce framework for spatial data[C] //Proc of the 31st Int Conf on Data Engineering. Piscataway, NJ: IEEE, 2015: 1352- 1363" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=SpatialHadoop: A MapReduce framework for spatial data">
                                        <b>[8]</b>
                                        Eldawy A, Mokbel M F. SpatialHadoop: A MapReduce framework for spatial data[C] //Proc of the 31st Int Conf on Data Engineering. Piscataway, NJ: IEEE, 2015: 1352- 1363
                                    </a>
                                </li>
                                <li id="281">


                                    <a id="bibliography_9" title="Yu Jia, Wu Jinxuan, Sarwat M. GeoSpark: A cluster computing framework for processing large-scale spatial data[C] //Proc of the 23rd SIGSPATIAL Int Conf on Advances in Geographic Information Systems. New York: ACM, 2015" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=GeoSpark:A Cluster Computing Framework for Processing Large-Scale Spatial Data">
                                        <b>[9]</b>
                                        Yu Jia, Wu Jinxuan, Sarwat M. GeoSpark: A cluster computing framework for processing large-scale spatial data[C] //Proc of the 23rd SIGSPATIAL Int Conf on Advances in Geographic Information Systems. New York: ACM, 2015
                                    </a>
                                </li>
                                <li id="283">


                                    <a id="bibliography_10" title="Pfoser D, Jensen C S, Theodoridis Y. Novel approaches in query processing for moving object trajectories[C] //Proc of the 26th Int Conf on Very Large Data Bases. San Francisco: Morgan Kaufmann, 2000: 395- 406" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Novel Approaches in Query Processing for Moving Object Trajectories">
                                        <b>[10]</b>
                                        Pfoser D, Jensen C S, Theodoridis Y. Novel approaches in query processing for moving object trajectories[C] //Proc of the 26th Int Conf on Very Large Data Bases. San Francisco: Morgan Kaufmann, 2000: 395- 406
                                    </a>
                                </li>
                                <li id="285">


                                    <a id="bibliography_11" title="Chakka V P, Everspaugh A C, Patel J M. Indexing large trajectory data sets with SETI[C] //Proc of the Conf on Innovative Data Systems Research. New York: ACM, 2003" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Indexing Large Trajectory Data Sets with SETI">
                                        <b>[11]</b>
                                        Chakka V P, Everspaugh A C, Patel J M. Indexing large trajectory data sets with SETI[C] //Proc of the Conf on Innovative Data Systems Research. New York: ACM, 2003
                                    </a>
                                </li>
                                <li id="287">


                                    <a id="bibliography_12" title="Tan Haoyu, Luo Wuman, Ni L M. Clost: A hadoop-based storage system for big spatio-temporal data analytics[C]//Proc of the 21st ACM Int Conf on Information and Knowledge Management. New York: ACM, 2012: 2139- 2143" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=CloST:a Hadoop-based storage system for big spatio-temporal data analytics">
                                        <b>[12]</b>
                                        Tan Haoyu, Luo Wuman, Ni L M. Clost: A hadoop-based storage system for big spatio-temporal data analytics[C]//Proc of the 21st ACM Int Conf on Information and Knowledge Management. New York: ACM, 2012: 2139- 2143
                                    </a>
                                </li>
                                <li id="289">


                                    <a id="bibliography_13" title="Guttman A. R-Trees: A dynamic index structure for spatial searching[C] //Proc of the ACM SIGMOD Int Conf on Management of Data. New York: ACM, 1984: 47- 57" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=R-Trees: A Dynamic Index Structure for Spatial Searching">
                                        <b>[13]</b>
                                        Guttman A. R-Trees: A dynamic index structure for spatial searching[C] //Proc of the ACM SIGMOD Int Conf on Management of Data. New York: ACM, 1984: 47- 57
                                    </a>
                                </li>
                                <li id="291">


                                    <a id="bibliography_14" title="Finkel R A, Bentley J L. Quad Trees a data structure for retrieval on composite keys[J]. Acta Informatica, 1974, 4 (1) : 1- 9" target="_blank"
                                       href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00003029870&amp;v=MDc0NDc1ekJkaDRqOTlTWHFScnhveGNNSDdSN3FlYnVkdEZTbmxWYjNKSWxnPU5qN0Jhck80SHRIUHI0MU1iT3dQWTNr&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                        <b>[14]</b>
                                        Finkel R A, Bentley J L. Quad Trees a data structure for retrieval on composite keys[J]. Acta Informatica, 1974, 4 (1) : 1- 9
                                    </a>
                                </li>
                                <li id="293">


                                    <a id="bibliography_15" title="Chang F, Dean J, Ghemawat S, et al. Bigtable: A distributed storage system for structured data [C] //Proc of OSDI 2006. Berkeley, CA: USENIX Association, 2006: 205- 218" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Bigtable:ADistributed Storage System for Structured Data">
                                        <b>[15]</b>
                                        Chang F, Dean J, Ghemawat S, et al. Bigtable: A distributed storage system for structured data [C] //Proc of OSDI 2006. Berkeley, CA: USENIX Association, 2006: 205- 218
                                    </a>
                                </li>
                                <li id="295">


                                    <a id="bibliography_16" title="Tao Yufei, Papadias D. MV3R-Tree: A spatio-temporal access method for timestamp and interval queries[C] //Proc of the Int Conf on Very Large Data Bases (VLDB) . San Francisco: Morgan Kaufmann, 2001: 431- 440" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=MV3R-Tree: A Spatio-Temporal Access Method for Timestamp and Interval Queries">
                                        <b>[16]</b>
                                        Tao Yufei, Papadias D. MV3R-Tree: A spatio-temporal access method for timestamp and interval queries[C] //Proc of the Int Conf on Very Large Data Bases (VLDB) . San Francisco: Morgan Kaufmann, 2001: 431- 440
                                    </a>
                                </li>
                                <li id="297">


                                    <a id="bibliography_17" title="Song Zhexuan, Roussopoulos N. SEB-tree: An approach to index continuously moving objects[C] //Proc of the 4th Int Conf on Mobile Data Management (MDM) . Piscataway, NJ: IEEE, 2003: 340- 344" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=SEB-tree;An Approach to Index Continuously Moving Objects">
                                        <b>[17]</b>
                                        Song Zhexuan, Roussopoulos N. SEB-tree: An approach to index continuously moving objects[C] //Proc of the 4th Int Conf on Mobile Data Management (MDM) . Piscataway, NJ: IEEE, 2003: 340- 344
                                    </a>
                                </li>
                                <li id="299">


                                    <a id="bibliography_18" title="Fox A, Eichelberger C, Hughes J, et al. Spatio-temporal indexing in non-relational distributed databases[C] //Proc of the 1st IEEE Int Conf on Big Data. Piscataway, NJ: IEEE, 2013: 291- 299" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal indexing in non-relational distributed databases">
                                        <b>[18]</b>
                                        Fox A, Eichelberger C, Hughes J, et al. Spatio-temporal indexing in non-relational distributed databases[C] //Proc of the 1st IEEE Int Conf on Big Data. Piscataway, NJ: IEEE, 2013: 291- 299
                                    </a>
                                </li>
                                <li id="301">


                                    <a id="bibliography_19" title="Cudremauroux P, Wu E, Madden S. TrajStore: An adaptive storage system for very large trajectory data sets[C] //Proc of the 26th Int Conf on Data Engineering (ICDE) . Piscataway, NJ: IEEE, 2010: 109- 120" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=TrajStore:An adaptive storage system for very large trajectory data sets">
                                        <b>[19]</b>
                                        Cudremauroux P, Wu E, Madden S. TrajStore: An adaptive storage system for very large trajectory data sets[C] //Proc of the 26th Int Conf on Data Engineering (ICDE) . Piscataway, NJ: IEEE, 2010: 109- 120
                                    </a>
                                </li>
                                <li id="303">


                                    <a id="bibliography_20" title="Huang Xiangdong, Wang Jianmin, Wong R, et al. PISA: An index for aggregating big time series data[C] //Proc of the 25th ACM Int Conf on Information and Knowledge Management. New York: ACM, 2016: 979- 988" target="_blank"
                                       href="http://scholar.cnki.net/result.aspx?q=PISA: An index for aggregating big time series data">
                                        <b>[20]</b>
                                        Huang Xiangdong, Wang Jianmin, Wong R, et al. PISA: An index for aggregating big time series data[C] //Proc of the 25th ACM Int Conf on Information and Knowledge Management. New York: ACM, 2016: 979- 988
                                    </a>
                                </li>
                            </ul>
                            <div style='display: none;' class="zqscroller" >
                                <h4 class="">附加材料</h4>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            &nbsp;
            <!--此处有一空格符 勿删-->
        </div>

        
    <div class="content">



        <!--tips start-->
                            <div class="tips">
                    <a href="http://navi.cnki.net/KNavi/JournalDetail?pcode=CJFD&amp;pykm=JFYZ" target="_blank">计算机研究与发展</a>
                2019,56(03),666-676 DOI:10.7544/issn1000-1239.2019.20170750            </div>
        <!--tips end-->
            <div class="top-title">
                <h1 class="title">
                    <span class="vm"><b>基于不均匀空间划分和R树的时空索引</b></span>
                                    </h1>

            </div>
                        <h2>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E8%B5%B5%E9%A6%A8%E9%80%B8&amp;code=39335743&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">赵馨逸</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E9%BB%84%E5%90%91%E4%B8%9C&amp;code=08168884&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">黄向东</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E4%B9%94%E5%98%89%E6%9E%97&amp;code=38966248&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">乔嘉林</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E5%BA%B7%E8%8D%A3&amp;code=36355382&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">康荣</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E6%9D%8E%E5%A8%9C&amp;code=08170381&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">李娜</a>
                                <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=au&amp;skey=%E7%8E%8B%E5%BB%BA%E6%B0%91&amp;code=08181451&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">王建民</a>
                </h2>
                    <h2>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2&amp;code=0187103&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">清华大学软件学院</a>
                    <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=in&amp;skey=%E5%B7%A5%E4%B8%9A%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B3%BB%E7%BB%9F%E4%B8%8E%E5%BA%94%E7%94%A8%E5%8C%97%E4%BA%AC%E5%B8%82%E9%87%8D%E7%82%B9%E5%AE%9E%E9%AA%8C%E5%AE%A4&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">工业大数据系统与应用北京市重点实验室</a>
            </h2>

        
<div class="link">
    <a id="aexport" class="icon icon-output"  onclick="" href="javascript:void(0);"><i></i>导出/参考文献</a>
    
    <span class="shareBoard" onmouseover="$('#sharedet').show();$('#this').addClass('shareBoardCUR')" onmouseout="$('#sharedet').hide();$('#this').removeClass('shareBoardCUR')">
        <a class="icon icon-share" href="#"><i></i>分享<em></em></a>
        <ul class="shareHide" id="sharedet" style="display: none;">
            <li><a title="复制链接" class="copy" onclick="" href="#"><i></i>复制链接</a></li>
            <li><a title="分享到新浪微博" class="xl" onclick="" href="javascript:common.ShareAction('xl');"><i></i>新浪微博</a></li>
            <li>
                <a title="分享到微信" class="wx" onclick="" href="#"><i></i>微信扫一扫</a>
                <div class="qrcode"><img src='' alt='' /></div>
            </li>
        </ul>

    </span>
    
    <a id="RefTrack" title="创建引文跟踪" class="icon icon-track" onclick="" href="javascript:void(0);"> <i></i>创建引文跟踪 </a>
    <a id="ashoucang" title="收藏" class="icon icon-favor" onclick="" href="javascript:void(0);"><i></i>收藏</a>
    <a class="icon icon-print" onclick="window.print();" href="javascript:void(0);"><i></i>打印</a>
    
    <!--版本切换 end-->
</div>
                            <div class="data" id="a_abstract">
                <span class="keys">摘<span style="font-family: 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;</span>要：</span>
                <p>随着移动互联网以及物联网的发展, 越来越多的移动设备都内置GPS服务, 从而产生了大量的时空数据.这些数据体量大、分布不均匀且带有时间和空间经纬度等多维属性.传统的时空索引还有很多问题有待解决, 例如难以处理大规模数据、无法同时处理时间和空间维度等.基于Geohash和R-Tree, 提出一种2层时空索引GRIST (Geohash and R-Tree based index for spatio-temporal data) , 第1层是空间索引, 它将空间划分为不同大小的网格并使用Geohash进行编码;第2层是时间索引, 由R-Tree构成, 不同R-Tree索引不同网格里的数据.GRIST索引支持面向时间和面向时空的查询.在大量随机数据和真实Uber数据上的实验表明:GRIST在索引的构建效率上较于GeoMesa和PostGIS系统可以提升10～45倍, 在查询效率上可以提升2～4倍.</p>
            </div>
                    <div class="data" id="a_keywords">
                <span class="keys">关键词：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E7%A9%BA%E6%95%B0%E6%8D%AE&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时空数据;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E7%A9%BA%E7%B4%A2%E5%BC%95&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时空索引;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E6%97%B6%E7%A9%BA%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">时空范围查询;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E8%BD%A8%E8%BF%B9%E6%9F%A5%E8%AF%A2&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">轨迹查询;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">分布式数据管理;</a>
                </p>
            </div>
        
        <!--brief start-->
        
            <div class="brief">
                    <p>
                            <b>作者简介：</b>
                                                        <span>
                                    *黄向东, huangxdong@tsinghua.edu.cn;
                                </span>
                                <span>
                                    赵馨逸, stefanie_xin@163.com;
                                </span>
                    </p>
                                    <p><b>收稿日期：</b>2017-09-30</p>

                    <p>

                            <b>基金：</b>
                                                        <span>国家重点研发计划项目 (2016YFB0501504);</span>
                                <span>国家自然科学基金项目 (U1509213);</span>
                                <span>中国博士后科学基金项目 (2017M620784);</span>
                    </p>
            </div>
                    <h1><b>A Spatio-Temporal Index Based on Skew Spatial Coding and R-Tree</b></h1>
                    <h2>
                    <span>Zhao Xinyi</span>
                    <span>Huang Xiangdong</span>
                    <span>Qiao Jialin</span>
                    <span>Kang Rong</span>
                    <span>Li Na</span>
                    <span>Wang Jianmin</span>
            </h2>
                    <h2>
                    <span>School of Software, Tsinghua University</span>
                    <span>Beijing Key Laboratory for Industrial Bigdata System and Application</span>
            </h2>
                            <div class="data" id="a_abstractEN">
                <span class="keys">Abstract：</span>
                <p>With the development of mobile Internet and Internet of Things, more and more mobile devices such as vehicles and mobile phones are embedded with GPS services. These devices generate a lot of spatio-temporal data with multi-dimensional attributes such as time, space longitude and latitude when moving. Traditional spatio-temporal indexes have neither the ability to handle large amounts of data, nor the ability to handle data with both time and space dimensions, nor the ability to support many kinds of spatio-temporal query. This paper illustrates GRIST (Geohash and R-Tree based index for spatio-temporal data) , an innovative two-level spatio-temporal index based on Geohash and R-Tree. The first layer is a spatial index based on grid partition, which partitions the space into non-overlapping subspaces with different size. Each grid is encoded by Geohash. The second layer is the time layer index based on the R-Tree, where each spatial grid corresponds to a one-dimensional R-Tree index. Also, this paper supports two types of queries, one is time-based query, the other is spatio-temporal-based query which can be further subdivided into range query and trajectory query. In addition, this paper realizes GRIST by NoSQL K-V database Cassandra and uses Spark to realizes distributed query. Compared with PostGIS and GeoMesa, GRIST has better load and query performance, 10～45 times better in load time and 2～4 times better in query time.</p>
            </div>
                    <div class="data" id="a_keywordsEN">
                <span class="keys">Keyword：</span>
                <p>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=spatio-temporal%20data&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">spatio-temporal data;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=spatio-temporal%20index&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">spatio-temporal index;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=spatio-temporal%20range%20query&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">spatio-temporal range query;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=trajectory%20query&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">trajectory query;</a>
                        <a href="/kcms/detail/knetsearch.aspx?dbcode=CJFD&amp;sfield=kw&amp;skey=distributed%20data%20management&amp;code=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" target="_blank">distributed data management;</a>
                </p>
            </div>
                    <div class="brief">
                
                    <p>
                            <b>Author：</b>
                                                        <span>
                                    Zhao Xinyi, born in 1993.Master candidate.Her main research interests include big data system management.<image id="259" type="formula" href="images/JFYZ201903021_25900.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Huang Xiangdong, born in 1989.PhD.His main research interests include big data management and distributed system modeling.<image id="260" type="formula" href="images/JFYZ201903021_26000.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Qiao Jialin, born in 1993.PhD candidate.His main research interests include big data system management.<image id="261" type="formula" href="images/JFYZ201903021_26100.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Kang Rong, born in 1992.PhD candidate.His main research interests include big data system management.<image id="262" type="formula" href="images/JFYZ201903021_26200.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Li Na, born in 1992.Master.Her main research interests include big data system management.<image id="263" type="formula" href="images/JFYZ201903021_26300.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                                <span>
                                    Wang Jianmin, born in 1968.PhD, professor.His main research interests include big data and knowledge engineering.<image id="264" type="formula" href="images/JFYZ201903021_26400.jpg" display="inline" placement="inline"><alt></alt></image>;
                                </span>
                    </p>
                                    <p><b>Received：</b> 2017-09-30</p>
                                    <p>
                            <b>Fund：</b>
                                                        <span>supported by the National Key Research and Development Program of China (2016YFB0501504);</span>
                                <span>the National Natural Science Foundation of China (U1509213);</span>
                                <span>the China Postdoctoral Science Foundation (2017M620784);</span>
                    </p>
            </div>


        <!--brief start-->
                        <div class="p1">
                    <p id="49">时空数据是指包含时间和空间经纬度信息的时空对象<citation id="305" type="reference"><link href="265" rel="bibliography" /><sup>[<a class="sup">1</a>]</sup></citation>.它的特点是数据量大、更新频率快、数据分布不均匀、在时间和空间维度具有自己的时空特性 (在时间维度具有连续性和单调递增性, 在空间维度具有区域临近性) .</p>
                </div>
                <div class="p1">
                    <p id="50">随着时空数据体量的急剧增加, 对其进行有效的存储、查询、分析等操作的需求愈发明显.时空索引便是解决时空数据存储与查询的有效手段.解决此问题时, 时空索引需要面临3个核心问题:1) 如何在利用时空数据特性的同时快速构建索引;2) 如何进行快速的时空对象查询;3) 如何使其支持更为多样的查询种类 (如切片查询、轨迹查询等) .在数据量巨大、数据分布不均衡的情况下如何构造一种合适的索引使得其解决上文提出的问题, 是目前面临的挑战.</p>
                </div>
                <div class="p1">
                    <p id="51">从20世纪80年代至今, 时空索引已有了长足的发展和进步.普度大学计算机科学系Mokbel教授在2010年对时空索引的方法进行了详细的调查<citation id="306" type="reference"><link href="267" rel="bibliography" /><sup>[<a class="sup">2</a>]</sup></citation>并根据查询时间范围将时空索引技术分为3类:</p>
                </div>
                <div class="p1">
                    <p id="52">1) 历史数据索引TB-Tree (trajectory-bundle Tree) <citation id="307" type="reference"><link href="269" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, 3D R-Tree<citation id="308" type="reference"><link href="271" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>, HR-Tree (historical R-Tree) <citation id="309" type="reference"><link href="273" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>等.</p>
                </div>
                <div class="p1">
                    <p id="53">2) 实时数据索引2-3TR-Tree (2-3 trajectory R-Tree) <citation id="310" type="reference"><link href="275" rel="bibliography" /><sup>[<a class="sup">6</a>]</sup></citation>等.</p>
                </div>
                <div class="p1">
                    <p id="54">3) 未来数据索引TPR-Tree<citation id="311" type="reference"><link href="277" rel="bibliography" /><sup>[<a class="sup">7</a>]</sup></citation>等.</p>
                </div>
                <div class="p1">
                    <p id="55">本文主要研究历史数据的时空索引, 尚不支持对于实时数据和未来数据的索引.</p>
                </div>
                <div class="p1">
                    <p id="56">现有的时空数据管理系统和索引存在3方面的问题:</p>
                </div>
                <div class="p1">
                    <p id="57">1) 没有充分利用时空数据的特性, 如Spatial-Hadoop<citation id="312" type="reference"><link href="279" rel="bibliography" /><sup>[<a class="sup">8</a>]</sup></citation>, PostGIS, Geospark<citation id="313" type="reference"><link href="281" rel="bibliography" /><sup>[<a class="sup">9</a>]</sup></citation>不能同时索引带有空间和时间维度的数据;TB-Tree<citation id="314" type="reference"><link href="283" rel="bibliography" /><sup>[<a class="sup">10</a>]</sup></citation>, 3DR-Tree<citation id="315" type="reference"><link href="271" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>不能保持时空数据在空间上或时间上的邻近性.</p>
                </div>
                <div class="p1">
                    <p id="58">2) 无法随数据的密集程度动态调整, 在数据不均匀的情况下导致时间开销增大, 如SETI<citation id="316" type="reference"><link href="285" rel="bibliography" /><sup>[<a class="sup">11</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="59">3) 无法提供多种类型的查询处理, 辅助使用者进行数据的分析, 如CloST<citation id="317" type="reference"><link href="287" rel="bibliography" /><sup>[<a class="sup">12</a>]</sup></citation>.</p>
                </div>
                <div class="p1">
                    <p id="60">为了解决以上诸多问题, 本文提出了一种新型2层时空索引GRIST (Geohash and R-Tree based index for spatio-temporal data) .它在空间上采用Geohash编码进行空间划分, 在时间上采用R-Tree索引.为了适应不均匀的数据分布, GRIST在空间上改进了原有Geohash的编码及映射算法, 设计了根据数据分布自适应分裂的方法;在时间上GRIST改进了一维R-Tree, 增加节点合并策略, 以减少R-Tree的规模、提升查询效率.同时, GRIST还针对自身的索引结构设计了时空数据查询方法, 提供多种类型的查询, 较好地解决了上文提到的现有系统的3个问题.除此之外, 本文还基于Cassandra底层存储实现了索引构建和查询算法, 使用Spark实现分布式查询, 解决大规模数据的存储与查询问题.</p>
                </div>
                <h3 id="61" name="61" class="anchor-tag"><b>1 相关工作</b></h3>
                <h4 class="anchor-tag" id="62" name="62"><b>1.1 空间索引方法</b></h4>
                <div class="p1">
                    <p id="63">R-Tree<citation id="318" type="reference"><link href="289" rel="bibliography" /><sup>[<a class="sup">13</a>]</sup></citation>是高度平衡的多叉树, 通常它会被用来索引高维空间数据且不需要预知数据的整体分布, 因为它会随着数据更新动态地调整数据组织的方式.</p>
                </div>
                <div class="p1">
                    <p id="64">Quad-Tree<citation id="319" type="reference"><link href="291" rel="bibliography" /><sup>[<a class="sup">14</a>]</sup></citation>按照空间划分数据, 可以使用有序的线性表实现.它的优点是内存开销小、查询效率高、维护简单.但它需要预知数据的分布, 灵活性比较差.</p>
                </div>
                <div class="p1">
                    <p id="65">Geohash是在2008年被提出的, 它的思想是把二维经纬度编码为一维的字符串.这种编码可以保证空间的邻近性, 编码相同前缀位数越多, 空间距离越近.目前, Geohash已被广泛应用于需要使用一维索引处理空间数据的情况, 如HBase<citation id="320" type="reference"><link href="293" rel="bibliography" /><sup>[<a class="sup">15</a>]</sup></citation>等.</p>
                </div>
                <h4 class="anchor-tag" id="66" name="66"><b>1.2 时空索引方法</b></h4>
                <div class="p1">
                    <p id="67">常见的索引历史数据的时空索引方法主要分为3类:</p>
                </div>
                <div class="p1">
                    <p id="68">1) 构建包含时间维度的三维R-Tree.该类方法时空共用1棵R-Tree, 将时间信息作为一个新的维度加入到R-Tree的创建过程中.代表索引有3DR-Tree<citation id="321" type="reference"><link href="271" rel="bibliography" /><sup>[<a class="sup">4</a>]</sup></citation>等.它的优点是应答基于坐标的查询效率较高;缺点是作为树结构, 引入过多多余空间且基于轨迹的查询效率不高.</p>
                </div>
                <div class="p1">
                    <p id="69">2) 为每个时间戳构建一个二维R-Tree.常见的有HR-Tree<citation id="322" type="reference"><link href="273" rel="bibliography" /><sup>[<a class="sup">5</a>]</sup></citation>, MV3R-Tree (multiversion 3D R-Trees) <citation id="323" type="reference"><link href="295" rel="bibliography" /><sup>[<a class="sup">16</a>]</sup></citation>等.它的优点是对时间点查询十分有效;缺点是时间段查询效率非常低.</p>
                </div>
                <div class="p1">
                    <p id="70">3) 面向轨迹的索引.该类方法主要供轨迹查询, 代表有TB-TreSe<citation id="324" type="reference"><link href="269" rel="bibliography" /><sup>[<a class="sup">3</a>]</sup></citation>, SEB-Tree (start/end time stamp B-Tree) <citation id="325" type="reference"><link href="297" rel="bibliography" /><sup>[<a class="sup">17</a>]</sup></citation>等.它的优点是维持了“轨迹”的概念, 同一个轨迹的节点被链接在一起;缺点是破坏了空间邻近性, 不利于空间近邻查询.</p>
                </div>
                <h4 class="anchor-tag" id="71" name="71"><b>1.3 现有时空系统</b></h4>
                <div class="p1">
                    <p id="72">GeoMesa基于空间填充曲线技术 (z-order-curve) 降维, 然后将一维空间进行Geohash编码, 将空间编码和时间区间进行交叉组合对数据进行分区存储<citation id="326" type="reference"><link href="299" rel="bibliography" /><sup>[<a class="sup">18</a>]</sup></citation>.该系统支持空间、时间、属性过滤查询.但是由于空间划分和时间划分粒度大小固定, 它不能适应数据分布和查询条件的变化.</p>
                </div>
                <div class="p1">
                    <p id="73">PostGIS是关系型数据库PostgreSQL的扩展系统, 主要用于处理空间数据.它采用R-Tree的空间索引结构, 支持快速查询的空间索引.PostGIS提供了强大的空间数据分析方法, 可以支持海量数据的存储与管理, 但是对时间维度的处理较为欠缺.</p>
                </div>
                <div class="p1">
                    <p id="74">TrajStore<citation id="327" type="reference"><link href="301" rel="bibliography" /><sup>[<a class="sup">19</a>]</sup></citation>是一个自适应存储轨迹数据的系统, 采用Quad-Tree的空间索引结构.它提出了空间网格的分裂和合并等动态操作, 以适应数据的增加或查询框大小的变化.但是, 该系统不是分布式的, 难以应对GB级甚至TB级的数据.</p>
                </div>
                <h3 id="75" name="75" class="anchor-tag"><b>2 问题定义</b></h3>
                <h4 class="anchor-tag" id="76" name="76"><b>2.1 时空数据定义</b></h4>
                <div class="p1">
                    <p id="77">时空数据由多个时空数据点构成.时空数据点为一个四元组 (String <i>deviceid</i>, long <i>timestamp</i>, float <i>lon</i>, float <i>lat</i>) .其中<i>deviceid</i>为时空数据所属设备的唯一标识 (设备号) , <i>timestamp</i>为时空数据产生时刻的时间戳, <i>lon</i>和<i>lat</i>分别为数据空间信息的地理经纬度.</p>
                </div>
                <h4 class="anchor-tag" id="78" name="78"><b>2.2 时空数据类型定义</b></h4>
                <div class="p1">
                    <p id="79">按照时空数据的查询需求, 时空数据可以分为二维空间点、二维空间区域 (矩形空间区域与圆形空间区域) 、轨迹点、轨迹5种主要类型, 定义如下:</p>
                </div>
                <div class="p1">
                    <p id="80">1) GPSData, 二维空间点.由经度值与纬度值构成, 表示为 (<i>lon</i>, <i>lat</i>) .</p>
                </div>
                <div class="p1">
                    <p id="81">2) GEOCircle, 二维圆形空间区域.在二维空间中的圆形区域, 由一个GPSData类型的圆心和一个浮点型半径组成, 表示为 (GPSData <i>center</i>, float <i>radius</i>) .</p>
                </div>
                <div class="p1">
                    <p id="82">3) GEORect, 二维矩形空间区域.在二维空间中的矩形区域, 由2个GPSData类型的点组成 (分别代表矩形左下角与矩形右上角的点) , 表示为 (GPSData <i>bl</i>, GPSData <i>tr</i>) .</p>
                </div>
                <div class="p1">
                    <p id="83">4) TrajPoint, 轨迹点.带有时间信息的GPSData点, 由一个GPSData类型的点与时间戳组成, 表示为 (GPSData <i>location</i>, long <i>timestamp</i>) .</p>
                </div>
                <div class="p1">
                    <p id="84">5) Traj, 轨迹.一系列相同<i>deviceid</i>的轨迹点集合.由一组按时间升序排列的TrajPoint组成, 一组拥有<i>N</i>个TrajPoint的轨迹表示为[TrajPoint <i>tj</i><sub><i>i</i></sub>]<sub><i>N</i></sub> (<i>i</i>=1, 2, …, <i>N</i>) .</p>
                </div>
                <h4 class="anchor-tag" id="85" name="85"><b>2.3 查询模式定义</b></h4>
                <div class="p1">
                    <p id="86">时空数据的查询需求种类繁多, 本文算法主要讨论面向时空的查询, 涉及的查询种类有3种:</p>
                </div>
                <div class="p1">
                    <p id="87">1) GEORect <i>region</i>, long <i>t</i>→[GPSData <i>p</i>]<sub><i>n</i></sub>.根据空间范围与时间点, 查询所有的相关数据点 (个数为<i>n</i>) .</p>
                </div>
                <div class="p1">
                    <p id="88">2) GEORect <i>region</i>, [long <i>t</i><sub>1</sub>, long <i>t</i><sub>2</sub>]→[GPSData <i>p</i>]<sub><i>n</i></sub>.根据空间范围与时间段, 查询所有的相关数据点 (个数为<i>n</i>) .</p>
                </div>
                <div class="p1">
                    <p id="89">3) GEORect <i>region</i>, [long <i>t</i><sub>1</sub>, long <i>t</i><sub>2</sub>]→[TrajPoint <i>tp</i>]<sub><i>n</i></sub>.根据空间范围与时间段, 查询所有的相关数据点 (个数为<i>n</i>) .</p>
                </div>
                <div class="p1">
                    <p id="90">其中, <i>region</i>表示空间范围, <i>t</i>表示时间点, [<i>t</i><sub>1</sub>, <i>t</i><sub>2</sub>]表示时间范围, <i>p</i>表示空间点, <i>tp</i>表示轨迹点, []<sub><i>n</i></sub>表示元素个数为<i>n</i>的集合.</p>
                </div>
                <h4 class="anchor-tag" id="91" name="91"><b>2.4 本文涉及的相关参数</b></h4>
                <div class="p1">
                    <p id="92">本文GRIST索引涉及的相关参数如下:</p>
                </div>
                <div class="p1">
                    <p id="93">1) 数据包包含的数据个数 (<i>packageSize</i>) .每个包中二位空间点的个数, 由用户指定.</p>
                </div>
                <div class="p1">
                    <p id="94">2) 最大编码长度 (<i>L</i><sub>max</sub>) .空间索引的最大编码长度, 由用户指定.</p>
                </div>
                <div class="p1">
                    <p id="95">3) 最小编码长度 (<i>L</i><sub>min</sub>) .空间索引的最小编码长度, 由用户指定.</p>
                </div>
                <div class="p1">
                    <p id="96">4) 时间和空间分裂阈值 (<i>maxRTreeSize</i>) .R-Tree分裂为4个子树时所需达到的数据量, 由用户指定.</p>
                </div>
                <h3 id="97" name="97" class="anchor-tag"><b>3 GRIST索引的构建</b></h3>
                <div class="p1">
                    <p id="98">本节主要介绍GRIST索引的结构与构建过程.GRIST索引结构为2层时空索引:第1层为空间索引;第2层为时间索引.在构建时, GRIST会首先根据用户设置对数据进行打包, 并建立数据包的摘要, 随后以数据包为单位进行索引的构建.</p>
                </div>
                <h4 class="anchor-tag" id="99" name="99"><b>3.1 数据包与数据摘要</b></h4>
                <div class="p1">
                    <p id="100">数据包是GRIST时空索引所处理的基本单元, 在索引构建时会将同设备号、一定数目 (<i>packageSize</i>) 的GPSData类型的数据按照时间升序排列构成数据包, 这样的设计可以减少索引构建时由于数据插入所带来的索引更新次数.</p>
                </div>
                <div class="p1">
                    <p id="101">为了减小索引体积, GRIST中仅存储数据包的摘要而非数据包中的原始数据.摘要是数据包中所有点构成的矩形, 它的表示形式为GEORect (GPSData <i>bl</i>, GPSData <i>tr</i>) , 其中<i>bl</i>为数据包中空间位置位于左下角的点, <i>tr</i>为右上角的点.摘要结构如图1所示, 其中黑色点代表一个GPSData, 矩形框表示摘要.</p>
                </div>
                <div class="area_img" id="102">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图1 摘要结构示意图" src="Detail/GetImg?filename=images/JFYZ201903021_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图1 摘要结构示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_102.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 1 Digest of packet</p>

                </div>
                <h4 class="anchor-tag" id="103" name="103"><b>3.2 GRIST时空索引概述</b></h4>
                <div class="p1">
                    <p id="104">GRIST为2层时空索引.第1层为空间索引, 它将空间划分为没有交叠且可根据网格里的数据量自适应调整的网格.每个网格使用本文提出的不均匀Geohash映射算法计算得到.第2层为时间索引, 利用一维R-Tree进行构建, 不同R-Tree索引第1层空间的不同网格中的数据, 其中MBR为一维时间段, 叶子节点为存储设备的<i>deviceid</i>.在使用中, 本文对R-Tree进行了一些改进, 当同一个设备的2个MBR时间段连续时, 将会对其进行合并.同时, 为了自动适应时空数据的不均匀分布, 当某一个区域的数据点个数达到某个阈值 (<i>maxRTreeSize</i>) 时, GRIST会分别在时间和空间层索引上进行分裂.下面详细介绍2层索引的具体内容和分裂策略.</p>
                </div>
                <div class="p1">
                    <p id="105">2层索引的组合方式如图2所示, 第1层索引的每一个空间网格都会有一个第2层索引的R-Tree与之对应, 为了更清晰地表达, 图2中仅给出1种空间网格与R-Tree的对应关系.</p>
                </div>
                <div class="area_img" id="106">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_106.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图2 空间网格与R-Tree的对应关系" src="Detail/GetImg?filename=images/JFYZ201903021_106.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图2 空间网格与R-Tree的对应关系  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_106.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 2 Correspondence between spatial grid and R-Tree</p>

                </div>
                <div class="p1">
                    <p id="107">选择先空间索引后时间索引的原因, 一方面是由于空间是固定不变的而时间是无限增长的, 因而空间对数据的划分较于时间更为明显;另一方面则是因为这样的划分可以同时保障数据在空间上的邻近性以及在一定空间内时间上的连续性和邻近性.</p>
                </div>
                <h4 class="anchor-tag" id="108" name="108"><b>3.3 第1层空间索引</b></h4>
                <div class="p1">
                    <p id="109">由于Geohash编码可以将二维坐标数据映射成一维空间并保证空间的临近性, GRIST的第1层空间索引选取了Geohash作为编码算法的基础.但是, 传统的Geohash编码是将整个空间均匀划分, 会产生某个区域的数据过度密集的情况.一方面, 当新的数据到来的时候, 更新这个区域的索引会带来很大的I/O负担;另一方面, 查询的时候也会增加I/O成本和查询候选集的大小, 降低查询效率.因此, GRIST的空间索引在Geohash均匀编码的基础上根据区域内的数据量多少自动进行空间分裂, 以达到平衡每个区域中数据量的目的.</p>
                </div>
                <h4 class="anchor-tag" id="110" name="110">3.3.1 空间索引的分裂策略</h4>
                <div class="p1">
                    <p id="111">GRIST的空间分裂策略是当1个区域内的数量达到分裂阈值后, 该区域自动分裂为4个等大的子区域, 原始编码同时被删除.</p>
                </div>
                <div class="p1">
                    <p id="112">如图3所示, 当1100区域中数据超过分裂阈值后, 该区域将由1100编分裂为{110000, 110001, 110010, 110011}编码的4个区域.0011区域分裂情况同理.</p>
                </div>
                <div class="area_img" id="113">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图3 区域分裂示意图" src="Detail/GetImg?filename=images/JFYZ201903021_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图3 区域分裂示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_113.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 3 Example of GRIST geometry split</p>

                </div>
                <div class="p1">
                    <p id="114">自动空间分裂会造成空间中各部分的Geohash的编码长度不等 (称之为不均匀编码) , 在传统的均匀编码下, 可以使用Geohash编码、解码算法完成空间到编码集合的映射.但是在不均匀编码时, 传统方式无法完成.同时, 空间划分的集合也更加不易维护, 需要动态更新.因此GRIST提出了针对不均匀编码的编码存储与索引集维护方法, 并针对不均匀空间给出了编码和映射算法.</p>
                </div>
                <h4 class="anchor-tag" id="115" name="115">3.3.2 不均匀Geohash编码存储与索引集维护</h4>
                <div class="p1">
                    <p id="116">由于不均匀编码, 空间中不同区域对应的Geohash编码长度不一, 使得搜索难度增大.因此, GRIST设计了一种统一的64 b长整型的编码, 对不均匀的Geohash进行存储.</p>
                </div>
                <div class="p1">
                    <p id="117">编码的转换规则如图4所示.假设Geohash编码长度为<i>L</i>, 位置0～7位为<i>L</i>, 位置8～61-<i>L</i>位为0, 位置62-<i>L</i>～61位为Geohash编码本身, 下标62～63位为0.</p>
                </div>
                <div class="p1">
                    <p id="118">以1111为例, 转换后的64 b为:00 1111 00…000 00000100.这种转换有2个明显的好处:一方面是节省空间索引编码的空间消耗, 将字符串转为整型进行存储;另一方面, 该编码保留了空间上的邻近性, 空间上越邻近转换后的数值大小越接近.同时, 可以保证一个Geohash编码的所有前缀编码对应的整型值都小于等于该Geohash对应的整型值, 这个优点对下文中提到的空间映射前缀查找很有帮助.</p>
                </div>
                <div class="area_img" id="119">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图4 编码转换规则示意图" src="Detail/GetImg?filename=images/JFYZ201903021_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图4 编码转换规则示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_119.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 4 Spatio code</p>

                </div>
                <div class="p1">
                    <p id="120">通过不均匀Geohash编码, 整个空间可以表示为一系列长整形Geohash编码的集合, 称之为空间索引集.初始的空间索引集为整个空间 (GEORect (GPSData (-180, -90) , GPSData (180, 90) ) ) 在编码长度为最小编码长度 (用户设定) 时的均匀Geohash编码集合.在索引的构建过程中, 随着数据的不断加入, 空间索引集也在动态变化.</p>
                </div>
                <h4 class="anchor-tag" id="121" name="121">3.3.3 不均匀Geohash空间编码和映射方法</h4>
                <div class="p1">
                    <p id="122">对于时空索引, 给定空间在索引集上的映射是索引构建和查询的关键环节, 主要分为2个步骤:1) 将给定的空间编码为Geohash值的集合;2) 在空间索引集中寻找相应的编码集合 (称为空间映射) .在GRIST中主要涉及2种空间类型:点和区域, 而区域均可转化为其外接矩形, 因此以下主要讨论点和矩形的编码和映射算法.点的编码方法为传统Geohash编码, 在此不再阐述.我们在此给出在不均匀Geohash空间编码下矩形编码算法 (算法1) 、点映射算法 (算法2) 、矩形映射算法 (算法3) .</p>
                </div>
                <div class="p1">
                    <p id="123"><b>算法1</b>. 不均匀空间矩形编码算法.</p>
                </div>
                <div class="p1">
                    <p id="124">输入:GEORect <i>r</i>、编码长度<i>L</i> (偶数) ;</p>
                </div>
                <div class="p1">
                    <p id="125">输出:编码集合<i>C</i>.</p>
                </div>
                <div class="p1">
                    <p id="126">① 计算<i>r</i>.<i>bl</i>和<i>r</i>.<i>tr</i>长度为<i>L</i>的Geohash编码<i>g</i><sub>1</sub>, <i>g</i><sub>2</sub>;</p>
                </div>
                <div class="p1">
                    <p id="127">② 分别使用Geohash解码<i>g</i><sub>1</sub>, <i>g</i><sub>2</sub>, 得到矩形<i>r</i><sub>1</sub>和<i>r</i><sub>2</sub>;</p>
                </div>
                <div class="p1">
                    <p id="128">③ 使用<i>r</i><sub>1</sub>.<i>bl</i>和<i>r</i><sub>2</sub>.<i>tr</i>构成矩形<i>r</i><sub>c</sub>;</p>
                </div>
                <div class="p1">
                    <p id="129">④ 计算经度间隔:<i>l</i><sub>1</sub>=360/lb <i>L</i>;</p>
                </div>
                <div class="p1">
                    <p id="130">⑤ 计算纬度间隔:<i>l</i><sub>2</sub>=180/lb <i>L</i>;</p>
                </div>
                <div class="p1">
                    <p id="131">⑥ 以<i>l</i><sub>1</sub>和<i>l</i><sub>2</sub>均匀划分<i>r</i><sub>c</sub>, 得到矩形集合<i>R</i>;</p>
                </div>
                <div class="p1">
                    <p id="132">⑦ 计算<i>R</i>中每个矩形的中心点, 得到点集合<i>P</i>;</p>
                </div>
                <div class="p1">
                    <p id="133">⑧ 对<i>P</i>中每个点计算长度为<i>L</i>的Geohash编码, 得到编码集合<i>C</i>;</p>
                </div>
                <div class="p1">
                    <p id="134">⑨ RETURN <i>C</i>.</p>
                </div>
                <div class="p1">
                    <p id="135">矩形编码算法的主要思路是:首先将原始矩形的左下角和右上角进行Geohash编码、解码得到新的矩形<i>r</i><sub>c</sub>, 如图5中左1图、左2图所示, 之后按照编码长度<i>L</i>将矩形划分成小矩形空间, 如图5中右2图所示, 此时划分过的矩形即为矩形对应的Geohash区域.计算这些区域中心点的Geohash值即可得到最终的编码集合, 如图5中右1图所示.</p>
                </div>
                <div class="area_img" id="136">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_136.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图5 矩形编码算法示意图" src="Detail/GetImg?filename=images/JFYZ201903021_136.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图5 矩形编码算法示意图  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_136.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 5 A example of rectangle encoding</p>

                </div>
                <div class="p1">
                    <p id="137"><b>算法2</b>. 不均匀空间点映射算法.</p>
                </div>
                <div class="p1">
                    <p id="138">输入:空间点<i>p</i>、空间索引集<i>S</i>、最大编码长度<i>L</i><sub>max</sub> (用户预设) ;</p>
                </div>
                <div class="p1">
                    <p id="139">输出:点编码<i>C</i><sub><i>p</i></sub>.</p>
                </div>
                <div class="p1">
                    <p id="140">① 计算点<i>p</i>长度为<i>L</i><sub>max</sub>的空间点编码<i>g</i>;</p>
                </div>
                <div class="p1">
                    <p id="141">② 在<i>S</i>中搜索<i>g</i>的前缀编码<i>C</i><sub><i>p</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="142">③ RETURN <i>C</i><sub><i>p</i></sub>.</p>
                </div>
                <div class="p1">
                    <p id="143">因为使用最大编码长度映射出的编码未必存在于真实的空间索引集中, 所以需要在空间索引集中找到与该编码最为接近 (即前缀匹配个数最多的编码) , 我们称之为前缀编码.由于GRIST将Geohash编码转化成了64 b整数类型, 前缀查找的方法就变为在空间索引集中进行二分查找, 找到比待查找编码小的编码中最大的编码, 即为待查找的前缀编码.这样的操作降低了原有字符串前缀匹配的时间复杂度.</p>
                </div>
                <div class="p1">
                    <p id="144"><b>算法3</b>. 不均匀空间矩形映射算法.</p>
                </div>
                <div class="p1">
                    <p id="145">输入:矩形<i>r</i>、空间索引集<i>S</i>、最大编码长度<i>L</i><sub>max</sub> (用户预设) ;</p>
                </div>
                <div class="p1">
                    <p id="146">输出:映射编码集合<i>C</i><sub><i>r</i></sub>.</p>
                </div>
                <div class="p1">
                    <p id="147">① 将矩形<i>r</i>, 最大编码长度<i>L</i><sub>max</sub>输入到算法1, 得到矩形编码集合<i>C</i>;</p>
                </div>
                <div class="p1">
                    <p id="148">② 在<i>S</i>中搜索<i>C</i>中每个编码<i>c</i>的前缀, 将前缀加入映射编码集合<i>C</i><sub><i>r</i></sub>中;</p>
                </div>
                <div class="p1">
                    <p id="149">③ RETURN <i>C</i><sub><i>r</i></sub>.</p>
                </div>
                <h4 class="anchor-tag" id="150" name="150"><b>3.4 第2层时间索引</b></h4>
                <div class="p1">
                    <p id="151">GRIST第2层索引为时间索引, 采用一维R-TREE来索引时间段, 每个空间分区内的数据使用一维R-Tree建立时间索引.R-Tree内部节点是一维的时间段, 叶子节点是设备ID.它的特性使得时间上邻近的对象会存在同一个节点.</p>
                </div>
                <div class="area_img" id="152">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_152.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图6 时间层索引构建过程" src="Detail/GetImg?filename=images/JFYZ201903021_152.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图6 时间层索引构建过程  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_152.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 6 An example of temporal index building</p>

                </div>
                <h4 class="anchor-tag" id="153" name="153">3.4.1 R-Tree时间索引的构建</h4>
                <div class="p1">
                    <p id="154">R-Tree构建时同样以数据包为单位, 对于每个数据包, 都对应一段带有时间信息的数据, 如图6 (a) 所示.我们可将在时间上定频、连续的数据归为一段.之后, 会按照这些时间段数据的起始时间构建R-Tree.时间层索引构建的过程如图6 (b) 所示.</p>
                </div>
                <div class="p1">
                    <p id="155">其中, <i>O</i><sub>1</sub>, <i>O</i><sub>2</sub>, <i>O</i><sub>3</sub>表示3个设备的ID, <i>L</i><sub>8</sub>, <i>L</i><sub>9</sub>, <i>L</i><sub>10</sub>, <i>L</i><sub>11</sub>为<i>O</i><sub>1</sub>的4个时间段数据, <i>L</i><sub>12</sub>, <i>L</i><sub>13</sub>, <i>L</i><sub>14</sub>, <i>L</i><sub>15</sub>为<i>O</i><sub>2</sub>的4个时间段数据, <i>L</i><sub>16</sub>, <i>L</i><sub>17</sub>, <i>L</i><sub>18</sub>, <i>L</i><sub>19</sub>为<i>O</i><sub>3</sub>的4个时间段数据.这些时间段数据到达的顺序为<i>L</i><sub>16</sub>, <i>L</i><sub>8</sub>, <i>L</i><sub>12</sub>, <i>L</i><sub>9</sub>, <i>L</i><sub>17</sub>, <i>L</i><sub>10</sub>, <i>L</i><sub>13</sub>, <i>L</i><sub>18</sub>, <i>L</i><sub>11</sub>, <i>L</i><sub>14</sub>, <i>L</i><sub>19</sub>, <i>L</i><sub>15</sub>.</p>
                </div>
                <div class="p1">
                    <p id="156">在使用过程中, 为了减小R-Tree本身的大小、提升查询效率, 本文对它的插入做了一些改进, 增加了同一设备连续时间段的合并功能.假设R-Tree中已有时间段[<i>t</i><sub>1</sub>, <i>t</i><sub>2</sub>]以周期<i>T</i>到达, 新来一个时间段[<i>t</i><sub>3</sub>, <i>t</i><sub>4</sub>]也以周期<i>T</i>到达, 且<i>t</i><sub>3</sub>与<i>t</i><sub>2</sub>之间的间隔刚好为<i>T</i>, 那么2个时间段则可以合并, 合并后的时间段为[<i>t</i><sub>1</sub>, <i>t</i><sub>4</sub>].此时R-Tree会删除[<i>t</i><sub>1</sub>, <i>t</i><sub>2</sub>]节点, 插入[<i>t</i><sub>1</sub>, <i>t</i><sub>4</sub>].这样不仅减小了R-Tree的大小而且便于查询.</p>
                </div>
                <h4 class="anchor-tag" id="157" name="157">3.4.2 时间索引的分裂策略</h4>
                <div class="p1">
                    <p id="158">当一个空间中的数据达到分裂阈值时, 空间将进行分裂.伴随空间层的分裂, 时间层也会分裂.空间区域的分裂在前文已经说明.R-Tree的分裂是将该R-Tree索引的数据重新按照新的空间划分分为4部分, 然后重新构建R-Tree索引.</p>
                </div>
                <h4 class="anchor-tag" id="159" name="159"><b>3.5 GRIST索引构建过程</b></h4>
                <div class="p1">
                    <p id="160">基于3.3节空间索引和3.4节时空索引, GRIST时空索引的构建流程主要是:</p>
                </div>
                <div class="p1">
                    <p id="161">1) 将整个空间 (GEORect ( (-180, -90) , (180, 90) ) ) 构建为一个矩形<i>R</i><sub>space</sub>, 将<i>R</i><sub>space</sub>以及最小编码长度输入算法1, 得到空间对应的矩形编码, 作为整个空间的初始化空间索引集.</p>
                </div>
                <div class="p1">
                    <p id="162">2) 计算输入的数据包集合的摘要集合.</p>
                </div>
                <div class="p1">
                    <p id="163">3) 对于每一个数据包的摘要, 使用算法3计算相应的矩形映射编码集合.然后将数据包插入编码集合对应空间的R-Tree中.</p>
                </div>
                <div class="p1">
                    <p id="164">4) 若R-Tree达到分裂阈值则分裂相应空间和时间索引;否则结束.</p>
                </div>
                <div class="p1">
                    <p id="165">算法伪码如算法4.</p>
                </div>
                <div class="p1">
                    <p id="166"><b>算法4</b>. GRIST索引构建算法.</p>
                </div>
                <div class="p1">
                    <p id="167">输入:整个空间矩形<i>R</i><sub>space</sub>、数据包集合<i>packages</i>、最小编码长度<i>L</i><sub>min</sub> (用户预设) 、最大编码长度<i>L</i><sub>max</sub> (用户预设) .</p>
                </div>
                <div class="p1">
                    <p id="168">① 将<i>R</i><sub>space</sub>, <i>L</i><sub>min</sub>输入算法1得到空间索引集<i>S</i>;</p>
                </div>
                <div class="p1">
                    <p id="169">② 计算<i>packages</i>的摘要集合<i>digests</i>;</p>
                </div>
                <div class="p1">
                    <p id="170">③ for each <i>digest</i> in <i>digests</i></p>
                </div>
                <div class="p1">
                    <p id="171">④ 将<i>digest</i>, <i>S</i>, <i>L</i><sub>max</sub>输入算法3得到矩形映射编码集合<i>C</i><sub><i>r</i></sub>;</p>
                </div>
                <div class="p1">
                    <p id="172">⑤ 将<i>digest</i>对应的<i>package</i>插入<i>C</i><sub><i>r</i></sub>中每一个编码<i>C</i>的R-Tree中;</p>
                </div>
                <div class="p1">
                    <p id="173">⑥ 如果R-Tree达到分裂阈值则分裂相应空间和时间索引;否则RETURN;</p>
                </div>
                <div class="p1">
                    <p id="174">⑦ end for</p>
                </div>
                <h3 id="175" name="175" class="anchor-tag"><b>4 GRIST索引的查询</b></h3>
                <div class="p1">
                    <p id="176">GRIST索引支持本文提到的所有面向时空的查询, 同时支持面向时间的查询和面向空间的查询.其中, 面向空间的查询可以看作面向时空查询的特殊情况 (即时间取全集) ;面向时间的查询则是通过对数据包在系统存储层中的排序组织方法予以支持的<citation id="328" type="reference"><link href="303" rel="bibliography" /><sup>[<a class="sup">20</a>]</sup></citation>.因而, 在此只重点讨论面向时空的查询.</p>
                </div>
                <div class="p1">
                    <p id="177">面向时空的查询均是基于时空索引所做的查询, 其中比较重要的是时空范围查询.时空范围查询包含设备查询 (本文2.3节查询1和查询2) 与轨迹查询 (本文2.3节查询3) .在GRIST索引中, 面向时空的查询需要经过空间层查询、时间层查询2层索引查询得到所需结果.</p>
                </div>
                <div class="p1">
                    <p id="178">时空范围查询见算法5, 基本流程如下:</p>
                </div>
                <div class="p1">
                    <p id="179">1) 空间层查询.将查询区域映射为索引区域.</p>
                </div>
                <div class="p1">
                    <p id="180">2) 时间层查询.将每个索引区域对应的R-Tree读到内存, 进行时间点/段查询, 得到满足时间条件的包的集合.</p>
                </div>
                <div class="p1">
                    <p id="181">3) 时空过滤.遍历所有的包中的数据进行时空过滤, 得到结果设备集合.</p>
                </div>
                <div class="p1">
                    <p id="182">4) 若为设备查询, 则直接返回结果集.若为轨迹查询, 则将相同<i>deviceid</i>的设备分入一组, 每组数据按照时间升序排列, 形成轨迹并返回.</p>
                </div>
                <div class="p1">
                    <p id="183"><b>算法5</b>. GRIST时空范围查询算法.</p>
                </div>
                <div class="p1">
                    <p id="184">输入:时间查询范围<i>Q</i><sub>time</sub>、空间查询范围<i>Q</i><sub>spatial</sub>、空间索引集<i>S</i>、最大编码长度<i>L</i><sub>max</sub> (用户预设) ;</p>
                </div>
                <div class="p1">
                    <p id="185">输出:空间点集合[<i>S</i>]<sub><i>n</i></sub>、轨迹集合<i>T</i>.</p>
                </div>
                <div class="p1">
                    <p id="186">① 空间层查询.将<i>Q</i><sub>spatial</sub>, <i>S</i>, <i>L</i><sub>max</sub>输入算法3得到矩形映射编码集合<i>C</i><sub>rectangle</sub>;</p>
                </div>
                <div class="p1">
                    <p id="187">② 时间层查询.在<i>C</i><sub>rectangle</sub>中每个编码<i>C</i>的R-Tree中查询满足<i>Q</i><sub>time</sub>的包集合<i>P</i>;</p>
                </div>
                <div class="p1">
                    <p id="188">③ 根据<i>Q</i><sub>time</sub>和<i>Q</i><sub>spatial</sub>对<i>P</i>中每一个数据进行时空过滤.若为设备查询, 则直接返回结果点集.若为轨迹查询, 则将相同<i>deviceid</i>的设备分入一组, 每组数据按照时间升序排列, 形成轨迹并返回.</p>
                </div>
                <h3 id="189" name="189" class="anchor-tag"><b>5 索引性能实验</b></h3>
                <h4 class="anchor-tag" id="190" name="190"><b>5.1 实验说明</b></h4>
                <div class="p1">
                    <p id="191">为了测试GRIST索引的性能, 本文基于NoSQL的K-V数据库Cassandra实现了索引和数据的持久化, 并使用Spark实现GRIST的分布式查询.实验主要分为2部分:</p>
                </div>
                <div class="p1">
                    <p id="192">1) GRIST相关参数对比实验;</p>
                </div>
                <div class="p1">
                    <p id="193">2) GRIST, GeoMesa, PostGIS系统导入与查询对比实验.</p>
                </div>
                <h4 class="anchor-tag" id="194" name="194"><b>5.2 实验准备</b></h4>
                <h4 class="anchor-tag" id="195" name="195">5.2.1 实验环境</h4>
                <div class="p1">
                    <p id="196">本节的实验环境分为单机和集群2种条件, 单机节点系统为Ubuntu14, i7处理器、30 GB内存.集群采用6节点集群, 其中每个节点配置和单机节点相同.开发语言使用Java (JDK1.8) , Cassandra版本为3.3, Spark版本为2.0.</p>
                </div>
                <h4 class="anchor-tag" id="197" name="197">5.2.2 实验数据</h4>
                <div class="p1">
                    <p id="198">本文实验使用的数据来源如表1所示, 实验采用了Uber开源的真实数据, 但是由于数据量较少, 本文在Uber数据基础上开发了随机数据生成器, 模拟设备移动产生的更多数据.这些随机数据分布不均匀, 产生频率为一个设备每分钟1个数据点, 每个设备共产生10万或100万个数据点.为体现GRIST在大数据量下的表现, 下文实验主要使用随机数据, 同时也会在必要地方使用Uber数据进行分析.</p>
                </div>
                <div class="area_img" id="199">
                    <p class="img_tit"><b>表1 索引性能实验数据规模</b> <a class="downexcel" onclick="DownLoadReportExcel(this)">导出到EXCEL</a></p>
                    <p class="img_tit"><b>Table 1 Data Size of Performance Experiments</b></p>
                    <p class="img_note"></p>
                    <table id="199" border="1"><tr><td><br />Data Source</td><td>Device <br />Number</td><td>10<sup>-6</sup>×Data <br />Point Number</td><td>File <br />Size/GB</td></tr><tr><td><br />Uber Open Source<br /> (CSV File) </td><td><br />5</td><td>4.53</td><td>0.167</td></tr><tr><td rowspan="7"><br />Random Data<br /> (CSV File) </td><td><br />20</td><td>2</td><td>0.075</td></tr><tr><td><br />40</td><td>4</td><td>0.148</td></tr><tr><td><br />60</td><td>6</td><td>0.221</td></tr><tr><td><br />50</td><td>50</td><td>1.8</td></tr><tr><td><br />100</td><td>100</td><td>3.6</td></tr><tr><td><br />200</td><td>200</td><td>2.3</td></tr><tr><td><br />500</td><td>500</td><td>18</td></tr></table>
                    <form name="form" action="/kxreader/Detail/DownloadReportExcel" method="POST" style="display:inline">
                        <input type="hidden" name="hidTable" value="" />
                        <input type="hidden" name="hidFileName" value="" />
                    </form>
                    <p class="img_note"></p>
                    <p class="img_note"></p>
                </div>
                <h4 class="anchor-tag" id="200" name="200"><b>5.3 GRIST相关参数实验</b></h4>
                <div class="p1">
                    <p id="201">在GRIST系统中, 包大小、R-Tree分裂阈值对GRIST系统的数据导入和查询表现产生一定影响.所以本节实验主要围绕以上2个因素对GRIST索引进行参数实验, 实验均使用随机生成的数据 (5 000万条数据) , 在集群条件下进行实验.</p>
                </div>
                <h4 class="anchor-tag" id="202" name="202">5.3.1 包大小对导入和查询的影响</h4>
                <div class="p1">
                    <p id="203">本节的实验环境中包大小从100～1 000等间隔取值, 间隔为100.编码长度最小为6, 最大为10.R-Tree分裂阈值为1 000.查询范围为编码长度为2, 4, 6, 8, 10, 12对应的空间区域, 时间长度为1年, 随机生成.实验结果如图7所示:</p>
                </div>
                <div class="area_img" id="204">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_204.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图7 包大小对导入和查询的影响实验结果" src="Detail/GetImg?filename=images/JFYZ201903021_204.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图7 包大小对导入和查询的影响实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_204.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 7 Result of package size experiment</p>

                </div>
                <div class="p1">
                    <p id="205">由图7可以看出, 随着包大小数值的增大, 时空索引数据导入时间逐渐减小, 且和包大小呈反比关系.其主要原因是, 包的大小越大包的数量越少, 同一批次写入Cassandra中的数据点数越多.在Cassandra批量写入的承受阈值内, 写入的执行速度会随包大小 (包中数据点的数量) 而减小.</p>
                </div>
                <div class="p1">
                    <p id="206">在查询效率方面, 随着包大小数值的增大, 查询时间逐渐减小.其主要原因是随着包大小增大, 系统中维护的包数量减少, 在做相同区域的查询时获取的GRIST数据包减少, 数据包的序列化、反序列化总时间减小.</p>
                </div>
                <h4 class="anchor-tag" id="207" name="207">5.3.2 R-Tree分裂阈值对导入和查询的影响</h4>
                <div class="p1">
                    <p id="208">本实验中包大小采用500, 编码长度最小为6、最大为10.R-Tree分裂阈值200～1 000等间隔取值, 间隔为100.查询范围为编码长度为2, 4, 6, 8, 10, 12对应的空间区域, 时间长度为1年, 随机生成.实验结果如图8所示.</p>
                </div>
                <div class="p1">
                    <p id="209">由图8可以看出:R-Tree分裂的阈值越小, 数据插入时间越短, 主要原因是R-Tree分裂次数增多, 数量增长, 单个R-Tree规模下降, 将其序列化到磁盘的时间缩短.</p>
                </div>
                <div class="p1">
                    <p id="210">同时还可以看出:R-Tree分裂的阈值对查询耗时影响不大.这是因为在包大小不变时, 查询时间主要由查询结果集的大小决定.</p>
                </div>
                <div class="area_img" id="211">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图8 R-Tree分裂阈值对导入和查询的影响实验结果" src="Detail/GetImg?filename=images/JFYZ201903021_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图8 R-Tree分裂阈值对导入和查询的影响实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_211.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 8 Result of R-Tree splite threshold experiment</p>

                </div>
                <h4 class="anchor-tag" id="212" name="212"><b>5.4 现有系统对比</b></h4>
                <div class="p1">
                    <p id="213">与现有系统对比的实验主要在单机和分布式2种环境下进行.单机实验主要以千万级以下数据为数据集, 分布式实验主要以千万级以上数据为数据集.</p>
                </div>
                <h4 class="anchor-tag" id="214" name="214">5.4.1 单机环境系统对比实验</h4>
                <div class="p1">
                    <p id="215">在本实验中PostGIS系统选用2.1版本, 对Geometry类型的数据点构建GIST索引.GeoMesa系统选用底层为Cassandra存储的版本, 版本号为1.3.1.实验结果为10次实验的平均值.</p>
                </div>
                <div class="p1">
                    <p id="216">本实验中包大小为500, 编码长度最小为6、最大为10, R-Tree分裂阈值为50.Uber数据查询条件为数据集所在全部区域, 时间为6个月, 随机生成.Random数据查询条件为编码为2, 4, 6, 8, 10, 12对应的空间区域, 时间为1个月, 随机生成.实验结果如图9所示:</p>
                </div>
                <div class="area_img" id="217">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_217.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图9 单机系统对比实验结果" src="Detail/GetImg?filename=images/JFYZ201903021_217.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图9 单机系统对比实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_217.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 9 Result of comparative experiment in single node environment</p>

                </div>
                <h4 class="anchor-tag" id="218" name="218">5.4.2 分布式环境系统对比实验</h4>
                <div class="p1">
                    <p id="219">在本实验中, 由于PostGIS系统为单机系统, 所以不对PostGIS进行实验.GeoMesa系统选用底层为Cassandra存储的版本, 版本号为1.3.1.由于GeoMesa在亿级别以上数据集上数据插入时间超过1 d, 所以GeoMesa实验仅在5 000万条Random数据集上进行实验.同时, 为验证GRIST系统在大数据集的运行效果, GRIST实验将在千万及以上级别数据集 (如表1所示) 上进行实验.实验结果为10次实验的平均值.</p>
                </div>
                <div class="p1">
                    <p id="220">本实验中导入参数与查询条件与5.4.1节中相同, 不在此赘述.实验结果如图10所示.</p>
                </div>
                <div class="area_img" id="221">
                                <a class="zoom-in" href="Detail/GetImg?filename=images/JFYZ201903021_221.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">
                                    <img alt="图10 分布式系统对比实验结果" src="Detail/GetImg?filename=images/JFYZ201903021_221.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
                                </a>
                                <p class="img_tit">图10 分布式系统对比实验结果  <a class="btn-zoomin" href="Detail/GetImg?filename=images/JFYZ201903021_221.jpg&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!"></a><a class="downimg">&nbsp;&nbsp;下载原图</a></p>
                            <p class="img_tit">Fig. 10 Result of comparative experiment in cluster environment</p>

                </div>
                <h4 class="anchor-tag" id="222" name="222">5.4.3 实验分析</h4>
                <div class="p1">
                    <p id="223">由图9和图10可以看出:相比GeoMesa和PostGIS, GRIST在单机与分布式版本的导入速度上优势明显, 单机版本快10～45倍, 集群版本可以达到200倍以上.这主要是因为GRIST首先对数据进行了打包, 充分利用了Cassandra在批量插入上的优势, 且在R-Tree索引中也按照时间进行了聚集, 导致索引更新次数急剧下降, 速度带来显著提升.</p>
                </div>
                <div class="p1">
                    <p id="224">在查询性能上, 查询区域大小相同的情况下, GRIST比GeoMesa和PostGIS快2～4倍.这主要是因为数据的打包减小了时间索引的个数, 查询时索引操作次数降低, 查询速度增快.</p>
                </div>
                <h3 id="225" name="225" class="anchor-tag"><b>6 总 结</b></h3>
                <div class="p1">
                    <p id="226">本文针对海量时空数据的高效查询提出了一种新型的索引结构GRIST, 并介绍了该索引的构建和查询算法.</p>
                </div>
                <div class="p1">
                    <p id="227">2层的时空索引GRIST可以支持海量的、未知分布的数据索引;支持多种类型的时空查询;支持分布式的查询.同时, 本文使用Cassandra和Spark对GRIST实现了索引持久化以及分布式查询, 并针对该系统的参数对数据导入和查询性能做了实验分析.与PostGIS和GeoMesa系统对比, GRIST具有很强的数据导入性能 (10～45倍) 以及较强的查询性能 (2～4倍) .</p>
                </div>
                <div class="p1">
                    <p id="228">未来GRIST还将在以下方面继续改进:支持更丰富轨迹查询的种类, 如轨迹相似性、进/出等;支持实时数据写入与查询操作;支持对未来的预测查询;支持时空数据分析, 如:先将数据进行采样分析数据的分布, 在数据导入前进行数据分区, 减少导入的负担.</p>
                </div>

        <!--brief end-->
        
        <!--conten left  end-->
        <!--增强附件-->
        

        <!--reference start-->
            <div class="reference anchor-tag" id="a_bibliography">
                    <h3>参考文献</h3>
                                        <p id="265">
                            <a id="bibliography_1" target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JSJA201004004&amp;v=MTM0OTdyM09MejdCYjdHNEg5SE1xNDlGWUlRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVJMT2VaZVZ2Rnk3blU=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[1]</b>Zhang Lin, Tang Daquan, Zhang Chong. Evolvement and process of spatio-temporal index[J]. Computer Science, 2010, 37 (4) : 15- 26 (in Chinese) (张林, 汤大权, 张翀. 时空索引的演变与发展[J]. 计算机科学, 2010, 37 (4) : 15- 20) 
                            </a>
                        </p>
                        <p id="267">
                            <a id="bibliography_2" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal Access Methods">

                                <b>[2]</b>Mokbel M F, Ghanem T M, Aref W G. Spatio-temporal access methods[J]. IEEE Data Engineering Bulletin, 2003, 26 (2) : 40- 49
                            </a>
                        </p>
                        <p id="269">
                            <a id="bibliography_3" >
                                    <b>[3]</b>
                                Pfoser D, Jensen C S, Theodoridis Y. Novel Approaches in query processing for moving object trajectories[C] //Proc of the 26th Int Conf on Very Large Data Bases. San Francisco: Morgan Kaufmann, 2000: 395- 406
                            </a>
                        </p>
                        <p id="271">
                            <a id="bibliography_4" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal indexing for large multimedia applications">

                                <b>[4]</b>Theoderidis Y, Vazirgiannis M, Sellis T. Spatio-temporal indexing for large multimedia applications[C] //Proc of the 3rd IEEE Int Conf on IEEE Multimedia Computing and Systems. Piscataway, NJ: IEEE, 1996: 441- 448
                            </a>
                        </p>
                        <p id="273">
                            <a id="bibliography_5" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Towards historical R-trees">

                                <b>[5]</b>Nascimento M A, Silva J R O. Towards historical R-Trees[C] //Proc of the 13rd ACM Symp on Applied Computing. New York: ACM, 1998: 235- 240
                            </a>
                        </p>
                        <p id="275">
                            <a id="bibliography_6" target="_blank" href="http://scholar.cnki.net/result.aspx?q=The 2-3 TR-tree: A Trajectory-Oriented Index Structure for Fully Evolving Valid-time Spatio-temporal Datasets">

                                <b>[6]</b>Abdelguerfi M, Givaudan J, Shaw K, et al. The 2-3TR-Tree, a trajectory-oriented index structure for fully evolving valid-time spatio-temporal datasets[C] //Proc of the 10th ACM Int Symp on Advances in Geographic Information Systems. New York: ACM, 2002: 29- 34
                            </a>
                        </p>
                        <p id="277">
                            <a id="bibliography_7" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Indexing the positions of continuously moving objects">

                                <b>[7]</b>Saltenis S, Jensen C S, Leutenegger S T, Lopez M A. Indexing the positions of continuously moving objects[C] //Proc of the 19th ACM SIGMOD Int Conf on Management of Data. New York: ACM, 2000: 331- 342
                            </a>
                        </p>
                        <p id="279">
                            <a id="bibliography_8" target="_blank" href="http://scholar.cnki.net/result.aspx?q=SpatialHadoop: A MapReduce framework for spatial data">

                                <b>[8]</b>Eldawy A, Mokbel M F. SpatialHadoop: A MapReduce framework for spatial data[C] //Proc of the 31st Int Conf on Data Engineering. Piscataway, NJ: IEEE, 2015: 1352- 1363
                            </a>
                        </p>
                        <p id="281">
                            <a id="bibliography_9" target="_blank" href="http://scholar.cnki.net/result.aspx?q=GeoSpark:A Cluster Computing Framework for Processing Large-Scale Spatial Data">

                                <b>[9]</b>Yu Jia, Wu Jinxuan, Sarwat M. GeoSpark: A cluster computing framework for processing large-scale spatial data[C] //Proc of the 23rd SIGSPATIAL Int Conf on Advances in Geographic Information Systems. New York: ACM, 2015
                            </a>
                        </p>
                        <p id="283">
                            <a id="bibliography_10" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Novel Approaches in Query Processing for Moving Object Trajectories">

                                <b>[10]</b>Pfoser D, Jensen C S, Theodoridis Y. Novel approaches in query processing for moving object trajectories[C] //Proc of the 26th Int Conf on Very Large Data Bases. San Francisco: Morgan Kaufmann, 2000: 395- 406
                            </a>
                        </p>
                        <p id="285">
                            <a id="bibliography_11" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Indexing Large Trajectory Data Sets with SETI">

                                <b>[11]</b>Chakka V P, Everspaugh A C, Patel J M. Indexing large trajectory data sets with SETI[C] //Proc of the Conf on Innovative Data Systems Research. New York: ACM, 2003
                            </a>
                        </p>
                        <p id="287">
                            <a id="bibliography_12" target="_blank" href="http://scholar.cnki.net/result.aspx?q=CloST:a Hadoop-based storage system for big spatio-temporal data analytics">

                                <b>[12]</b>Tan Haoyu, Luo Wuman, Ni L M. Clost: A hadoop-based storage system for big spatio-temporal data analytics[C]//Proc of the 21st ACM Int Conf on Information and Knowledge Management. New York: ACM, 2012: 2139- 2143
                            </a>
                        </p>
                        <p id="289">
                            <a id="bibliography_13" target="_blank" href="http://scholar.cnki.net/result.aspx?q=R-Trees: A Dynamic Index Structure for Spatial Searching">

                                <b>[13]</b>Guttman A. R-Trees: A dynamic index structure for spatial searching[C] //Proc of the ACM SIGMOD Int Conf on Management of Data. New York: ACM, 1984: 47- 57
                            </a>
                        </p>
                        <p id="291">
                            <a id="bibliography_14" target="_blank" href="/kcms/detail/detail.aspx?dbcode=SSJD&amp;filename=SSJD00003029870&amp;v=MDgyNzFNYk93UFkzazV6QmRoNGo5OVNYcVJyeG94Y01IN1I3cWVidWR0RlNubFZiM0pJbGc9Tmo3QmFyTzRIdEhQcjQx&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">

                                <b>[14]</b>Finkel R A, Bentley J L. Quad Trees a data structure for retrieval on composite keys[J]. Acta Informatica, 1974, 4 (1) : 1- 9
                            </a>
                        </p>
                        <p id="293">
                            <a id="bibliography_15" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Bigtable:ADistributed Storage System for Structured Data">

                                <b>[15]</b>Chang F, Dean J, Ghemawat S, et al. Bigtable: A distributed storage system for structured data [C] //Proc of OSDI 2006. Berkeley, CA: USENIX Association, 2006: 205- 218
                            </a>
                        </p>
                        <p id="295">
                            <a id="bibliography_16" target="_blank" href="http://scholar.cnki.net/result.aspx?q=MV3R-Tree: A Spatio-Temporal Access Method for Timestamp and Interval Queries">

                                <b>[16]</b>Tao Yufei, Papadias D. MV3R-Tree: A spatio-temporal access method for timestamp and interval queries[C] //Proc of the Int Conf on Very Large Data Bases (VLDB) . San Francisco: Morgan Kaufmann, 2001: 431- 440
                            </a>
                        </p>
                        <p id="297">
                            <a id="bibliography_17" target="_blank" href="http://scholar.cnki.net/result.aspx?q=SEB-tree;An Approach to Index Continuously Moving Objects">

                                <b>[17]</b>Song Zhexuan, Roussopoulos N. SEB-tree: An approach to index continuously moving objects[C] //Proc of the 4th Int Conf on Mobile Data Management (MDM) . Piscataway, NJ: IEEE, 2003: 340- 344
                            </a>
                        </p>
                        <p id="299">
                            <a id="bibliography_18" target="_blank" href="http://scholar.cnki.net/result.aspx?q=Spatio-temporal indexing in non-relational distributed databases">

                                <b>[18]</b>Fox A, Eichelberger C, Hughes J, et al. Spatio-temporal indexing in non-relational distributed databases[C] //Proc of the 1st IEEE Int Conf on Big Data. Piscataway, NJ: IEEE, 2013: 291- 299
                            </a>
                        </p>
                        <p id="301">
                            <a id="bibliography_19" target="_blank" href="http://scholar.cnki.net/result.aspx?q=TrajStore:An adaptive storage system for very large trajectory data sets">

                                <b>[19]</b>Cudremauroux P, Wu E, Madden S. TrajStore: An adaptive storage system for very large trajectory data sets[C] //Proc of the 26th Int Conf on Data Engineering (ICDE) . Piscataway, NJ: IEEE, 2010: 109- 120
                            </a>
                        </p>
                        <p id="303">
                            <a id="bibliography_20" target="_blank" href="http://scholar.cnki.net/result.aspx?q=PISA: An index for aggregating big time series data">

                                <b>[20]</b>Huang Xiangdong, Wang Jianmin, Wong R, et al. PISA: An index for aggregating big time series data[C] //Proc of the 25th ACM Int Conf on Information and Knowledge Management. New York: ACM, 2016: 979- 988
                            </a>
                        </p>
            </div>
        <!--reference end-->
        <!--footnote start-->
        <!--footnote end-->



    </div>

        <input id="fileid" type="hidden" value="JFYZ201903021" />
        <input id="dpi" type="hidden" value="300" />
    </div>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6e967eb120601ea41b9d312166416aa6";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    


<input id="hid_uid" name="hid_uid" type="hidden" value="WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!" />
<input id="hid_kLogin_headerUrl" name="hid_kLogin_headerUrl" type="hidden" value="/KLogin/Request/GetKHeader.ashx%3Fcallback%3D%3F" />
<input id="hid_kLogin_footerUrl" name="hid_kLogin_footerUrl" type="hidden" value="/KLogin/Request/GetKFooter.ashx%3Fcallback%3D%3F" />
<div class="btn-link" style="display: none"><a target="_blank" href="/kcms/detail/detail.aspx?dbcode=CJFD&amp;filename=JFYZ201903021&amp;v=MTcxNTlPTHl2U2RMRzRIOWpNckk5SFpZUUtESDg0dlI0VDZqNTRPM3pxcUJ0R0ZyQ1VSTE9lWmVWdkZ5N25VcjM=&amp;uid=WEEvREcwSlJHSldRa1FhdkJkVG5hVC9sR01QWmh5WWp6SmI1Z2pYeEdIOD0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!">知网节</a></div>
<div class="popflow" id="popupTips" style="display: none;">
    <div class="popflowArr"></div>
    <div class="popflowCot">
        <div class="hd"><a href="javascript:void(0);" onclick="$('#popupTips').hide();$('#popupmsg').html('')" class="close">X</a></div>
        <div class="bd">
            <p class="mes" id="popupmsg" name="popupmsg"></p>
          
        </div>
    </div>
</div>
<input type="hidden" id="myexport" value="//kns.cnki.net" />

<input type="hidden" id="KPCAPIPATH" value="//ishufang.cnki.net" />
<input type="hidden" id="CitedTimes" value="" />
<div class="link" id="GLSearch" style="display: none;">
    <i class="icon-trangle"></i>
    <div class="inner">
        <a class="icon" id="copytext">复制</a>
        <a class="icon" target="_blank" onclick="searchCRFD(this)">工具书搜索</a>
    </div>
</div>




<input id="hidVirtualPath" name="hidVirtualPath" type="hidden" value="/kxreader" />
<script src="/kxreader/bundles/detail?v=-ULdk-c6FkZHtJA2KAXPgHnyA8mtgyPnBde_C2VZ2BY1"></script>

<script src="/kxreader/Scripts/layer.min.js" type="text/javascript"></script>

<div id="footerBox" class="rootw footer">
</div>
<script>
    if (typeof FlushLogin == 'function') {
        FlushLogin();
    }
    modifyEcpHeader(true);
</script>

<!--图片放大功能 start-->
<script src="/kxreader/bundles/imagebox?v=W4phPu9SNkGcuPeJclikuVE3PpRyIW_gnfjm_19nynI1"></script>

<script type="text/javascript">
    $(function () {
        var j = $.noConflict();
        j(function () {
            j(".zoom-in,.btn-zoomin").imgbox({
                'alignment': 'center',
                'allowMultiple': false,
                'overlayShow': true
            });
        })
    });
</script>
<!--图片放大功能 end-->
<div class="fixedbar">
    <div class="backtop hiddenV" id="backtop">
        <a id="backTopSide" href="javascript:scroll(0,0);" title=""></a>
    </div>
</div>
<script type="text/javascript" src="/kxreader/Scripts/MathJax-2.6-latest/MathJax.js?config=MML_HTMLorMML-full"></script>

</body>
</html>
